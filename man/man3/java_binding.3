.TH "java_binding" 3 "Thu Apr 28 2016" "Audacity" \" -*- nroff -*-
.ad l
.nh
.SH NAME
java_binding \- JPortAudio Java Binding 
\fINote: this page has not been reviewed, and may contain errors\&.\fP
.SH "DRAFT - IN PROGRESS"
.PP
9/4/12 JPortAudio is very new and should be considered an 'alpha' release\&. The building of JPortAudio will eventually be integrated into the Makefile as an optional build\&.
.PP
Currently JPortAudio is only supported for Windows and Macintosh\&. Please contact us if you want to help with porting Linux\&.
.PP
For reference documentation of the JPortAudio API see: \fBcom\&.portaudio\&.PortAudio\fP
.PP
For an example see: \fBPlaySine\&.java\fP
.SH "Building JPortAudio on Windows"
.PP
Build the Java code using the Eclipse project in 'jportaudio'\&. \fBExport\fP as 'jportaudio\&.jar'\&.
.PP
If you modify the JNI API then you will need to regenerate the JNI \&.h files using:
.PP
.PP
.nf
cd bindings/java/scripts
make_header\&.bat
.fi
.PP
.PP
Build the JNI DLL using the Visual Studio 2010 solution in 'java/c/build/vs2010/PortAudioJNI'\&.
.SH "Using JPortAudio on Windows"
.PP
Put the 'jportaudio\&.jar' in the classpath for your application\&. Place the following libraries where they can be found, typically in the same folder as your application\&.
.PP
.IP "\(bu" 2
portaudio_x86\&.dll
.IP "\(bu" 2
portaudio_x64\&.dll
.IP "\(bu" 2
jportaudio_x86\&.dll
.IP "\(bu" 2
jportaudio_x64\&.dll
.PP
.SH "Building JPortAudio on Mac"
.PP
These are notes from building JPortAudio on a Mac with 10\&.6\&.8 and XCode 4\&.
.PP
I created a target of type 'C' library\&.
.PP
I added the regular PortAudio frameworks plus the JavaVM framework\&.
.PP
I modified \fBcom_portaudio_PortAudio\&.h\fP and \fBcom_portaudio_BlockingStream\&.h\fP so that jni\&.h could found\&.
.PP
.PP
.nf
#if defined(__APPLE__)
#include <JavaVM/jni\&.h>
#else
#include <jni\&.h>
#endif
.fi
.PP
.PP
This is bad because those header files are autogenerated and will be overwritten\&. We need a better solution for this\&.
.PP
I had trouble finding the 'libjportaudio\&.jnilib'\&. So I added a Build Phase that copied the library to '/Users/phil/Library/Java/Extensions'\&.
.PP
On the Mac we can create a universal library for both 32 and 64-bit JVMs\&. So in the JAR file I will open 'jportaudio' on Apple\&. ON WIndows I will continue to open 'jportaudio_x64' and 'jportaudio_x86'\&. 
