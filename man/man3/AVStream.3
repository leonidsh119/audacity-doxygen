.TH "AVStream" 3 "Thu Apr 28 2016" "Audacity" \" -*- nroff -*-
.ad l
.nh
.SH NAME
AVStream \- 
.SH SYNOPSIS
.br
.PP
.PP
\fC#include <avformat\&.h>\fP
.SS "Public Attributes"

.in +1c
.ti -1c
.RI "\fBint\fP \fBindex\fP"
.br
.ti -1c
.RI "\fBint\fP \fBid\fP"
.br
.ti -1c
.RI "\fBAVCodecContext\fP * \fBcodec\fP"
.br
.ti -1c
.RI "\fBvoid\fP * \fBpriv_data\fP"
.br
.ti -1c
.RI "struct \fBAVFrac\fP \fBpts\fP"
.br
.ti -1c
.RI "\fBAVRational\fP \fBtime_base\fP"
.br
.ti -1c
.RI "\fBint64_t\fP \fBstart_time\fP"
.br
.ti -1c
.RI "\fBint64_t\fP \fBduration\fP"
.br
.ti -1c
.RI "\fBint64_t\fP \fBnb_frames\fP"
.br
.RI "\fInumber of frames in this stream if known or 0 \fP"
.ti -1c
.RI "\fBint\fP \fBdisposition\fP"
.br
.ti -1c
.RI "enum \fBAVDiscard\fP \fBdiscard\fP"
.br
.RI "\fISelects which packets can be discarded at will and do not need to be demuxed\&. \fP"
.ti -1c
.RI "\fBAVRational\fP \fBsample_aspect_ratio\fP"
.br
.ti -1c
.RI "\fBAVDictionary\fP * \fBmetadata\fP"
.br
.ti -1c
.RI "\fBAVRational\fP \fBavg_frame_rate\fP"
.br
.ti -1c
.RI "\fBAVPacket\fP \fBattached_pic\fP"
.br
.ti -1c
.RI "struct {"
.br
.ti -1c
.RI "   \fBint64_t\fP \fBlast_dts\fP"
.br
.ti -1c
.RI "   \fBint64_t\fP \fBduration_gcd\fP"
.br
.ti -1c
.RI "   \fBint\fP \fBduration_count\fP"
.br
.ti -1c
.RI "   \fBint64_t\fP \fBrfps_duration_sum\fP"
.br
.ti -1c
.RI "   double(* \fBduration_error\fP )[2][\fBMAX_STD_TIMEBASES\fP]"
.br
.ti -1c
.RI "   \fBint64_t\fP \fBcodec_info_duration\fP"
.br
.ti -1c
.RI "   \fBint64_t\fP \fBcodec_info_duration_fields\fP"
.br
.ti -1c
.RI "   \fBint\fP \fBfound_decoder\fP"
.br
.ti -1c
.RI "   \fBint64_t\fP \fBlast_duration\fP"
.br
.ti -1c
.RI "   \fBint64_t\fP \fBfps_first_dts\fP"
.br
.ti -1c
.RI "   \fBint\fP \fBfps_first_dts_idx\fP"
.br
.ti -1c
.RI "   \fBint64_t\fP \fBfps_last_dts\fP"
.br
.ti -1c
.RI "   \fBint\fP \fBfps_last_dts_idx\fP"
.br
.ti -1c
.RI "} * \fBinfo\fP"
.br
.ti -1c
.RI "\fBint\fP \fBpts_wrap_bits\fP"
.br
.ti -1c
.RI "\fBint64_t\fP \fBfirst_dts\fP"
.br
.ti -1c
.RI "\fBint64_t\fP \fBcur_dts\fP"
.br
.ti -1c
.RI "\fBint64_t\fP \fBlast_IP_pts\fP"
.br
.ti -1c
.RI "\fBint\fP \fBlast_IP_duration\fP"
.br
.ti -1c
.RI "\fBint\fP \fBprobe_packets\fP"
.br
.ti -1c
.RI "\fBint\fP \fBcodec_info_nb_frames\fP"
.br
.ti -1c
.RI "enum \fBAVStreamParseType\fP \fBneed_parsing\fP"
.br
.ti -1c
.RI "struct \fBAVCodecParserContext\fP * \fBparser\fP"
.br
.ti -1c
.RI "struct \fBAVPacketList\fP * \fBlast_in_packet_buffer\fP"
.br
.ti -1c
.RI "\fBAVProbeData\fP \fBprobe_data\fP"
.br
.ti -1c
.RI "\fBint64_t\fP \fBpts_buffer\fP [\fBMAX_REORDER_DELAY\fP+1]"
.br
.ti -1c
.RI "\fBAVIndexEntry\fP * \fBindex_entries\fP"
.br
.ti -1c
.RI "\fBint\fP \fBnb_index_entries\fP"
.br
.ti -1c
.RI "unsigned \fBint\fP \fBindex_entries_allocated_size\fP"
.br
.ti -1c
.RI "\fBAVRational\fP \fBr_frame_rate\fP"
.br
.ti -1c
.RI "\fBint\fP \fBstream_identifier\fP"
.br
.ti -1c
.RI "\fBint64_t\fP \fBinterleaver_chunk_size\fP"
.br
.ti -1c
.RI "\fBint64_t\fP \fBinterleaver_chunk_duration\fP"
.br
.ti -1c
.RI "\fBint\fP \fBrequest_probe\fP"
.br
.ti -1c
.RI "\fBint\fP \fBskip_to_keyframe\fP"
.br
.ti -1c
.RI "\fBint\fP \fBskip_samples\fP"
.br
.ti -1c
.RI "\fBint\fP \fBnb_decoded_frames\fP"
.br
.ti -1c
.RI "\fBint64_t\fP \fBmux_ts_offset\fP"
.br
.ti -1c
.RI "\fBint64_t\fP \fBpts_wrap_reference\fP"
.br
.ti -1c
.RI "\fBint\fP \fBpts_wrap_behavior\fP"
.br
.ti -1c
.RI "\fBint\fP \fBupdate_initial_durations_done\fP"
.br
.ti -1c
.RI "\fBint64_t\fP \fBpts_reorder_error\fP [\fBMAX_REORDER_DELAY\fP+1]"
.br
.ti -1c
.RI "\fBuint8_t\fP \fBpts_reorder_error_count\fP [\fBMAX_REORDER_DELAY\fP+1]"
.br
.ti -1c
.RI "\fBint64_t\fP \fBlast_dts_for_order_check\fP"
.br
.ti -1c
.RI "\fBuint8_t\fP \fBdts_ordered\fP"
.br
.ti -1c
.RI "\fBuint8_t\fP \fBdts_misordered\fP"
.br
.in -1c
.SH "Detailed Description"
.PP 
Stream structure\&. New fields can be added to the end with minor version bumps\&. Removal, reordering and changes to existing fields require a major version bump\&. sizeof(AVStream) must not be used outside libav*\&. 
.PP
Definition at line 751 of file avformat\&.h\&.
.SH "Member Data Documentation"
.PP 
.SS "\fBAVPacket\fP AVStream::attached_pic"
For streams with AV_DISPOSITION_ATTACHED_PIC disposition, this packet will contain the attached picture\&.
.PP
decoding: set by libavformat, must not be modified by the caller\&. encoding: unused 
.PP
Definition at line 833 of file avformat\&.h\&.
.SS "\fBAVRational\fP AVStream::avg_frame_rate"
Average framerate 
.PP
Definition at line 824 of file avformat\&.h\&.
.SS "\fBAVCodecContext\fP* AVStream::codec"
Codec context associated with this stream\&. Allocated and freed by libavformat\&.
.PP
.IP "\(bu" 2
decoding: The demuxer exports codec information stored in the headers here\&.
.IP "\(bu" 2
encoding: The user sets codec information, the muxer writes it to the output\&. Mandatory fields as specified in \fBAVCodecContext\fP documentation must be set even if this \fBAVCodecContext\fP is not actually used for encoding\&. 
.PP

.PP
Definition at line 770 of file avformat\&.h\&.
.SS "\fBint64_t\fP AVStream::codec_info_duration"

.PP
Definition at line 853 of file avformat\&.h\&.
.SS "\fBint64_t\fP AVStream::codec_info_duration_fields"

.PP
Definition at line 854 of file avformat\&.h\&.
.SS "\fBint\fP AVStream::codec_info_nb_frames"
Number of frames that have been demuxed during av_find_stream_info() 
.PP
Definition at line 904 of file avformat\&.h\&.
.SS "\fBint64_t\fP AVStream::cur_dts"

.PP
Definition at line 891 of file avformat\&.h\&.
.SS "enum \fBAVDiscard\fP AVStream::discard"

.PP
Selects which packets can be discarded at will and do not need to be demuxed\&. 
.PP
Definition at line 810 of file avformat\&.h\&.
.SS "\fBint\fP AVStream::disposition"
AV_DISPOSITION_* bit field 
.PP
Definition at line 808 of file avformat\&.h\&.
.SS "\fBuint8_t\fP AVStream::dts_misordered"

.PP
Definition at line 1010 of file avformat\&.h\&.
.SS "\fBuint8_t\fP AVStream::dts_ordered"

.PP
Definition at line 1009 of file avformat\&.h\&.
.SS "\fBint64_t\fP AVStream::duration"
Decoding: duration of the stream, in stream time base\&. If a source file does not specify a duration, but does specify a bitrate, this value will be estimated from bitrate and file size\&. 
.PP
Definition at line 804 of file avformat\&.h\&.
.SS "\fBint\fP AVStream::duration_count"

.PP
Definition at line 850 of file avformat\&.h\&.
.SS "double(* AVStream::duration_error)[2][\fBMAX_STD_TIMEBASES\fP]"

.PP
Definition at line 852 of file avformat\&.h\&.
.SS "\fBint64_t\fP AVStream::duration_gcd"

.PP
Definition at line 849 of file avformat\&.h\&.
.SS "\fBint64_t\fP AVStream::first_dts"
Timestamp corresponding to the last dts sync point\&.
.PP
Initialized when \fBAVCodecParserContext\&.dts_sync_point\fP >= 0 and a DTS is received from the underlying container\&. Otherwise set to AV_NOPTS_VALUE by default\&. 
.PP
Definition at line 890 of file avformat\&.h\&.
.SS "\fBint\fP AVStream::found_decoder"
0 -> decoder has not been searched for yet\&. >0 -> decoder found <0 -> decoder with codec_id == -found_decoder has not been found 
.PP
Definition at line 861 of file avformat\&.h\&.
.SS "\fBint64_t\fP AVStream::fps_first_dts"
Those are used for average framerate estimation\&. 
.PP
Definition at line 868 of file avformat\&.h\&.
.SS "\fBint\fP AVStream::fps_first_dts_idx"

.PP
Definition at line 869 of file avformat\&.h\&.
.SS "\fBint64_t\fP AVStream::fps_last_dts"

.PP
Definition at line 870 of file avformat\&.h\&.
.SS "\fBint\fP AVStream::fps_last_dts_idx"

.PP
Definition at line 871 of file avformat\&.h\&.
.SS "\fBint\fP AVStream::id"
Format-specific stream ID\&. decoding: set by libavformat encoding: set by the user, replaced by libavformat if left unset 
.PP
Definition at line 758 of file avformat\&.h\&.
.SS "\fBint\fP AVStream::index"
stream index in \fBAVFormatContext\fP 
.PP
Definition at line 752 of file avformat\&.h\&.
.SS "\fBAVIndexEntry\fP* AVStream::index_entries"
Only used if the format does not support seeking natively\&. 
.PP
Definition at line 918 of file avformat\&.h\&.
.SS "unsigned \fBint\fP AVStream::index_entries_allocated_size"

.PP
Definition at line 921 of file avformat\&.h\&.
.SS "struct { \&.\&.\&. }  * AVStream::info"

.SS "\fBint64_t\fP AVStream::interleaver_chunk_duration"

.PP
Definition at line 944 of file avformat\&.h\&.
.SS "\fBint64_t\fP AVStream::interleaver_chunk_size"

.PP
Definition at line 943 of file avformat\&.h\&.
.SS "\fBint64_t\fP AVStream::last_dts"

.PP
Definition at line 848 of file avformat\&.h\&.
.SS "\fBint64_t\fP AVStream::last_dts_for_order_check"
Internal data to analyze DTS and detect faulty mpeg streams 
.PP
Definition at line 1008 of file avformat\&.h\&.
.SS "\fBint64_t\fP AVStream::last_duration"

.PP
Definition at line 863 of file avformat\&.h\&.
.SS "struct \fBAVPacketList\fP* AVStream::last_in_packet_buffer"
last packet in packet_buffer for this stream when muxing\&. 
.PP
Definition at line 913 of file avformat\&.h\&.
.SS "\fBint\fP AVStream::last_IP_duration"

.PP
Definition at line 893 of file avformat\&.h\&.
.SS "\fBint64_t\fP AVStream::last_IP_pts"

.PP
Definition at line 892 of file avformat\&.h\&.
.SS "\fBAVDictionary\fP* AVStream::metadata"

.PP
Definition at line 819 of file avformat\&.h\&.
.SS "\fBint64_t\fP AVStream::mux_ts_offset"
Timestamp offset added to timestamps before muxing NOT PART OF PUBLIC API 
.PP
Definition at line 975 of file avformat\&.h\&.
.SS "\fBint\fP AVStream::nb_decoded_frames"
Number of internally decoded frames, used internally in libavformat, do not access its lifetime differs from info which is why it is not in that structure\&. 
.PP
Definition at line 969 of file avformat\&.h\&.
.SS "\fBint64_t\fP AVStream::nb_frames"

.PP
number of frames in this stream if known or 0 
.PP
Definition at line 806 of file avformat\&.h\&.
.SS "\fBint\fP AVStream::nb_index_entries"

.PP
Definition at line 920 of file avformat\&.h\&.
.SS "enum \fBAVStreamParseType\fP AVStream::need_parsing"

.PP
Definition at line 907 of file avformat\&.h\&.
.SS "struct \fBAVCodecParserContext\fP* AVStream::parser"

.PP
Definition at line 908 of file avformat\&.h\&.
.SS "\fBvoid\fP* AVStream::priv_data"

.PP
Definition at line 771 of file avformat\&.h\&.
.SS "\fBAVProbeData\fP AVStream::probe_data"

.PP
Definition at line 914 of file avformat\&.h\&.
.SS "\fBint\fP AVStream::probe_packets"

.PP
Definition at line 899 of file avformat\&.h\&.
.SS "struct \fBAVFrac\fP AVStream::pts"
encoding: pts generation when outputting stream 
.PP
Definition at line 776 of file avformat\&.h\&.
.SS "\fBint64_t\fP AVStream::pts_buffer[\fBMAX_REORDER_DELAY\fP+1]"

.PP
Definition at line 916 of file avformat\&.h\&.
.SS "\fBint64_t\fP AVStream::pts_reorder_error[\fBMAX_REORDER_DELAY\fP+1]"
Internal data to generate dts from pts 
.PP
Definition at line 1002 of file avformat\&.h\&.
.SS "\fBuint8_t\fP AVStream::pts_reorder_error_count[\fBMAX_REORDER_DELAY\fP+1]"

.PP
Definition at line 1003 of file avformat\&.h\&.
.SS "\fBint\fP AVStream::pts_wrap_behavior"
Options for behavior, when a wrap is detected\&.
.PP
Defined by AV_PTS_WRAP_ values\&.
.PP
If correction is enabled, there are two possibilities: If the first time stamp is near the wrap point, the wrap offset will be subtracted, which will create negative time stamps\&. Otherwise the offset will be added\&. 
.PP
Definition at line 992 of file avformat\&.h\&.
.SS "\fBint\fP AVStream::pts_wrap_bits"
number of bits in pts (used for wrapping control) 
.PP
Definition at line 875 of file avformat\&.h\&.
.SS "\fBint64_t\fP AVStream::pts_wrap_reference"
Internal data to check for wrapping of the time stamp 
.PP
Definition at line 980 of file avformat\&.h\&.
.SS "\fBAVRational\fP AVStream::r_frame_rate"
Real base framerate of the stream\&. This is the lowest framerate with which all timestamps can be represented accurately (it is the least common multiple of all framerates in the stream)\&. Note, this value is just a guess! For example, if the time base is 1/90000 and all frames have either approximately 3600 or 1800 timer ticks, then r_frame_rate will be 50/1\&.
.PP
Code outside avformat should access this field using: av_stream_get/set_r_frame_rate(stream) 
.PP
Definition at line 934 of file avformat\&.h\&.
.SS "\fBint\fP AVStream::request_probe"
stream probing state -1 -> probing finished 0 -> no probing requested rest -> perform probing with request_probe being the minimum score to accept\&. NOT PART OF PUBLIC API 
.PP
Definition at line 953 of file avformat\&.h\&.
.SS "\fBint64_t\fP AVStream::rfps_duration_sum"

.PP
Definition at line 851 of file avformat\&.h\&.
.SS "\fBAVRational\fP AVStream::sample_aspect_ratio"
sample aspect ratio (0 if unknown)
.IP "\(bu" 2
encoding: Set by user\&.
.IP "\(bu" 2
decoding: Set by libavformat\&. 
.PP

.PP
Definition at line 817 of file avformat\&.h\&.
.SS "\fBint\fP AVStream::skip_samples"
Number of samples to skip at the start of the frame decoded from the next packet\&. 
.PP
Definition at line 963 of file avformat\&.h\&.
.SS "\fBint\fP AVStream::skip_to_keyframe"
Indicates that everything up to the next keyframe should be discarded\&. 
.PP
Definition at line 958 of file avformat\&.h\&.
.SS "\fBint64_t\fP AVStream::start_time"
Decoding: pts of the first frame of the stream in presentation order, in stream time base\&. Only set this if you are absolutely 100% sure that the value you set it to really is the pts of the first frame\&. This may be undefined (AV_NOPTS_VALUE)\&. 
.PP
\fBNote:\fP
.RS 4
The ASF header does NOT contain a correct start_time the ASF demuxer must NOT set this\&. 
.RE
.PP

.PP
Definition at line 797 of file avformat\&.h\&.
.SS "\fBint\fP AVStream::stream_identifier"
Stream Identifier This is the MPEG-TS stream identifier +1 0 means unknown 
.PP
Definition at line 941 of file avformat\&.h\&.
.SS "\fBAVRational\fP AVStream::time_base"
This is the fundamental unit of time (in seconds) in terms of which frame timestamps are represented\&.
.PP
decoding: set by libavformat encoding: set by libavformat in avformat_write_header\&. The muxer may use the user-provided value of \fBcodec->time_base\fP as a hint\&. 
.PP
Definition at line 787 of file avformat\&.h\&.
.SS "\fBint\fP AVStream::update_initial_durations_done"
Internal data to prevent doing update_initial_durations() twice 
.PP
Definition at line 997 of file avformat\&.h\&.

.SH "Author"
.PP 
Generated automatically by Doxygen for Audacity from the source code\&.
