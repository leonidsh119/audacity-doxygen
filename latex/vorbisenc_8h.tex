\hypertarget{vorbisenc_8h}{}\section{C\+:/\+\_\+dev/\+Open\+U/\+Audacity/audacity/lib-\/src/libvorbis/include/vorbis/vorbisenc.h File Reference}
\label{vorbisenc_8h}\index{C\+:/\+\_\+dev/\+Open\+U/\+Audacity/audacity/lib-\/src/libvorbis/include/vorbis/vorbisenc.\+h@{C\+:/\+\_\+dev/\+Open\+U/\+Audacity/audacity/lib-\/src/libvorbis/include/vorbis/vorbisenc.\+h}}
{\ttfamily \#include \char`\"{}codec.\+h\char`\"{}}\\*
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structovectl__ratemanage__arg}{ovectl\+\_\+ratemanage\+\_\+arg}
\item 
struct \hyperlink{structovectl__ratemanage2__arg}{ovectl\+\_\+ratemanage2\+\_\+arg}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{Indent}{\bf vorbis\+\_\+encode\+\_\+ctl() codes}\par
{\em \label{vorbisenc_8h_encctlcodes}%
\hypertarget{vorbisenc_8h_encctlcodes}{}%
 These values are passed as the {\ttfamily number} parameter of \hyperlink{vorbisenc_8h_a5f398a378e20b8ce5e3341a582e773bd}{vorbis\+\_\+encode\+\_\+ctl()}. The type of the referent of that function\textquotesingle{}s {\ttfamily arg} pointer depends on these codes. }\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{vorbisenc_8h_af95048070bedb467f80ce85e20057126}{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E2\+\_\+\+G\+ET}~0x14
\item 
\#define \hyperlink{vorbisenc_8h_a5075e0acb85fd45398a290594f83d6ba}{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E2\+\_\+\+S\+ET}~0x15
\item 
\#define \hyperlink{vorbisenc_8h_af8614b9ee808ddb88d50d21ea1cdf721}{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+L\+O\+W\+P\+A\+S\+S\+\_\+\+G\+ET}~0x20
\item 
\#define \hyperlink{vorbisenc_8h_a1862ca0d88ed0366990da2a4015547c8}{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+L\+O\+W\+P\+A\+S\+S\+\_\+\+S\+ET}~0x21
\item 
\#define \hyperlink{vorbisenc_8h_a35ba680b627646bff135673d849e40e8}{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+I\+B\+L\+O\+C\+K\+\_\+\+G\+ET}~0x30
\item 
\#define \hyperlink{vorbisenc_8h_a080b74cc4d75070376d7d1008bef4cd5}{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+I\+B\+L\+O\+C\+K\+\_\+\+S\+ET}~0x31
\item 
\#define \hyperlink{vorbisenc_8h_afca9bdb09b83ca6b57018e380583134a}{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+C\+O\+U\+P\+L\+I\+N\+G\+\_\+\+G\+ET}~0x40
\item 
\#define \hyperlink{vorbisenc_8h_aa263e0ee8a7343ecb744f4a4b9c96ffd}{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+C\+O\+U\+P\+L\+I\+N\+G\+\_\+\+S\+ET}~0x41
\item 
\#define \hyperlink{vorbisenc_8h_a614481c0d84bdfbb80eed9208b68f779}{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E\+\_\+\+G\+ET}~0x10
\item 
\#define \hyperlink{vorbisenc_8h_a1daa1fd8ce1064cce01dde3ad447d389}{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E\+\_\+\+S\+ET}~0x11
\item 
\#define \hyperlink{vorbisenc_8h_a34c3170d227b6368041e59c1dc7ed6e4}{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E\+\_\+\+A\+VG}~0x12
\item 
\#define \hyperlink{vorbisenc_8h_af8869980a805f431af57a50dffbf5d33}{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E\+\_\+\+H\+A\+RD}~0x13
\end{DoxyCompactItemize}
\end{Indent}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{vorbisenc_8h_a6571d9c349c540491256f1083e1ede71}{vorbis\+\_\+encode\+\_\+init} (\hyperlink{structvorbis__info}{vorbis\+\_\+info} $\ast$vi, long channels, long \hyperlink{seqread_8c_ad89d3fac2deab7a9cf6cfc8d15341b85}{rate}, long max\+\_\+bitrate, long nominal\+\_\+bitrate, long min\+\_\+bitrate)
\item 
\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{vorbisenc_8h_ac73714f24500e18024e83104e9e09485}{vorbis\+\_\+encode\+\_\+setup\+\_\+managed} (\hyperlink{structvorbis__info}{vorbis\+\_\+info} $\ast$vi, long channels, long \hyperlink{seqread_8c_ad89d3fac2deab7a9cf6cfc8d15341b85}{rate}, long max\+\_\+bitrate, long nominal\+\_\+bitrate, long min\+\_\+bitrate)
\item 
\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{vorbisenc_8h_a0f7677f216936a6cd7fa28ddbccada74}{vorbis\+\_\+encode\+\_\+setup\+\_\+vbr} (\hyperlink{structvorbis__info}{vorbis\+\_\+info} $\ast$vi, long channels, long \hyperlink{seqread_8c_ad89d3fac2deab7a9cf6cfc8d15341b85}{rate}, float quality)
\item 
\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{vorbisenc_8h_ab4e3d96c3008a29c615271d1f551c2a0}{vorbis\+\_\+encode\+\_\+init\+\_\+vbr} (\hyperlink{structvorbis__info}{vorbis\+\_\+info} $\ast$vi, long channels, long \hyperlink{seqread_8c_ad89d3fac2deab7a9cf6cfc8d15341b85}{rate}, float base\+\_\+quality)
\item 
\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{vorbisenc_8h_ac3953ff69d05864e78d1858a544ed619}{vorbis\+\_\+encode\+\_\+setup\+\_\+init} (\hyperlink{structvorbis__info}{vorbis\+\_\+info} $\ast$vi)
\item 
\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{vorbisenc_8h_a5f398a378e20b8ce5e3341a582e773bd}{vorbis\+\_\+encode\+\_\+ctl} (\hyperlink{structvorbis__info}{vorbis\+\_\+info} $\ast$vi, \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} number, \hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void} $\ast$arg)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Libvorbisenc is a convenient A\+PI for setting up an encoding environment using libvorbis. Libvorbisenc encapsulates the actions needed to set up the encoder properly. 

\subsection{Macro Definition Documentation}
\index{vorbisenc.\+h@{vorbisenc.\+h}!O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+C\+O\+U\+P\+L\+I\+N\+G\+\_\+\+G\+ET@{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+C\+O\+U\+P\+L\+I\+N\+G\+\_\+\+G\+ET}}
\index{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+C\+O\+U\+P\+L\+I\+N\+G\+\_\+\+G\+ET@{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+C\+O\+U\+P\+L\+I\+N\+G\+\_\+\+G\+ET}!vorbisenc.\+h@{vorbisenc.\+h}}
\subsubsection[{\texorpdfstring{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+C\+O\+U\+P\+L\+I\+N\+G\+\_\+\+G\+ET}{OV_ECTL_COUPLING_GET}}]{\setlength{\rightskip}{0pt plus 5cm}\#define O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+C\+O\+U\+P\+L\+I\+N\+G\+\_\+\+G\+ET~0x40}\hypertarget{vorbisenc_8h_afca9bdb09b83ca6b57018e380583134a}{}\label{vorbisenc_8h_afca9bdb09b83ca6b57018e380583134a}
Returns the current encoder coupling setting in the int pointed to by arg.

\hyperlink{struct_argument}{Argument}\+: {\ttfamily int $\ast$} 

Definition at line 367 of file vorbisenc.\+h.

\index{vorbisenc.\+h@{vorbisenc.\+h}!O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+C\+O\+U\+P\+L\+I\+N\+G\+\_\+\+S\+ET@{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+C\+O\+U\+P\+L\+I\+N\+G\+\_\+\+S\+ET}}
\index{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+C\+O\+U\+P\+L\+I\+N\+G\+\_\+\+S\+ET@{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+C\+O\+U\+P\+L\+I\+N\+G\+\_\+\+S\+ET}!vorbisenc.\+h@{vorbisenc.\+h}}
\subsubsection[{\texorpdfstring{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+C\+O\+U\+P\+L\+I\+N\+G\+\_\+\+S\+ET}{OV_ECTL_COUPLING_SET}}]{\setlength{\rightskip}{0pt plus 5cm}\#define O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+C\+O\+U\+P\+L\+I\+N\+G\+\_\+\+S\+ET~0x41}\hypertarget{vorbisenc_8h_aa263e0ee8a7343ecb744f4a4b9c96ffd}{}\label{vorbisenc_8h_aa263e0ee8a7343ecb744f4a4b9c96ffd}
Enables/disables channel coupling in multichannel encoding according to arg.

\hyperlink{struct_argument}{Argument}\+: {\ttfamily int $\ast$}

Zero disables channel coupling for multichannel inputs, nonzer enables channel coupling. Setting has no effect on monophonic encoding or multichannel counts that do not offer coupling. At present, coupling is available for stereo and 5.\+1 encoding. 

Definition at line 379 of file vorbisenc.\+h.

\index{vorbisenc.\+h@{vorbisenc.\+h}!O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+I\+B\+L\+O\+C\+K\+\_\+\+G\+ET@{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+I\+B\+L\+O\+C\+K\+\_\+\+G\+ET}}
\index{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+I\+B\+L\+O\+C\+K\+\_\+\+G\+ET@{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+I\+B\+L\+O\+C\+K\+\_\+\+G\+ET}!vorbisenc.\+h@{vorbisenc.\+h}}
\subsubsection[{\texorpdfstring{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+I\+B\+L\+O\+C\+K\+\_\+\+G\+ET}{OV_ECTL_IBLOCK_GET}}]{\setlength{\rightskip}{0pt plus 5cm}\#define O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+I\+B\+L\+O\+C\+K\+\_\+\+G\+ET~0x30}\hypertarget{vorbisenc_8h_a35ba680b627646bff135673d849e40e8}{}\label{vorbisenc_8h_a35ba680b627646bff135673d849e40e8}
Returns the current encoder impulse block setting in the double pointed to by arg.

\hyperlink{struct_argument}{Argument}\+: {\ttfamily double $\ast$} 

Definition at line 348 of file vorbisenc.\+h.

\index{vorbisenc.\+h@{vorbisenc.\+h}!O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+I\+B\+L\+O\+C\+K\+\_\+\+S\+ET@{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+I\+B\+L\+O\+C\+K\+\_\+\+S\+ET}}
\index{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+I\+B\+L\+O\+C\+K\+\_\+\+S\+ET@{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+I\+B\+L\+O\+C\+K\+\_\+\+S\+ET}!vorbisenc.\+h@{vorbisenc.\+h}}
\subsubsection[{\texorpdfstring{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+I\+B\+L\+O\+C\+K\+\_\+\+S\+ET}{OV_ECTL_IBLOCK_SET}}]{\setlength{\rightskip}{0pt plus 5cm}\#define O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+I\+B\+L\+O\+C\+K\+\_\+\+S\+ET~0x31}\hypertarget{vorbisenc_8h_a080b74cc4d75070376d7d1008bef4cd5}{}\label{vorbisenc_8h_a080b74cc4d75070376d7d1008bef4cd5}
Sets the impulse block bias to the the value pointed to by arg.

\hyperlink{struct_argument}{Argument}\+: {\ttfamily double $\ast$}

Valid range is -\/15.\+0 to 0.\+0 \mbox{[}default\mbox{]}. A negative impulse block bias will direct to encoder to use more bits when incoding short blocks that contain strong impulses, thus improving the accuracy of impulse encoding. 

Definition at line 359 of file vorbisenc.\+h.

\index{vorbisenc.\+h@{vorbisenc.\+h}!O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+L\+O\+W\+P\+A\+S\+S\+\_\+\+G\+ET@{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+L\+O\+W\+P\+A\+S\+S\+\_\+\+G\+ET}}
\index{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+L\+O\+W\+P\+A\+S\+S\+\_\+\+G\+ET@{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+L\+O\+W\+P\+A\+S\+S\+\_\+\+G\+ET}!vorbisenc.\+h@{vorbisenc.\+h}}
\subsubsection[{\texorpdfstring{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+L\+O\+W\+P\+A\+S\+S\+\_\+\+G\+ET}{OV_ECTL_LOWPASS_GET}}]{\setlength{\rightskip}{0pt plus 5cm}\#define O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+L\+O\+W\+P\+A\+S\+S\+\_\+\+G\+ET~0x20}\hypertarget{vorbisenc_8h_af8614b9ee808ddb88d50d21ea1cdf721}{}\label{vorbisenc_8h_af8614b9ee808ddb88d50d21ea1cdf721}
Returns the current encoder hard-\/lowpass setting (k\+Hz) in the double pointed to by arg.

\hyperlink{struct_argument}{Argument}\+: {\ttfamily double $\ast$} 

Definition at line 332 of file vorbisenc.\+h.

\index{vorbisenc.\+h@{vorbisenc.\+h}!O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+L\+O\+W\+P\+A\+S\+S\+\_\+\+S\+ET@{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+L\+O\+W\+P\+A\+S\+S\+\_\+\+S\+ET}}
\index{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+L\+O\+W\+P\+A\+S\+S\+\_\+\+S\+ET@{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+L\+O\+W\+P\+A\+S\+S\+\_\+\+S\+ET}!vorbisenc.\+h@{vorbisenc.\+h}}
\subsubsection[{\texorpdfstring{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+L\+O\+W\+P\+A\+S\+S\+\_\+\+S\+ET}{OV_ECTL_LOWPASS_SET}}]{\setlength{\rightskip}{0pt plus 5cm}\#define O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+L\+O\+W\+P\+A\+S\+S\+\_\+\+S\+ET~0x21}\hypertarget{vorbisenc_8h_a1862ca0d88ed0366990da2a4015547c8}{}\label{vorbisenc_8h_a1862ca0d88ed0366990da2a4015547c8}
Sets the encoder hard-\/lowpass to the value (k\+Hz) pointed to by arg. Valid lowpass settings range from 2 to 99.

\hyperlink{struct_argument}{Argument}\+: {\ttfamily double $\ast$} 

Definition at line 340 of file vorbisenc.\+h.

\index{vorbisenc.\+h@{vorbisenc.\+h}!O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E2\+\_\+\+G\+ET@{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E2\+\_\+\+G\+ET}}
\index{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E2\+\_\+\+G\+ET@{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E2\+\_\+\+G\+ET}!vorbisenc.\+h@{vorbisenc.\+h}}
\subsubsection[{\texorpdfstring{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E2\+\_\+\+G\+ET}{OV_ECTL_RATEMANAGE2_GET}}]{\setlength{\rightskip}{0pt plus 5cm}\#define O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E2\+\_\+\+G\+ET~0x14}\hypertarget{vorbisenc_8h_af95048070bedb467f80ce85e20057126}{}\label{vorbisenc_8h_af95048070bedb467f80ce85e20057126}
Query the current encoder bitrate management setting.

\hyperlink{struct_argument}{Argument}\+: {\ttfamily struct \hyperlink{structovectl__ratemanage2__arg}{ovectl\+\_\+ratemanage2\+\_\+arg} $\ast$}

Used to query the current encoder bitrate management setting. Also used to initialize fields of an \hyperlink{structovectl__ratemanage2__arg}{ovectl\+\_\+ratemanage2\+\_\+arg} structure for use with \hyperlink{vorbisenc_8h_a5075e0acb85fd45398a290594f83d6ba}{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E2\+\_\+\+S\+ET}. 

Definition at line 313 of file vorbisenc.\+h.

\index{vorbisenc.\+h@{vorbisenc.\+h}!O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E2\+\_\+\+S\+ET@{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E2\+\_\+\+S\+ET}}
\index{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E2\+\_\+\+S\+ET@{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E2\+\_\+\+S\+ET}!vorbisenc.\+h@{vorbisenc.\+h}}
\subsubsection[{\texorpdfstring{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E2\+\_\+\+S\+ET}{OV_ECTL_RATEMANAGE2_SET}}]{\setlength{\rightskip}{0pt plus 5cm}\#define O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E2\+\_\+\+S\+ET~0x15}\hypertarget{vorbisenc_8h_a5075e0acb85fd45398a290594f83d6ba}{}\label{vorbisenc_8h_a5075e0acb85fd45398a290594f83d6ba}
Set the current encoder bitrate management settings.

\hyperlink{struct_argument}{Argument}\+: {\ttfamily struct \hyperlink{structovectl__ratemanage2__arg}{ovectl\+\_\+ratemanage2\+\_\+arg} $\ast$}

Used to set the current encoder bitrate management settings to the values listed in the \hyperlink{structovectl__ratemanage2__arg}{ovectl\+\_\+ratemanage2\+\_\+arg}. Passing a N\+U\+LL pointer will disable bitrate management. 

Definition at line 324 of file vorbisenc.\+h.

\index{vorbisenc.\+h@{vorbisenc.\+h}!O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E\+\_\+\+A\+VG@{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E\+\_\+\+A\+VG}}
\index{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E\+\_\+\+A\+VG@{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E\+\_\+\+A\+VG}!vorbisenc.\+h@{vorbisenc.\+h}}
\subsubsection[{\texorpdfstring{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E\+\_\+\+A\+VG}{OV_ECTL_RATEMANAGE_AVG}}]{\setlength{\rightskip}{0pt plus 5cm}\#define O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E\+\_\+\+A\+VG~0x12}\hypertarget{vorbisenc_8h_a34c3170d227b6368041e59c1dc7ed6e4}{}\label{vorbisenc_8h_a34c3170d227b6368041e59c1dc7ed6e4}
Old interface to setting average-\/bitrate encoding mode.

Deprecated after move to bit-\/reservoir style management in 1.\+1 rendered this interface partially obsolete.

\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000034}{Deprecated}]Please use \hyperlink{vorbisenc_8h_a5075e0acb85fd45398a290594f83d6ba}{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E2\+\_\+\+S\+ET} instead.\end{DoxyRefDesc}


\hyperlink{struct_argument}{Argument}\+: {\ttfamily struct \hyperlink{structovectl__ratemanage__arg}{ovectl\+\_\+ratemanage\+\_\+arg} $\ast$} 

Definition at line 415 of file vorbisenc.\+h.

\index{vorbisenc.\+h@{vorbisenc.\+h}!O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E\+\_\+\+G\+ET@{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E\+\_\+\+G\+ET}}
\index{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E\+\_\+\+G\+ET@{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E\+\_\+\+G\+ET}!vorbisenc.\+h@{vorbisenc.\+h}}
\subsubsection[{\texorpdfstring{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E\+\_\+\+G\+ET}{OV_ECTL_RATEMANAGE_GET}}]{\setlength{\rightskip}{0pt plus 5cm}\#define O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E\+\_\+\+G\+ET~0x10}\hypertarget{vorbisenc_8h_a614481c0d84bdfbb80eed9208b68f779}{}\label{vorbisenc_8h_a614481c0d84bdfbb80eed9208b68f779}
Old interface to querying bitrate management settings.

Deprecated after move to bit-\/reservoir style management in 1.\+1 rendered this interface partially obsolete.

\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000032}{Deprecated}]Please use \hyperlink{vorbisenc_8h_af95048070bedb467f80ce85e20057126}{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E2\+\_\+\+G\+ET} instead.\end{DoxyRefDesc}


\hyperlink{struct_argument}{Argument}\+: {\ttfamily struct \hyperlink{structovectl__ratemanage__arg}{ovectl\+\_\+ratemanage\+\_\+arg} $\ast$} 

Definition at line 393 of file vorbisenc.\+h.

\index{vorbisenc.\+h@{vorbisenc.\+h}!O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E\+\_\+\+H\+A\+RD@{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E\+\_\+\+H\+A\+RD}}
\index{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E\+\_\+\+H\+A\+RD@{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E\+\_\+\+H\+A\+RD}!vorbisenc.\+h@{vorbisenc.\+h}}
\subsubsection[{\texorpdfstring{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E\+\_\+\+H\+A\+RD}{OV_ECTL_RATEMANAGE_HARD}}]{\setlength{\rightskip}{0pt plus 5cm}\#define O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E\+\_\+\+H\+A\+RD~0x13}\hypertarget{vorbisenc_8h_af8869980a805f431af57a50dffbf5d33}{}\label{vorbisenc_8h_af8869980a805f431af57a50dffbf5d33}
Old interface to setting bounded-\/bitrate encoding modes.

deprecated after move to bit-\/reservoir style management in 1.\+1 rendered this interface partially obsolete.

\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000035}{Deprecated}]Please use \hyperlink{vorbisenc_8h_a5075e0acb85fd45398a290594f83d6ba}{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E2\+\_\+\+S\+ET} instead.\end{DoxyRefDesc}


\hyperlink{struct_argument}{Argument}\+: {\ttfamily struct \hyperlink{structovectl__ratemanage__arg}{ovectl\+\_\+ratemanage\+\_\+arg} $\ast$} 

Definition at line 426 of file vorbisenc.\+h.

\index{vorbisenc.\+h@{vorbisenc.\+h}!O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E\+\_\+\+S\+ET@{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E\+\_\+\+S\+ET}}
\index{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E\+\_\+\+S\+ET@{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E\+\_\+\+S\+ET}!vorbisenc.\+h@{vorbisenc.\+h}}
\subsubsection[{\texorpdfstring{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E\+\_\+\+S\+ET}{OV_ECTL_RATEMANAGE_SET}}]{\setlength{\rightskip}{0pt plus 5cm}\#define O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E\+\_\+\+S\+ET~0x11}\hypertarget{vorbisenc_8h_a1daa1fd8ce1064cce01dde3ad447d389}{}\label{vorbisenc_8h_a1daa1fd8ce1064cce01dde3ad447d389}
Old interface to modifying bitrate management settings.

deprecated after move to bit-\/reservoir style management in 1.\+1 rendered this interface partially obsolete.

\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000033}{Deprecated}]Please use \hyperlink{vorbisenc_8h_a5075e0acb85fd45398a290594f83d6ba}{O\+V\+\_\+\+E\+C\+T\+L\+\_\+\+R\+A\+T\+E\+M\+A\+N\+A\+G\+E2\+\_\+\+S\+ET} instead.\end{DoxyRefDesc}


\hyperlink{struct_argument}{Argument}\+: {\ttfamily struct \hyperlink{structovectl__ratemanage__arg}{ovectl\+\_\+ratemanage\+\_\+arg} $\ast$} 

Definition at line 404 of file vorbisenc.\+h.



\subsection{Function Documentation}
\index{vorbisenc.\+h@{vorbisenc.\+h}!vorbis\+\_\+encode\+\_\+ctl@{vorbis\+\_\+encode\+\_\+ctl}}
\index{vorbis\+\_\+encode\+\_\+ctl@{vorbis\+\_\+encode\+\_\+ctl}!vorbisenc.\+h@{vorbisenc.\+h}}
\subsubsection[{\texorpdfstring{vorbis\+\_\+encode\+\_\+ctl(vorbis\+\_\+info $\ast$vi, int number, void $\ast$arg)}{vorbis_encode_ctl(vorbis_info *vi, int number, void *arg)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} vorbis\+\_\+encode\+\_\+ctl (
\begin{DoxyParamCaption}
\item[{{\bf vorbis\+\_\+info} $\ast$}]{vi, }
\item[{{\bf int}}]{number, }
\item[{{\bf void} $\ast$}]{arg}
\end{DoxyParamCaption}
)}\hypertarget{vorbisenc_8h_a5f398a378e20b8ce5e3341a582e773bd}{}\label{vorbisenc_8h_a5f398a378e20b8ce5e3341a582e773bd}
This function implements a generic interface to miscellaneous encoder settings similar to the classic U\+N\+IX \textquotesingle{}ioctl()\textquotesingle{} system call. Applications may use \hyperlink{vorbisenc_8h_a5f398a378e20b8ce5e3341a582e773bd}{vorbis\+\_\+encode\+\_\+ctl()} to query or set bitrate management or quality mode details by using one of several {\itshape request} arguments detailed below. \hyperlink{vorbisenc_8h_a5f398a378e20b8ce5e3341a582e773bd}{vorbis\+\_\+encode\+\_\+ctl()} must be called after one of \hyperlink{vorbisenc_8h_ac73714f24500e18024e83104e9e09485}{vorbis\+\_\+encode\+\_\+setup\+\_\+managed()} or \hyperlink{vorbisenc_8h_a0f7677f216936a6cd7fa28ddbccada74}{vorbis\+\_\+encode\+\_\+setup\+\_\+vbr()}. When used to modify settings, \hyperlink{vorbisenc_8h_a5f398a378e20b8ce5e3341a582e773bd}{vorbis\+\_\+encode\+\_\+ctl()} must be called before \hyperlink{vorbisenc_8h_ac3953ff69d05864e78d1858a544ed619}{vorbis\+\_\+encode\+\_\+setup\+\_\+init()}.


\begin{DoxyParams}{Parameters}
{\em vi} & Pointer to an initialized \hyperlink{structvorbis__info}{vorbis\+\_\+info} struct.\\
\hline
{\em number} & Specifies the desired action; See \hyperlink{vorbisenc_8h_encctlcodes}{the list}of available requests".\\
\hline
{\em arg} & void $\ast$ pointing to a data structure matching the request argument.\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em 0} & Success. Any further return information (such as the result of a query) is placed into the storage pointed to by $\ast$arg.\\
\hline
{\em O\+V\+\_\+\+E\+I\+N\+V\+AL} & Invalid argument, or an attempt to modify a setting after calling \hyperlink{vorbisenc_8h_ac3953ff69d05864e78d1858a544ed619}{vorbis\+\_\+encode\+\_\+setup\+\_\+init()}.\\
\hline
{\em O\+V\+\_\+\+E\+I\+M\+PL} & Unimplemented or unknown request \\
\hline
\end{DoxyRetVals}


Definition at line 1013 of file vorbisenc.\+c.

\index{vorbisenc.\+h@{vorbisenc.\+h}!vorbis\+\_\+encode\+\_\+init@{vorbis\+\_\+encode\+\_\+init}}
\index{vorbis\+\_\+encode\+\_\+init@{vorbis\+\_\+encode\+\_\+init}!vorbisenc.\+h@{vorbisenc.\+h}}
\subsubsection[{\texorpdfstring{vorbis\+\_\+encode\+\_\+init(vorbis\+\_\+info $\ast$vi, long channels, long rate, long max\+\_\+bitrate, long nominal\+\_\+bitrate, long min\+\_\+bitrate)}{vorbis_encode_init(vorbis_info *vi, long channels, long rate, long max_bitrate, long nominal_bitrate, long min_bitrate)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} vorbis\+\_\+encode\+\_\+init (
\begin{DoxyParamCaption}
\item[{{\bf vorbis\+\_\+info} $\ast$}]{vi, }
\item[{long}]{channels, }
\item[{long}]{rate, }
\item[{long}]{max\+\_\+bitrate, }
\item[{long}]{nominal\+\_\+bitrate, }
\item[{long}]{min\+\_\+bitrate}
\end{DoxyParamCaption}
)}\hypertarget{vorbisenc_8h_a6571d9c349c540491256f1083e1ede71}{}\label{vorbisenc_8h_a6571d9c349c540491256f1083e1ede71}
This is the primary function within libvorbisenc for setting up managed bitrate modes.

Before this function is called, the \hyperlink{structvorbis__info}{vorbis\+\_\+info} struct should be initialized by using \hyperlink{codec_8h_af0ed4e74fe68802c7d337a2645e759d6}{vorbis\+\_\+info\+\_\+init()} from the libvorbis A\+PI. After encoding, \hyperlink{codec_8h_abaf171c1341b23e1c2eed7dab00d9f4a}{vorbis\+\_\+info\+\_\+clear()} should be called.

The max\+\_\+bitrate, nominal\+\_\+bitrate, and min\+\_\+bitrate settings are used to set constraints for the encoded file. This function uses these settings to select the appropriate encoding mode and set it up.


\begin{DoxyParams}{Parameters}
{\em vi} & Pointer to an initialized \hyperlink{structvorbis__info}{vorbis\+\_\+info} struct. \\
\hline
{\em channels} & The number of channels to be encoded. \\
\hline
{\em rate} & The sampling rate of the source audio. \\
\hline
{\em max\+\_\+bitrate} & Desired maximum bitrate (limit). -\/1 indicates unset. \\
\hline
{\em nominal\+\_\+bitrate} & Desired average, or central, bitrate. -\/1 indicates unset. \\
\hline
{\em min\+\_\+bitrate} & Desired minimum bitrate. -\/1 indicates unset.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Zero for success, and negative values for failure.
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
{\em 0} & Success. \\
\hline
{\em O\+V\+\_\+\+E\+F\+A\+U\+LT} & Internal logic fault; indicates a bug or heap/stack corruption. \\
\hline
{\em O\+V\+\_\+\+E\+I\+N\+V\+AL} & Invalid setup request, eg, out of range argument. \\
\hline
{\em O\+V\+\_\+\+E\+I\+M\+PL} & Unimplemented mode; unable to comply with bitrate request. \\
\hline
\end{DoxyRetVals}


Definition at line 990 of file vorbisenc.\+c.

\index{vorbisenc.\+h@{vorbisenc.\+h}!vorbis\+\_\+encode\+\_\+init\+\_\+vbr@{vorbis\+\_\+encode\+\_\+init\+\_\+vbr}}
\index{vorbis\+\_\+encode\+\_\+init\+\_\+vbr@{vorbis\+\_\+encode\+\_\+init\+\_\+vbr}!vorbisenc.\+h@{vorbisenc.\+h}}
\subsubsection[{\texorpdfstring{vorbis\+\_\+encode\+\_\+init\+\_\+vbr(vorbis\+\_\+info $\ast$vi, long channels, long rate, float base\+\_\+quality)}{vorbis_encode_init_vbr(vorbis_info *vi, long channels, long rate, float base_quality)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} vorbis\+\_\+encode\+\_\+init\+\_\+vbr (
\begin{DoxyParamCaption}
\item[{{\bf vorbis\+\_\+info} $\ast$}]{vi, }
\item[{long}]{channels, }
\item[{long}]{rate, }
\item[{float}]{base\+\_\+quality}
\end{DoxyParamCaption}
)}\hypertarget{vorbisenc_8h_ab4e3d96c3008a29c615271d1f551c2a0}{}\label{vorbisenc_8h_ab4e3d96c3008a29c615271d1f551c2a0}
This is the primary function within libvorbisenc for setting up variable bitrate (\char`\"{}quality\char`\"{} based) modes.

Before this function is called, the \hyperlink{structvorbis__info}{vorbis\+\_\+info} struct should be initialized by using \hyperlink{codec_8h_af0ed4e74fe68802c7d337a2645e759d6}{vorbis\+\_\+info\+\_\+init()} from the libvorbis A\+PI. After encoding, \hyperlink{codec_8h_abaf171c1341b23e1c2eed7dab00d9f4a}{vorbis\+\_\+info\+\_\+clear()} should be called.


\begin{DoxyParams}{Parameters}
{\em vi} & Pointer to an initialized \hyperlink{structvorbis__info}{vorbis\+\_\+info} struct. \\
\hline
{\em channels} & The number of channels to be encoded. \\
\hline
{\em rate} & The sampling rate of the source audio. \\
\hline
{\em base\+\_\+quality} & Desired quality level, currently from -\/0.\+1 to 1.\+0 (lo to hi).\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Zero for success, or a negative number for failure.
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
{\em 0} & Success \\
\hline
{\em O\+V\+\_\+\+E\+F\+A\+U\+LT} & Internal logic fault; indicates a bug or heap/stack corruption. \\
\hline
{\em O\+V\+\_\+\+E\+I\+N\+V\+AL} & Invalid setup request, eg, out of range argument. \\
\hline
{\em O\+V\+\_\+\+E\+I\+M\+PL} & Unimplemented mode; unable to comply with quality level request. \\
\hline
\end{DoxyRetVals}


Definition at line 923 of file vorbisenc.\+c.

\index{vorbisenc.\+h@{vorbisenc.\+h}!vorbis\+\_\+encode\+\_\+setup\+\_\+init@{vorbis\+\_\+encode\+\_\+setup\+\_\+init}}
\index{vorbis\+\_\+encode\+\_\+setup\+\_\+init@{vorbis\+\_\+encode\+\_\+setup\+\_\+init}!vorbisenc.\+h@{vorbisenc.\+h}}
\subsubsection[{\texorpdfstring{vorbis\+\_\+encode\+\_\+setup\+\_\+init(vorbis\+\_\+info $\ast$vi)}{vorbis_encode_setup_init(vorbis_info *vi)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} vorbis\+\_\+encode\+\_\+setup\+\_\+init (
\begin{DoxyParamCaption}
\item[{{\bf vorbis\+\_\+info} $\ast$}]{vi}
\end{DoxyParamCaption}
)}\hypertarget{vorbisenc_8h_ac3953ff69d05864e78d1858a544ed619}{}\label{vorbisenc_8h_ac3953ff69d05864e78d1858a544ed619}
This function performs the last stage of three-\/step encoding setup, as described in the A\+PI overview under managed bitrate modes.

Before this function is called, the \hyperlink{structvorbis__info}{vorbis\+\_\+info} struct should be initialized by using \hyperlink{codec_8h_af0ed4e74fe68802c7d337a2645e759d6}{vorbis\+\_\+info\+\_\+init()} from the libvorbis A\+PI, one of \hyperlink{vorbisenc_8h_ac73714f24500e18024e83104e9e09485}{vorbis\+\_\+encode\+\_\+setup\+\_\+managed()} or \hyperlink{vorbisenc_8h_a0f7677f216936a6cd7fa28ddbccada74}{vorbis\+\_\+encode\+\_\+setup\+\_\+vbr()} called to initialize the high-\/level encoding setup, and \hyperlink{vorbisenc_8h_a5f398a378e20b8ce5e3341a582e773bd}{vorbis\+\_\+encode\+\_\+ctl()} called if necessary to make encoding setup changes. \hyperlink{vorbisenc_8h_ac3953ff69d05864e78d1858a544ed619}{vorbis\+\_\+encode\+\_\+setup\+\_\+init()} finalizes the highlevel encoding structure into a complete encoding setup after which the application may make no further setup changes.

After encoding, \hyperlink{codec_8h_abaf171c1341b23e1c2eed7dab00d9f4a}{vorbis\+\_\+info\+\_\+clear()} should be called.


\begin{DoxyParams}{Parameters}
{\em vi} & Pointer to an initialized \hyperlink{structvorbis__info}{vorbis\+\_\+info} struct.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Zero for success, and negative values for failure.
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
{\em 0} & Success. \\
\hline
{\em O\+V\+\_\+\+E\+F\+A\+U\+LT} & Internal logic fault; indicates a bug or heap/stack corruption.\\
\hline
{\em O\+V\+\_\+\+E\+I\+N\+V\+AL} & Attempt to use \hyperlink{vorbisenc_8h_ac3953ff69d05864e78d1858a544ed619}{vorbis\+\_\+encode\+\_\+setup\+\_\+init()} without first calling one of \hyperlink{vorbisenc_8h_ac73714f24500e18024e83104e9e09485}{vorbis\+\_\+encode\+\_\+setup\+\_\+managed()} or \hyperlink{vorbisenc_8h_a0f7677f216936a6cd7fa28ddbccada74}{vorbis\+\_\+encode\+\_\+setup\+\_\+vbr()} to initialize the high-\/level encoding setup \\
\hline
\end{DoxyRetVals}


Definition at line 681 of file vorbisenc.\+c.

\index{vorbisenc.\+h@{vorbisenc.\+h}!vorbis\+\_\+encode\+\_\+setup\+\_\+managed@{vorbis\+\_\+encode\+\_\+setup\+\_\+managed}}
\index{vorbis\+\_\+encode\+\_\+setup\+\_\+managed@{vorbis\+\_\+encode\+\_\+setup\+\_\+managed}!vorbisenc.\+h@{vorbisenc.\+h}}
\subsubsection[{\texorpdfstring{vorbis\+\_\+encode\+\_\+setup\+\_\+managed(vorbis\+\_\+info $\ast$vi, long channels, long rate, long max\+\_\+bitrate, long nominal\+\_\+bitrate, long min\+\_\+bitrate)}{vorbis_encode_setup_managed(vorbis_info *vi, long channels, long rate, long max_bitrate, long nominal_bitrate, long min_bitrate)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} vorbis\+\_\+encode\+\_\+setup\+\_\+managed (
\begin{DoxyParamCaption}
\item[{{\bf vorbis\+\_\+info} $\ast$}]{vi, }
\item[{long}]{channels, }
\item[{long}]{rate, }
\item[{long}]{max\+\_\+bitrate, }
\item[{long}]{nominal\+\_\+bitrate, }
\item[{long}]{min\+\_\+bitrate}
\end{DoxyParamCaption}
)}\hypertarget{vorbisenc_8h_ac73714f24500e18024e83104e9e09485}{}\label{vorbisenc_8h_ac73714f24500e18024e83104e9e09485}
This function performs step-\/one of a three-\/step bitrate-\/managed encode setup. It functions similarly to the one-\/step setup performed by \hyperlink{vorbisenc_8c_a6571d9c349c540491256f1083e1ede71}{vorbis\+\_\+encode\+\_\+init} but allows an application to make further encode setup tweaks using \hyperlink{vorbisenc_8c_a5f398a378e20b8ce5e3341a582e773bd}{vorbis\+\_\+encode\+\_\+ctl} before finally calling \hyperlink{vorbisenc_8c_ac3953ff69d05864e78d1858a544ed619}{vorbis\+\_\+encode\+\_\+setup\+\_\+init} to complete the setup process.

Before this function is called, the \hyperlink{structvorbis__info}{vorbis\+\_\+info} struct should be initialized by using \hyperlink{codec_8h_af0ed4e74fe68802c7d337a2645e759d6}{vorbis\+\_\+info\+\_\+init()} from the libvorbis A\+PI. After encoding, \hyperlink{codec_8h_abaf171c1341b23e1c2eed7dab00d9f4a}{vorbis\+\_\+info\+\_\+clear()} should be called.

The max\+\_\+bitrate, nominal\+\_\+bitrate, and min\+\_\+bitrate settings are used to set constraints for the encoded file. This function uses these settings to select the appropriate encoding mode and set it up.


\begin{DoxyParams}{Parameters}
{\em vi} & Pointer to an initialized \hyperlink{structvorbis__info}{vorbis\+\_\+info} struct. \\
\hline
{\em channels} & The number of channels to be encoded. \\
\hline
{\em rate} & The sampling rate of the source audio. \\
\hline
{\em max\+\_\+bitrate} & Desired maximum bitrate (limit). -\/1 indicates unset. \\
\hline
{\em nominal\+\_\+bitrate} & Desired average, or central, bitrate. -\/1 indicates unset. \\
\hline
{\em min\+\_\+bitrate} & Desired minimum bitrate. -\/1 indicates unset.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Zero for success, and negative for failure.
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
{\em 0} & Success \\
\hline
{\em O\+V\+\_\+\+E\+F\+A\+U\+LT} & Internal logic fault; indicates a bug or heap/stack corruption. \\
\hline
{\em O\+V\+\_\+\+E\+I\+N\+V\+AL} & Invalid setup request, eg, out of range argument. \\
\hline
{\em O\+V\+\_\+\+E\+I\+M\+PL} & Unimplemented mode; unable to comply with bitrate request. \\
\hline
\end{DoxyRetVals}


Definition at line 943 of file vorbisenc.\+c.

\index{vorbisenc.\+h@{vorbisenc.\+h}!vorbis\+\_\+encode\+\_\+setup\+\_\+vbr@{vorbis\+\_\+encode\+\_\+setup\+\_\+vbr}}
\index{vorbis\+\_\+encode\+\_\+setup\+\_\+vbr@{vorbis\+\_\+encode\+\_\+setup\+\_\+vbr}!vorbisenc.\+h@{vorbisenc.\+h}}
\subsubsection[{\texorpdfstring{vorbis\+\_\+encode\+\_\+setup\+\_\+vbr(vorbis\+\_\+info $\ast$vi, long channels, long rate, float quality)}{vorbis_encode_setup_vbr(vorbis_info *vi, long channels, long rate, float quality)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} vorbis\+\_\+encode\+\_\+setup\+\_\+vbr (
\begin{DoxyParamCaption}
\item[{{\bf vorbis\+\_\+info} $\ast$}]{vi, }
\item[{long}]{channels, }
\item[{long}]{rate, }
\item[{float}]{quality}
\end{DoxyParamCaption}
)}\hypertarget{vorbisenc_8h_a0f7677f216936a6cd7fa28ddbccada74}{}\label{vorbisenc_8h_a0f7677f216936a6cd7fa28ddbccada74}
This function performs step-\/one of a three-\/step variable bitrate (quality-\/based) encode setup. It functions similarly to the one-\/step setup performed by \hyperlink{vorbisenc_8h_ab4e3d96c3008a29c615271d1f551c2a0}{vorbis\+\_\+encode\+\_\+init\+\_\+vbr()} but allows an application to make further encode setup tweaks using \hyperlink{vorbisenc_8h_a5f398a378e20b8ce5e3341a582e773bd}{vorbis\+\_\+encode\+\_\+ctl()} before finally calling \hyperlink{vorbisenc_8c_ac3953ff69d05864e78d1858a544ed619}{vorbis\+\_\+encode\+\_\+setup\+\_\+init} to complete the setup process.

Before this function is called, the \hyperlink{structvorbis__info}{vorbis\+\_\+info} struct should be initialized by using \hyperlink{codec_8h_af0ed4e74fe68802c7d337a2645e759d6}{vorbis\+\_\+info\+\_\+init()} from the libvorbis A\+PI. After encoding, \hyperlink{codec_8h_abaf171c1341b23e1c2eed7dab00d9f4a}{vorbis\+\_\+info\+\_\+clear()} should be called.


\begin{DoxyParams}{Parameters}
{\em vi} & Pointer to an initialized \hyperlink{structvorbis__info}{vorbis\+\_\+info} struct. \\
\hline
{\em channels} & The number of channels to be encoded. \\
\hline
{\em rate} & The sampling rate of the source audio. \\
\hline
{\em quality} & Desired quality level, currently from -\/0.\+1 to 1.\+0 (lo to hi).\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Zero for success, and negative values for failure.
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
{\em 0} & Success \\
\hline
{\em O\+V\+\_\+\+E\+F\+A\+U\+LT} & Internal logic fault; indicates a bug or heap/stack corruption. \\
\hline
{\em O\+V\+\_\+\+E\+I\+N\+V\+AL} & Invalid setup request, eg, out of range argument. \\
\hline
{\em O\+V\+\_\+\+E\+I\+M\+PL} & Unimplemented mode; unable to comply with quality level request. \\
\hline
\end{DoxyRetVals}


Definition at line 902 of file vorbisenc.\+c.

