\hypertarget{group__lavc__encoding}{}\section{Encoding}
\label{group__lavc__encoding}\index{Encoding@{Encoding}}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_rc_override}{Rc\+Override}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group__lavc__encoding_gacf94eb890b3b77383ec7fd728db8509c}{F\+F\+\_\+\+M\+I\+N\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE}~16384
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{struct_rc_override}{Rc\+Override} \hyperlink{group__lavc__encoding_gab1f6225af3457c88da7b862af9873046}{Rc\+Override}
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{group__lavc__encoding_ga09b261f1bce5161af3485cb3302edd27}{Motion\+\_\+\+Est\+\_\+\+ID} \{ \\*
\hyperlink{group__lavc__encoding_gga09b261f1bce5161af3485cb3302edd27a93dc3282c22808d298c81bfde3882c42}{M\+E\+\_\+\+Z\+E\+RO} = 1, 
\hyperlink{group__lavc__encoding_gga09b261f1bce5161af3485cb3302edd27a84208f4e6c361aaf87ac0c0f71116431}{M\+E\+\_\+\+F\+U\+LL}, 
\hyperlink{group__lavc__encoding_gga09b261f1bce5161af3485cb3302edd27a712da9e85272e6bc8d73d897e40e8ab8}{M\+E\+\_\+\+L\+OG}, 
\hyperlink{group__lavc__encoding_gga09b261f1bce5161af3485cb3302edd27ab9f980e93b9500d67b1308ad0e9ce72a}{M\+E\+\_\+\+P\+H\+O\+DS}, 
\\*
\hyperlink{group__lavc__encoding_gga09b261f1bce5161af3485cb3302edd27a47a2cf1ba9719d733ff2c0c0fc6e3491}{M\+E\+\_\+\+E\+P\+ZS}, 
\hyperlink{group__lavc__encoding_gga09b261f1bce5161af3485cb3302edd27a97220d3da7ac127439d96e641b48ca5f}{M\+E\+\_\+\+X1}, 
\hyperlink{group__lavc__encoding_gga09b261f1bce5161af3485cb3302edd27a842aadc9a6d4f1c9fa20a17c77521327}{M\+E\+\_\+\+H\+EX}, 
\hyperlink{group__lavc__encoding_gga09b261f1bce5161af3485cb3302edd27a933a98fe54bd38c7ba77ca9a917e3bc8}{M\+E\+\_\+\+U\+MH}, 
\\*
\hyperlink{group__lavc__encoding_gga09b261f1bce5161af3485cb3302edd27ad0718ff68dd2d8f9642f5ca4aab1e181}{M\+E\+\_\+\+T\+E\+SA}, 
\hyperlink{group__lavc__encoding_gga09b261f1bce5161af3485cb3302edd27ab2b41a1b4640728bd95c1910b111270f}{M\+E\+\_\+\+I\+T\+ER} =50
 \}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{struct_a_v_codec}{A\+V\+Codec} $\ast$ \hyperlink{group__lavc__encoding_ga9f820c481615c3a02d0407bac0bdbf25}{avcodec\+\_\+find\+\_\+encoder} (enum \hyperlink{group__lavc__core_gaadca229ad2c20e060a14fec08a5cc7ce}{A\+V\+Codec\+ID} id)
\item 
\hyperlink{struct_a_v_codec}{A\+V\+Codec} $\ast$ \hyperlink{group__lavc__encoding_gaa614ffc38511c104bdff4a3afa086d37}{avcodec\+\_\+find\+\_\+encoder\+\_\+by\+\_\+name} (\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$\hyperlink{lib_2expat_8h_a1b49b495b59f9e73205b69ad1a2965b0}{name})
\item 
\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{attributes_8h_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated} \hyperlink{group__lavc__encoding_gaf12a9da0d33f50ff406e03572fab4763}{avcodec\+\_\+encode\+\_\+audio} (\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context} $\ast$avctx, \hyperlink{lib-src_2ffmpeg_2win32_2stdint_8h_a9a941819355e6f658991890ff66b4b0e}{uint8\+\_\+t} $\ast$\hyperlink{xlstr_8c_a781718f5b53a876fe91c424c4607fa8f}{buf}, \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} buf\+\_\+size, \hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const} short $\ast$\hyperlink{test__w__saw8_8c_a54185623a5a093f671a73e5fba6197a1}{samples})
\item 
\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{group__lavc__encoding_ga93a49fbd0973b216dcb8a8c5dffe1d82}{avcodec\+\_\+encode\+\_\+audio2} (\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context} $\ast$avctx, \hyperlink{struct_a_v_packet}{A\+V\+Packet} $\ast$avpkt, \hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const} \hyperlink{struct_a_v_frame}{A\+V\+Frame} $\ast$frame, \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} $\ast$got\+\_\+packet\+\_\+ptr)
\item 
\hyperlink{attributes_8h_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated} \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{group__lavc__encoding_ga22847c21918ee93a4d05f7ffb419f9a9}{avcodec\+\_\+encode\+\_\+video} (\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context} $\ast$avctx, \hyperlink{lib-src_2ffmpeg_2win32_2stdint_8h_a9a941819355e6f658991890ff66b4b0e}{uint8\+\_\+t} $\ast$\hyperlink{xlstr_8c_a781718f5b53a876fe91c424c4607fa8f}{buf}, \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} buf\+\_\+size, \hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const} \hyperlink{struct_a_v_frame}{A\+V\+Frame} $\ast$pict)
\item 
\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{group__lavc__encoding_gaa2dc9e9ea2567ebb2801a08153c7306b}{avcodec\+\_\+encode\+\_\+video2} (\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context} $\ast$avctx, \hyperlink{struct_a_v_packet}{A\+V\+Packet} $\ast$avpkt, \hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const} \hyperlink{struct_a_v_frame}{A\+V\+Frame} $\ast$frame, \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} $\ast$got\+\_\+packet\+\_\+ptr)
\item 
\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{group__lavc__encoding_ga37be256d85d78f665df27ad6c8f1d65b}{avcodec\+\_\+encode\+\_\+subtitle} (\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context} $\ast$avctx, \hyperlink{lib-src_2ffmpeg_2win32_2stdint_8h_a9a941819355e6f658991890ff66b4b0e}{uint8\+\_\+t} $\ast$\hyperlink{xlstr_8c_a781718f5b53a876fe91c424c4607fa8f}{buf}, \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} buf\+\_\+size, \hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const} \hyperlink{struct_a_v_subtitle}{A\+V\+Subtitle} $\ast$sub)
\end{DoxyCompactItemize}


\subsection{Detailed Description}


\subsection{Macro Definition Documentation}
\index{Encoding@{Encoding}!F\+F\+\_\+\+M\+I\+N\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE@{F\+F\+\_\+\+M\+I\+N\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE}}
\index{F\+F\+\_\+\+M\+I\+N\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE@{F\+F\+\_\+\+M\+I\+N\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE}!Encoding@{Encoding}}
\subsubsection[{\texorpdfstring{F\+F\+\_\+\+M\+I\+N\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE}{FF_MIN_BUFFER_SIZE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\+F\+\_\+\+M\+I\+N\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE~16384}\hypertarget{group__lavc__encoding_gacf94eb890b3b77383ec7fd728db8509c}{}\label{group__lavc__encoding_gacf94eb890b3b77383ec7fd728db8509c}
minimum encoding buffer size Used to avoid some checks during header writing. 

Definition at line 598 of file avcodec.\+h.



\subsection{Typedef Documentation}
\index{Encoding@{Encoding}!Rc\+Override@{Rc\+Override}}
\index{Rc\+Override@{Rc\+Override}!Encoding@{Encoding}}
\subsubsection[{\texorpdfstring{Rc\+Override}{RcOverride}}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf Rc\+Override}  {\bf Rc\+Override}}\hypertarget{group__lavc__encoding_gab1f6225af3457c88da7b862af9873046}{}\label{group__lavc__encoding_gab1f6225af3457c88da7b862af9873046}


\subsection{Enumeration Type Documentation}
\index{Encoding@{Encoding}!Motion\+\_\+\+Est\+\_\+\+ID@{Motion\+\_\+\+Est\+\_\+\+ID}}
\index{Motion\+\_\+\+Est\+\_\+\+ID@{Motion\+\_\+\+Est\+\_\+\+ID}!Encoding@{Encoding}}
\subsubsection[{\texorpdfstring{Motion\+\_\+\+Est\+\_\+\+ID}{Motion_Est_ID}}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf Motion\+\_\+\+Est\+\_\+\+ID}}\hypertarget{group__lavc__encoding_ga09b261f1bce5161af3485cb3302edd27}{}\label{group__lavc__encoding_ga09b261f1bce5161af3485cb3302edd27}
motion estimation type. \begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{M\+E\+\_\+\+Z\+E\+RO@{M\+E\+\_\+\+Z\+E\+RO}!Encoding@{Encoding}}\index{Encoding@{Encoding}!M\+E\+\_\+\+Z\+E\+RO@{M\+E\+\_\+\+Z\+E\+RO}}\item[{\em 
M\+E\+\_\+\+Z\+E\+RO\hypertarget{group__lavc__encoding_gga09b261f1bce5161af3485cb3302edd27a93dc3282c22808d298c81bfde3882c42}{}\label{group__lavc__encoding_gga09b261f1bce5161af3485cb3302edd27a93dc3282c22808d298c81bfde3882c42}
}]no search, that is use 0,0 vector whenever one is needed \index{M\+E\+\_\+\+F\+U\+LL@{M\+E\+\_\+\+F\+U\+LL}!Encoding@{Encoding}}\index{Encoding@{Encoding}!M\+E\+\_\+\+F\+U\+LL@{M\+E\+\_\+\+F\+U\+LL}}\item[{\em 
M\+E\+\_\+\+F\+U\+LL\hypertarget{group__lavc__encoding_gga09b261f1bce5161af3485cb3302edd27a84208f4e6c361aaf87ac0c0f71116431}{}\label{group__lavc__encoding_gga09b261f1bce5161af3485cb3302edd27a84208f4e6c361aaf87ac0c0f71116431}
}]\index{M\+E\+\_\+\+L\+OG@{M\+E\+\_\+\+L\+OG}!Encoding@{Encoding}}\index{Encoding@{Encoding}!M\+E\+\_\+\+L\+OG@{M\+E\+\_\+\+L\+OG}}\item[{\em 
M\+E\+\_\+\+L\+OG\hypertarget{group__lavc__encoding_gga09b261f1bce5161af3485cb3302edd27a712da9e85272e6bc8d73d897e40e8ab8}{}\label{group__lavc__encoding_gga09b261f1bce5161af3485cb3302edd27a712da9e85272e6bc8d73d897e40e8ab8}
}]\index{M\+E\+\_\+\+P\+H\+O\+DS@{M\+E\+\_\+\+P\+H\+O\+DS}!Encoding@{Encoding}}\index{Encoding@{Encoding}!M\+E\+\_\+\+P\+H\+O\+DS@{M\+E\+\_\+\+P\+H\+O\+DS}}\item[{\em 
M\+E\+\_\+\+P\+H\+O\+DS\hypertarget{group__lavc__encoding_gga09b261f1bce5161af3485cb3302edd27ab9f980e93b9500d67b1308ad0e9ce72a}{}\label{group__lavc__encoding_gga09b261f1bce5161af3485cb3302edd27ab9f980e93b9500d67b1308ad0e9ce72a}
}]\index{M\+E\+\_\+\+E\+P\+ZS@{M\+E\+\_\+\+E\+P\+ZS}!Encoding@{Encoding}}\index{Encoding@{Encoding}!M\+E\+\_\+\+E\+P\+ZS@{M\+E\+\_\+\+E\+P\+ZS}}\item[{\em 
M\+E\+\_\+\+E\+P\+ZS\hypertarget{group__lavc__encoding_gga09b261f1bce5161af3485cb3302edd27a47a2cf1ba9719d733ff2c0c0fc6e3491}{}\label{group__lavc__encoding_gga09b261f1bce5161af3485cb3302edd27a47a2cf1ba9719d733ff2c0c0fc6e3491}
}]enhanced predictive zonal search \index{M\+E\+\_\+\+X1@{M\+E\+\_\+\+X1}!Encoding@{Encoding}}\index{Encoding@{Encoding}!M\+E\+\_\+\+X1@{M\+E\+\_\+\+X1}}\item[{\em 
M\+E\+\_\+\+X1\hypertarget{group__lavc__encoding_gga09b261f1bce5161af3485cb3302edd27a97220d3da7ac127439d96e641b48ca5f}{}\label{group__lavc__encoding_gga09b261f1bce5161af3485cb3302edd27a97220d3da7ac127439d96e641b48ca5f}
}]reserved for experiments \index{M\+E\+\_\+\+H\+EX@{M\+E\+\_\+\+H\+EX}!Encoding@{Encoding}}\index{Encoding@{Encoding}!M\+E\+\_\+\+H\+EX@{M\+E\+\_\+\+H\+EX}}\item[{\em 
M\+E\+\_\+\+H\+EX\hypertarget{group__lavc__encoding_gga09b261f1bce5161af3485cb3302edd27a842aadc9a6d4f1c9fa20a17c77521327}{}\label{group__lavc__encoding_gga09b261f1bce5161af3485cb3302edd27a842aadc9a6d4f1c9fa20a17c77521327}
}]hexagon based search \index{M\+E\+\_\+\+U\+MH@{M\+E\+\_\+\+U\+MH}!Encoding@{Encoding}}\index{Encoding@{Encoding}!M\+E\+\_\+\+U\+MH@{M\+E\+\_\+\+U\+MH}}\item[{\em 
M\+E\+\_\+\+U\+MH\hypertarget{group__lavc__encoding_gga09b261f1bce5161af3485cb3302edd27a933a98fe54bd38c7ba77ca9a917e3bc8}{}\label{group__lavc__encoding_gga09b261f1bce5161af3485cb3302edd27a933a98fe54bd38c7ba77ca9a917e3bc8}
}]uneven multi-\/hexagon search \index{M\+E\+\_\+\+T\+E\+SA@{M\+E\+\_\+\+T\+E\+SA}!Encoding@{Encoding}}\index{Encoding@{Encoding}!M\+E\+\_\+\+T\+E\+SA@{M\+E\+\_\+\+T\+E\+SA}}\item[{\em 
M\+E\+\_\+\+T\+E\+SA\hypertarget{group__lavc__encoding_gga09b261f1bce5161af3485cb3302edd27ad0718ff68dd2d8f9642f5ca4aab1e181}{}\label{group__lavc__encoding_gga09b261f1bce5161af3485cb3302edd27ad0718ff68dd2d8f9642f5ca4aab1e181}
}]transformed exhaustive search algorithm \index{M\+E\+\_\+\+I\+T\+ER@{M\+E\+\_\+\+I\+T\+ER}!Encoding@{Encoding}}\index{Encoding@{Encoding}!M\+E\+\_\+\+I\+T\+ER@{M\+E\+\_\+\+I\+T\+ER}}\item[{\em 
M\+E\+\_\+\+I\+T\+ER\hypertarget{group__lavc__encoding_gga09b261f1bce5161af3485cb3302edd27ab2b41a1b4640728bd95c1910b111270f}{}\label{group__lavc__encoding_gga09b261f1bce5161af3485cb3302edd27ab2b41a1b4640728bd95c1910b111270f}
}]iterative search \end{description}
\end{Desc}


Definition at line 605 of file avcodec.\+h.



\subsection{Function Documentation}
\index{Encoding@{Encoding}!avcodec\+\_\+encode\+\_\+audio@{avcodec\+\_\+encode\+\_\+audio}}
\index{avcodec\+\_\+encode\+\_\+audio@{avcodec\+\_\+encode\+\_\+audio}!Encoding@{Encoding}}
\subsubsection[{\texorpdfstring{avcodec\+\_\+encode\+\_\+audio(\+A\+V\+Codec\+Context $\ast$avctx, uint8\+\_\+t $\ast$buf, int buf\+\_\+size, const short $\ast$samples)}{avcodec_encode_audio(AVCodecContext *avctx, uint8_t *buf, int buf_size, const short *samples)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} {\bf attribute\+\_\+deprecated} avcodec\+\_\+encode\+\_\+audio (
\begin{DoxyParamCaption}
\item[{{\bf A\+V\+Codec\+Context} $\ast$}]{avctx, }
\item[{{\bf uint8\+\_\+t} $\ast$}]{buf, }
\item[{{\bf int}}]{buf\+\_\+size, }
\item[{{\bf const} short $\ast$}]{samples}
\end{DoxyParamCaption}
)}\hypertarget{group__lavc__encoding_gaf12a9da0d33f50ff406e03572fab4763}{}\label{group__lavc__encoding_gaf12a9da0d33f50ff406e03572fab4763}
Encode an audio frame from samples into buf.

\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000008}{Deprecated}]Use avcodec\+\_\+encode\+\_\+audio2 instead.\end{DoxyRefDesc}


\begin{DoxyNote}{Note}
The output buffer should be at least F\+F\+\_\+\+M\+I\+N\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE bytes large. However, for codecs with avctx-\/$>$frame\+\_\+size equal to 0 (e.\+g. P\+CM) the user will know how much space is needed because it depends on the value passed in buf\+\_\+size as described below. In that case a lower value can be used.
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
 & {\em avctx} & the codec context \\
\hline
\mbox{\tt out}  & {\em buf} & the output buffer \\
\hline
\mbox{\tt in}  & {\em buf\+\_\+size} & the output buffer size \\
\hline
\mbox{\tt in}  & {\em samples} & the input buffer containing the samples The number of samples read from this buffer is frame\+\_\+size$\ast$channels, both of which are defined in avctx. For codecs which have avctx-\/$>$frame\+\_\+size equal to 0 (e.\+g. P\+CM) the number of samples read from samples is equal to\+: buf\+\_\+size $\ast$ 8 / (avctx-\/$>$channels $\ast$ av\+\_\+get\+\_\+bits\+\_\+per\+\_\+sample(avctx-\/$>$codec\+\_\+id)) This also implies that \hyperlink{group__lavc__misc_ga0717e7440fdb123f708082f66cd9b41d}{av\+\_\+get\+\_\+bits\+\_\+per\+\_\+sample()} must not return 0 for these codecs. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
On error a negative value is returned, on success zero or the number of bytes used to encode the data read from the input buffer. 
\end{DoxyReturn}
\index{Encoding@{Encoding}!avcodec\+\_\+encode\+\_\+audio2@{avcodec\+\_\+encode\+\_\+audio2}}
\index{avcodec\+\_\+encode\+\_\+audio2@{avcodec\+\_\+encode\+\_\+audio2}!Encoding@{Encoding}}
\subsubsection[{\texorpdfstring{avcodec\+\_\+encode\+\_\+audio2(\+A\+V\+Codec\+Context $\ast$avctx, A\+V\+Packet $\ast$avpkt, const A\+V\+Frame $\ast$frame, int $\ast$got\+\_\+packet\+\_\+ptr)}{avcodec_encode_audio2(AVCodecContext *avctx, AVPacket *avpkt, const AVFrame *frame, int *got_packet_ptr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} avcodec\+\_\+encode\+\_\+audio2 (
\begin{DoxyParamCaption}
\item[{{\bf A\+V\+Codec\+Context} $\ast$}]{avctx, }
\item[{{\bf A\+V\+Packet} $\ast$}]{avpkt, }
\item[{{\bf const} {\bf A\+V\+Frame} $\ast$}]{frame, }
\item[{{\bf int} $\ast$}]{got\+\_\+packet\+\_\+ptr}
\end{DoxyParamCaption}
)}\hypertarget{group__lavc__encoding_ga93a49fbd0973b216dcb8a8c5dffe1d82}{}\label{group__lavc__encoding_ga93a49fbd0973b216dcb8a8c5dffe1d82}
Encode a frame of audio.

Takes input samples from frame and writes the next output packet, if available, to avpkt. The output packet does not necessarily contain data for the most recent frame, as encoders can delay, split, and combine input frames internally as needed.


\begin{DoxyParams}{Parameters}
{\em avctx} & codec context \\
\hline
{\em avpkt} & output \hyperlink{struct_a_v_packet}{A\+V\+Packet}. The user can supply an output buffer by setting avpkt-\/$>$data and avpkt-\/$>$size prior to calling the function, but if the size of the user-\/provided data is not large enough, encoding will fail. If avpkt-\/$>$data and avpkt-\/$>$size are set, avpkt-\/$>$destruct must also be set. All other \hyperlink{struct_a_v_packet}{A\+V\+Packet} fields will be reset by the encoder using \hyperlink{group__lavc__packet_gac9cb9756175b96e7441575803757fb73}{av\+\_\+init\+\_\+packet()}. If avpkt-\/$>$data is N\+U\+LL, the encoder will allocate it. The encoder will set avpkt-\/$>$size to the size of the output packet.\\
\hline
\end{DoxyParams}
If this function fails or produces no output, avpkt will be freed using \hyperlink{group__lavc__packet_gae65881462e78f98b268f34661d921ee0}{av\+\_\+free\+\_\+packet()} (i.\+e. avpkt-\/$>$destruct will be called to free the user supplied buffer). 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em frame} & \hyperlink{struct_a_v_frame}{A\+V\+Frame} containing the raw audio data to be encoded. May be N\+U\+LL when flushing an encoder that has the C\+O\+D\+E\+C\+\_\+\+C\+A\+P\+\_\+\+D\+E\+L\+AY capability set. If C\+O\+D\+E\+C\+\_\+\+C\+A\+P\+\_\+\+V\+A\+R\+I\+A\+B\+L\+E\+\_\+\+F\+R\+A\+M\+E\+\_\+\+S\+I\+ZE is set, then each frame can have any number of samples. If it is not set, frame-\/$>$nb\+\_\+samples must be equal to avctx-\/$>$frame\+\_\+size for all frames except the last. The final frame may be smaller than avctx-\/$>$frame\+\_\+size. \\
\hline
\mbox{\tt out}  & {\em got\+\_\+packet\+\_\+ptr} & This field is set to 1 by libavcodec if the output packet is non-\/empty, and to 0 if it is empty. If the function returns an error, the packet can be assumed to be invalid, and the value of got\+\_\+packet\+\_\+ptr is undefined and should not be used. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, negative error code on failure 
\end{DoxyReturn}
\index{Encoding@{Encoding}!avcodec\+\_\+encode\+\_\+subtitle@{avcodec\+\_\+encode\+\_\+subtitle}}
\index{avcodec\+\_\+encode\+\_\+subtitle@{avcodec\+\_\+encode\+\_\+subtitle}!Encoding@{Encoding}}
\subsubsection[{\texorpdfstring{avcodec\+\_\+encode\+\_\+subtitle(\+A\+V\+Codec\+Context $\ast$avctx, uint8\+\_\+t $\ast$buf, int buf\+\_\+size, const A\+V\+Subtitle $\ast$sub)}{avcodec_encode_subtitle(AVCodecContext *avctx, uint8_t *buf, int buf_size, const AVSubtitle *sub)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} avcodec\+\_\+encode\+\_\+subtitle (
\begin{DoxyParamCaption}
\item[{{\bf A\+V\+Codec\+Context} $\ast$}]{avctx, }
\item[{{\bf uint8\+\_\+t} $\ast$}]{buf, }
\item[{{\bf int}}]{buf\+\_\+size, }
\item[{{\bf const} {\bf A\+V\+Subtitle} $\ast$}]{sub}
\end{DoxyParamCaption}
)}\hypertarget{group__lavc__encoding_ga37be256d85d78f665df27ad6c8f1d65b}{}\label{group__lavc__encoding_ga37be256d85d78f665df27ad6c8f1d65b}
\index{Encoding@{Encoding}!avcodec\+\_\+encode\+\_\+video@{avcodec\+\_\+encode\+\_\+video}}
\index{avcodec\+\_\+encode\+\_\+video@{avcodec\+\_\+encode\+\_\+video}!Encoding@{Encoding}}
\subsubsection[{\texorpdfstring{avcodec\+\_\+encode\+\_\+video(\+A\+V\+Codec\+Context $\ast$avctx, uint8\+\_\+t $\ast$buf, int buf\+\_\+size, const A\+V\+Frame $\ast$pict)}{avcodec_encode_video(AVCodecContext *avctx, uint8_t *buf, int buf_size, const AVFrame *pict)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf attribute\+\_\+deprecated} {\bf int} avcodec\+\_\+encode\+\_\+video (
\begin{DoxyParamCaption}
\item[{{\bf A\+V\+Codec\+Context} $\ast$}]{avctx, }
\item[{{\bf uint8\+\_\+t} $\ast$}]{buf, }
\item[{{\bf int}}]{buf\+\_\+size, }
\item[{{\bf const} {\bf A\+V\+Frame} $\ast$}]{pict}
\end{DoxyParamCaption}
)}\hypertarget{group__lavc__encoding_ga22847c21918ee93a4d05f7ffb419f9a9}{}\label{group__lavc__encoding_ga22847c21918ee93a4d05f7ffb419f9a9}
\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000009}{Deprecated}]use \hyperlink{group__lavc__encoding_gaa2dc9e9ea2567ebb2801a08153c7306b}{avcodec\+\_\+encode\+\_\+video2()} instead.\end{DoxyRefDesc}


Encode a video frame from pict into buf. The input picture should be stored using a specific format, namely avctx.\+pix\+\_\+fmt.


\begin{DoxyParams}[1]{Parameters}
 & {\em avctx} & the codec context \\
\hline
\mbox{\tt out}  & {\em buf} & the output buffer for the bitstream of encoded frame \\
\hline
\mbox{\tt in}  & {\em buf\+\_\+size} & the size of the output buffer in bytes \\
\hline
\mbox{\tt in}  & {\em pict} & the input picture to encode \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
On error a negative value is returned, on success zero or the number of bytes used from the output buffer. 
\end{DoxyReturn}
\index{Encoding@{Encoding}!avcodec\+\_\+encode\+\_\+video2@{avcodec\+\_\+encode\+\_\+video2}}
\index{avcodec\+\_\+encode\+\_\+video2@{avcodec\+\_\+encode\+\_\+video2}!Encoding@{Encoding}}
\subsubsection[{\texorpdfstring{avcodec\+\_\+encode\+\_\+video2(\+A\+V\+Codec\+Context $\ast$avctx, A\+V\+Packet $\ast$avpkt, const A\+V\+Frame $\ast$frame, int $\ast$got\+\_\+packet\+\_\+ptr)}{avcodec_encode_video2(AVCodecContext *avctx, AVPacket *avpkt, const AVFrame *frame, int *got_packet_ptr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} avcodec\+\_\+encode\+\_\+video2 (
\begin{DoxyParamCaption}
\item[{{\bf A\+V\+Codec\+Context} $\ast$}]{avctx, }
\item[{{\bf A\+V\+Packet} $\ast$}]{avpkt, }
\item[{{\bf const} {\bf A\+V\+Frame} $\ast$}]{frame, }
\item[{{\bf int} $\ast$}]{got\+\_\+packet\+\_\+ptr}
\end{DoxyParamCaption}
)}\hypertarget{group__lavc__encoding_gaa2dc9e9ea2567ebb2801a08153c7306b}{}\label{group__lavc__encoding_gaa2dc9e9ea2567ebb2801a08153c7306b}
Encode a frame of video.

Takes input raw video data from frame and writes the next output packet, if available, to avpkt. The output packet does not necessarily contain data for the most recent frame, as encoders can delay and reorder input frames internally as needed.


\begin{DoxyParams}{Parameters}
{\em avctx} & codec context \\
\hline
{\em avpkt} & output \hyperlink{struct_a_v_packet}{A\+V\+Packet}. The user can supply an output buffer by setting avpkt-\/$>$data and avpkt-\/$>$size prior to calling the function, but if the size of the user-\/provided data is not large enough, encoding will fail. All other \hyperlink{struct_a_v_packet}{A\+V\+Packet} fields will be reset by the encoder using \hyperlink{group__lavc__packet_gac9cb9756175b96e7441575803757fb73}{av\+\_\+init\+\_\+packet()}. If avpkt-\/$>$data is N\+U\+LL, the encoder will allocate it. The encoder will set avpkt-\/$>$size to the size of the output packet. The returned data (if any) belongs to the caller, he is responsible for freeing it.\\
\hline
\end{DoxyParams}
If this function fails or produces no output, avpkt will be freed using \hyperlink{group__lavc__packet_gae65881462e78f98b268f34661d921ee0}{av\+\_\+free\+\_\+packet()} (i.\+e. avpkt-\/$>$destruct will be called to free the user supplied buffer). 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em frame} & \hyperlink{struct_a_v_frame}{A\+V\+Frame} containing the raw video data to be encoded. May be N\+U\+LL when flushing an encoder that has the C\+O\+D\+E\+C\+\_\+\+C\+A\+P\+\_\+\+D\+E\+L\+AY capability set. \\
\hline
\mbox{\tt out}  & {\em got\+\_\+packet\+\_\+ptr} & This field is set to 1 by libavcodec if the output packet is non-\/empty, and to 0 if it is empty. If the function returns an error, the packet can be assumed to be invalid, and the value of got\+\_\+packet\+\_\+ptr is undefined and should not be used. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, negative error code on failure 
\end{DoxyReturn}
\index{Encoding@{Encoding}!avcodec\+\_\+find\+\_\+encoder@{avcodec\+\_\+find\+\_\+encoder}}
\index{avcodec\+\_\+find\+\_\+encoder@{avcodec\+\_\+find\+\_\+encoder}!Encoding@{Encoding}}
\subsubsection[{\texorpdfstring{avcodec\+\_\+find\+\_\+encoder(enum A\+V\+Codec\+I\+D id)}{avcodec_find_encoder(enum AVCodecID id)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf A\+V\+Codec}$\ast$ avcodec\+\_\+find\+\_\+encoder (
\begin{DoxyParamCaption}
\item[{enum {\bf A\+V\+Codec\+ID}}]{id}
\end{DoxyParamCaption}
)}\hypertarget{group__lavc__encoding_ga9f820c481615c3a02d0407bac0bdbf25}{}\label{group__lavc__encoding_ga9f820c481615c3a02d0407bac0bdbf25}
Find a registered encoder with a matching codec ID.


\begin{DoxyParams}{Parameters}
{\em id} & A\+V\+Codec\+ID of the requested encoder \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An encoder if one was found, N\+U\+LL otherwise. 
\end{DoxyReturn}
\index{Encoding@{Encoding}!avcodec\+\_\+find\+\_\+encoder\+\_\+by\+\_\+name@{avcodec\+\_\+find\+\_\+encoder\+\_\+by\+\_\+name}}
\index{avcodec\+\_\+find\+\_\+encoder\+\_\+by\+\_\+name@{avcodec\+\_\+find\+\_\+encoder\+\_\+by\+\_\+name}!Encoding@{Encoding}}
\subsubsection[{\texorpdfstring{avcodec\+\_\+find\+\_\+encoder\+\_\+by\+\_\+name(const char $\ast$name)}{avcodec_find_encoder_by_name(const char *name)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf A\+V\+Codec}$\ast$ avcodec\+\_\+find\+\_\+encoder\+\_\+by\+\_\+name (
\begin{DoxyParamCaption}
\item[{{\bf const} char $\ast$}]{name}
\end{DoxyParamCaption}
)}\hypertarget{group__lavc__encoding_gaa614ffc38511c104bdff4a3afa086d37}{}\label{group__lavc__encoding_gaa614ffc38511c104bdff4a3afa086d37}
Find a registered encoder with the specified name.


\begin{DoxyParams}{Parameters}
{\em name} & name of the requested encoder \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An encoder if one was found, N\+U\+LL otherwise. 
\end{DoxyReturn}
