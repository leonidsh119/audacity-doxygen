\hypertarget{class_source_output_stream}{}\section{Source\+Output\+Stream Class Reference}
\label{class_source_output_stream}\index{Source\+Output\+Stream@{Source\+Output\+Stream}}


Helper class based on wx\+Output\+Stream used to get a png file in text format.  


Inheritance diagram for Source\+Output\+Stream\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_source_output_stream}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_source_output_stream_a50b63abf252028635e21ec023ea20be6}{Source\+Output\+Stream} ()
\item 
\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{class_source_output_stream_a5f00474aad7b930f29f3f8e42411a8a0}{Open\+File} (\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const} wx\+String \&Filename)
\begin{DoxyCompactList}\small\item\em Opens the file and also adds a standard comment at the start of it. \end{DoxyCompactList}\item 
virtual \hyperlink{class_source_output_stream_aab99721105b1c0ce232e161b06f9135d}{$\sim$\+Source\+Output\+Stream} ()
\begin{DoxyCompactList}\small\item\em Destructor. We close our text stream in here. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
size\+\_\+t \hyperlink{class_source_output_stream_a208288b1bf9d8a9e2c56828c71c4025a}{On\+Sys\+Write} (\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const} \hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void} $\ast$\hyperlink{structbuffer}{buffer}, size\+\_\+t bufsize) override
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
wx\+File \hyperlink{class_source_output_stream_afa31e7483fa3dd06edf134e8d7bffb68}{File}
\item 
\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{class_source_output_stream_afe4338afefc6d391288855eb03f82ee5}{n\+Bytes}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Helper class based on wx\+Output\+Stream used to get a png file in text format. 

Allows us to capture output of the Save .png and \textquotesingle{}pipe\textquotesingle{} it into our own output function which gives a series of numbers.

The trick used here is that wx\+Widgets can write a P\+NG image to a stream. By writing to a custom stream, we get to see each byte of data in turn, convert it to text, put in commas, and then write that out to our own text stream.

This class is currently used by \hyperlink{class_theme}{Theme} to pack its images into the image cache. Perhaps someday we will improve \hyperlink{class_flow_packer}{Flow\+Packer} and make it more flexible, and use it for toolbar and window layouts too. 

Definition at line 480 of file Theme.\+cpp.



\subsection{Constructor \& Destructor Documentation}
\index{Source\+Output\+Stream@{Source\+Output\+Stream}!Source\+Output\+Stream@{Source\+Output\+Stream}}
\index{Source\+Output\+Stream@{Source\+Output\+Stream}!Source\+Output\+Stream@{Source\+Output\+Stream}}
\subsubsection[{\texorpdfstring{Source\+Output\+Stream()}{SourceOutputStream()}}]{\setlength{\rightskip}{0pt plus 5cm}Source\+Output\+Stream\+::\+Source\+Output\+Stream (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_source_output_stream_a50b63abf252028635e21ec023ea20be6}{}\label{class_source_output_stream_a50b63abf252028635e21ec023ea20be6}


Definition at line 483 of file Theme.\+cpp.

\index{Source\+Output\+Stream@{Source\+Output\+Stream}!````~Source\+Output\+Stream@{$\sim$\+Source\+Output\+Stream}}
\index{````~Source\+Output\+Stream@{$\sim$\+Source\+Output\+Stream}!Source\+Output\+Stream@{Source\+Output\+Stream}}
\subsubsection[{\texorpdfstring{$\sim$\+Source\+Output\+Stream()}{~SourceOutputStream()}}]{\setlength{\rightskip}{0pt plus 5cm}Source\+Output\+Stream\+::$\sim$\+Source\+Output\+Stream (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_source_output_stream_aab99721105b1c0ce232e161b06f9135d}{}\label{class_source_output_stream_aab99721105b1c0ce232e161b06f9135d}


Destructor. We close our text stream in here. 



Definition at line 531 of file Theme.\+cpp.



\subsection{Member Function Documentation}
\index{Source\+Output\+Stream@{Source\+Output\+Stream}!On\+Sys\+Write@{On\+Sys\+Write}}
\index{On\+Sys\+Write@{On\+Sys\+Write}!Source\+Output\+Stream@{Source\+Output\+Stream}}
\subsubsection[{\texorpdfstring{On\+Sys\+Write(const void $\ast$buffer, size\+\_\+t bufsize) override}{OnSysWrite(const void *buffer, size_t bufsize) override}}]{\setlength{\rightskip}{0pt plus 5cm}size\+\_\+t Source\+Output\+Stream\+::\+On\+Sys\+Write (
\begin{DoxyParamCaption}
\item[{{\bf const} {\bf void} $\ast$}]{buffer, }
\item[{size\+\_\+t}]{bufsize}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}\hypertarget{class_source_output_stream_a208288b1bf9d8a9e2c56828c71c4025a}{}\label{class_source_output_stream_a208288b1bf9d8a9e2c56828c71c4025a}
This is the \textquotesingle{}callback\textquotesingle{} function called with each write of P\+NG data to the stream. This is where we conveet to text and add commas. 

Definition at line 512 of file Theme.\+cpp.

\index{Source\+Output\+Stream@{Source\+Output\+Stream}!Open\+File@{Open\+File}}
\index{Open\+File@{Open\+File}!Source\+Output\+Stream@{Source\+Output\+Stream}}
\subsubsection[{\texorpdfstring{Open\+File(const wx\+String \&\+Filename)}{OpenFile(const wxString &Filename)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} Source\+Output\+Stream\+::\+Open\+File (
\begin{DoxyParamCaption}
\item[{{\bf const} wx\+String \&}]{Filename}
\end{DoxyParamCaption}
)}\hypertarget{class_source_output_stream_a5f00474aad7b930f29f3f8e42411a8a0}{}\label{class_source_output_stream_a5f00474aad7b930f29f3f8e42411a8a0}


Opens the file and also adds a standard comment at the start of it. 



Definition at line 494 of file Theme.\+cpp.



\subsection{Member Data Documentation}
\index{Source\+Output\+Stream@{Source\+Output\+Stream}!File@{File}}
\index{File@{File}!Source\+Output\+Stream@{Source\+Output\+Stream}}
\subsubsection[{\texorpdfstring{File}{File}}]{\setlength{\rightskip}{0pt plus 5cm}wx\+File Source\+Output\+Stream\+::\+File\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_source_output_stream_afa31e7483fa3dd06edf134e8d7bffb68}{}\label{class_source_output_stream_afa31e7483fa3dd06edf134e8d7bffb68}


Definition at line 489 of file Theme.\+cpp.

\index{Source\+Output\+Stream@{Source\+Output\+Stream}!n\+Bytes@{n\+Bytes}}
\index{n\+Bytes@{n\+Bytes}!Source\+Output\+Stream@{Source\+Output\+Stream}}
\subsubsection[{\texorpdfstring{n\+Bytes}{nBytes}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} Source\+Output\+Stream\+::n\+Bytes\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_source_output_stream_afe4338afefc6d391288855eb03f82ee5}{}\label{class_source_output_stream_afe4338afefc6d391288855eb03f82ee5}


Definition at line 490 of file Theme.\+cpp.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+\_\+dev/\+Open\+U/\+Audacity/audacity/src/\hyperlink{_theme_8cpp}{Theme.\+cpp}\end{DoxyCompactItemize}
