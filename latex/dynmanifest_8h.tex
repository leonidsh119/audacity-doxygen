\hypertarget{dynmanifest_8h}{}\section{C\+:/\+\_\+dev/\+Open\+U/\+Audacity/audacity/lib-\/src/lv2/lv2/lv2/lv2plug.in/ns/ext/dynmanifest/dynmanifest.h File Reference}
\label{dynmanifest_8h}\index{C\+:/\+\_\+dev/\+Open\+U/\+Audacity/audacity/lib-\/src/lv2/lv2/lv2/lv2plug.\+in/ns/ext/dynmanifest/dynmanifest.\+h@{C\+:/\+\_\+dev/\+Open\+U/\+Audacity/audacity/lib-\/src/lv2/lv2/lv2/lv2plug.\+in/ns/ext/dynmanifest/dynmanifest.\+h}}
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include \char`\"{}lv2/lv2plug.\+in/ns/lv2core/lv2.\+h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{dynmanifest_8h_af467bb1f1ab970711a67040f66b8fb94}{L\+V2\+\_\+\+D\+Y\+N\+\_\+\+M\+A\+N\+I\+F\+E\+S\+T\+\_\+\+U\+RI}~\char`\"{}http\+://\hyperlink{latency_8c_a7d946209d777cb95fe30364b8d321207}{lv2plug.\+in}/\hyperlink{xmltok_8c_ab6aec1346fb6c7b2733f0f73c9536ad2}{ns}/ext/dynmanifest\char`\"{}
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void} $\ast$ \hyperlink{dynmanifest_8h_a4365dba8ea5db98d88316c6e2a0ceccb}{L\+V2\+\_\+\+Dyn\+\_\+\+Manifest\+\_\+\+Handle}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{dynmanifest_8h_ade9f4c9b596b34e3d32eb9ce1c3c199f}{lv2\+\_\+dyn\+\_\+manifest\+\_\+open} (\hyperlink{dynmanifest_8h_a4365dba8ea5db98d88316c6e2a0ceccb}{L\+V2\+\_\+\+Dyn\+\_\+\+Manifest\+\_\+\+Handle} $\ast$handle, \hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const} \hyperlink{lv2_8h_a78d13b607443404459db283371723234}{L\+V2\+\_\+\+Feature} $\ast$\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const} $\ast$features)
\item 
\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{dynmanifest_8h_a3b84b173613967abd21d62c1ad839e1f}{lv2\+\_\+dyn\+\_\+manifest\+\_\+get\+\_\+subjects} (\hyperlink{dynmanifest_8h_a4365dba8ea5db98d88316c6e2a0ceccb}{L\+V2\+\_\+\+Dyn\+\_\+\+Manifest\+\_\+\+Handle} handle, F\+I\+LE $\ast$fp)
\item 
\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{dynmanifest_8h_a60c4c40c6fcd8a576d6f9a93411ff563}{lv2\+\_\+dyn\+\_\+manifest\+\_\+get\+\_\+data} (\hyperlink{dynmanifest_8h_a4365dba8ea5db98d88316c6e2a0ceccb}{L\+V2\+\_\+\+Dyn\+\_\+\+Manifest\+\_\+\+Handle} handle, F\+I\+LE $\ast$fp, \hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$\hyperlink{lib_2expat_8h_a5a9fdd6c2606370ad12f24c078ac6585}{uri})
\item 
\hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void} \hyperlink{dynmanifest_8h_a9bce355889aca8ca4254b5b7434a766d}{lv2\+\_\+dyn\+\_\+manifest\+\_\+close} (\hyperlink{dynmanifest_8h_a4365dba8ea5db98d88316c6e2a0ceccb}{L\+V2\+\_\+\+Dyn\+\_\+\+Manifest\+\_\+\+Handle} handle)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
C header for the L\+V2 Dynamic Manifest extension \href{http://lv2plug.in/ns/ext/dynmanifest}{\tt http\+://lv2plug.\+in/ns/ext/dynmanifest}. Revision\+: 1.\+2 

\subsection{Macro Definition Documentation}
\index{dynmanifest.\+h@{dynmanifest.\+h}!L\+V2\+\_\+\+D\+Y\+N\+\_\+\+M\+A\+N\+I\+F\+E\+S\+T\+\_\+\+U\+RI@{L\+V2\+\_\+\+D\+Y\+N\+\_\+\+M\+A\+N\+I\+F\+E\+S\+T\+\_\+\+U\+RI}}
\index{L\+V2\+\_\+\+D\+Y\+N\+\_\+\+M\+A\+N\+I\+F\+E\+S\+T\+\_\+\+U\+RI@{L\+V2\+\_\+\+D\+Y\+N\+\_\+\+M\+A\+N\+I\+F\+E\+S\+T\+\_\+\+U\+RI}!dynmanifest.\+h@{dynmanifest.\+h}}
\subsubsection[{\texorpdfstring{L\+V2\+\_\+\+D\+Y\+N\+\_\+\+M\+A\+N\+I\+F\+E\+S\+T\+\_\+\+U\+RI}{LV2_DYN_MANIFEST_URI}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+V2\+\_\+\+D\+Y\+N\+\_\+\+M\+A\+N\+I\+F\+E\+S\+T\+\_\+\+U\+RI~\char`\"{}http\+://{\bf lv2plug.\+in}/{\bf ns}/ext/dynmanifest\char`\"{}}\hypertarget{dynmanifest_8h_af467bb1f1ab970711a67040f66b8fb94}{}\label{dynmanifest_8h_af467bb1f1ab970711a67040f66b8fb94}


Definition at line 32 of file dynmanifest.\+h.



\subsection{Typedef Documentation}
\index{dynmanifest.\+h@{dynmanifest.\+h}!L\+V2\+\_\+\+Dyn\+\_\+\+Manifest\+\_\+\+Handle@{L\+V2\+\_\+\+Dyn\+\_\+\+Manifest\+\_\+\+Handle}}
\index{L\+V2\+\_\+\+Dyn\+\_\+\+Manifest\+\_\+\+Handle@{L\+V2\+\_\+\+Dyn\+\_\+\+Manifest\+\_\+\+Handle}!dynmanifest.\+h@{dynmanifest.\+h}}
\subsubsection[{\texorpdfstring{L\+V2\+\_\+\+Dyn\+\_\+\+Manifest\+\_\+\+Handle}{LV2_Dyn_Manifest_Handle}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf void}$\ast$ {\bf L\+V2\+\_\+\+Dyn\+\_\+\+Manifest\+\_\+\+Handle}}\hypertarget{dynmanifest_8h_a4365dba8ea5db98d88316c6e2a0ceccb}{}\label{dynmanifest_8h_a4365dba8ea5db98d88316c6e2a0ceccb}
Dynamic manifest generator handle.

This handle indicates a particular status of a dynamic manifest generator. The host M\+U\+ST N\+OT attempt to interpret it and, unlikely L\+V2\+\_\+\+Handle, it is N\+OT even valid to compare this to N\+U\+LL. The dynamic manifest generator M\+AY use it to reference internal data. 

Definition at line 46 of file dynmanifest.\+h.



\subsection{Function Documentation}
\index{dynmanifest.\+h@{dynmanifest.\+h}!lv2\+\_\+dyn\+\_\+manifest\+\_\+close@{lv2\+\_\+dyn\+\_\+manifest\+\_\+close}}
\index{lv2\+\_\+dyn\+\_\+manifest\+\_\+close@{lv2\+\_\+dyn\+\_\+manifest\+\_\+close}!dynmanifest.\+h@{dynmanifest.\+h}}
\subsubsection[{\texorpdfstring{lv2\+\_\+dyn\+\_\+manifest\+\_\+close(\+L\+V2\+\_\+\+Dyn\+\_\+\+Manifest\+\_\+\+Handle handle)}{lv2_dyn_manifest_close(LV2_Dyn_Manifest_Handle handle)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} lv2\+\_\+dyn\+\_\+manifest\+\_\+close (
\begin{DoxyParamCaption}
\item[{{\bf L\+V2\+\_\+\+Dyn\+\_\+\+Manifest\+\_\+\+Handle}}]{handle}
\end{DoxyParamCaption}
)}\hypertarget{dynmanifest_8h_a9bce355889aca8ca4254b5b7434a766d}{}\label{dynmanifest_8h_a9bce355889aca8ca4254b5b7434a766d}
\hyperlink{class_function}{Function} that ends the operations on the dynamic manifest generator.

This function S\+H\+O\+U\+LD be used by the dynamic manifest generator to perform cleanup operations, etc.

Once this function is called, referring to handle will cause undefined behavior.


\begin{DoxyParams}{Parameters}
{\em handle} & Dynamic manifest generator handle. \\
\hline
\end{DoxyParams}
\index{dynmanifest.\+h@{dynmanifest.\+h}!lv2\+\_\+dyn\+\_\+manifest\+\_\+get\+\_\+data@{lv2\+\_\+dyn\+\_\+manifest\+\_\+get\+\_\+data}}
\index{lv2\+\_\+dyn\+\_\+manifest\+\_\+get\+\_\+data@{lv2\+\_\+dyn\+\_\+manifest\+\_\+get\+\_\+data}!dynmanifest.\+h@{dynmanifest.\+h}}
\subsubsection[{\texorpdfstring{lv2\+\_\+dyn\+\_\+manifest\+\_\+get\+\_\+data(\+L\+V2\+\_\+\+Dyn\+\_\+\+Manifest\+\_\+\+Handle handle, F\+I\+L\+E $\ast$fp, const char $\ast$uri)}{lv2_dyn_manifest_get_data(LV2_Dyn_Manifest_Handle handle, FILE *fp, const char *uri)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} lv2\+\_\+dyn\+\_\+manifest\+\_\+get\+\_\+data (
\begin{DoxyParamCaption}
\item[{{\bf L\+V2\+\_\+\+Dyn\+\_\+\+Manifest\+\_\+\+Handle}}]{handle, }
\item[{F\+I\+LE $\ast$}]{fp, }
\item[{{\bf const} char $\ast$}]{uri}
\end{DoxyParamCaption}
)}\hypertarget{dynmanifest_8h_a60c4c40c6fcd8a576d6f9a93411ff563}{}\label{dynmanifest_8h_a60c4c40c6fcd8a576d6f9a93411ff563}
\hyperlink{class_function}{Function} that fetches data related to a specific U\+RI.

The dynamic manifest generator has to fill the resource with data related to object represented by the given U\+RI. For example, if the library exposes a regular L\+V2 plugin whose U\+RI, as retrieved by the host using \hyperlink{dynmanifest_8h_a3b84b173613967abd21d62c1ad839e1f}{lv2\+\_\+dyn\+\_\+manifest\+\_\+get\+\_\+subjects()} is \href{http://www.example.com/plugin/uri,}{\tt http\+://www.\+example.\+com/plugin/uri,} it should output something like\+:


\begin{DoxyPre}
\href{http://www.example.com/plugin/uri}{\tt http://www.example.com/plugin/uri}
    a lv2:Plugin ;
    doap:name "My Plugin" ;
    lv2:binary <mylib.so> ;
    etc:etc "..." .
\end{DoxyPre}



\begin{DoxyParams}{Parameters}
{\em handle} & Dynamic manifest generator handle.\\
\hline
{\em fp} & F\+I\+LE $\ast$ identifying the resource the host has to set up for the dynamic manifest generator. The host M\+U\+ST pass a writable resource to this function, and the dynamic manifest generator M\+U\+ST O\+N\+LY perform write operations on it at the current position of the stream (e.\+g. using only fprintf(), fwrite() and similar).\\
\hline
{\em uri} & U\+RI to get data about (in the \char`\"{}plain\char`\"{} form, i.\+e., absolute U\+RI without Turtle prefixes).\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, otherwise a non-\/zero error code. 
\end{DoxyReturn}
\index{dynmanifest.\+h@{dynmanifest.\+h}!lv2\+\_\+dyn\+\_\+manifest\+\_\+get\+\_\+subjects@{lv2\+\_\+dyn\+\_\+manifest\+\_\+get\+\_\+subjects}}
\index{lv2\+\_\+dyn\+\_\+manifest\+\_\+get\+\_\+subjects@{lv2\+\_\+dyn\+\_\+manifest\+\_\+get\+\_\+subjects}!dynmanifest.\+h@{dynmanifest.\+h}}
\subsubsection[{\texorpdfstring{lv2\+\_\+dyn\+\_\+manifest\+\_\+get\+\_\+subjects(\+L\+V2\+\_\+\+Dyn\+\_\+\+Manifest\+\_\+\+Handle handle, F\+I\+L\+E $\ast$fp)}{lv2_dyn_manifest_get_subjects(LV2_Dyn_Manifest_Handle handle, FILE *fp)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} lv2\+\_\+dyn\+\_\+manifest\+\_\+get\+\_\+subjects (
\begin{DoxyParamCaption}
\item[{{\bf L\+V2\+\_\+\+Dyn\+\_\+\+Manifest\+\_\+\+Handle}}]{handle, }
\item[{F\+I\+LE $\ast$}]{fp}
\end{DoxyParamCaption}
)}\hypertarget{dynmanifest_8h_a3b84b173613967abd21d62c1ad839e1f}{}\label{dynmanifest_8h_a3b84b173613967abd21d62c1ad839e1f}
Fetch a \char`\"{}list\char`\"{} of subject \hyperlink{struct_u_r_is}{U\+R\+Is} described in the dynamic manifest.

The dynamic manifest generator has to fill the resource only with the needed triples to make the host aware of the \char`\"{}objects\char`\"{} it wants to expose. For example, if the plugin library exposes a regular L\+V2 plugin, it should output only a triple like the following\+:

\href{http://www.example.com/plugin/uri}{\tt http\+://www.\+example.\+com/plugin/uri} a lv2\+:Plugin .

The objects that are elegible for exposure are those that would need to be represented by a subject node in a static manifest.


\begin{DoxyParams}{Parameters}
{\em handle} & Dynamic manifest generator handle.\\
\hline
{\em fp} & F\+I\+LE $\ast$ identifying the resource the host has to set up for the dynamic manifest generator. The host M\+U\+ST pass a writable, empty resource to this function, and the dynamic manifest generator M\+U\+ST O\+N\+LY perform write operations on it at the end of the stream (e.\+g., using only fprintf(), fwrite() and similar).\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, otherwise a non-\/zero error code. 
\end{DoxyReturn}
\index{dynmanifest.\+h@{dynmanifest.\+h}!lv2\+\_\+dyn\+\_\+manifest\+\_\+open@{lv2\+\_\+dyn\+\_\+manifest\+\_\+open}}
\index{lv2\+\_\+dyn\+\_\+manifest\+\_\+open@{lv2\+\_\+dyn\+\_\+manifest\+\_\+open}!dynmanifest.\+h@{dynmanifest.\+h}}
\subsubsection[{\texorpdfstring{lv2\+\_\+dyn\+\_\+manifest\+\_\+open(\+L\+V2\+\_\+\+Dyn\+\_\+\+Manifest\+\_\+\+Handle $\ast$handle, const L\+V2\+\_\+\+Feature $\ast$const $\ast$features)}{lv2_dyn_manifest_open(LV2_Dyn_Manifest_Handle *handle, const LV2_Feature *const *features)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} lv2\+\_\+dyn\+\_\+manifest\+\_\+open (
\begin{DoxyParamCaption}
\item[{{\bf L\+V2\+\_\+\+Dyn\+\_\+\+Manifest\+\_\+\+Handle} $\ast$}]{handle, }
\item[{{\bf const} {\bf L\+V2\+\_\+\+Feature} $\ast${\bf const} $\ast$}]{features}
\end{DoxyParamCaption}
)}\hypertarget{dynmanifest_8h_ade9f4c9b596b34e3d32eb9ce1c3c199f}{}\label{dynmanifest_8h_ade9f4c9b596b34e3d32eb9ce1c3c199f}
Generate the dynamic manifest.


\begin{DoxyParams}{Parameters}
{\em handle} & Pointer to an uninitialized dynamic manifest generator handle.\\
\hline
{\em features} & N\+U\+LL terminated array of L\+V2\+\_\+\+Feature structs which represent the features the host supports. The dynamic manifest generator may refuse to (re)generate the dynamic manifest if required features are not found here (however hosts S\+H\+O\+U\+LD N\+OT use this as a discovery mechanism, instead of reading the static manifest file). This array must always exist; if a host has no features, it M\+U\+ST pass a single element array containing N\+U\+LL.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, otherwise a non-\/zero error code. The host S\+H\+O\+U\+LD evaluate the result of the operation by examining the returned value and M\+U\+ST N\+OT try to interpret the value of handle. 
\end{DoxyReturn}
