\hypertarget{sndwrite_8c}{}\section{C\+:/\+\_\+dev/\+Open\+U/\+Audacity/audacity/lib-\/src/libnyquist/nyquist/nyqsrc/sndwrite.c File Reference}
\label{sndwrite_8c}\index{C\+:/\+\_\+dev/\+Open\+U/\+Audacity/audacity/lib-\/src/libnyquist/nyquist/nyqsrc/sndwrite.\+c@{C\+:/\+\_\+dev/\+Open\+U/\+Audacity/audacity/lib-\/src/libnyquist/nyquist/nyqsrc/sndwrite.\+c}}
{\ttfamily \#include \char`\"{}stdlib.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}switches.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}string.\+h\char`\"{}}\\*
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include \char`\"{}xlisp.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}sound.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}cext.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}userio.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}falloc.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}sndwrite.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}extern.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}snd.\+h\char`\"{}}\\*
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structsound__state__node}{sound\+\_\+state\+\_\+node}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{sndwrite_8c_af316c33cc298530f245e8b55330e86b5}{D}~\hyperlink{sndfile__save_8m_a55944e1fa1bcc1bfc6185bc610b0a930}{if} (0)
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{structsound__state__node}{sound\+\_\+state\+\_\+node} $\ast$ \hyperlink{sndwrite_8c_a6ccc7f8cdea991502bfff0d5dba18ed2}{sound\+\_\+state\+\_\+type}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{sound_8h_a3a9d1d4a1c153390d2401a6e9f71b32c}{sample\+\_\+type} \hyperlink{sndwrite_8c_a19b1f865b501c2eef00c17e513827d5c}{sound\+\_\+save\+\_\+sound} (\hyperlink{xldmem_8h_a9a9ec6a5fbca2b40ed8d19faa799be8c}{L\+V\+AL} s\+\_\+as\+\_\+lval, long n, snd\+\_\+type snd, char $\ast$\hyperlink{xlstr_8c_a781718f5b53a876fe91c424c4607fa8f}{buf}, long $\ast$ntotal, snd\+\_\+type player)
\item 
\hyperlink{sound_8h_a3a9d1d4a1c153390d2401a6e9f71b32c}{sample\+\_\+type} \hyperlink{sndwrite_8c_a1bd77b34e50ac487e5adb1a1ec9b4e76}{sound\+\_\+save\+\_\+array} (\hyperlink{xldmem_8h_a9a9ec6a5fbca2b40ed8d19faa799be8c}{L\+V\+AL} \hyperlink{lib-src_2libscorealign_2main_8cpp_a1aa9083626d69f94349750d974f0359a}{sa}, long n, snd\+\_\+type snd, char $\ast$\hyperlink{xlstr_8c_a781718f5b53a876fe91c424c4607fa8f}{buf}, long $\ast$ntotal, snd\+\_\+type player)
\item 
unsigned char \hyperlink{sndwrite_8c_a9e61581346bcec9108585757f37c18ce}{st\+\_\+linear\+\_\+to\+\_\+ulaw} (\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} sample)
\item 
\hyperlink{xldmem_8h_a9a9ec6a5fbca2b40ed8d19faa799be8c}{L\+V\+AL} \hyperlink{sndwrite_8c_a184e5230b8fe070089d0b3284ba59375}{prepare\+\_\+audio} (\hyperlink{xldmem_8h_a9a9ec6a5fbca2b40ed8d19faa799be8c}{L\+V\+AL} play, snd\+\_\+type snd, snd\+\_\+type player)
\item 
\hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void} \hyperlink{sndwrite_8c_ae1104ce588124987dffbed9adaa771b9}{finish\+\_\+audio} (snd\+\_\+type player)
\item 
\hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void} \hyperlink{sndwrite_8c_a7555a02473da83a1a3eb3e607fb49d62}{write\+\_\+to\+\_\+audio} (snd\+\_\+type player, \hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void} $\ast$\hyperlink{xlstr_8c_a781718f5b53a876fe91c424c4607fa8f}{buf}, long buflen)
\item 
double \hyperlink{sndwrite_8c_a0edccaae779e9ddce260baaa53d57e3c}{sound\+\_\+save} (\hyperlink{xldmem_8h_a9a9ec6a5fbca2b40ed8d19faa799be8c}{L\+V\+AL} snd\+\_\+expr, long n, unsigned char $\ast$\hyperlink{test__portburn_8cpp_a7efa5e9c7494c7d4586359300221aa5d}{filename}, long \hyperlink{_export_p_c_m_8cpp_a317afff57d87a89158c2b038d37b2b08}{format}, long mode, long \hyperlink{metrics_8c_a1eb8fc809d37cc6176f7f27374b063d0}{bits}, long swap, double $\ast$sr, long $\ast$nchans, double $\ast$duration, \hyperlink{xldmem_8h_a9a9ec6a5fbca2b40ed8d19faa799be8c}{L\+V\+AL} play)
\item 
double \hyperlink{sndwrite_8c_a6a29f6473a7c601343d65499f640acc9}{sound\+\_\+overwrite} (\hyperlink{xldmem_8h_a9a9ec6a5fbca2b40ed8d19faa799be8c}{L\+V\+AL} snd\+\_\+expr, long n, unsigned char $\ast$\hyperlink{test__portburn_8cpp_a7efa5e9c7494c7d4586359300221aa5d}{filename}, long byte\+\_\+offset, long header, long mode, long \hyperlink{metrics_8c_a1eb8fc809d37cc6176f7f27374b063d0}{bits}, long swap, double sr, long nchans, double $\ast$duration)
\item 
cvtfn\+\_\+type \hyperlink{sndwrite_8c_a2652a4f5bb8899178d166cd10fbad589}{find\+\_\+cvt\+\_\+to\+\_\+fn} (snd\+\_\+type snd, char $\ast$\hyperlink{xlstr_8c_a781718f5b53a876fe91c424c4607fa8f}{buf})
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{sndwrite_8c_aa60078d7b8f73af5296aaf79e3c5044c}{sndwrite\+\_\+trace} = 0
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{sndwrite.\+c@{sndwrite.\+c}!D@{D}}
\index{D@{D}!sndwrite.\+c@{sndwrite.\+c}}
\subsubsection[{\texorpdfstring{D}{D}}]{\setlength{\rightskip}{0pt plus 5cm}\#define D~{\bf if} (0)}\hypertarget{sndwrite_8c_af316c33cc298530f245e8b55330e86b5}{}\label{sndwrite_8c_af316c33cc298530f245e8b55330e86b5}


Definition at line 43 of file sndwrite.\+c.



\subsection{Typedef Documentation}
\index{sndwrite.\+c@{sndwrite.\+c}!sound\+\_\+state\+\_\+type@{sound\+\_\+state\+\_\+type}}
\index{sound\+\_\+state\+\_\+type@{sound\+\_\+state\+\_\+type}!sndwrite.\+c@{sndwrite.\+c}}
\subsubsection[{\texorpdfstring{sound\+\_\+state\+\_\+type}{sound_state_type}}]{\setlength{\rightskip}{0pt plus 5cm}typedef  struct {\bf sound\+\_\+state\+\_\+node} $\ast$ {\bf sound\+\_\+state\+\_\+type}}\hypertarget{sndwrite_8c_a6ccc7f8cdea991502bfff0d5dba18ed2}{}\label{sndwrite_8c_a6ccc7f8cdea991502bfff0d5dba18ed2}


\subsection{Function Documentation}
\index{sndwrite.\+c@{sndwrite.\+c}!find\+\_\+cvt\+\_\+to\+\_\+fn@{find\+\_\+cvt\+\_\+to\+\_\+fn}}
\index{find\+\_\+cvt\+\_\+to\+\_\+fn@{find\+\_\+cvt\+\_\+to\+\_\+fn}!sndwrite.\+c@{sndwrite.\+c}}
\subsubsection[{\texorpdfstring{find\+\_\+cvt\+\_\+to\+\_\+fn(snd\+\_\+type snd, char $\ast$buf)}{find_cvt_to_fn(snd_type snd, char *buf)}}]{\setlength{\rightskip}{0pt plus 5cm}cvtfn\+\_\+type find\+\_\+cvt\+\_\+to\+\_\+fn (
\begin{DoxyParamCaption}
\item[{snd\+\_\+type}]{snd, }
\item[{char $\ast$}]{buf}
\end{DoxyParamCaption}
)}\hypertarget{sndwrite_8c_a2652a4f5bb8899178d166cd10fbad589}{}\label{sndwrite_8c_a2652a4f5bb8899178d166cd10fbad589}


Definition at line 353 of file sndwrite.\+c.

\index{sndwrite.\+c@{sndwrite.\+c}!finish\+\_\+audio@{finish\+\_\+audio}}
\index{finish\+\_\+audio@{finish\+\_\+audio}!sndwrite.\+c@{sndwrite.\+c}}
\subsubsection[{\texorpdfstring{finish\+\_\+audio(snd\+\_\+type player)}{finish_audio(snd_type player)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} finish\+\_\+audio (
\begin{DoxyParamCaption}
\item[{snd\+\_\+type}]{player}
\end{DoxyParamCaption}
)}\hypertarget{sndwrite_8c_ae1104ce588124987dffbed9adaa771b9}{}\label{sndwrite_8c_ae1104ce588124987dffbed9adaa771b9}


Definition at line 100 of file sndwrite.\+c.

\index{sndwrite.\+c@{sndwrite.\+c}!prepare\+\_\+audio@{prepare\+\_\+audio}}
\index{prepare\+\_\+audio@{prepare\+\_\+audio}!sndwrite.\+c@{sndwrite.\+c}}
\subsubsection[{\texorpdfstring{prepare\+\_\+audio(\+L\+V\+A\+L play, snd\+\_\+type snd, snd\+\_\+type player)}{prepare_audio(LVAL play, snd_type snd, snd_type player)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf L\+V\+AL} prepare\+\_\+audio (
\begin{DoxyParamCaption}
\item[{{\bf L\+V\+AL}}]{play, }
\item[{snd\+\_\+type}]{snd, }
\item[{snd\+\_\+type}]{player}
\end{DoxyParamCaption}
)}\hypertarget{sndwrite_8c_a184e5230b8fe070089d0b3284ba59375}{}\label{sndwrite_8c_a184e5230b8fe070089d0b3284ba59375}


Definition at line 65 of file sndwrite.\+c.

\index{sndwrite.\+c@{sndwrite.\+c}!sound\+\_\+overwrite@{sound\+\_\+overwrite}}
\index{sound\+\_\+overwrite@{sound\+\_\+overwrite}!sndwrite.\+c@{sndwrite.\+c}}
\subsubsection[{\texorpdfstring{sound\+\_\+overwrite(\+L\+V\+A\+L snd\+\_\+expr, long n, unsigned char $\ast$filename, long byte\+\_\+offset, long header, long mode, long bits, long swap, double sr, long nchans, double $\ast$duration)}{sound_overwrite(LVAL snd_expr, long n, unsigned char *filename, long byte_offset, long header, long mode, long bits, long swap, double sr, long nchans, double *duration)}}]{\setlength{\rightskip}{0pt plus 5cm}double sound\+\_\+overwrite (
\begin{DoxyParamCaption}
\item[{{\bf L\+V\+AL}}]{snd\+\_\+expr, }
\item[{long}]{n, }
\item[{unsigned char $\ast$}]{filename, }
\item[{long}]{byte\+\_\+offset, }
\item[{long}]{header, }
\item[{long}]{mode, }
\item[{long}]{bits, }
\item[{long}]{swap, }
\item[{double}]{sr, }
\item[{long}]{nchans, }
\item[{double $\ast$}]{duration}
\end{DoxyParamCaption}
)}\hypertarget{sndwrite_8c_a6a29f6473a7c601343d65499f640acc9}{}\label{sndwrite_8c_a6a29f6473a7c601343d65499f640acc9}


Definition at line 229 of file sndwrite.\+c.

\index{sndwrite.\+c@{sndwrite.\+c}!sound\+\_\+save@{sound\+\_\+save}}
\index{sound\+\_\+save@{sound\+\_\+save}!sndwrite.\+c@{sndwrite.\+c}}
\subsubsection[{\texorpdfstring{sound\+\_\+save(\+L\+V\+A\+L snd\+\_\+expr, long n, unsigned char $\ast$filename, long format, long mode, long bits, long swap, double $\ast$sr, long $\ast$nchans, double $\ast$duration, L\+V\+A\+L play)}{sound_save(LVAL snd_expr, long n, unsigned char *filename, long format, long mode, long bits, long swap, double *sr, long *nchans, double *duration, LVAL play)}}]{\setlength{\rightskip}{0pt plus 5cm}double sound\+\_\+save (
\begin{DoxyParamCaption}
\item[{{\bf L\+V\+AL}}]{snd\+\_\+expr, }
\item[{long}]{n, }
\item[{unsigned char $\ast$}]{filename, }
\item[{long}]{format, }
\item[{long}]{mode, }
\item[{long}]{bits, }
\item[{long}]{swap, }
\item[{double $\ast$}]{sr, }
\item[{long $\ast$}]{nchans, }
\item[{double $\ast$}]{duration, }
\item[{{\bf L\+V\+AL}}]{play}
\end{DoxyParamCaption}
)}\hypertarget{sndwrite_8c_a0edccaae779e9ddce260baaa53d57e3c}{}\label{sndwrite_8c_a0edccaae779e9ddce260baaa53d57e3c}


Definition at line 132 of file sndwrite.\+c.

\index{sndwrite.\+c@{sndwrite.\+c}!sound\+\_\+save\+\_\+array@{sound\+\_\+save\+\_\+array}}
\index{sound\+\_\+save\+\_\+array@{sound\+\_\+save\+\_\+array}!sndwrite.\+c@{sndwrite.\+c}}
\subsubsection[{\texorpdfstring{sound\+\_\+save\+\_\+array(\+L\+V\+A\+L sa, long n, snd\+\_\+type snd, char $\ast$buf, long $\ast$ntotal, snd\+\_\+type player)}{sound_save_array(LVAL sa, long n, snd_type snd, char *buf, long *ntotal, snd_type player)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf sample\+\_\+type} sound\+\_\+save\+\_\+array (
\begin{DoxyParamCaption}
\item[{{\bf L\+V\+AL}}]{sa, }
\item[{long}]{n, }
\item[{snd\+\_\+type}]{snd, }
\item[{char $\ast$}]{buf, }
\item[{long $\ast$}]{ntotal, }
\item[{snd\+\_\+type}]{player}
\end{DoxyParamCaption}
)}\hypertarget{sndwrite_8c_a1bd77b34e50ac487e5adb1a1ec9b4e76}{}\label{sndwrite_8c_a1bd77b34e50ac487e5adb1a1ec9b4e76}


Definition at line 468 of file sndwrite.\+c.

\index{sndwrite.\+c@{sndwrite.\+c}!sound\+\_\+save\+\_\+sound@{sound\+\_\+save\+\_\+sound}}
\index{sound\+\_\+save\+\_\+sound@{sound\+\_\+save\+\_\+sound}!sndwrite.\+c@{sndwrite.\+c}}
\subsubsection[{\texorpdfstring{sound\+\_\+save\+\_\+sound(\+L\+V\+A\+L s\+\_\+as\+\_\+lval, long n, snd\+\_\+type snd, char $\ast$buf, long $\ast$ntotal, snd\+\_\+type player)}{sound_save_sound(LVAL s_as_lval, long n, snd_type snd, char *buf, long *ntotal, snd_type player)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf sample\+\_\+type} sound\+\_\+save\+\_\+sound (
\begin{DoxyParamCaption}
\item[{{\bf L\+V\+AL}}]{s\+\_\+as\+\_\+lval, }
\item[{long}]{n, }
\item[{snd\+\_\+type}]{snd, }
\item[{char $\ast$}]{buf, }
\item[{long $\ast$}]{ntotal, }
\item[{snd\+\_\+type}]{player}
\end{DoxyParamCaption}
)}\hypertarget{sndwrite_8c_a19b1f865b501c2eef00c17e513827d5c}{}\label{sndwrite_8c_a19b1f865b501c2eef00c17e513827d5c}


Definition at line 375 of file sndwrite.\+c.

\index{sndwrite.\+c@{sndwrite.\+c}!st\+\_\+linear\+\_\+to\+\_\+ulaw@{st\+\_\+linear\+\_\+to\+\_\+ulaw}}
\index{st\+\_\+linear\+\_\+to\+\_\+ulaw@{st\+\_\+linear\+\_\+to\+\_\+ulaw}!sndwrite.\+c@{sndwrite.\+c}}
\subsubsection[{\texorpdfstring{st\+\_\+linear\+\_\+to\+\_\+ulaw(int sample)}{st_linear_to_ulaw(int sample)}}]{\setlength{\rightskip}{0pt plus 5cm}unsigned char st\+\_\+linear\+\_\+to\+\_\+ulaw (
\begin{DoxyParamCaption}
\item[{{\bf int}}]{sample}
\end{DoxyParamCaption}
)}\hypertarget{sndwrite_8c_a9e61581346bcec9108585757f37c18ce}{}\label{sndwrite_8c_a9e61581346bcec9108585757f37c18ce}
\index{sndwrite.\+c@{sndwrite.\+c}!write\+\_\+to\+\_\+audio@{write\+\_\+to\+\_\+audio}}
\index{write\+\_\+to\+\_\+audio@{write\+\_\+to\+\_\+audio}!sndwrite.\+c@{sndwrite.\+c}}
\subsubsection[{\texorpdfstring{write\+\_\+to\+\_\+audio(snd\+\_\+type player, void $\ast$buf, long buflen)}{write_to_audio(snd_type player, void *buf, long buflen)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} write\+\_\+to\+\_\+audio (
\begin{DoxyParamCaption}
\item[{snd\+\_\+type}]{player, }
\item[{{\bf void} $\ast$}]{buf, }
\item[{long}]{buflen}
\end{DoxyParamCaption}
)}\hypertarget{sndwrite_8c_a7555a02473da83a1a3eb3e607fb49d62}{}\label{sndwrite_8c_a7555a02473da83a1a3eb3e607fb49d62}


Definition at line 115 of file sndwrite.\+c.



\subsection{Variable Documentation}
\index{sndwrite.\+c@{sndwrite.\+c}!sndwrite\+\_\+trace@{sndwrite\+\_\+trace}}
\index{sndwrite\+\_\+trace@{sndwrite\+\_\+trace}!sndwrite.\+c@{sndwrite.\+c}}
\subsubsection[{\texorpdfstring{sndwrite\+\_\+trace}{sndwrite_trace}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} sndwrite\+\_\+trace = 0}\hypertarget{sndwrite_8c_aa60078d7b8f73af5296aaf79e3c5044c}{}\label{sndwrite_8c_aa60078d7b8f73af5296aaf79e3c5044c}


Definition at line 45 of file sndwrite.\+c.

