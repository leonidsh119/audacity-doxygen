\hypertarget{opencl_8h}{}\section{C\+:/\+\_\+dev/\+Open\+U/\+Audacity/audacity/lib-\/src/ffmpeg/libavutil/opencl.h File Reference}
\label{opencl_8h}\index{C\+:/\+\_\+dev/\+Open\+U/\+Audacity/audacity/lib-\/src/ffmpeg/libavutil/opencl.\+h@{C\+:/\+\_\+dev/\+Open\+U/\+Audacity/audacity/lib-\/src/ffmpeg/libavutil/opencl.\+h}}
{\ttfamily \#include \char`\"{}config.\+h\char`\"{}}\\*
{\ttfamily \#include $<$Open\+C\+L/cl.\+h$>$}\\*
{\ttfamily \#include \char`\"{}dict.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}libavutil/version.\+h\char`\"{}}\\*
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_a_v_open_c_l_device_node}{A\+V\+Open\+C\+L\+Device\+Node}
\item 
struct \hyperlink{struct_a_v_open_c_l_platform_node}{A\+V\+Open\+C\+L\+Platform\+Node}
\item 
struct \hyperlink{struct_a_v_open_c_l_device_list}{A\+V\+Open\+C\+L\+Device\+List}
\item 
struct \hyperlink{struct_a_v_open_c_l_external_env}{A\+V\+Open\+C\+L\+External\+Env}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{opencl_8h_a626911904c553a3a1e93c2e8c6a4563b}{A\+V\+\_\+\+O\+P\+E\+N\+C\+L\+\_\+\+K\+E\+R\+N\+EL}(...)~\# \+\_\+\+\_\+\+V\+A\+\_\+\+A\+R\+G\+S\+\_\+\+\_\+
\item 
\#define \hyperlink{opencl_8h_a294b3f236dfa8e658b946f579e727b40}{A\+V\+\_\+\+O\+P\+E\+N\+C\+L\+\_\+\+M\+A\+X\+\_\+\+K\+E\+R\+N\+E\+L\+\_\+\+N\+A\+M\+E\+\_\+\+S\+I\+ZE}~150
\item 
\#define \hyperlink{opencl_8h_a01979f9f7a5866c4e8e3019d828eb562}{A\+V\+\_\+\+O\+P\+E\+N\+C\+L\+\_\+\+M\+A\+X\+\_\+\+D\+E\+V\+I\+C\+E\+\_\+\+N\+A\+M\+E\+\_\+\+S\+I\+ZE}~100
\item 
\#define \hyperlink{opencl_8h_abbbeb8cea0f94a149419ef809abc41a9}{A\+V\+\_\+\+O\+P\+E\+N\+C\+L\+\_\+\+M\+A\+X\+\_\+\+P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+N\+A\+M\+E\+\_\+\+S\+I\+ZE}~100
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{opencl_8h_a6b5348a02afd504e725947654a581ef0}{av\+\_\+opencl\+\_\+get\+\_\+device\+\_\+list} (\hyperlink{struct_a_v_open_c_l_device_list}{A\+V\+Open\+C\+L\+Device\+List} $\ast$$\ast$device\+\_\+list)
\item 
\hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void} \hyperlink{opencl_8h_aa00640ab73747b7db37f917b884bae66}{av\+\_\+opencl\+\_\+free\+\_\+device\+\_\+list} (\hyperlink{struct_a_v_open_c_l_device_list}{A\+V\+Open\+C\+L\+Device\+List} $\ast$$\ast$device\+\_\+list)
\item 
\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{opencl_8h_a215ec3cba816636e58d09f4fe1215bd7}{av\+\_\+opencl\+\_\+set\+\_\+option} (\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$key, \hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$val)
\item 
\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{opencl_8h_a62974cf6ea2ac20eeddc33fe184c8503}{av\+\_\+opencl\+\_\+get\+\_\+option} (\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$key, \hyperlink{lib-src_2ffmpeg_2win32_2stdint_8h_a9a941819355e6f658991890ff66b4b0e}{uint8\+\_\+t} $\ast$$\ast$out\+\_\+val)
\item 
\hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void} \hyperlink{opencl_8h_a00b719d702ab0e7ca8b8e7b9631c6716}{av\+\_\+opencl\+\_\+free\+\_\+option} (\hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void})
\item 
\hyperlink{struct_a_v_open_c_l_external_env}{A\+V\+Open\+C\+L\+External\+Env} $\ast$ \hyperlink{opencl_8h_a2dbf1e627af095529bb3fe58aa8b2bb8}{av\+\_\+opencl\+\_\+alloc\+\_\+external\+\_\+env} (\hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void})
\item 
\hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void} \hyperlink{opencl_8h_ac3e66bb6c635743bf35fddd976b9a0f7}{av\+\_\+opencl\+\_\+free\+\_\+external\+\_\+env} (\hyperlink{struct_a_v_open_c_l_external_env}{A\+V\+Open\+C\+L\+External\+Env} $\ast$$\ast$ext\+\_\+opencl\+\_\+env)
\item 
\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$ \hyperlink{opencl_8h_a213b3d1e8789ff25fa27d7e7c82c2331}{av\+\_\+opencl\+\_\+errstr} (cl\+\_\+int \hyperlink{rfft2d_test_m_l_8m_a1b5437a866e6f95107b07ba845bc1800}{status})
\item 
\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{opencl_8h_a94c301398b4708454b72b3b62eb2a0db}{av\+\_\+opencl\+\_\+register\+\_\+kernel\+\_\+code} (\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$kernel\+\_\+code)
\item 
\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{opencl_8h_a890579e458e485cebcc67b2c2fe7faab}{av\+\_\+opencl\+\_\+init} (\hyperlink{struct_a_v_open_c_l_external_env}{A\+V\+Open\+C\+L\+External\+Env} $\ast$ext\+\_\+opencl\+\_\+env)
\item 
cl\+\_\+program \hyperlink{opencl_8h_a062edee5f0895450b259fff992750edb}{av\+\_\+opencl\+\_\+compile} (\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$\hyperlink{libsndfile_2programs_2common_8h_a73af042829a9efa5e54149b4ce3bd139}{program\+\_\+name}, \hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$build\+\_\+opts)
\item 
cl\+\_\+command\+\_\+queue \hyperlink{opencl_8h_a4050567de8a473ba7ddad87d62941495}{av\+\_\+opencl\+\_\+get\+\_\+command\+\_\+queue} (\hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void})
\item 
\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{opencl_8h_a39fcd37600b231cda52b957719450109}{av\+\_\+opencl\+\_\+buffer\+\_\+create} (cl\+\_\+mem $\ast$cl\+\_\+buf, size\+\_\+t cl\+\_\+buf\+\_\+size, \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} flags, \hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void} $\ast$host\+\_\+ptr)
\item 
\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{opencl_8h_a484a7355e628aaadcc54dbcdd4cbf7e2}{av\+\_\+opencl\+\_\+buffer\+\_\+write} (cl\+\_\+mem dst\+\_\+cl\+\_\+buf, \hyperlink{lib-src_2ffmpeg_2win32_2stdint_8h_a9a941819355e6f658991890ff66b4b0e}{uint8\+\_\+t} $\ast$src\+\_\+buf, size\+\_\+t buf\+\_\+size)
\item 
\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{opencl_8h_a079dcc5f07be451b1ee1d3cdc8d70347}{av\+\_\+opencl\+\_\+buffer\+\_\+read} (\hyperlink{lib-src_2ffmpeg_2win32_2stdint_8h_a9a941819355e6f658991890ff66b4b0e}{uint8\+\_\+t} $\ast$dst\+\_\+buf, cl\+\_\+mem src\+\_\+cl\+\_\+buf, size\+\_\+t buf\+\_\+size)
\item 
\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{opencl_8h_a629e8aee5b7ffe0cc3df332d2b64ca50}{av\+\_\+opencl\+\_\+buffer\+\_\+write\+\_\+image} (cl\+\_\+mem dst\+\_\+cl\+\_\+buf, size\+\_\+t cl\+\_\+buffer\+\_\+size, \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} dst\+\_\+cl\+\_\+offset, \hyperlink{lib-src_2ffmpeg_2win32_2stdint_8h_a9a941819355e6f658991890ff66b4b0e}{uint8\+\_\+t} $\ast$$\ast$src\+\_\+data, \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} $\ast$plane\+\_\+size, \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} plane\+\_\+num)
\item 
\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{opencl_8h_a074c0e0a629f7509f7fa5261f79a08ef}{av\+\_\+opencl\+\_\+buffer\+\_\+read\+\_\+image} (\hyperlink{lib-src_2ffmpeg_2win32_2stdint_8h_a9a941819355e6f658991890ff66b4b0e}{uint8\+\_\+t} $\ast$$\ast$dst\+\_\+data, \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} $\ast$plane\+\_\+size, \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} plane\+\_\+num, cl\+\_\+mem src\+\_\+cl\+\_\+buf, size\+\_\+t cl\+\_\+buffer\+\_\+size)
\item 
\hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void} \hyperlink{opencl_8h_a7a3bfe1a58843ca36a2ec9228fe1fc7f}{av\+\_\+opencl\+\_\+buffer\+\_\+release} (cl\+\_\+mem $\ast$cl\+\_\+buf)
\item 
\hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void} \hyperlink{opencl_8h_a959c15066ec9179fe4d42dcbf63fbf31}{av\+\_\+opencl\+\_\+uninit} (\hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void})
\item 
\hyperlink{lib-src_2ffmpeg_2win32_2stdint_8h_a67a9885ef4908cb72ce26d75b694386c}{int64\+\_\+t} \hyperlink{opencl_8h_afcb828889028c7fb45b482f0fba933e9}{av\+\_\+opencl\+\_\+benchmark} (\hyperlink{struct_a_v_open_c_l_device_node}{A\+V\+Open\+C\+L\+Device\+Node} $\ast$device, cl\+\_\+platform\+\_\+id platform, \hyperlink{lib-src_2ffmpeg_2win32_2stdint_8h_a67a9885ef4908cb72ce26d75b694386c}{int64\+\_\+t}($\ast$benchmark)(\hyperlink{struct_a_v_open_c_l_external_env}{A\+V\+Open\+C\+L\+External\+Env} $\ast$ext\+\_\+opencl\+\_\+env))
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Open\+CL wrapper

This interface is considered still experimental and its A\+PI and A\+BI may change without prior notice. 

\subsection{Macro Definition Documentation}
\index{opencl.\+h@{opencl.\+h}!A\+V\+\_\+\+O\+P\+E\+N\+C\+L\+\_\+\+K\+E\+R\+N\+EL@{A\+V\+\_\+\+O\+P\+E\+N\+C\+L\+\_\+\+K\+E\+R\+N\+EL}}
\index{A\+V\+\_\+\+O\+P\+E\+N\+C\+L\+\_\+\+K\+E\+R\+N\+EL@{A\+V\+\_\+\+O\+P\+E\+N\+C\+L\+\_\+\+K\+E\+R\+N\+EL}!opencl.\+h@{opencl.\+h}}
\subsubsection[{\texorpdfstring{A\+V\+\_\+\+O\+P\+E\+N\+C\+L\+\_\+\+K\+E\+R\+N\+EL}{AV_OPENCL_KERNEL}}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+V\+\_\+\+O\+P\+E\+N\+C\+L\+\_\+\+K\+E\+R\+N\+EL(
\begin{DoxyParamCaption}
\item[{}]{...}
\end{DoxyParamCaption}
)~\# \+\_\+\+\_\+\+V\+A\+\_\+\+A\+R\+G\+S\+\_\+\+\_\+}\hypertarget{opencl_8h_a626911904c553a3a1e93c2e8c6a4563b}{}\label{opencl_8h_a626911904c553a3a1e93c2e8c6a4563b}


Definition at line 45 of file opencl.\+h.

\index{opencl.\+h@{opencl.\+h}!A\+V\+\_\+\+O\+P\+E\+N\+C\+L\+\_\+\+M\+A\+X\+\_\+\+D\+E\+V\+I\+C\+E\+\_\+\+N\+A\+M\+E\+\_\+\+S\+I\+ZE@{A\+V\+\_\+\+O\+P\+E\+N\+C\+L\+\_\+\+M\+A\+X\+\_\+\+D\+E\+V\+I\+C\+E\+\_\+\+N\+A\+M\+E\+\_\+\+S\+I\+ZE}}
\index{A\+V\+\_\+\+O\+P\+E\+N\+C\+L\+\_\+\+M\+A\+X\+\_\+\+D\+E\+V\+I\+C\+E\+\_\+\+N\+A\+M\+E\+\_\+\+S\+I\+ZE@{A\+V\+\_\+\+O\+P\+E\+N\+C\+L\+\_\+\+M\+A\+X\+\_\+\+D\+E\+V\+I\+C\+E\+\_\+\+N\+A\+M\+E\+\_\+\+S\+I\+ZE}!opencl.\+h@{opencl.\+h}}
\subsubsection[{\texorpdfstring{A\+V\+\_\+\+O\+P\+E\+N\+C\+L\+\_\+\+M\+A\+X\+\_\+\+D\+E\+V\+I\+C\+E\+\_\+\+N\+A\+M\+E\+\_\+\+S\+I\+ZE}{AV_OPENCL_MAX_DEVICE_NAME_SIZE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+V\+\_\+\+O\+P\+E\+N\+C\+L\+\_\+\+M\+A\+X\+\_\+\+D\+E\+V\+I\+C\+E\+\_\+\+N\+A\+M\+E\+\_\+\+S\+I\+ZE~100}\hypertarget{opencl_8h_a01979f9f7a5866c4e8e3019d828eb562}{}\label{opencl_8h_a01979f9f7a5866c4e8e3019d828eb562}


Definition at line 49 of file opencl.\+h.

\index{opencl.\+h@{opencl.\+h}!A\+V\+\_\+\+O\+P\+E\+N\+C\+L\+\_\+\+M\+A\+X\+\_\+\+K\+E\+R\+N\+E\+L\+\_\+\+N\+A\+M\+E\+\_\+\+S\+I\+ZE@{A\+V\+\_\+\+O\+P\+E\+N\+C\+L\+\_\+\+M\+A\+X\+\_\+\+K\+E\+R\+N\+E\+L\+\_\+\+N\+A\+M\+E\+\_\+\+S\+I\+ZE}}
\index{A\+V\+\_\+\+O\+P\+E\+N\+C\+L\+\_\+\+M\+A\+X\+\_\+\+K\+E\+R\+N\+E\+L\+\_\+\+N\+A\+M\+E\+\_\+\+S\+I\+ZE@{A\+V\+\_\+\+O\+P\+E\+N\+C\+L\+\_\+\+M\+A\+X\+\_\+\+K\+E\+R\+N\+E\+L\+\_\+\+N\+A\+M\+E\+\_\+\+S\+I\+ZE}!opencl.\+h@{opencl.\+h}}
\subsubsection[{\texorpdfstring{A\+V\+\_\+\+O\+P\+E\+N\+C\+L\+\_\+\+M\+A\+X\+\_\+\+K\+E\+R\+N\+E\+L\+\_\+\+N\+A\+M\+E\+\_\+\+S\+I\+ZE}{AV_OPENCL_MAX_KERNEL_NAME_SIZE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+V\+\_\+\+O\+P\+E\+N\+C\+L\+\_\+\+M\+A\+X\+\_\+\+K\+E\+R\+N\+E\+L\+\_\+\+N\+A\+M\+E\+\_\+\+S\+I\+ZE~150}\hypertarget{opencl_8h_a294b3f236dfa8e658b946f579e727b40}{}\label{opencl_8h_a294b3f236dfa8e658b946f579e727b40}


Definition at line 47 of file opencl.\+h.

\index{opencl.\+h@{opencl.\+h}!A\+V\+\_\+\+O\+P\+E\+N\+C\+L\+\_\+\+M\+A\+X\+\_\+\+P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+N\+A\+M\+E\+\_\+\+S\+I\+ZE@{A\+V\+\_\+\+O\+P\+E\+N\+C\+L\+\_\+\+M\+A\+X\+\_\+\+P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+N\+A\+M\+E\+\_\+\+S\+I\+ZE}}
\index{A\+V\+\_\+\+O\+P\+E\+N\+C\+L\+\_\+\+M\+A\+X\+\_\+\+P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+N\+A\+M\+E\+\_\+\+S\+I\+ZE@{A\+V\+\_\+\+O\+P\+E\+N\+C\+L\+\_\+\+M\+A\+X\+\_\+\+P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+N\+A\+M\+E\+\_\+\+S\+I\+ZE}!opencl.\+h@{opencl.\+h}}
\subsubsection[{\texorpdfstring{A\+V\+\_\+\+O\+P\+E\+N\+C\+L\+\_\+\+M\+A\+X\+\_\+\+P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+N\+A\+M\+E\+\_\+\+S\+I\+ZE}{AV_OPENCL_MAX_PLATFORM_NAME_SIZE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+V\+\_\+\+O\+P\+E\+N\+C\+L\+\_\+\+M\+A\+X\+\_\+\+P\+L\+A\+T\+F\+O\+R\+M\+\_\+\+N\+A\+M\+E\+\_\+\+S\+I\+ZE~100}\hypertarget{opencl_8h_abbbeb8cea0f94a149419ef809abc41a9}{}\label{opencl_8h_abbbeb8cea0f94a149419ef809abc41a9}


Definition at line 51 of file opencl.\+h.



\subsection{Function Documentation}
\index{opencl.\+h@{opencl.\+h}!av\+\_\+opencl\+\_\+alloc\+\_\+external\+\_\+env@{av\+\_\+opencl\+\_\+alloc\+\_\+external\+\_\+env}}
\index{av\+\_\+opencl\+\_\+alloc\+\_\+external\+\_\+env@{av\+\_\+opencl\+\_\+alloc\+\_\+external\+\_\+env}!opencl.\+h@{opencl.\+h}}
\subsubsection[{\texorpdfstring{av\+\_\+opencl\+\_\+alloc\+\_\+external\+\_\+env(void)}{av_opencl_alloc_external_env(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf A\+V\+Open\+C\+L\+External\+Env}$\ast$ av\+\_\+opencl\+\_\+alloc\+\_\+external\+\_\+env (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{opencl_8h_a2dbf1e627af095529bb3fe58aa8b2bb8}{}\label{opencl_8h_a2dbf1e627af095529bb3fe58aa8b2bb8}
Allocate Open\+CL external environment.

It must be freed with \hyperlink{opencl_8h_ac3e66bb6c635743bf35fddd976b9a0f7}{av\+\_\+opencl\+\_\+free\+\_\+external\+\_\+env()}.

\begin{DoxyReturn}{Returns}
pointer to allocated Open\+CL external environment 
\end{DoxyReturn}
\index{opencl.\+h@{opencl.\+h}!av\+\_\+opencl\+\_\+benchmark@{av\+\_\+opencl\+\_\+benchmark}}
\index{av\+\_\+opencl\+\_\+benchmark@{av\+\_\+opencl\+\_\+benchmark}!opencl.\+h@{opencl.\+h}}
\subsubsection[{\texorpdfstring{av\+\_\+opencl\+\_\+benchmark(\+A\+V\+Open\+C\+L\+Device\+Node $\ast$device, cl\+\_\+platform\+\_\+id platform, int64\+\_\+t($\ast$benchmark)(\+A\+V\+Open\+C\+L\+External\+Env $\ast$ext\+\_\+opencl\+\_\+env))}{av_opencl_benchmark(AVOpenCLDeviceNode *device, cl_platform_id platform, int64_t(*benchmark)(AVOpenCLExternalEnv *ext_opencl_env))}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int64\+\_\+t} av\+\_\+opencl\+\_\+benchmark (
\begin{DoxyParamCaption}
\item[{{\bf A\+V\+Open\+C\+L\+Device\+Node} $\ast$}]{device, }
\item[{cl\+\_\+platform\+\_\+id}]{platform, }
\item[{{\bf int64\+\_\+t}($\ast$)({\bf A\+V\+Open\+C\+L\+External\+Env} $\ast$ext\+\_\+opencl\+\_\+env)}]{benchmark}
\end{DoxyParamCaption}
)}\hypertarget{opencl_8h_afcb828889028c7fb45b482f0fba933e9}{}\label{opencl_8h_afcb828889028c7fb45b482f0fba933e9}
Benchmark an Open\+CL device with a user defined callback function. This function sets up an external Open\+CL environment including context and command queue on the device then tears it down in the end. The callback function should perform the rest of the work.


\begin{DoxyParams}{Parameters}
{\em device} & pointer to the Open\+CL device to be used \\
\hline
{\em platform} & cl\+\_\+platform\+\_\+id handle to which the device belongs to \\
\hline
{\em benchmark} & callback function to perform the benchmark, return a negative value in case of failure \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the score passed from the callback function, a negative error code in case of failure 
\end{DoxyReturn}
\index{opencl.\+h@{opencl.\+h}!av\+\_\+opencl\+\_\+buffer\+\_\+create@{av\+\_\+opencl\+\_\+buffer\+\_\+create}}
\index{av\+\_\+opencl\+\_\+buffer\+\_\+create@{av\+\_\+opencl\+\_\+buffer\+\_\+create}!opencl.\+h@{opencl.\+h}}
\subsubsection[{\texorpdfstring{av\+\_\+opencl\+\_\+buffer\+\_\+create(cl\+\_\+mem $\ast$cl\+\_\+buf, size\+\_\+t cl\+\_\+buf\+\_\+size, int flags, void $\ast$host\+\_\+ptr)}{av_opencl_buffer_create(cl_mem *cl_buf, size_t cl_buf_size, int flags, void *host_ptr)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} av\+\_\+opencl\+\_\+buffer\+\_\+create (
\begin{DoxyParamCaption}
\item[{cl\+\_\+mem $\ast$}]{cl\+\_\+buf, }
\item[{size\+\_\+t}]{cl\+\_\+buf\+\_\+size, }
\item[{{\bf int}}]{flags, }
\item[{{\bf void} $\ast$}]{host\+\_\+ptr}
\end{DoxyParamCaption}
)}\hypertarget{opencl_8h_a39fcd37600b231cda52b957719450109}{}\label{opencl_8h_a39fcd37600b231cda52b957719450109}
Create Open\+CL buffer.

The buffer is used to save the data used or created by an Open\+CL kernel. The created buffer must be released with \hyperlink{opencl_8h_a7a3bfe1a58843ca36a2ec9228fe1fc7f}{av\+\_\+opencl\+\_\+buffer\+\_\+release()}.

See cl\+Create\+Buffer() function reference for more information about the parameters.


\begin{DoxyParams}{Parameters}
{\em cl\+\_\+buf} & pointer to Open\+CL buffer \\
\hline
{\em cl\+\_\+buf\+\_\+size} & size in bytes of the Open\+CL buffer to create \\
\hline
{\em flags} & flags used to control buffer attributes \\
\hline
{\em host\+\_\+ptr} & host pointer of the Open\+CL buffer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
$>$=0 on success, a negative error code in case of failure 
\end{DoxyReturn}
\index{opencl.\+h@{opencl.\+h}!av\+\_\+opencl\+\_\+buffer\+\_\+read@{av\+\_\+opencl\+\_\+buffer\+\_\+read}}
\index{av\+\_\+opencl\+\_\+buffer\+\_\+read@{av\+\_\+opencl\+\_\+buffer\+\_\+read}!opencl.\+h@{opencl.\+h}}
\subsubsection[{\texorpdfstring{av\+\_\+opencl\+\_\+buffer\+\_\+read(uint8\+\_\+t $\ast$dst\+\_\+buf, cl\+\_\+mem src\+\_\+cl\+\_\+buf, size\+\_\+t buf\+\_\+size)}{av_opencl_buffer_read(uint8_t *dst_buf, cl_mem src_cl_buf, size_t buf_size)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} av\+\_\+opencl\+\_\+buffer\+\_\+read (
\begin{DoxyParamCaption}
\item[{{\bf uint8\+\_\+t} $\ast$}]{dst\+\_\+buf, }
\item[{cl\+\_\+mem}]{src\+\_\+cl\+\_\+buf, }
\item[{size\+\_\+t}]{buf\+\_\+size}
\end{DoxyParamCaption}
)}\hypertarget{opencl_8h_a079dcc5f07be451b1ee1d3cdc8d70347}{}\label{opencl_8h_a079dcc5f07be451b1ee1d3cdc8d70347}
Read data from Open\+CL buffer to memory buffer.


\begin{DoxyParams}{Parameters}
{\em dst\+\_\+buf} & pointer to destination buffer (C\+PU memory) \\
\hline
{\em src\+\_\+cl\+\_\+buf} & pointer to source Open\+CL buffer \\
\hline
{\em buf\+\_\+size} & size in bytes of the source and destination buffers \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
$>$=0 on success, a negative error code in case of failure 
\end{DoxyReturn}
\index{opencl.\+h@{opencl.\+h}!av\+\_\+opencl\+\_\+buffer\+\_\+read\+\_\+image@{av\+\_\+opencl\+\_\+buffer\+\_\+read\+\_\+image}}
\index{av\+\_\+opencl\+\_\+buffer\+\_\+read\+\_\+image@{av\+\_\+opencl\+\_\+buffer\+\_\+read\+\_\+image}!opencl.\+h@{opencl.\+h}}
\subsubsection[{\texorpdfstring{av\+\_\+opencl\+\_\+buffer\+\_\+read\+\_\+image(uint8\+\_\+t $\ast$$\ast$dst\+\_\+data, int $\ast$plane\+\_\+size, int plane\+\_\+num, cl\+\_\+mem src\+\_\+cl\+\_\+buf, size\+\_\+t cl\+\_\+buffer\+\_\+size)}{av_opencl_buffer_read_image(uint8_t **dst_data, int *plane_size, int plane_num, cl_mem src_cl_buf, size_t cl_buffer_size)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} av\+\_\+opencl\+\_\+buffer\+\_\+read\+\_\+image (
\begin{DoxyParamCaption}
\item[{{\bf uint8\+\_\+t} $\ast$$\ast$}]{dst\+\_\+data, }
\item[{{\bf int} $\ast$}]{plane\+\_\+size, }
\item[{{\bf int}}]{plane\+\_\+num, }
\item[{cl\+\_\+mem}]{src\+\_\+cl\+\_\+buf, }
\item[{size\+\_\+t}]{cl\+\_\+buffer\+\_\+size}
\end{DoxyParamCaption}
)}\hypertarget{opencl_8h_a074c0e0a629f7509f7fa5261f79a08ef}{}\label{opencl_8h_a074c0e0a629f7509f7fa5261f79a08ef}
Read image data from Open\+CL buffer.


\begin{DoxyParams}{Parameters}
{\em dst\+\_\+data} & array of pointers to destination plane buffers \\
\hline
{\em dst\+\_\+plane\+\_\+sizes} & array of pointers to destination plane buffers \\
\hline
{\em dst\+\_\+plane\+\_\+num} & number of destination image planes \\
\hline
{\em src\+\_\+cl\+\_\+buf} & pointer to source Open\+CL buffer \\
\hline
{\em src\+\_\+cl\+\_\+buf\+\_\+size} & size in bytes of Open\+CL buffer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
$>$=0 on success, a negative error code in case of failure 
\end{DoxyReturn}
\index{opencl.\+h@{opencl.\+h}!av\+\_\+opencl\+\_\+buffer\+\_\+release@{av\+\_\+opencl\+\_\+buffer\+\_\+release}}
\index{av\+\_\+opencl\+\_\+buffer\+\_\+release@{av\+\_\+opencl\+\_\+buffer\+\_\+release}!opencl.\+h@{opencl.\+h}}
\subsubsection[{\texorpdfstring{av\+\_\+opencl\+\_\+buffer\+\_\+release(cl\+\_\+mem $\ast$cl\+\_\+buf)}{av_opencl_buffer_release(cl_mem *cl_buf)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} av\+\_\+opencl\+\_\+buffer\+\_\+release (
\begin{DoxyParamCaption}
\item[{cl\+\_\+mem $\ast$}]{cl\+\_\+buf}
\end{DoxyParamCaption}
)}\hypertarget{opencl_8h_a7a3bfe1a58843ca36a2ec9228fe1fc7f}{}\label{opencl_8h_a7a3bfe1a58843ca36a2ec9228fe1fc7f}
Release Open\+CL buffer.


\begin{DoxyParams}{Parameters}
{\em cl\+\_\+buf} & pointer to Open\+CL buffer to release, which was previously filled with \hyperlink{opencl_8h_a39fcd37600b231cda52b957719450109}{av\+\_\+opencl\+\_\+buffer\+\_\+create()} \\
\hline
\end{DoxyParams}
\index{opencl.\+h@{opencl.\+h}!av\+\_\+opencl\+\_\+buffer\+\_\+write@{av\+\_\+opencl\+\_\+buffer\+\_\+write}}
\index{av\+\_\+opencl\+\_\+buffer\+\_\+write@{av\+\_\+opencl\+\_\+buffer\+\_\+write}!opencl.\+h@{opencl.\+h}}
\subsubsection[{\texorpdfstring{av\+\_\+opencl\+\_\+buffer\+\_\+write(cl\+\_\+mem dst\+\_\+cl\+\_\+buf, uint8\+\_\+t $\ast$src\+\_\+buf, size\+\_\+t buf\+\_\+size)}{av_opencl_buffer_write(cl_mem dst_cl_buf, uint8_t *src_buf, size_t buf_size)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} av\+\_\+opencl\+\_\+buffer\+\_\+write (
\begin{DoxyParamCaption}
\item[{cl\+\_\+mem}]{dst\+\_\+cl\+\_\+buf, }
\item[{{\bf uint8\+\_\+t} $\ast$}]{src\+\_\+buf, }
\item[{size\+\_\+t}]{buf\+\_\+size}
\end{DoxyParamCaption}
)}\hypertarget{opencl_8h_a484a7355e628aaadcc54dbcdd4cbf7e2}{}\label{opencl_8h_a484a7355e628aaadcc54dbcdd4cbf7e2}
Write Open\+CL buffer with data from src\+\_\+buf.


\begin{DoxyParams}{Parameters}
{\em dst\+\_\+cl\+\_\+buf} & pointer to Open\+CL destination buffer \\
\hline
{\em src\+\_\+buf} & pointer to source buffer \\
\hline
{\em buf\+\_\+size} & size in bytes of the source and destination buffers \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
$>$=0 on success, a negative error code in case of failure 
\end{DoxyReturn}
\index{opencl.\+h@{opencl.\+h}!av\+\_\+opencl\+\_\+buffer\+\_\+write\+\_\+image@{av\+\_\+opencl\+\_\+buffer\+\_\+write\+\_\+image}}
\index{av\+\_\+opencl\+\_\+buffer\+\_\+write\+\_\+image@{av\+\_\+opencl\+\_\+buffer\+\_\+write\+\_\+image}!opencl.\+h@{opencl.\+h}}
\subsubsection[{\texorpdfstring{av\+\_\+opencl\+\_\+buffer\+\_\+write\+\_\+image(cl\+\_\+mem dst\+\_\+cl\+\_\+buf, size\+\_\+t cl\+\_\+buffer\+\_\+size, int dst\+\_\+cl\+\_\+offset, uint8\+\_\+t $\ast$$\ast$src\+\_\+data, int $\ast$plane\+\_\+size, int plane\+\_\+num)}{av_opencl_buffer_write_image(cl_mem dst_cl_buf, size_t cl_buffer_size, int dst_cl_offset, uint8_t **src_data, int *plane_size, int plane_num)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} av\+\_\+opencl\+\_\+buffer\+\_\+write\+\_\+image (
\begin{DoxyParamCaption}
\item[{cl\+\_\+mem}]{dst\+\_\+cl\+\_\+buf, }
\item[{size\+\_\+t}]{cl\+\_\+buffer\+\_\+size, }
\item[{{\bf int}}]{dst\+\_\+cl\+\_\+offset, }
\item[{{\bf uint8\+\_\+t} $\ast$$\ast$}]{src\+\_\+data, }
\item[{{\bf int} $\ast$}]{plane\+\_\+size, }
\item[{{\bf int}}]{plane\+\_\+num}
\end{DoxyParamCaption}
)}\hypertarget{opencl_8h_a629e8aee5b7ffe0cc3df332d2b64ca50}{}\label{opencl_8h_a629e8aee5b7ffe0cc3df332d2b64ca50}
Write image data from memory to Open\+CL buffer.

The source must be an array of pointers to image plane buffers.


\begin{DoxyParams}{Parameters}
{\em dst\+\_\+cl\+\_\+buf} & pointer to destination Open\+CL buffer \\
\hline
{\em dst\+\_\+cl\+\_\+buf\+\_\+size} & size in bytes of Open\+CL buffer \\
\hline
{\em dst\+\_\+cl\+\_\+buf\+\_\+offset} & the offset of the Open\+CL buffer start position \\
\hline
{\em src\+\_\+data} & array of pointers to source plane buffers \\
\hline
{\em src\+\_\+plane\+\_\+sizes} & array of sizes in bytes of the source plane buffers \\
\hline
{\em src\+\_\+plane\+\_\+num} & number of source image planes \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
$>$=0 on success, a negative error code in case of failure 
\end{DoxyReturn}
\index{opencl.\+h@{opencl.\+h}!av\+\_\+opencl\+\_\+compile@{av\+\_\+opencl\+\_\+compile}}
\index{av\+\_\+opencl\+\_\+compile@{av\+\_\+opencl\+\_\+compile}!opencl.\+h@{opencl.\+h}}
\subsubsection[{\texorpdfstring{av\+\_\+opencl\+\_\+compile(const char $\ast$program\+\_\+name, const char $\ast$build\+\_\+opts)}{av_opencl_compile(const char *program_name, const char *build_opts)}}]{\setlength{\rightskip}{0pt plus 5cm}cl\+\_\+program av\+\_\+opencl\+\_\+compile (
\begin{DoxyParamCaption}
\item[{{\bf const} char $\ast$}]{program\+\_\+name, }
\item[{{\bf const} char $\ast$}]{build\+\_\+opts}
\end{DoxyParamCaption}
)}\hypertarget{opencl_8h_a062edee5f0895450b259fff992750edb}{}\label{opencl_8h_a062edee5f0895450b259fff992750edb}
compile specific Open\+CL kernel source


\begin{DoxyParams}{Parameters}
{\em program\+\_\+name} & pointer to a program name used for identification \\
\hline
{\em build\+\_\+opts} & pointer to a string that describes the preprocessor build options to be used for building the program \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a cl\+\_\+program object 
\end{DoxyReturn}
\index{opencl.\+h@{opencl.\+h}!av\+\_\+opencl\+\_\+errstr@{av\+\_\+opencl\+\_\+errstr}}
\index{av\+\_\+opencl\+\_\+errstr@{av\+\_\+opencl\+\_\+errstr}!opencl.\+h@{opencl.\+h}}
\subsubsection[{\texorpdfstring{av\+\_\+opencl\+\_\+errstr(cl\+\_\+int status)}{av_opencl_errstr(cl_int status)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const} char$\ast$ av\+\_\+opencl\+\_\+errstr (
\begin{DoxyParamCaption}
\item[{cl\+\_\+int}]{status}
\end{DoxyParamCaption}
)}\hypertarget{opencl_8h_a213b3d1e8789ff25fa27d7e7c82c2331}{}\label{opencl_8h_a213b3d1e8789ff25fa27d7e7c82c2331}
Get Open\+CL error string.


\begin{DoxyParams}{Parameters}
{\em status} & Open\+CL error code \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Open\+CL error string 
\end{DoxyReturn}
\index{opencl.\+h@{opencl.\+h}!av\+\_\+opencl\+\_\+free\+\_\+device\+\_\+list@{av\+\_\+opencl\+\_\+free\+\_\+device\+\_\+list}}
\index{av\+\_\+opencl\+\_\+free\+\_\+device\+\_\+list@{av\+\_\+opencl\+\_\+free\+\_\+device\+\_\+list}!opencl.\+h@{opencl.\+h}}
\subsubsection[{\texorpdfstring{av\+\_\+opencl\+\_\+free\+\_\+device\+\_\+list(\+A\+V\+Open\+C\+L\+Device\+List $\ast$$\ast$device\+\_\+list)}{av_opencl_free_device_list(AVOpenCLDeviceList **device_list)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} av\+\_\+opencl\+\_\+free\+\_\+device\+\_\+list (
\begin{DoxyParamCaption}
\item[{{\bf A\+V\+Open\+C\+L\+Device\+List} $\ast$$\ast$}]{device\+\_\+list}
\end{DoxyParamCaption}
)}\hypertarget{opencl_8h_aa00640ab73747b7db37f917b884bae66}{}\label{opencl_8h_aa00640ab73747b7db37f917b884bae66}
Free Open\+CL device list.


\begin{DoxyParams}{Parameters}
{\em device\+\_\+list} & pointer to Open\+CL environment device list created by \hyperlink{opencl_8h_a6b5348a02afd504e725947654a581ef0}{av\+\_\+opencl\+\_\+get\+\_\+device\+\_\+list()} \\
\hline
\end{DoxyParams}
\index{opencl.\+h@{opencl.\+h}!av\+\_\+opencl\+\_\+free\+\_\+external\+\_\+env@{av\+\_\+opencl\+\_\+free\+\_\+external\+\_\+env}}
\index{av\+\_\+opencl\+\_\+free\+\_\+external\+\_\+env@{av\+\_\+opencl\+\_\+free\+\_\+external\+\_\+env}!opencl.\+h@{opencl.\+h}}
\subsubsection[{\texorpdfstring{av\+\_\+opencl\+\_\+free\+\_\+external\+\_\+env(\+A\+V\+Open\+C\+L\+External\+Env $\ast$$\ast$ext\+\_\+opencl\+\_\+env)}{av_opencl_free_external_env(AVOpenCLExternalEnv **ext_opencl_env)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} av\+\_\+opencl\+\_\+free\+\_\+external\+\_\+env (
\begin{DoxyParamCaption}
\item[{{\bf A\+V\+Open\+C\+L\+External\+Env} $\ast$$\ast$}]{ext\+\_\+opencl\+\_\+env}
\end{DoxyParamCaption}
)}\hypertarget{opencl_8h_ac3e66bb6c635743bf35fddd976b9a0f7}{}\label{opencl_8h_ac3e66bb6c635743bf35fddd976b9a0f7}
Free Open\+CL external environment.


\begin{DoxyParams}{Parameters}
{\em ext\+\_\+opencl\+\_\+env} & pointer to Open\+CL external environment created by \hyperlink{opencl_8h_a2dbf1e627af095529bb3fe58aa8b2bb8}{av\+\_\+opencl\+\_\+alloc\+\_\+external\+\_\+env()} \\
\hline
\end{DoxyParams}
\index{opencl.\+h@{opencl.\+h}!av\+\_\+opencl\+\_\+free\+\_\+option@{av\+\_\+opencl\+\_\+free\+\_\+option}}
\index{av\+\_\+opencl\+\_\+free\+\_\+option@{av\+\_\+opencl\+\_\+free\+\_\+option}!opencl.\+h@{opencl.\+h}}
\subsubsection[{\texorpdfstring{av\+\_\+opencl\+\_\+free\+\_\+option(void)}{av_opencl_free_option(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} av\+\_\+opencl\+\_\+free\+\_\+option (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{opencl_8h_a00b719d702ab0e7ca8b8e7b9631c6716}{}\label{opencl_8h_a00b719d702ab0e7ca8b8e7b9631c6716}
Free option values of the global Open\+CL context. \index{opencl.\+h@{opencl.\+h}!av\+\_\+opencl\+\_\+get\+\_\+command\+\_\+queue@{av\+\_\+opencl\+\_\+get\+\_\+command\+\_\+queue}}
\index{av\+\_\+opencl\+\_\+get\+\_\+command\+\_\+queue@{av\+\_\+opencl\+\_\+get\+\_\+command\+\_\+queue}!opencl.\+h@{opencl.\+h}}
\subsubsection[{\texorpdfstring{av\+\_\+opencl\+\_\+get\+\_\+command\+\_\+queue(void)}{av_opencl_get_command_queue(void)}}]{\setlength{\rightskip}{0pt plus 5cm}cl\+\_\+command\+\_\+queue av\+\_\+opencl\+\_\+get\+\_\+command\+\_\+queue (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{opencl_8h_a4050567de8a473ba7ddad87d62941495}{}\label{opencl_8h_a4050567de8a473ba7ddad87d62941495}
get Open\+CL command queue

\begin{DoxyReturn}{Returns}
a cl\+\_\+command\+\_\+queue object 
\end{DoxyReturn}
\index{opencl.\+h@{opencl.\+h}!av\+\_\+opencl\+\_\+get\+\_\+device\+\_\+list@{av\+\_\+opencl\+\_\+get\+\_\+device\+\_\+list}}
\index{av\+\_\+opencl\+\_\+get\+\_\+device\+\_\+list@{av\+\_\+opencl\+\_\+get\+\_\+device\+\_\+list}!opencl.\+h@{opencl.\+h}}
\subsubsection[{\texorpdfstring{av\+\_\+opencl\+\_\+get\+\_\+device\+\_\+list(\+A\+V\+Open\+C\+L\+Device\+List $\ast$$\ast$device\+\_\+list)}{av_opencl_get_device_list(AVOpenCLDeviceList **device_list)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} av\+\_\+opencl\+\_\+get\+\_\+device\+\_\+list (
\begin{DoxyParamCaption}
\item[{{\bf A\+V\+Open\+C\+L\+Device\+List} $\ast$$\ast$}]{device\+\_\+list}
\end{DoxyParamCaption}
)}\hypertarget{opencl_8h_a6b5348a02afd504e725947654a581ef0}{}\label{opencl_8h_a6b5348a02afd504e725947654a581ef0}
Get Open\+CL device list.

It must be freed with \hyperlink{opencl_8h_aa00640ab73747b7db37f917b884bae66}{av\+\_\+opencl\+\_\+free\+\_\+device\+\_\+list()}.


\begin{DoxyParams}{Parameters}
{\em device\+\_\+list} & pointer to Open\+CL environment device list, should be released by \hyperlink{opencl_8h_aa00640ab73747b7db37f917b884bae66}{av\+\_\+opencl\+\_\+free\+\_\+device\+\_\+list()}\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
$>$=0 on success, a negative error code in case of failure 
\end{DoxyReturn}
\index{opencl.\+h@{opencl.\+h}!av\+\_\+opencl\+\_\+get\+\_\+option@{av\+\_\+opencl\+\_\+get\+\_\+option}}
\index{av\+\_\+opencl\+\_\+get\+\_\+option@{av\+\_\+opencl\+\_\+get\+\_\+option}!opencl.\+h@{opencl.\+h}}
\subsubsection[{\texorpdfstring{av\+\_\+opencl\+\_\+get\+\_\+option(const char $\ast$key, uint8\+\_\+t $\ast$$\ast$out\+\_\+val)}{av_opencl_get_option(const char *key, uint8_t **out_val)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} av\+\_\+opencl\+\_\+get\+\_\+option (
\begin{DoxyParamCaption}
\item[{{\bf const} char $\ast$}]{key, }
\item[{{\bf uint8\+\_\+t} $\ast$$\ast$}]{out\+\_\+val}
\end{DoxyParamCaption}
)}\hypertarget{opencl_8h_a62974cf6ea2ac20eeddc33fe184c8503}{}\label{opencl_8h_a62974cf6ea2ac20eeddc33fe184c8503}
Get option value from the global Open\+CL context.


\begin{DoxyParams}{Parameters}
{\em key} & option key \\
\hline
{\em out\+\_\+val} & pointer to location where option value will be written, must be freed with \hyperlink{group__lavu__mem_ga0cc84043ea2167ad005c86e11d0bcdba}{av\+\_\+freep()} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
$>$=0 on success, a negative error code in case of failure 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{opencl_8h_a215ec3cba816636e58d09f4fe1215bd7}{av\+\_\+opencl\+\_\+set\+\_\+option()} 
\end{DoxySeeAlso}
\index{opencl.\+h@{opencl.\+h}!av\+\_\+opencl\+\_\+init@{av\+\_\+opencl\+\_\+init}}
\index{av\+\_\+opencl\+\_\+init@{av\+\_\+opencl\+\_\+init}!opencl.\+h@{opencl.\+h}}
\subsubsection[{\texorpdfstring{av\+\_\+opencl\+\_\+init(\+A\+V\+Open\+C\+L\+External\+Env $\ast$ext\+\_\+opencl\+\_\+env)}{av_opencl_init(AVOpenCLExternalEnv *ext_opencl_env)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} av\+\_\+opencl\+\_\+init (
\begin{DoxyParamCaption}
\item[{{\bf A\+V\+Open\+C\+L\+External\+Env} $\ast$}]{ext\+\_\+opencl\+\_\+env}
\end{DoxyParamCaption}
)}\hypertarget{opencl_8h_a890579e458e485cebcc67b2c2fe7faab}{}\label{opencl_8h_a890579e458e485cebcc67b2c2fe7faab}
Initialize the run time Open\+CL environment


\begin{DoxyParams}{Parameters}
{\em ext\+\_\+opencl\+\_\+env} & external Open\+CL environment, created by an application program, ignored if set to N\+U\+LL \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
$>$=0 on success, a negative error code in case of failure 
\end{DoxyReturn}
\index{opencl.\+h@{opencl.\+h}!av\+\_\+opencl\+\_\+register\+\_\+kernel\+\_\+code@{av\+\_\+opencl\+\_\+register\+\_\+kernel\+\_\+code}}
\index{av\+\_\+opencl\+\_\+register\+\_\+kernel\+\_\+code@{av\+\_\+opencl\+\_\+register\+\_\+kernel\+\_\+code}!opencl.\+h@{opencl.\+h}}
\subsubsection[{\texorpdfstring{av\+\_\+opencl\+\_\+register\+\_\+kernel\+\_\+code(const char $\ast$kernel\+\_\+code)}{av_opencl_register_kernel_code(const char *kernel_code)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} av\+\_\+opencl\+\_\+register\+\_\+kernel\+\_\+code (
\begin{DoxyParamCaption}
\item[{{\bf const} char $\ast$}]{kernel\+\_\+code}
\end{DoxyParamCaption}
)}\hypertarget{opencl_8h_a94c301398b4708454b72b3b62eb2a0db}{}\label{opencl_8h_a94c301398b4708454b72b3b62eb2a0db}
Register kernel code.

The registered kernel code is stored in a global context, and compiled in the runtime environment when \hyperlink{opencl_8h_a890579e458e485cebcc67b2c2fe7faab}{av\+\_\+opencl\+\_\+init()} is called.


\begin{DoxyParams}{Parameters}
{\em kernel\+\_\+code} & kernel code to be compiled in the Open\+CL runtime environment \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
$>$=0 on success, a negative error code in case of failure 
\end{DoxyReturn}
\index{opencl.\+h@{opencl.\+h}!av\+\_\+opencl\+\_\+set\+\_\+option@{av\+\_\+opencl\+\_\+set\+\_\+option}}
\index{av\+\_\+opencl\+\_\+set\+\_\+option@{av\+\_\+opencl\+\_\+set\+\_\+option}!opencl.\+h@{opencl.\+h}}
\subsubsection[{\texorpdfstring{av\+\_\+opencl\+\_\+set\+\_\+option(const char $\ast$key, const char $\ast$val)}{av_opencl_set_option(const char *key, const char *val)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} av\+\_\+opencl\+\_\+set\+\_\+option (
\begin{DoxyParamCaption}
\item[{{\bf const} char $\ast$}]{key, }
\item[{{\bf const} char $\ast$}]{val}
\end{DoxyParamCaption}
)}\hypertarget{opencl_8h_a215ec3cba816636e58d09f4fe1215bd7}{}\label{opencl_8h_a215ec3cba816636e58d09f4fe1215bd7}
Set option in the global Open\+CL context.

This options affect the operation performed by the next \hyperlink{opencl_8h_a890579e458e485cebcc67b2c2fe7faab}{av\+\_\+opencl\+\_\+init()} operation.

The currently accepted options are\+:
\begin{DoxyItemize}
\item platform\+: set index of platform in device list
\item device\+: set index of device in device list
\end{DoxyItemize}

See reference \char`\"{}\+Open\+C\+L Specification Version\+: 1.\+2 chapter 5.\+6.\+4\char`\"{}.


\begin{DoxyParams}{Parameters}
{\em key} & option key \\
\hline
{\em val} & option value \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
$>$=0 on success, a negative error code in case of failure 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{opencl_8h_a62974cf6ea2ac20eeddc33fe184c8503}{av\+\_\+opencl\+\_\+get\+\_\+option()} 
\end{DoxySeeAlso}
\index{opencl.\+h@{opencl.\+h}!av\+\_\+opencl\+\_\+uninit@{av\+\_\+opencl\+\_\+uninit}}
\index{av\+\_\+opencl\+\_\+uninit@{av\+\_\+opencl\+\_\+uninit}!opencl.\+h@{opencl.\+h}}
\subsubsection[{\texorpdfstring{av\+\_\+opencl\+\_\+uninit(void)}{av_opencl_uninit(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} av\+\_\+opencl\+\_\+uninit (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{opencl_8h_a959c15066ec9179fe4d42dcbf63fbf31}{}\label{opencl_8h_a959c15066ec9179fe4d42dcbf63fbf31}
Release Open\+CL environment.

The Open\+CL environment is effectively released only if all the created kernels had been released with av\+\_\+opencl\+\_\+release\+\_\+kernel(). 