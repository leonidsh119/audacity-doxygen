\hypertarget{class_legacy_block_file}{}\section{Legacy\+Block\+File Class Reference}
\label{class_legacy_block_file}\index{Legacy\+Block\+File@{Legacy\+Block\+File}}


Audacity 1.\+1.\+0 block file format\+:  




{\ttfamily \#include $<$Legacy\+Block\+File.\+h$>$}

Inheritance diagram for Legacy\+Block\+File\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_legacy_block_file}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_legacy_block_file_a40adc6cb86499af6c1f4b76fc570e155}{Legacy\+Block\+File} (wx\+File\+Name existing\+File, \hyperlink{include_2audacity_2_types_8h_a9938d2e2f6adef23e745cd80ef379792}{sample\+Format} \hyperlink{_export_p_c_m_8cpp_a317afff57d87a89158c2b038d37b2b08}{format}, \hyperlink{include_2audacity_2_types_8h_afa427e1f521ea5ec12d054e8bd4d0f71}{sample\+Count} summary\+Len, \hyperlink{include_2audacity_2_types_8h_afa427e1f521ea5ec12d054e8bd4d0f71}{sample\+Count} \hyperlink{lib_2expat_8h_af86d325fecfc8f47b61fbf5a5146f582}{len}, \hyperlink{mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h_abb452686968e48b67397da5f97445f5b}{bool} no\+R\+MS)
\begin{DoxyCompactList}\small\item\em Create the memory structure to refer to the given block file. \end{DoxyCompactList}\item 
virtual \hyperlink{class_legacy_block_file_a9c8c23a784c746b9d638e6fa8677e7d9}{$\sim$\+Legacy\+Block\+File} ()
\item 
\hyperlink{mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h_abb452686968e48b67397da5f97445f5b}{bool} \hyperlink{class_legacy_block_file_a7648b5ac67a7d9d9634fb956b5e17980}{Read\+Summary} (\hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void} $\ast$\hyperlink{lib_2expat_8h_ac39e72a1de1cb50dbdc54b08d0432a24}{data}) override
\begin{DoxyCompactList}\small\item\em Read the summary section of the disk file. \end{DoxyCompactList}\item 
\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{class_legacy_block_file_aa58ba2908ad820f6c01a9a838908569f}{Read\+Data} (\hyperlink{include_2audacity_2_types_8h_aaafb46d1caf7c79262fec96b577215fe}{sample\+Ptr} \hyperlink{lib_2expat_8h_ac39e72a1de1cb50dbdc54b08d0432a24}{data}, \hyperlink{include_2audacity_2_types_8h_a9938d2e2f6adef23e745cd80ef379792}{sample\+Format} \hyperlink{_export_p_c_m_8cpp_a317afff57d87a89158c2b038d37b2b08}{format}, \hyperlink{include_2audacity_2_types_8h_afa427e1f521ea5ec12d054e8bd4d0f71}{sample\+Count} \hyperlink{seqread_8c_ac503262ae470564980711da4f78b1181}{start}, \hyperlink{include_2audacity_2_types_8h_afa427e1f521ea5ec12d054e8bd4d0f71}{sample\+Count} \hyperlink{lib_2expat_8h_af86d325fecfc8f47b61fbf5a5146f582}{len}) override
\begin{DoxyCompactList}\small\item\em Read the data section of the disk file. \end{DoxyCompactList}\item 
\hyperlink{class_block_file}{Block\+File} $\ast$ \hyperlink{class_legacy_block_file_ad756e67912292d3f699d9f4666153df8}{Copy} (wx\+File\+Name new\+File\+Name) override
\begin{DoxyCompactList}\small\item\em Create a N\+EW block file identical to this one. \end{DoxyCompactList}\item 
\hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void} \hyperlink{class_legacy_block_file_ae420fbdcabbd953d344de725a9894ae9}{Save\+X\+ML} (\hyperlink{class_x_m_l_writer}{X\+M\+L\+Writer} \&xml\+File) override
\begin{DoxyCompactList}\small\item\em Write an X\+ML representation of this file. \end{DoxyCompactList}\item 
wx\+Long\+Long \hyperlink{class_legacy_block_file_ac64775a57b6a5d7c870ba5cbe8bf357b}{Get\+Space\+Usage} () override
\item 
\hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void} \hyperlink{class_legacy_block_file_acb70002f6792fcc5cd15181c8513db2b}{Recover} () override
\begin{DoxyCompactList}\small\item\em if the on-\/disk state disappeared, either recover it (if it was \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{class_block_file}{Block\+File} $\ast$ \hyperlink{class_legacy_block_file_a8fb35bc6cf68a21341d61e3c9e6bfcac}{Build\+From\+X\+ML} (\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const} wx\+String \&dir, \hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const} wx\+Char $\ast$$\ast$attrs, \hyperlink{include_2audacity_2_types_8h_afa427e1f521ea5ec12d054e8bd4d0f71}{sample\+Count} \hyperlink{lib_2expat_8h_af86d325fecfc8f47b61fbf5a5146f582}{len}, \hyperlink{include_2audacity_2_types_8h_a9938d2e2f6adef23e745cd80ef379792}{sample\+Format} \hyperlink{_export_p_c_m_8cpp_a317afff57d87a89158c2b038d37b2b08}{format})
\begin{DoxyCompactList}\small\item\em static \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{include_2audacity_2_types_8h_a9938d2e2f6adef23e745cd80ef379792}{sample\+Format} \hyperlink{class_legacy_block_file_a3ea39b3d6eacf502029526539d9b4ba7}{m\+Format}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Audacity 1.\+1.\+0 block file format\+: 


\begin{DoxyItemize}
\item Header tag\+: 20 bytes \char`\"{}\+Audacity\+Block\+File110\char`\"{}
\item 64K summaries (min, max, R\+MS, each a 4-\/byte float)
\item 256 summaries (min, max, R\+MS, each a 4-\/byte float) 
\end{DoxyItemize}

Definition at line 35 of file Legacy\+Block\+File.\+h.



\subsection{Constructor \& Destructor Documentation}
\index{Legacy\+Block\+File@{Legacy\+Block\+File}!Legacy\+Block\+File@{Legacy\+Block\+File}}
\index{Legacy\+Block\+File@{Legacy\+Block\+File}!Legacy\+Block\+File@{Legacy\+Block\+File}}
\subsubsection[{\texorpdfstring{Legacy\+Block\+File(wx\+File\+Name existing\+File, sample\+Format format, sample\+Count summary\+Len, sample\+Count len, bool no\+R\+M\+S)}{LegacyBlockFile(wxFileName existingFile, sampleFormat format, sampleCount summaryLen, sampleCount len, bool noRMS)}}]{\setlength{\rightskip}{0pt plus 5cm}Legacy\+Block\+File\+::\+Legacy\+Block\+File (
\begin{DoxyParamCaption}
\item[{wx\+File\+Name}]{existing\+File, }
\item[{{\bf sample\+Format}}]{format, }
\item[{{\bf sample\+Count}}]{summary\+Len, }
\item[{{\bf sample\+Count}}]{len, }
\item[{{\bf bool}}]{no\+R\+MS}
\end{DoxyParamCaption}
)}\hypertarget{class_legacy_block_file_a40adc6cb86499af6c1f4b76fc570e155}{}\label{class_legacy_block_file_a40adc6cb86499af6c1f4b76fc570e155}


Create the memory structure to refer to the given block file. 

Construct a \hyperlink{class_legacy_block_file}{Legacy\+Block\+File} memory structure that will point to an existing block file. This file must exist and be a valid block file.


\begin{DoxyParams}{Parameters}
{\em existing\+File} & The disk file this \hyperlink{class_legacy_block_file}{Legacy\+Block\+File} should use. \\
\hline
\end{DoxyParams}


Definition at line 124 of file Legacy\+Block\+File.\+cpp.

\index{Legacy\+Block\+File@{Legacy\+Block\+File}!````~Legacy\+Block\+File@{$\sim$\+Legacy\+Block\+File}}
\index{````~Legacy\+Block\+File@{$\sim$\+Legacy\+Block\+File}!Legacy\+Block\+File@{Legacy\+Block\+File}}
\subsubsection[{\texorpdfstring{$\sim$\+Legacy\+Block\+File()}{~LegacyBlockFile()}}]{\setlength{\rightskip}{0pt plus 5cm}Legacy\+Block\+File\+::$\sim$\+Legacy\+Block\+File (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_legacy_block_file_a9c8c23a784c746b9d638e6fa8677e7d9}{}\label{class_legacy_block_file_a9c8c23a784c746b9d638e6fa8677e7d9}


Definition at line 146 of file Legacy\+Block\+File.\+cpp.



\subsection{Member Function Documentation}
\index{Legacy\+Block\+File@{Legacy\+Block\+File}!Build\+From\+X\+ML@{Build\+From\+X\+ML}}
\index{Build\+From\+X\+ML@{Build\+From\+X\+ML}!Legacy\+Block\+File@{Legacy\+Block\+File}}
\subsubsection[{\texorpdfstring{Build\+From\+X\+M\+L(const wx\+String \&dir, const wx\+Char $\ast$$\ast$attrs, sample\+Count len, sample\+Format format)}{BuildFromXML(const wxString &dir, const wxChar **attrs, sampleCount len, sampleFormat format)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Block\+File} $\ast$ Legacy\+Block\+File\+::\+Build\+From\+X\+ML (
\begin{DoxyParamCaption}
\item[{{\bf const} wx\+String \&}]{dir, }
\item[{{\bf const} wx\+Char $\ast$$\ast$}]{attrs, }
\item[{{\bf sample\+Count}}]{len, }
\item[{{\bf sample\+Format}}]{format}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{class_legacy_block_file_a8fb35bc6cf68a21341d61e3c9e6bfcac}{}\label{class_legacy_block_file_a8fb35bc6cf68a21341d61e3c9e6bfcac}


static 



Definition at line 292 of file Legacy\+Block\+File.\+cpp.

\index{Legacy\+Block\+File@{Legacy\+Block\+File}!Copy@{Copy}}
\index{Copy@{Copy}!Legacy\+Block\+File@{Legacy\+Block\+File}}
\subsubsection[{\texorpdfstring{Copy(wx\+File\+Name new\+File\+Name) override}{Copy(wxFileName newFileName) override}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Block\+File} $\ast$ Legacy\+Block\+File\+::\+Copy (
\begin{DoxyParamCaption}
\item[{wx\+File\+Name}]{new\+File\+Name}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{class_legacy_block_file_ad756e67912292d3f699d9f4666153df8}{}\label{class_legacy_block_file_ad756e67912292d3f699d9f4666153df8}


Create a N\+EW block file identical to this one. 

Create a copy of this \hyperlink{class_block_file}{Block\+File}, but using a different disk file.


\begin{DoxyParams}{Parameters}
{\em new\+File\+Name} & The name of the N\+EW file to use. \\
\hline
\end{DoxyParams}


Implements \hyperlink{class_block_file_a8f7cc554062ef6d356eb0ab7f3229df5}{Block\+File}.



Definition at line 332 of file Legacy\+Block\+File.\+cpp.

\index{Legacy\+Block\+File@{Legacy\+Block\+File}!Get\+Space\+Usage@{Get\+Space\+Usage}}
\index{Get\+Space\+Usage@{Get\+Space\+Usage}!Legacy\+Block\+File@{Legacy\+Block\+File}}
\subsubsection[{\texorpdfstring{Get\+Space\+Usage() override}{GetSpaceUsage() override}}]{\setlength{\rightskip}{0pt plus 5cm}wx\+Long\+Long Legacy\+Block\+File\+::\+Get\+Space\+Usage (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{class_legacy_block_file_ac64775a57b6a5d7c870ba5cbe8bf357b}{}\label{class_legacy_block_file_ac64775a57b6a5d7c870ba5cbe8bf357b}


Implements \hyperlink{class_block_file_a8f1eb8b4aecfb5574b9a0054eb431546}{Block\+File}.



Definition at line 343 of file Legacy\+Block\+File.\+cpp.

\index{Legacy\+Block\+File@{Legacy\+Block\+File}!Read\+Data@{Read\+Data}}
\index{Read\+Data@{Read\+Data}!Legacy\+Block\+File@{Legacy\+Block\+File}}
\subsubsection[{\texorpdfstring{Read\+Data(sample\+Ptr data, sample\+Format format, sample\+Count start, sample\+Count len) override}{ReadData(samplePtr data, sampleFormat format, sampleCount start, sampleCount len) override}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} Legacy\+Block\+File\+::\+Read\+Data (
\begin{DoxyParamCaption}
\item[{{\bf sample\+Ptr}}]{data, }
\item[{{\bf sample\+Format}}]{format, }
\item[{{\bf sample\+Count}}]{start, }
\item[{{\bf sample\+Count}}]{len}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{class_legacy_block_file_aa58ba2908ad820f6c01a9a838908569f}{}\label{class_legacy_block_file_aa58ba2908ad820f6c01a9a838908569f}


Read the data section of the disk file. 

Read the data portion of the block file using libsndfile. Convert it to the given format if it is not already.


\begin{DoxyParams}{Parameters}
{\em data} & The buffer where the data will be stored \\
\hline
{\em format} & The format the data will be stored in \\
\hline
{\em start} & The offset in this block file \\
\hline
{\em len} & The number of samples to read \\
\hline
\end{DoxyParams}


Implements \hyperlink{class_block_file_ad1355b9c8421a6f1a6b6d8cf3d3f073e}{Block\+File}.



Definition at line 186 of file Legacy\+Block\+File.\+cpp.

\index{Legacy\+Block\+File@{Legacy\+Block\+File}!Read\+Summary@{Read\+Summary}}
\index{Read\+Summary@{Read\+Summary}!Legacy\+Block\+File@{Legacy\+Block\+File}}
\subsubsection[{\texorpdfstring{Read\+Summary(void $\ast$data) override}{ReadSummary(void *data) override}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} Legacy\+Block\+File\+::\+Read\+Summary (
\begin{DoxyParamCaption}
\item[{{\bf void} $\ast$}]{data}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{class_legacy_block_file_a7648b5ac67a7d9d9634fb956b5e17980}{}\label{class_legacy_block_file_a7648b5ac67a7d9d9634fb956b5e17980}


Read the summary section of the disk file. 

Read the summary section of the disk file.


\begin{DoxyParams}{Parameters}
{\em $\ast$data} & The buffer to write the data to. It must be at least m\+Summaryinfo.\+total\+Summary\+Bytes long. \\
\hline
\end{DoxyParams}


Implements \hyperlink{class_block_file_ab9edd6f8cd08f7075b5c878c9a4ea121}{Block\+File}.



Definition at line 154 of file Legacy\+Block\+File.\+cpp.

\index{Legacy\+Block\+File@{Legacy\+Block\+File}!Recover@{Recover}}
\index{Recover@{Recover}!Legacy\+Block\+File@{Legacy\+Block\+File}}
\subsubsection[{\texorpdfstring{Recover() override}{Recover() override}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} Legacy\+Block\+File\+::\+Recover (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{class_legacy_block_file_acb70002f6792fcc5cd15181c8513db2b}{}\label{class_legacy_block_file_acb70002f6792fcc5cd15181c8513db2b}


if the on-\/disk state disappeared, either recover it (if it was 



Implements \hyperlink{class_block_file_ab57c263f507f60b0072390d4e876ea57}{Block\+File}.



Definition at line 349 of file Legacy\+Block\+File.\+cpp.

\index{Legacy\+Block\+File@{Legacy\+Block\+File}!Save\+X\+ML@{Save\+X\+ML}}
\index{Save\+X\+ML@{Save\+X\+ML}!Legacy\+Block\+File@{Legacy\+Block\+File}}
\subsubsection[{\texorpdfstring{Save\+X\+M\+L(\+X\+M\+L\+Writer \&xml\+File) override}{SaveXML(XMLWriter &xmlFile) override}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} Legacy\+Block\+File\+::\+Save\+X\+ML (
\begin{DoxyParamCaption}
\item[{{\bf X\+M\+L\+Writer} \&}]{xml\+File}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{class_legacy_block_file_ae420fbdcabbd953d344de725a9894ae9}{}\label{class_legacy_block_file_ae420fbdcabbd953d344de725a9894ae9}


Write an X\+ML representation of this file. 



Implements \hyperlink{class_block_file_a62527189fe371325e23f3802f20282f8}{Block\+File}.



Definition at line 275 of file Legacy\+Block\+File.\+cpp.



\subsection{Member Data Documentation}
\index{Legacy\+Block\+File@{Legacy\+Block\+File}!m\+Format@{m\+Format}}
\index{m\+Format@{m\+Format}!Legacy\+Block\+File@{Legacy\+Block\+File}}
\subsubsection[{\texorpdfstring{m\+Format}{mFormat}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf sample\+Format} Legacy\+Block\+File\+::m\+Format\hspace{0.3cm}{\ttfamily [protected]}}\hypertarget{class_legacy_block_file_a3ea39b3d6eacf502029526539d9b4ba7}{}\label{class_legacy_block_file_a3ea39b3d6eacf502029526539d9b4ba7}


Definition at line 68 of file Legacy\+Block\+File.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+\_\+dev/\+Open\+U/\+Audacity/audacity/src/blockfile/\hyperlink{_legacy_block_file_8h}{Legacy\+Block\+File.\+h}\item 
C\+:/\+\_\+dev/\+Open\+U/\+Audacity/audacity/src/blockfile/\hyperlink{_legacy_block_file_8cpp}{Legacy\+Block\+File.\+cpp}\end{DoxyCompactItemize}
