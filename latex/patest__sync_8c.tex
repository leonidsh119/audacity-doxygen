\hypertarget{patest__sync_8c}{}\section{C\+:/\+\_\+dev/\+Open\+U/\+Audacity/audacity/lib-\/src/portaudio-\/v19/test/patest\+\_\+sync.c File Reference}
\label{patest__sync_8c}\index{C\+:/\+\_\+dev/\+Open\+U/\+Audacity/audacity/lib-\/src/portaudio-\/v19/test/patest\+\_\+sync.\+c@{C\+:/\+\_\+dev/\+Open\+U/\+Audacity/audacity/lib-\/src/portaudio-\/v19/test/patest\+\_\+sync.\+c}}


\hyperlink{struct_test}{Test} time stamping and synchronization of audio and video.  


{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include $<$math.\+h$>$}\\*
{\ttfamily \#include \char`\"{}portaudio.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}pa\+\_\+util.\+h\char`\"{}}\\*
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structpa_test_data}{pa\+Test\+Data}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{patest__sync_8c_ae135d625843bc12c1b71c629812aa89e}{N\+U\+M\+\_\+\+B\+E\+E\+PS}~(6)
\item 
\#define \hyperlink{patest__sync_8c_a4b76a0c2859cfd819a343a780070ee2b}{S\+A\+M\+P\+L\+E\+\_\+\+R\+A\+TE}~(44100)
\item 
\#define \hyperlink{patest__sync_8c_ac32e7bee9d8c1ee37bfae3e48852535d}{S\+A\+M\+P\+L\+E\+\_\+\+P\+E\+R\+I\+OD}~(1.\+0/44100.\+0)
\item 
\#define \hyperlink{patest__sync_8c_af4f62216aa14e0407faa6631e9ec4c62}{F\+R\+A\+M\+E\+S\+\_\+\+P\+E\+R\+\_\+\+B\+U\+F\+F\+ER}~(256)
\item 
\#define \hyperlink{patest__sync_8c_ad84a59cd16b03a51bd7abbaee9d95700}{B\+E\+E\+P\+\_\+\+D\+U\+R\+A\+T\+I\+ON}~(400)
\item 
\#define \hyperlink{patest__sync_8c_a455cc7a8edce891b121de950e50f73cc}{L\+A\+T\+E\+N\+C\+Y\+\_\+\+M\+S\+EC}~(2000)
\item 
\#define \hyperlink{patest__sync_8c_ac9e50124a4351e67a9d8678e5e19763c}{S\+L\+E\+E\+P\+\_\+\+M\+S\+EC}~(10)
\item 
\#define \hyperlink{patest__sync_8c_ab949f03d24e211d2ac9cba33fa641619}{T\+I\+M\+E\+O\+U\+T\+\_\+\+M\+S\+EC}~(15000)
\item 
\#define \hyperlink{patest__sync_8c_ac1f0ea4fb5b1a07eac371d9c00909b0a}{S\+T\+A\+T\+E\+\_\+\+B\+K\+G\+\_\+\+I\+D\+LE}~(0)
\item 
\#define \hyperlink{patest__sync_8c_a35be3332e2da95a33cb0cfb454bd92b2}{S\+T\+A\+T\+E\+\_\+\+B\+K\+G\+\_\+\+P\+E\+N\+D\+I\+NG}~(1)
\item 
\#define \hyperlink{patest__sync_8c_a8a9f4494e163d351d1607d8ea487f136}{S\+T\+A\+T\+E\+\_\+\+B\+K\+G\+\_\+\+B\+E\+E\+P\+I\+NG}~(2)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{patest__sync_8c_a840291bc02cba5474a4cb46a9b9566fe}{main} (\hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void})
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\hyperlink{struct_test}{Test} time stamping and synchronization of audio and video. 

A high latency is used so we can hear the difference in time. Random durations are used so we know we are hearing the right beep and not the one before or after.

\hyperlink{class_sequence}{Sequence} of events\+:
\begin{DoxyEnumerate}
\item Foreground requests a beep.
\item Background randomly schedules a beep.
\item Foreground waits for the beep to be heard based on \hyperlink{pa__util_8h_a9598384d28d22d589f607ca1069cc04c}{Pa\+Util\+\_\+\+Get\+Time()}.
\item Foreground outputs video (printf) in sync with audio.
\item Repeat.
\end{DoxyEnumerate}

\begin{DoxyAuthor}{Author}
Phil Burk \href{http://www.softsynth.com}{\tt http\+://www.\+softsynth.\+com} 
\end{DoxyAuthor}


\subsection{Macro Definition Documentation}
\index{patest\+\_\+sync.\+c@{patest\+\_\+sync.\+c}!B\+E\+E\+P\+\_\+\+D\+U\+R\+A\+T\+I\+ON@{B\+E\+E\+P\+\_\+\+D\+U\+R\+A\+T\+I\+ON}}
\index{B\+E\+E\+P\+\_\+\+D\+U\+R\+A\+T\+I\+ON@{B\+E\+E\+P\+\_\+\+D\+U\+R\+A\+T\+I\+ON}!patest\+\_\+sync.\+c@{patest\+\_\+sync.\+c}}
\subsubsection[{\texorpdfstring{B\+E\+E\+P\+\_\+\+D\+U\+R\+A\+T\+I\+ON}{BEEP_DURATION}}]{\setlength{\rightskip}{0pt plus 5cm}\#define B\+E\+E\+P\+\_\+\+D\+U\+R\+A\+T\+I\+ON~(400)}\hypertarget{patest__sync_8c_ad84a59cd16b03a51bd7abbaee9d95700}{}\label{patest__sync_8c_ad84a59cd16b03a51bd7abbaee9d95700}


Definition at line 64 of file patest\+\_\+sync.\+c.

\index{patest\+\_\+sync.\+c@{patest\+\_\+sync.\+c}!F\+R\+A\+M\+E\+S\+\_\+\+P\+E\+R\+\_\+\+B\+U\+F\+F\+ER@{F\+R\+A\+M\+E\+S\+\_\+\+P\+E\+R\+\_\+\+B\+U\+F\+F\+ER}}
\index{F\+R\+A\+M\+E\+S\+\_\+\+P\+E\+R\+\_\+\+B\+U\+F\+F\+ER@{F\+R\+A\+M\+E\+S\+\_\+\+P\+E\+R\+\_\+\+B\+U\+F\+F\+ER}!patest\+\_\+sync.\+c@{patest\+\_\+sync.\+c}}
\subsubsection[{\texorpdfstring{F\+R\+A\+M\+E\+S\+\_\+\+P\+E\+R\+\_\+\+B\+U\+F\+F\+ER}{FRAMES_PER_BUFFER}}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\+R\+A\+M\+E\+S\+\_\+\+P\+E\+R\+\_\+\+B\+U\+F\+F\+ER~(256)}\hypertarget{patest__sync_8c_af4f62216aa14e0407faa6631e9ec4c62}{}\label{patest__sync_8c_af4f62216aa14e0407faa6631e9ec4c62}


Definition at line 63 of file patest\+\_\+sync.\+c.

\index{patest\+\_\+sync.\+c@{patest\+\_\+sync.\+c}!L\+A\+T\+E\+N\+C\+Y\+\_\+\+M\+S\+EC@{L\+A\+T\+E\+N\+C\+Y\+\_\+\+M\+S\+EC}}
\index{L\+A\+T\+E\+N\+C\+Y\+\_\+\+M\+S\+EC@{L\+A\+T\+E\+N\+C\+Y\+\_\+\+M\+S\+EC}!patest\+\_\+sync.\+c@{patest\+\_\+sync.\+c}}
\subsubsection[{\texorpdfstring{L\+A\+T\+E\+N\+C\+Y\+\_\+\+M\+S\+EC}{LATENCY_MSEC}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+A\+T\+E\+N\+C\+Y\+\_\+\+M\+S\+EC~(2000)}\hypertarget{patest__sync_8c_a455cc7a8edce891b121de950e50f73cc}{}\label{patest__sync_8c_a455cc7a8edce891b121de950e50f73cc}


Definition at line 65 of file patest\+\_\+sync.\+c.

\index{patest\+\_\+sync.\+c@{patest\+\_\+sync.\+c}!N\+U\+M\+\_\+\+B\+E\+E\+PS@{N\+U\+M\+\_\+\+B\+E\+E\+PS}}
\index{N\+U\+M\+\_\+\+B\+E\+E\+PS@{N\+U\+M\+\_\+\+B\+E\+E\+PS}!patest\+\_\+sync.\+c@{patest\+\_\+sync.\+c}}
\subsubsection[{\texorpdfstring{N\+U\+M\+\_\+\+B\+E\+E\+PS}{NUM_BEEPS}}]{\setlength{\rightskip}{0pt plus 5cm}\#define N\+U\+M\+\_\+\+B\+E\+E\+PS~(6)}\hypertarget{patest__sync_8c_ae135d625843bc12c1b71c629812aa89e}{}\label{patest__sync_8c_ae135d625843bc12c1b71c629812aa89e}


Definition at line 60 of file patest\+\_\+sync.\+c.

\index{patest\+\_\+sync.\+c@{patest\+\_\+sync.\+c}!S\+A\+M\+P\+L\+E\+\_\+\+P\+E\+R\+I\+OD@{S\+A\+M\+P\+L\+E\+\_\+\+P\+E\+R\+I\+OD}}
\index{S\+A\+M\+P\+L\+E\+\_\+\+P\+E\+R\+I\+OD@{S\+A\+M\+P\+L\+E\+\_\+\+P\+E\+R\+I\+OD}!patest\+\_\+sync.\+c@{patest\+\_\+sync.\+c}}
\subsubsection[{\texorpdfstring{S\+A\+M\+P\+L\+E\+\_\+\+P\+E\+R\+I\+OD}{SAMPLE_PERIOD}}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+A\+M\+P\+L\+E\+\_\+\+P\+E\+R\+I\+OD~(1.\+0/44100.\+0)}\hypertarget{patest__sync_8c_ac32e7bee9d8c1ee37bfae3e48852535d}{}\label{patest__sync_8c_ac32e7bee9d8c1ee37bfae3e48852535d}


Definition at line 62 of file patest\+\_\+sync.\+c.

\index{patest\+\_\+sync.\+c@{patest\+\_\+sync.\+c}!S\+A\+M\+P\+L\+E\+\_\+\+R\+A\+TE@{S\+A\+M\+P\+L\+E\+\_\+\+R\+A\+TE}}
\index{S\+A\+M\+P\+L\+E\+\_\+\+R\+A\+TE@{S\+A\+M\+P\+L\+E\+\_\+\+R\+A\+TE}!patest\+\_\+sync.\+c@{patest\+\_\+sync.\+c}}
\subsubsection[{\texorpdfstring{S\+A\+M\+P\+L\+E\+\_\+\+R\+A\+TE}{SAMPLE_RATE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+A\+M\+P\+L\+E\+\_\+\+R\+A\+TE~(44100)}\hypertarget{patest__sync_8c_a4b76a0c2859cfd819a343a780070ee2b}{}\label{patest__sync_8c_a4b76a0c2859cfd819a343a780070ee2b}


Definition at line 61 of file patest\+\_\+sync.\+c.

\index{patest\+\_\+sync.\+c@{patest\+\_\+sync.\+c}!S\+L\+E\+E\+P\+\_\+\+M\+S\+EC@{S\+L\+E\+E\+P\+\_\+\+M\+S\+EC}}
\index{S\+L\+E\+E\+P\+\_\+\+M\+S\+EC@{S\+L\+E\+E\+P\+\_\+\+M\+S\+EC}!patest\+\_\+sync.\+c@{patest\+\_\+sync.\+c}}
\subsubsection[{\texorpdfstring{S\+L\+E\+E\+P\+\_\+\+M\+S\+EC}{SLEEP_MSEC}}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+L\+E\+E\+P\+\_\+\+M\+S\+EC~(10)}\hypertarget{patest__sync_8c_ac9e50124a4351e67a9d8678e5e19763c}{}\label{patest__sync_8c_ac9e50124a4351e67a9d8678e5e19763c}


Definition at line 66 of file patest\+\_\+sync.\+c.

\index{patest\+\_\+sync.\+c@{patest\+\_\+sync.\+c}!S\+T\+A\+T\+E\+\_\+\+B\+K\+G\+\_\+\+B\+E\+E\+P\+I\+NG@{S\+T\+A\+T\+E\+\_\+\+B\+K\+G\+\_\+\+B\+E\+E\+P\+I\+NG}}
\index{S\+T\+A\+T\+E\+\_\+\+B\+K\+G\+\_\+\+B\+E\+E\+P\+I\+NG@{S\+T\+A\+T\+E\+\_\+\+B\+K\+G\+\_\+\+B\+E\+E\+P\+I\+NG}!patest\+\_\+sync.\+c@{patest\+\_\+sync.\+c}}
\subsubsection[{\texorpdfstring{S\+T\+A\+T\+E\+\_\+\+B\+K\+G\+\_\+\+B\+E\+E\+P\+I\+NG}{STATE_BKG_BEEPING}}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+T\+A\+T\+E\+\_\+\+B\+K\+G\+\_\+\+B\+E\+E\+P\+I\+NG~(2)}\hypertarget{patest__sync_8c_a8a9f4494e163d351d1607d8ea487f136}{}\label{patest__sync_8c_a8a9f4494e163d351d1607d8ea487f136}


Definition at line 71 of file patest\+\_\+sync.\+c.

\index{patest\+\_\+sync.\+c@{patest\+\_\+sync.\+c}!S\+T\+A\+T\+E\+\_\+\+B\+K\+G\+\_\+\+I\+D\+LE@{S\+T\+A\+T\+E\+\_\+\+B\+K\+G\+\_\+\+I\+D\+LE}}
\index{S\+T\+A\+T\+E\+\_\+\+B\+K\+G\+\_\+\+I\+D\+LE@{S\+T\+A\+T\+E\+\_\+\+B\+K\+G\+\_\+\+I\+D\+LE}!patest\+\_\+sync.\+c@{patest\+\_\+sync.\+c}}
\subsubsection[{\texorpdfstring{S\+T\+A\+T\+E\+\_\+\+B\+K\+G\+\_\+\+I\+D\+LE}{STATE_BKG_IDLE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+T\+A\+T\+E\+\_\+\+B\+K\+G\+\_\+\+I\+D\+LE~(0)}\hypertarget{patest__sync_8c_ac1f0ea4fb5b1a07eac371d9c00909b0a}{}\label{patest__sync_8c_ac1f0ea4fb5b1a07eac371d9c00909b0a}


Definition at line 69 of file patest\+\_\+sync.\+c.

\index{patest\+\_\+sync.\+c@{patest\+\_\+sync.\+c}!S\+T\+A\+T\+E\+\_\+\+B\+K\+G\+\_\+\+P\+E\+N\+D\+I\+NG@{S\+T\+A\+T\+E\+\_\+\+B\+K\+G\+\_\+\+P\+E\+N\+D\+I\+NG}}
\index{S\+T\+A\+T\+E\+\_\+\+B\+K\+G\+\_\+\+P\+E\+N\+D\+I\+NG@{S\+T\+A\+T\+E\+\_\+\+B\+K\+G\+\_\+\+P\+E\+N\+D\+I\+NG}!patest\+\_\+sync.\+c@{patest\+\_\+sync.\+c}}
\subsubsection[{\texorpdfstring{S\+T\+A\+T\+E\+\_\+\+B\+K\+G\+\_\+\+P\+E\+N\+D\+I\+NG}{STATE_BKG_PENDING}}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+T\+A\+T\+E\+\_\+\+B\+K\+G\+\_\+\+P\+E\+N\+D\+I\+NG~(1)}\hypertarget{patest__sync_8c_a35be3332e2da95a33cb0cfb454bd92b2}{}\label{patest__sync_8c_a35be3332e2da95a33cb0cfb454bd92b2}


Definition at line 70 of file patest\+\_\+sync.\+c.

\index{patest\+\_\+sync.\+c@{patest\+\_\+sync.\+c}!T\+I\+M\+E\+O\+U\+T\+\_\+\+M\+S\+EC@{T\+I\+M\+E\+O\+U\+T\+\_\+\+M\+S\+EC}}
\index{T\+I\+M\+E\+O\+U\+T\+\_\+\+M\+S\+EC@{T\+I\+M\+E\+O\+U\+T\+\_\+\+M\+S\+EC}!patest\+\_\+sync.\+c@{patest\+\_\+sync.\+c}}
\subsubsection[{\texorpdfstring{T\+I\+M\+E\+O\+U\+T\+\_\+\+M\+S\+EC}{TIMEOUT_MSEC}}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+I\+M\+E\+O\+U\+T\+\_\+\+M\+S\+EC~(15000)}\hypertarget{patest__sync_8c_ab949f03d24e211d2ac9cba33fa641619}{}\label{patest__sync_8c_ab949f03d24e211d2ac9cba33fa641619}


Definition at line 67 of file patest\+\_\+sync.\+c.



\subsection{Function Documentation}
\index{patest\+\_\+sync.\+c@{patest\+\_\+sync.\+c}!main@{main}}
\index{main@{main}!patest\+\_\+sync.\+c@{patest\+\_\+sync.\+c}}
\subsubsection[{\texorpdfstring{main(void)}{main(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} main (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{patest__sync_8c_a840291bc02cba5474a4cb46a9b9566fe}{}\label{patest__sync_8c_a840291bc02cba5474a4cb46a9b9566fe}


Definition at line 171 of file patest\+\_\+sync.\+c.

