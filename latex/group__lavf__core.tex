\hypertarget{group__lavf__core}{}\section{Core functions}
\label{group__lavf__core}\index{Core functions@{Core functions}}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
unsigned \hyperlink{group__lavf__core_gaf2d4e0fee66cef99dea2153933e6b907}{avformat\+\_\+version} (\hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void})
\item 
\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$ \hyperlink{group__lavf__core_ga5f48b0398d77d8eeb45d6c649e4e3404}{avformat\+\_\+configuration} (\hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void})
\item 
\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$ \hyperlink{group__lavf__core_ga160fef784175409f945c70e8931accc8}{avformat\+\_\+license} (\hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void})
\item 
\hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void} \hyperlink{group__lavf__core_ga917265caec45ef5a0646356ed1a507e3}{av\+\_\+register\+\_\+all} (\hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void})
\item 
\hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void} \hyperlink{group__lavf__core_ga896f319308627b5b66fd41a4b1d53ae6}{av\+\_\+register\+\_\+input\+\_\+format} (\hyperlink{struct_a_v_input_format}{A\+V\+Input\+Format} $\ast$\hyperlink{_export_p_c_m_8cpp_a317afff57d87a89158c2b038d37b2b08}{format})
\item 
\hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void} \hyperlink{group__lavf__core_gabf0629358bc40c7874932ef6f4dda6b8}{av\+\_\+register\+\_\+output\+\_\+format} (\hyperlink{struct_a_v_output_format}{A\+V\+Output\+Format} $\ast$\hyperlink{_export_p_c_m_8cpp_a317afff57d87a89158c2b038d37b2b08}{format})
\item 
\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{group__lavf__core_ga84542023693d61e8564c5d457979c932}{avformat\+\_\+network\+\_\+init} (\hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void})
\item 
\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{group__lavf__core_ga245f2875f80ce67ec3d1e0f54dacf2c4}{avformat\+\_\+network\+\_\+deinit} (\hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void})
\item 
\hyperlink{struct_a_v_input_format}{A\+V\+Input\+Format} $\ast$ \hyperlink{group__lavf__core_ga5a9e27c9e2b04abcf6ed2e0f9b68da4f}{av\+\_\+iformat\+\_\+next} (\hyperlink{struct_a_v_input_format}{A\+V\+Input\+Format} $\ast$\hyperlink{checksum_8c_ae747d72a1a803f5ff4a4b2602857d93b}{f})
\item 
\hyperlink{struct_a_v_output_format}{A\+V\+Output\+Format} $\ast$ \hyperlink{group__lavf__core_ga9c169031f490901218b1e6bcd9993967}{av\+\_\+oformat\+\_\+next} (\hyperlink{struct_a_v_output_format}{A\+V\+Output\+Format} $\ast$\hyperlink{checksum_8c_ae747d72a1a803f5ff4a4b2602857d93b}{f})
\item 
\hyperlink{struct_a_v_format_context}{A\+V\+Format\+Context} $\ast$ \hyperlink{group__lavf__core_gac7a91abf2f59648d995894711f070f62}{avformat\+\_\+alloc\+\_\+context} (\hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void})
\item 
\hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void} \hyperlink{group__lavf__core_gac2990b13b68e831a408fce8e1d0d6445}{avformat\+\_\+free\+\_\+context} (\hyperlink{struct_a_v_format_context}{A\+V\+Format\+Context} $\ast$\hyperlink{lib_2expat_8h_a755339d27872b13735c2cab829e47157}{s})
\item 
\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const} \hyperlink{struct_a_v_class}{A\+V\+Class} $\ast$ \hyperlink{group__lavf__core_ga6030789ce395ef543306bbe933619749}{avformat\+\_\+get\+\_\+class} (\hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void})
\item 
\hyperlink{struct_a_v_stream}{A\+V\+Stream} $\ast$ \hyperlink{group__lavf__core_gadcb0fd3e507d9b58fe78f61f8ad39827}{avformat\+\_\+new\+\_\+stream} (\hyperlink{struct_a_v_format_context}{A\+V\+Format\+Context} $\ast$\hyperlink{lib_2expat_8h_a755339d27872b13735c2cab829e47157}{s}, \hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const} \hyperlink{struct_a_v_codec}{A\+V\+Codec} $\ast$\hyperlink{rfft2d_test_m_l_8m_ae0323a9039add2978bf5b49550572c7c}{c})
\item 
\hyperlink{struct_a_v_program}{A\+V\+Program} $\ast$ \hyperlink{group__lavf__core_gab31f7c7c99dcadead38e8e83e0fdb828}{av\+\_\+new\+\_\+program} (\hyperlink{struct_a_v_format_context}{A\+V\+Format\+Context} $\ast$\hyperlink{lib_2expat_8h_a755339d27872b13735c2cab829e47157}{s}, \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} id)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Functions for querying libavformat capabilities, allocating core structures, etc. 

\subsection{Function Documentation}
\index{Core functions@{Core functions}!av\+\_\+iformat\+\_\+next@{av\+\_\+iformat\+\_\+next}}
\index{av\+\_\+iformat\+\_\+next@{av\+\_\+iformat\+\_\+next}!Core functions@{Core functions}}
\subsubsection[{\texorpdfstring{av\+\_\+iformat\+\_\+next(\+A\+V\+Input\+Format $\ast$f)}{av_iformat_next(AVInputFormat *f)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf A\+V\+Input\+Format}$\ast$ av\+\_\+iformat\+\_\+next (
\begin{DoxyParamCaption}
\item[{{\bf A\+V\+Input\+Format} $\ast$}]{f}
\end{DoxyParamCaption}
)}\hypertarget{group__lavf__core_ga5a9e27c9e2b04abcf6ed2e0f9b68da4f}{}\label{group__lavf__core_ga5a9e27c9e2b04abcf6ed2e0f9b68da4f}
If f is N\+U\+LL, returns the first registered input format, if f is non-\/\+N\+U\+LL, returns the next registered input format after f or N\+U\+LL if f is the last one. \index{Core functions@{Core functions}!av\+\_\+new\+\_\+program@{av\+\_\+new\+\_\+program}}
\index{av\+\_\+new\+\_\+program@{av\+\_\+new\+\_\+program}!Core functions@{Core functions}}
\subsubsection[{\texorpdfstring{av\+\_\+new\+\_\+program(\+A\+V\+Format\+Context $\ast$s, int id)}{av_new_program(AVFormatContext *s, int id)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf A\+V\+Program}$\ast$ av\+\_\+new\+\_\+program (
\begin{DoxyParamCaption}
\item[{{\bf A\+V\+Format\+Context} $\ast$}]{s, }
\item[{{\bf int}}]{id}
\end{DoxyParamCaption}
)}\hypertarget{group__lavf__core_gab31f7c7c99dcadead38e8e83e0fdb828}{}\label{group__lavf__core_gab31f7c7c99dcadead38e8e83e0fdb828}
\index{Core functions@{Core functions}!av\+\_\+oformat\+\_\+next@{av\+\_\+oformat\+\_\+next}}
\index{av\+\_\+oformat\+\_\+next@{av\+\_\+oformat\+\_\+next}!Core functions@{Core functions}}
\subsubsection[{\texorpdfstring{av\+\_\+oformat\+\_\+next(\+A\+V\+Output\+Format $\ast$f)}{av_oformat_next(AVOutputFormat *f)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf A\+V\+Output\+Format}$\ast$ av\+\_\+oformat\+\_\+next (
\begin{DoxyParamCaption}
\item[{{\bf A\+V\+Output\+Format} $\ast$}]{f}
\end{DoxyParamCaption}
)}\hypertarget{group__lavf__core_ga9c169031f490901218b1e6bcd9993967}{}\label{group__lavf__core_ga9c169031f490901218b1e6bcd9993967}
If f is N\+U\+LL, returns the first registered output format, if f is non-\/\+N\+U\+LL, returns the next registered output format after f or N\+U\+LL if f is the last one. \index{Core functions@{Core functions}!av\+\_\+register\+\_\+all@{av\+\_\+register\+\_\+all}}
\index{av\+\_\+register\+\_\+all@{av\+\_\+register\+\_\+all}!Core functions@{Core functions}}
\subsubsection[{\texorpdfstring{av\+\_\+register\+\_\+all(void)}{av_register_all(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} av\+\_\+register\+\_\+all (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__lavf__core_ga917265caec45ef5a0646356ed1a507e3}{}\label{group__lavf__core_ga917265caec45ef5a0646356ed1a507e3}
Initialize libavformat and register all the muxers, demuxers and protocols. If you do not call this function, then you can select exactly which formats you want to support.

\begin{DoxySeeAlso}{See also}
\hyperlink{group__lavf__core_ga896f319308627b5b66fd41a4b1d53ae6}{av\+\_\+register\+\_\+input\+\_\+format()} 

\hyperlink{group__lavf__core_gabf0629358bc40c7874932ef6f4dda6b8}{av\+\_\+register\+\_\+output\+\_\+format()} 
\end{DoxySeeAlso}
\index{Core functions@{Core functions}!av\+\_\+register\+\_\+input\+\_\+format@{av\+\_\+register\+\_\+input\+\_\+format}}
\index{av\+\_\+register\+\_\+input\+\_\+format@{av\+\_\+register\+\_\+input\+\_\+format}!Core functions@{Core functions}}
\subsubsection[{\texorpdfstring{av\+\_\+register\+\_\+input\+\_\+format(\+A\+V\+Input\+Format $\ast$format)}{av_register_input_format(AVInputFormat *format)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} av\+\_\+register\+\_\+input\+\_\+format (
\begin{DoxyParamCaption}
\item[{{\bf A\+V\+Input\+Format} $\ast$}]{format}
\end{DoxyParamCaption}
)}\hypertarget{group__lavf__core_ga896f319308627b5b66fd41a4b1d53ae6}{}\label{group__lavf__core_ga896f319308627b5b66fd41a4b1d53ae6}
\index{Core functions@{Core functions}!av\+\_\+register\+\_\+output\+\_\+format@{av\+\_\+register\+\_\+output\+\_\+format}}
\index{av\+\_\+register\+\_\+output\+\_\+format@{av\+\_\+register\+\_\+output\+\_\+format}!Core functions@{Core functions}}
\subsubsection[{\texorpdfstring{av\+\_\+register\+\_\+output\+\_\+format(\+A\+V\+Output\+Format $\ast$format)}{av_register_output_format(AVOutputFormat *format)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} av\+\_\+register\+\_\+output\+\_\+format (
\begin{DoxyParamCaption}
\item[{{\bf A\+V\+Output\+Format} $\ast$}]{format}
\end{DoxyParamCaption}
)}\hypertarget{group__lavf__core_gabf0629358bc40c7874932ef6f4dda6b8}{}\label{group__lavf__core_gabf0629358bc40c7874932ef6f4dda6b8}
\index{Core functions@{Core functions}!avformat\+\_\+alloc\+\_\+context@{avformat\+\_\+alloc\+\_\+context}}
\index{avformat\+\_\+alloc\+\_\+context@{avformat\+\_\+alloc\+\_\+context}!Core functions@{Core functions}}
\subsubsection[{\texorpdfstring{avformat\+\_\+alloc\+\_\+context(void)}{avformat_alloc_context(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf A\+V\+Format\+Context}$\ast$ avformat\+\_\+alloc\+\_\+context (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__lavf__core_gac7a91abf2f59648d995894711f070f62}{}\label{group__lavf__core_gac7a91abf2f59648d995894711f070f62}
Allocate an \hyperlink{struct_a_v_format_context}{A\+V\+Format\+Context}. \hyperlink{group__lavf__core_gac2990b13b68e831a408fce8e1d0d6445}{avformat\+\_\+free\+\_\+context()} can be used to free the context and everything allocated by the framework within it. \index{Core functions@{Core functions}!avformat\+\_\+configuration@{avformat\+\_\+configuration}}
\index{avformat\+\_\+configuration@{avformat\+\_\+configuration}!Core functions@{Core functions}}
\subsubsection[{\texorpdfstring{avformat\+\_\+configuration(void)}{avformat_configuration(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const} char$\ast$ avformat\+\_\+configuration (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__lavf__core_ga5f48b0398d77d8eeb45d6c649e4e3404}{}\label{group__lavf__core_ga5f48b0398d77d8eeb45d6c649e4e3404}
Return the libavformat build-\/time configuration. \index{Core functions@{Core functions}!avformat\+\_\+free\+\_\+context@{avformat\+\_\+free\+\_\+context}}
\index{avformat\+\_\+free\+\_\+context@{avformat\+\_\+free\+\_\+context}!Core functions@{Core functions}}
\subsubsection[{\texorpdfstring{avformat\+\_\+free\+\_\+context(\+A\+V\+Format\+Context $\ast$s)}{avformat_free_context(AVFormatContext *s)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} avformat\+\_\+free\+\_\+context (
\begin{DoxyParamCaption}
\item[{{\bf A\+V\+Format\+Context} $\ast$}]{s}
\end{DoxyParamCaption}
)}\hypertarget{group__lavf__core_gac2990b13b68e831a408fce8e1d0d6445}{}\label{group__lavf__core_gac2990b13b68e831a408fce8e1d0d6445}
Free an \hyperlink{struct_a_v_format_context}{A\+V\+Format\+Context} and all its streams. 
\begin{DoxyParams}{Parameters}
{\em s} & context to free \\
\hline
\end{DoxyParams}
\index{Core functions@{Core functions}!avformat\+\_\+get\+\_\+class@{avformat\+\_\+get\+\_\+class}}
\index{avformat\+\_\+get\+\_\+class@{avformat\+\_\+get\+\_\+class}!Core functions@{Core functions}}
\subsubsection[{\texorpdfstring{avformat\+\_\+get\+\_\+class(void)}{avformat_get_class(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const} {\bf A\+V\+Class}$\ast$ avformat\+\_\+get\+\_\+class (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__lavf__core_ga6030789ce395ef543306bbe933619749}{}\label{group__lavf__core_ga6030789ce395ef543306bbe933619749}
Get the \hyperlink{struct_a_v_class}{A\+V\+Class} for \hyperlink{struct_a_v_format_context}{A\+V\+Format\+Context}. It can be used in combination with A\+V\+\_\+\+O\+P\+T\+\_\+\+S\+E\+A\+R\+C\+H\+\_\+\+F\+A\+K\+E\+\_\+\+O\+BJ for examining options.

\begin{DoxySeeAlso}{See also}
\hyperlink{group__avoptions_gae31ae7fb20113b00108d0ecf53f25664}{av\+\_\+opt\+\_\+find()}. 
\end{DoxySeeAlso}
\index{Core functions@{Core functions}!avformat\+\_\+license@{avformat\+\_\+license}}
\index{avformat\+\_\+license@{avformat\+\_\+license}!Core functions@{Core functions}}
\subsubsection[{\texorpdfstring{avformat\+\_\+license(void)}{avformat_license(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const} char$\ast$ avformat\+\_\+license (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__lavf__core_ga160fef784175409f945c70e8931accc8}{}\label{group__lavf__core_ga160fef784175409f945c70e8931accc8}
Return the libavformat license. \index{Core functions@{Core functions}!avformat\+\_\+network\+\_\+deinit@{avformat\+\_\+network\+\_\+deinit}}
\index{avformat\+\_\+network\+\_\+deinit@{avformat\+\_\+network\+\_\+deinit}!Core functions@{Core functions}}
\subsubsection[{\texorpdfstring{avformat\+\_\+network\+\_\+deinit(void)}{avformat_network_deinit(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} avformat\+\_\+network\+\_\+deinit (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__lavf__core_ga245f2875f80ce67ec3d1e0f54dacf2c4}{}\label{group__lavf__core_ga245f2875f80ce67ec3d1e0f54dacf2c4}
Undo the initialization done by avformat\+\_\+network\+\_\+init. \index{Core functions@{Core functions}!avformat\+\_\+network\+\_\+init@{avformat\+\_\+network\+\_\+init}}
\index{avformat\+\_\+network\+\_\+init@{avformat\+\_\+network\+\_\+init}!Core functions@{Core functions}}
\subsubsection[{\texorpdfstring{avformat\+\_\+network\+\_\+init(void)}{avformat_network_init(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} avformat\+\_\+network\+\_\+init (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__lavf__core_ga84542023693d61e8564c5d457979c932}{}\label{group__lavf__core_ga84542023693d61e8564c5d457979c932}
Do global initialization of network components. This is optional, but recommended, since it avoids the overhead of implicitly doing the setup for each session.

Calling this function will become mandatory if using network protocols at some major version bump. \index{Core functions@{Core functions}!avformat\+\_\+new\+\_\+stream@{avformat\+\_\+new\+\_\+stream}}
\index{avformat\+\_\+new\+\_\+stream@{avformat\+\_\+new\+\_\+stream}!Core functions@{Core functions}}
\subsubsection[{\texorpdfstring{avformat\+\_\+new\+\_\+stream(\+A\+V\+Format\+Context $\ast$s, const A\+V\+Codec $\ast$c)}{avformat_new_stream(AVFormatContext *s, const AVCodec *c)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf A\+V\+Stream}$\ast$ avformat\+\_\+new\+\_\+stream (
\begin{DoxyParamCaption}
\item[{{\bf A\+V\+Format\+Context} $\ast$}]{s, }
\item[{{\bf const} {\bf A\+V\+Codec} $\ast$}]{c}
\end{DoxyParamCaption}
)}\hypertarget{group__lavf__core_gadcb0fd3e507d9b58fe78f61f8ad39827}{}\label{group__lavf__core_gadcb0fd3e507d9b58fe78f61f8ad39827}
Add a new stream to a media file.

When demuxing, it is called by the demuxer in read\+\_\+header(). If the flag A\+V\+F\+M\+T\+C\+T\+X\+\_\+\+N\+O\+H\+E\+A\+D\+ER is set in s.\+ctx\+\_\+flags, then it may also be called in read\+\_\+packet().

When muxing, should be called by the user before \hyperlink{group__lavf__encoding_ga78d4e734fecb1d2385536e6dd5b7b9f5}{avformat\+\_\+write\+\_\+header()}.

User is required to call \hyperlink{group__lavc__core_gaf4daa92361efb3523ef5afeb0b54077f}{avcodec\+\_\+close()} and \hyperlink{group__lavf__core_gac2990b13b68e831a408fce8e1d0d6445}{avformat\+\_\+free\+\_\+context()} to clean up the allocation by \hyperlink{group__lavf__core_gadcb0fd3e507d9b58fe78f61f8ad39827}{avformat\+\_\+new\+\_\+stream()}.


\begin{DoxyParams}{Parameters}
{\em s} & media file handle \\
\hline
{\em c} & If non-\/\+N\+U\+LL, the \hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context} corresponding to the new stream will be initialized to use this codec. This is needed for e.\+g. codec-\/specific defaults to be set, so codec should be provided if it is known.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
newly created stream or N\+U\+LL on error. 
\end{DoxyReturn}
\index{Core functions@{Core functions}!avformat\+\_\+version@{avformat\+\_\+version}}
\index{avformat\+\_\+version@{avformat\+\_\+version}!Core functions@{Core functions}}
\subsubsection[{\texorpdfstring{avformat\+\_\+version(void)}{avformat_version(void)}}]{\setlength{\rightskip}{0pt plus 5cm}unsigned avformat\+\_\+version (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__lavf__core_gaf2d4e0fee66cef99dea2153933e6b907}{}\label{group__lavf__core_gaf2d4e0fee66cef99dea2153933e6b907}
Return the L\+I\+B\+A\+V\+F\+O\+R\+M\+A\+T\+\_\+\+V\+E\+R\+S\+I\+O\+N\+\_\+\+I\+NT constant. 