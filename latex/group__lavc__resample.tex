\hypertarget{group__lavc__resample}{}\section{Audio resampling}
\label{group__lavc__resample}\index{Audio resampling@{Audio resampling}}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{group__lavc__resample_ga0051f36cfec3437423a131c085ff5ea2}{Re\+Sample\+Context} \hyperlink{group__lavc__resample_ga0051f36cfec3437423a131c085ff5ea2}{Re\+Sample\+Context}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{attributes_8h_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated} \hyperlink{group__lavc__resample_ga0051f36cfec3437423a131c085ff5ea2}{Re\+Sample\+Context} $\ast$ \hyperlink{group__lavc__resample_ga6837453b6819cf2f4d26c2d320b1d696}{av\+\_\+audio\+\_\+resample\+\_\+init} (\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} output\+\_\+channels, \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} input\+\_\+channels, \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} output\+\_\+rate, \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} input\+\_\+rate, enum \hyperlink{samplefmt_8h_af9a51ca15301871723577c730b5865c5}{A\+V\+Sample\+Format} sample\+\_\+fmt\+\_\+out, enum \hyperlink{samplefmt_8h_af9a51ca15301871723577c730b5865c5}{A\+V\+Sample\+Format} sample\+\_\+fmt\+\_\+in, \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} filter\+\_\+length, \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} log2\+\_\+phase\+\_\+count, \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} linear, double cutoff)
\item 
\hyperlink{attributes_8h_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated} \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{group__lavc__resample_ga4a2391f7d72287f478ae9dfc0ae373f4}{audio\+\_\+resample} (\hyperlink{group__lavc__resample_ga0051f36cfec3437423a131c085ff5ea2}{Re\+Sample\+Context} $\ast$\hyperlink{lib_2expat_8h_a755339d27872b13735c2cab829e47157}{s}, short $\ast$\hyperlink{mm_8c_aeb3fcf4ab0f02cc4420e5a97568a07ef}{output}, short $\ast$input, \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} nb\+\_\+samples)
\item 
\hyperlink{attributes_8h_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated} \hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void} \hyperlink{group__lavc__resample_ga06447648458074fba375b9cc069664e0}{audio\+\_\+resample\+\_\+close} (\hyperlink{group__lavc__resample_ga0051f36cfec3437423a131c085ff5ea2}{Re\+Sample\+Context} $\ast$\hyperlink{lib_2expat_8h_a755339d27872b13735c2cab829e47157}{s})
\item 
\hyperlink{attributes_8h_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated} struct A\+V\+Resample\+Context $\ast$ \hyperlink{group__lavc__resample_ga9f11d551d458bb904e1078c65121fe03}{av\+\_\+resample\+\_\+init} (\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} out\+\_\+rate, \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} in\+\_\+rate, \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} filter\+\_\+length, \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} log2\+\_\+phase\+\_\+count, \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} linear, double cutoff)
\item 
\hyperlink{attributes_8h_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated} \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{group__lavc__resample_gaced5571eafa8e23a25b96e1755f8f65c}{av\+\_\+resample} (struct A\+V\+Resample\+Context $\ast$\hyperlink{rfft2d_test_m_l_8m_ae0323a9039add2978bf5b49550572c7c}{c}, short $\ast$dst, short $\ast$src, \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} $\ast$consumed, \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} src\+\_\+size, \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} dst\+\_\+size, \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} update\+\_\+ctx)
\item 
\hyperlink{attributes_8h_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated} \hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void} \hyperlink{group__lavc__resample_gadf6acc7cdbbf2fe8d6a7990a22662c0b}{av\+\_\+resample\+\_\+compensate} (struct A\+V\+Resample\+Context $\ast$\hyperlink{rfft2d_test_m_l_8m_ae0323a9039add2978bf5b49550572c7c}{c}, \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} sample\+\_\+delta, \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} compensation\+\_\+distance)
\item 
\hyperlink{attributes_8h_aa6d076561d3a9eea4729ee632652de02}{attribute\+\_\+deprecated} \hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void} \hyperlink{group__lavc__resample_ga2901688d58c5a64b97436288b301ad18}{av\+\_\+resample\+\_\+close} (struct A\+V\+Resample\+Context $\ast$\hyperlink{rfft2d_test_m_l_8m_ae0323a9039add2978bf5b49550572c7c}{c})
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000010}{Deprecated}]use libswresample instead\end{DoxyRefDesc}


\subsection{Typedef Documentation}
\index{Audio resampling@{Audio resampling}!Re\+Sample\+Context@{Re\+Sample\+Context}}
\index{Re\+Sample\+Context@{Re\+Sample\+Context}!Audio resampling@{Audio resampling}}
\subsubsection[{\texorpdfstring{Re\+Sample\+Context}{ReSampleContext}}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf Re\+Sample\+Context} {\bf Re\+Sample\+Context}}\hypertarget{group__lavc__resample_ga0051f36cfec3437423a131c085ff5ea2}{}\label{group__lavc__resample_ga0051f36cfec3437423a131c085ff5ea2}


Definition at line 4400 of file avcodec.\+h.



\subsection{Function Documentation}
\index{Audio resampling@{Audio resampling}!audio\+\_\+resample@{audio\+\_\+resample}}
\index{audio\+\_\+resample@{audio\+\_\+resample}!Audio resampling@{Audio resampling}}
\subsubsection[{\texorpdfstring{audio\+\_\+resample(\+Re\+Sample\+Context $\ast$s, short $\ast$output, short $\ast$input, int nb\+\_\+samples)}{audio_resample(ReSampleContext *s, short *output, short *input, int nb_samples)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf attribute\+\_\+deprecated} {\bf int} audio\+\_\+resample (
\begin{DoxyParamCaption}
\item[{{\bf Re\+Sample\+Context} $\ast$}]{s, }
\item[{short $\ast$}]{output, }
\item[{short $\ast$}]{input, }
\item[{{\bf int}}]{nb\+\_\+samples}
\end{DoxyParamCaption}
)}\hypertarget{group__lavc__resample_ga4a2391f7d72287f478ae9dfc0ae373f4}{}\label{group__lavc__resample_ga4a2391f7d72287f478ae9dfc0ae373f4}
\index{Audio resampling@{Audio resampling}!audio\+\_\+resample\+\_\+close@{audio\+\_\+resample\+\_\+close}}
\index{audio\+\_\+resample\+\_\+close@{audio\+\_\+resample\+\_\+close}!Audio resampling@{Audio resampling}}
\subsubsection[{\texorpdfstring{audio\+\_\+resample\+\_\+close(\+Re\+Sample\+Context $\ast$s)}{audio_resample_close(ReSampleContext *s)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf attribute\+\_\+deprecated} {\bf void} audio\+\_\+resample\+\_\+close (
\begin{DoxyParamCaption}
\item[{{\bf Re\+Sample\+Context} $\ast$}]{s}
\end{DoxyParamCaption}
)}\hypertarget{group__lavc__resample_ga06447648458074fba375b9cc069664e0}{}\label{group__lavc__resample_ga06447648458074fba375b9cc069664e0}
Free resample context.


\begin{DoxyParams}{Parameters}
{\em s} & a non-\/\+N\+U\+LL pointer to a resample context previously created with \hyperlink{group__lavc__resample_ga6837453b6819cf2f4d26c2d320b1d696}{av\+\_\+audio\+\_\+resample\+\_\+init()} \\
\hline
\end{DoxyParams}
\index{Audio resampling@{Audio resampling}!av\+\_\+audio\+\_\+resample\+\_\+init@{av\+\_\+audio\+\_\+resample\+\_\+init}}
\index{av\+\_\+audio\+\_\+resample\+\_\+init@{av\+\_\+audio\+\_\+resample\+\_\+init}!Audio resampling@{Audio resampling}}
\subsubsection[{\texorpdfstring{av\+\_\+audio\+\_\+resample\+\_\+init(int output\+\_\+channels, int input\+\_\+channels, int output\+\_\+rate, int input\+\_\+rate, enum A\+V\+Sample\+Format sample\+\_\+fmt\+\_\+out, enum A\+V\+Sample\+Format sample\+\_\+fmt\+\_\+in, int filter\+\_\+length, int log2\+\_\+phase\+\_\+count, int linear, double cutoff)}{av_audio_resample_init(int output_channels, int input_channels, int output_rate, int input_rate, enum AVSampleFormat sample_fmt_out, enum AVSampleFormat sample_fmt_in, int filter_length, int log2_phase_count, int linear, double cutoff)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf attribute\+\_\+deprecated} {\bf Re\+Sample\+Context}$\ast$ av\+\_\+audio\+\_\+resample\+\_\+init (
\begin{DoxyParamCaption}
\item[{{\bf int}}]{output\+\_\+channels, }
\item[{{\bf int}}]{input\+\_\+channels, }
\item[{{\bf int}}]{output\+\_\+rate, }
\item[{{\bf int}}]{input\+\_\+rate, }
\item[{enum {\bf A\+V\+Sample\+Format}}]{sample\+\_\+fmt\+\_\+out, }
\item[{enum {\bf A\+V\+Sample\+Format}}]{sample\+\_\+fmt\+\_\+in, }
\item[{{\bf int}}]{filter\+\_\+length, }
\item[{{\bf int}}]{log2\+\_\+phase\+\_\+count, }
\item[{{\bf int}}]{linear, }
\item[{double}]{cutoff}
\end{DoxyParamCaption}
)}\hypertarget{group__lavc__resample_ga6837453b6819cf2f4d26c2d320b1d696}{}\label{group__lavc__resample_ga6837453b6819cf2f4d26c2d320b1d696}
Initialize audio resampling context.


\begin{DoxyParams}{Parameters}
{\em output\+\_\+channels} & number of output channels \\
\hline
{\em input\+\_\+channels} & number of input channels \\
\hline
{\em output\+\_\+rate} & output sample rate \\
\hline
{\em input\+\_\+rate} & input sample rate \\
\hline
{\em sample\+\_\+fmt\+\_\+out} & requested output sample format \\
\hline
{\em sample\+\_\+fmt\+\_\+in} & input sample format \\
\hline
{\em filter\+\_\+length} & length of each F\+IR filter in the filterbank relative to the cutoff frequency \\
\hline
{\em log2\+\_\+phase\+\_\+count} & log2 of the number of entries in the polyphase filterbank \\
\hline
{\em linear} & if 1 then the used F\+IR filter will be linearly interpolated between the 2 closest, if 0 the closest will be used \\
\hline
{\em cutoff} & cutoff frequency, 1.\+0 corresponds to half the output sampling rate \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
allocated Re\+Sample\+Context, N\+U\+LL if error occurred 
\end{DoxyReturn}
\index{Audio resampling@{Audio resampling}!av\+\_\+resample@{av\+\_\+resample}}
\index{av\+\_\+resample@{av\+\_\+resample}!Audio resampling@{Audio resampling}}
\subsubsection[{\texorpdfstring{av\+\_\+resample(struct A\+V\+Resample\+Context $\ast$c, short $\ast$dst, short $\ast$src, int $\ast$consumed, int src\+\_\+size, int dst\+\_\+size, int update\+\_\+ctx)}{av_resample(struct AVResampleContext *c, short *dst, short *src, int *consumed, int src_size, int dst_size, int update_ctx)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf attribute\+\_\+deprecated} {\bf int} av\+\_\+resample (
\begin{DoxyParamCaption}
\item[{struct A\+V\+Resample\+Context $\ast$}]{c, }
\item[{short $\ast$}]{dst, }
\item[{short $\ast$}]{src, }
\item[{{\bf int} $\ast$}]{consumed, }
\item[{{\bf int}}]{src\+\_\+size, }
\item[{{\bf int}}]{dst\+\_\+size, }
\item[{{\bf int}}]{update\+\_\+ctx}
\end{DoxyParamCaption}
)}\hypertarget{group__lavc__resample_gaced5571eafa8e23a25b96e1755f8f65c}{}\label{group__lavc__resample_gaced5571eafa8e23a25b96e1755f8f65c}
\hyperlink{class_resample}{Resample} an array of samples using a previously configured context. 
\begin{DoxyParams}{Parameters}
{\em src} & an array of unconsumed samples \\
\hline
{\em consumed} & the number of samples of src which have been consumed are returned here \\
\hline
{\em src\+\_\+size} & the number of unconsumed samples available \\
\hline
{\em dst\+\_\+size} & the amount of space in samples available in dst \\
\hline
{\em update\+\_\+ctx} & If this is 0 then the context will not be modified, that way several channels can be resampled with the same context. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the number of samples written in dst or -\/1 if an error occurred 
\end{DoxyReturn}
\index{Audio resampling@{Audio resampling}!av\+\_\+resample\+\_\+close@{av\+\_\+resample\+\_\+close}}
\index{av\+\_\+resample\+\_\+close@{av\+\_\+resample\+\_\+close}!Audio resampling@{Audio resampling}}
\subsubsection[{\texorpdfstring{av\+\_\+resample\+\_\+close(struct A\+V\+Resample\+Context $\ast$c)}{av_resample_close(struct AVResampleContext *c)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf attribute\+\_\+deprecated} {\bf void} av\+\_\+resample\+\_\+close (
\begin{DoxyParamCaption}
\item[{struct A\+V\+Resample\+Context $\ast$}]{c}
\end{DoxyParamCaption}
)}\hypertarget{group__lavc__resample_ga2901688d58c5a64b97436288b301ad18}{}\label{group__lavc__resample_ga2901688d58c5a64b97436288b301ad18}
\index{Audio resampling@{Audio resampling}!av\+\_\+resample\+\_\+compensate@{av\+\_\+resample\+\_\+compensate}}
\index{av\+\_\+resample\+\_\+compensate@{av\+\_\+resample\+\_\+compensate}!Audio resampling@{Audio resampling}}
\subsubsection[{\texorpdfstring{av\+\_\+resample\+\_\+compensate(struct A\+V\+Resample\+Context $\ast$c, int sample\+\_\+delta, int compensation\+\_\+distance)}{av_resample_compensate(struct AVResampleContext *c, int sample_delta, int compensation_distance)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf attribute\+\_\+deprecated} {\bf void} av\+\_\+resample\+\_\+compensate (
\begin{DoxyParamCaption}
\item[{struct A\+V\+Resample\+Context $\ast$}]{c, }
\item[{{\bf int}}]{sample\+\_\+delta, }
\item[{{\bf int}}]{compensation\+\_\+distance}
\end{DoxyParamCaption}
)}\hypertarget{group__lavc__resample_gadf6acc7cdbbf2fe8d6a7990a22662c0b}{}\label{group__lavc__resample_gadf6acc7cdbbf2fe8d6a7990a22662c0b}
Compensate samplerate/timestamp drift. The compensation is done by changing the resampler parameters, so no audible clicks or similar distortions occur 
\begin{DoxyParams}{Parameters}
{\em compensation\+\_\+distance} & distance in output samples over which the compensation should be performed \\
\hline
{\em sample\+\_\+delta} & number of output samples which should be output less\\
\hline
\end{DoxyParams}
example\+: av\+\_\+resample\+\_\+compensate(c, 10, 500) here instead of 510 samples only 500 samples would be output

note, due to rounding the actual compensation might be slightly different, especially if the compensation\+\_\+distance is large and the in\+\_\+rate used during init is small \index{Audio resampling@{Audio resampling}!av\+\_\+resample\+\_\+init@{av\+\_\+resample\+\_\+init}}
\index{av\+\_\+resample\+\_\+init@{av\+\_\+resample\+\_\+init}!Audio resampling@{Audio resampling}}
\subsubsection[{\texorpdfstring{av\+\_\+resample\+\_\+init(int out\+\_\+rate, int in\+\_\+rate, int filter\+\_\+length, int log2\+\_\+phase\+\_\+count, int linear, double cutoff)}{av_resample_init(int out_rate, int in_rate, int filter_length, int log2_phase_count, int linear, double cutoff)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf attribute\+\_\+deprecated} struct A\+V\+Resample\+Context$\ast$ av\+\_\+resample\+\_\+init (
\begin{DoxyParamCaption}
\item[{{\bf int}}]{out\+\_\+rate, }
\item[{{\bf int}}]{in\+\_\+rate, }
\item[{{\bf int}}]{filter\+\_\+length, }
\item[{{\bf int}}]{log2\+\_\+phase\+\_\+count, }
\item[{{\bf int}}]{linear, }
\item[{double}]{cutoff}
\end{DoxyParamCaption}
)}\hypertarget{group__lavc__resample_ga9f11d551d458bb904e1078c65121fe03}{}\label{group__lavc__resample_ga9f11d551d458bb904e1078c65121fe03}
Initialize an audio resampler. Note, if either rate is not an integer then simply scale both rates up so they are. 
\begin{DoxyParams}{Parameters}
{\em filter\+\_\+length} & length of each F\+IR filter in the filterbank relative to the cutoff freq \\
\hline
{\em log2\+\_\+phase\+\_\+count} & log2 of the number of entries in the polyphase filterbank \\
\hline
{\em linear} & If 1 then the used F\+IR filter will be linearly interpolated between the 2 closest, if 0 the closest will be used \\
\hline
{\em cutoff} & cutoff frequency, 1.\+0 corresponds to half the output sampling rate \\
\hline
\end{DoxyParams}
