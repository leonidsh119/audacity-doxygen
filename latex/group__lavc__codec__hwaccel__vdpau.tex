\hypertarget{group__lavc__codec__hwaccel__vdpau}{}\section{V\+D\+P\+AU Decoder and Renderer}
\label{group__lavc__codec__hwaccel__vdpau}\index{V\+D\+P\+A\+U Decoder and Renderer@{V\+D\+P\+A\+U Decoder and Renderer}}
\subsection*{Files}
\begin{DoxyCompactItemize}
\item 
file \hyperlink{vdpau_8h}{vdpau.\+h}
\end{DoxyCompactItemize}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
union \hyperlink{union_a_v_v_d_p_a_u_picture_info}{A\+V\+V\+D\+P\+A\+U\+Picture\+Info}
\item 
struct \hyperlink{struct_a_v_v_d_p_a_u_context}{A\+V\+V\+D\+P\+A\+U\+Context}
\item 
struct \hyperlink{structvdpau__render__state}{vdpau\+\_\+render\+\_\+state}
\begin{DoxyCompactList}\small\item\em This structure is used as a callback between the F\+Fmpeg decoder (vd\+\_\+) and presentation (vo\+\_\+) module. This is used for defining a video frame containing surface, picture parameter, bitstream information etc which are passed between the F\+Fmpeg decoder and its clients. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group__lavc__codec__hwaccel__vdpau_ga87551b42b8cc836804d9e0c5ac6fa367}{F\+F\+\_\+\+V\+D\+P\+A\+U\+\_\+\+S\+T\+A\+T\+E\+\_\+\+U\+S\+E\+D\+\_\+\+F\+O\+R\+\_\+\+R\+E\+N\+D\+ER}~1
\begin{DoxyCompactList}\small\item\em The video\+Surface is used for rendering. \end{DoxyCompactList}\item 
\#define \hyperlink{group__lavc__codec__hwaccel__vdpau_ga1f3b6a25961a335e3bb131428266d4a9}{F\+F\+\_\+\+V\+D\+P\+A\+U\+\_\+\+S\+T\+A\+T\+E\+\_\+\+U\+S\+E\+D\+\_\+\+F\+O\+R\+\_\+\+R\+E\+F\+E\+R\+E\+N\+CE}~2
\begin{DoxyCompactList}\small\item\em The video\+Surface is needed for reference/prediction. The codec manipulates this. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int}($\ast$ \hyperlink{group__lavc__codec__hwaccel__vdpau_ga1f243045ef2673ebe2a50a8431f3dfa7}{A\+V\+V\+D\+P\+A\+U\+\_\+\+Render2}) (struct \hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context} $\ast$, struct \hyperlink{struct_a_v_frame}{A\+V\+Frame} $\ast$, \hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const} Vdp\+Picture\+Info $\ast$, \hyperlink{lib-src_2ffmpeg_2win32_2stdint_8h_a6eb1e68cc391dd753bc8ce896dbb8315}{uint32\+\_\+t}, \hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const} Vdp\+Bitstream\+Buffer $\ast$)
\item 
typedef struct \hyperlink{struct_a_v_v_d_p_a_u_context}{A\+V\+V\+D\+P\+A\+U\+Context} \hyperlink{group__lavc__codec__hwaccel__vdpau_ga3baa98869e246d5047601b76858ad281}{A\+V\+V\+D\+P\+A\+U\+Context}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{struct_a_v_v_d_p_a_u_context}{A\+V\+V\+D\+P\+A\+U\+Context} $\ast$ \hyperlink{group__lavc__codec__hwaccel__vdpau_gabd46596564db27b9783814b2942f6d84}{av\+\_\+alloc\+\_\+vdpaucontext} (\hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void})
\begin{DoxyCompactList}\small\item\em allocation function for \hyperlink{struct_a_v_v_d_p_a_u_context}{A\+V\+V\+D\+P\+A\+U\+Context} \end{DoxyCompactList}\item 
\hyperlink{group__lavc__codec__hwaccel__vdpau_ga1f243045ef2673ebe2a50a8431f3dfa7}{A\+V\+V\+D\+P\+A\+U\+\_\+\+Render2} \hyperlink{group__lavc__codec__hwaccel__vdpau_ga0a3496e46e9dfcd50f7baa96a9da0275}{av\+\_\+vdpau\+\_\+hwaccel\+\_\+get\+\_\+render2} (\hyperlink{getopt1_8c_a2c212835823e3c54a8ab6d95c652660e}{const} \hyperlink{struct_a_v_v_d_p_a_u_context}{A\+V\+V\+D\+P\+A\+U\+Context} $\ast$)
\item 
\hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void} \hyperlink{group__lavc__codec__hwaccel__vdpau_ga5d993c664b580bb5b927e46c34455cf6}{av\+\_\+vdpau\+\_\+hwaccel\+\_\+set\+\_\+render2} (\hyperlink{struct_a_v_v_d_p_a_u_context}{A\+V\+V\+D\+P\+A\+U\+Context} $\ast$, \hyperlink{group__lavc__codec__hwaccel__vdpau_ga1f243045ef2673ebe2a50a8431f3dfa7}{A\+V\+V\+D\+P\+A\+U\+\_\+\+Render2})
\item 
\hyperlink{struct_a_v_v_d_p_a_u_context}{A\+V\+V\+D\+P\+A\+U\+Context} $\ast$ \hyperlink{group__lavc__codec__hwaccel__vdpau_gac3b2e926326d9bc7c4a856304c4bc0f8}{av\+\_\+vdpau\+\_\+alloc\+\_\+context} (\hyperlink{sound_8c_ae35f5844602719cf66324f4de2a658b3}{void})
\item 
\hyperlink{xmltok_8h_a5a0d4a5641ce434f1d23533f2b2e6653}{int} \hyperlink{group__lavc__codec__hwaccel__vdpau_gaa5dd9ae3912059bdb13f88ddfda26657}{av\+\_\+vdpau\+\_\+get\+\_\+profile} (\hyperlink{struct_a_v_codec_context}{A\+V\+Codec\+Context} $\ast$avctx, Vdp\+Decoder\+Profile $\ast$profile)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
V\+D\+P\+AU hardware acceleration has two modules
\begin{DoxyItemize}
\item V\+D\+P\+AU decoding
\item V\+D\+P\+AU presentation
\end{DoxyItemize}

The V\+D\+P\+AU decoding module parses all headers using F\+Fmpeg parsing mechanisms and uses V\+D\+P\+AU for the actual decoding.

As per the current implementation, the actual decoding and rendering (A\+PI calls) are done as part of the V\+D\+P\+AU presentation (vo\+\_\+vdpau.\+c) module. 

\subsection{Macro Definition Documentation}
\index{V\+D\+P\+A\+U Decoder and Renderer@{V\+D\+P\+A\+U Decoder and Renderer}!F\+F\+\_\+\+V\+D\+P\+A\+U\+\_\+\+S\+T\+A\+T\+E\+\_\+\+U\+S\+E\+D\+\_\+\+F\+O\+R\+\_\+\+R\+E\+F\+E\+R\+E\+N\+CE@{F\+F\+\_\+\+V\+D\+P\+A\+U\+\_\+\+S\+T\+A\+T\+E\+\_\+\+U\+S\+E\+D\+\_\+\+F\+O\+R\+\_\+\+R\+E\+F\+E\+R\+E\+N\+CE}}
\index{F\+F\+\_\+\+V\+D\+P\+A\+U\+\_\+\+S\+T\+A\+T\+E\+\_\+\+U\+S\+E\+D\+\_\+\+F\+O\+R\+\_\+\+R\+E\+F\+E\+R\+E\+N\+CE@{F\+F\+\_\+\+V\+D\+P\+A\+U\+\_\+\+S\+T\+A\+T\+E\+\_\+\+U\+S\+E\+D\+\_\+\+F\+O\+R\+\_\+\+R\+E\+F\+E\+R\+E\+N\+CE}!V\+D\+P\+A\+U Decoder and Renderer@{V\+D\+P\+A\+U Decoder and Renderer}}
\subsubsection[{\texorpdfstring{F\+F\+\_\+\+V\+D\+P\+A\+U\+\_\+\+S\+T\+A\+T\+E\+\_\+\+U\+S\+E\+D\+\_\+\+F\+O\+R\+\_\+\+R\+E\+F\+E\+R\+E\+N\+CE}{FF_VDPAU_STATE_USED_FOR_REFERENCE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\+F\+\_\+\+V\+D\+P\+A\+U\+\_\+\+S\+T\+A\+T\+E\+\_\+\+U\+S\+E\+D\+\_\+\+F\+O\+R\+\_\+\+R\+E\+F\+E\+R\+E\+N\+CE~2}\hypertarget{group__lavc__codec__hwaccel__vdpau_ga1f3b6a25961a335e3bb131428266d4a9}{}\label{group__lavc__codec__hwaccel__vdpau_ga1f3b6a25961a335e3bb131428266d4a9}


The video\+Surface is needed for reference/prediction. The codec manipulates this. 



Definition at line 180 of file vdpau.\+h.

\index{V\+D\+P\+A\+U Decoder and Renderer@{V\+D\+P\+A\+U Decoder and Renderer}!F\+F\+\_\+\+V\+D\+P\+A\+U\+\_\+\+S\+T\+A\+T\+E\+\_\+\+U\+S\+E\+D\+\_\+\+F\+O\+R\+\_\+\+R\+E\+N\+D\+ER@{F\+F\+\_\+\+V\+D\+P\+A\+U\+\_\+\+S\+T\+A\+T\+E\+\_\+\+U\+S\+E\+D\+\_\+\+F\+O\+R\+\_\+\+R\+E\+N\+D\+ER}}
\index{F\+F\+\_\+\+V\+D\+P\+A\+U\+\_\+\+S\+T\+A\+T\+E\+\_\+\+U\+S\+E\+D\+\_\+\+F\+O\+R\+\_\+\+R\+E\+N\+D\+ER@{F\+F\+\_\+\+V\+D\+P\+A\+U\+\_\+\+S\+T\+A\+T\+E\+\_\+\+U\+S\+E\+D\+\_\+\+F\+O\+R\+\_\+\+R\+E\+N\+D\+ER}!V\+D\+P\+A\+U Decoder and Renderer@{V\+D\+P\+A\+U Decoder and Renderer}}
\subsubsection[{\texorpdfstring{F\+F\+\_\+\+V\+D\+P\+A\+U\+\_\+\+S\+T\+A\+T\+E\+\_\+\+U\+S\+E\+D\+\_\+\+F\+O\+R\+\_\+\+R\+E\+N\+D\+ER}{FF_VDPAU_STATE_USED_FOR_RENDER}}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\+F\+\_\+\+V\+D\+P\+A\+U\+\_\+\+S\+T\+A\+T\+E\+\_\+\+U\+S\+E\+D\+\_\+\+F\+O\+R\+\_\+\+R\+E\+N\+D\+ER~1}\hypertarget{group__lavc__codec__hwaccel__vdpau_ga87551b42b8cc836804d9e0c5ac6fa367}{}\label{group__lavc__codec__hwaccel__vdpau_ga87551b42b8cc836804d9e0c5ac6fa367}


The video\+Surface is used for rendering. 



Definition at line 174 of file vdpau.\+h.



\subsection{Typedef Documentation}
\index{V\+D\+P\+A\+U Decoder and Renderer@{V\+D\+P\+A\+U Decoder and Renderer}!A\+V\+V\+D\+P\+A\+U\+\_\+\+Render2@{A\+V\+V\+D\+P\+A\+U\+\_\+\+Render2}}
\index{A\+V\+V\+D\+P\+A\+U\+\_\+\+Render2@{A\+V\+V\+D\+P\+A\+U\+\_\+\+Render2}!V\+D\+P\+A\+U Decoder and Renderer@{V\+D\+P\+A\+U Decoder and Renderer}}
\subsubsection[{\texorpdfstring{A\+V\+V\+D\+P\+A\+U\+\_\+\+Render2}{AVVDPAU_Render2}}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf int}($\ast$ A\+V\+V\+D\+P\+A\+U\+\_\+\+Render2) (struct {\bf A\+V\+Codec\+Context} $\ast$, struct {\bf A\+V\+Frame} $\ast$, {\bf const} Vdp\+Picture\+Info $\ast$, {\bf uint32\+\_\+t}, {\bf const} Vdp\+Bitstream\+Buffer $\ast$)}\hypertarget{group__lavc__codec__hwaccel__vdpau_ga1f243045ef2673ebe2a50a8431f3dfa7}{}\label{group__lavc__codec__hwaccel__vdpau_ga1f243045ef2673ebe2a50a8431f3dfa7}


Definition at line 72 of file vdpau.\+h.

\index{V\+D\+P\+A\+U Decoder and Renderer@{V\+D\+P\+A\+U Decoder and Renderer}!A\+V\+V\+D\+P\+A\+U\+Context@{A\+V\+V\+D\+P\+A\+U\+Context}}
\index{A\+V\+V\+D\+P\+A\+U\+Context@{A\+V\+V\+D\+P\+A\+U\+Context}!V\+D\+P\+A\+U Decoder and Renderer@{V\+D\+P\+A\+U Decoder and Renderer}}
\subsubsection[{\texorpdfstring{A\+V\+V\+D\+P\+A\+U\+Context}{AVVDPAUContext}}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf A\+V\+V\+D\+P\+A\+U\+Context}  {\bf A\+V\+V\+D\+P\+A\+U\+Context}}\hypertarget{group__lavc__codec__hwaccel__vdpau_ga3baa98869e246d5047601b76858ad281}{}\label{group__lavc__codec__hwaccel__vdpau_ga3baa98869e246d5047601b76858ad281}
This structure is used to share data between the libavcodec library and the client video application. The user shall allocate the structure via the av\+\_\+alloc\+\_\+vdpau\+\_\+hwaccel function and make it available as \hyperlink{struct_a_v_codec_context_ab222f7d747dfdceff0a76999e09648c0}{A\+V\+Codec\+Context.\+hwaccel\+\_\+context}. Members can be set by the user once during initialization or through each \hyperlink{struct_a_v_codec_context_abc3a806b73306162efa218510448d54f}{A\+V\+Codec\+Context.\+get\+\_\+buffer()} function call. In any case, they must be valid prior to calling decoding functions.

The size of this structure is not a part of the public A\+BI and must not be used outside of libavcodec. Use \hyperlink{group__lavc__codec__hwaccel__vdpau_gac3b2e926326d9bc7c4a856304c4bc0f8}{av\+\_\+vdpau\+\_\+alloc\+\_\+context()} to allocate an \hyperlink{struct_a_v_v_d_p_a_u_context}{A\+V\+V\+D\+P\+A\+U\+Context}. 

\subsection{Function Documentation}
\index{V\+D\+P\+A\+U Decoder and Renderer@{V\+D\+P\+A\+U Decoder and Renderer}!av\+\_\+alloc\+\_\+vdpaucontext@{av\+\_\+alloc\+\_\+vdpaucontext}}
\index{av\+\_\+alloc\+\_\+vdpaucontext@{av\+\_\+alloc\+\_\+vdpaucontext}!V\+D\+P\+A\+U Decoder and Renderer@{V\+D\+P\+A\+U Decoder and Renderer}}
\subsubsection[{\texorpdfstring{av\+\_\+alloc\+\_\+vdpaucontext(void)}{av_alloc_vdpaucontext(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf A\+V\+V\+D\+P\+A\+U\+Context}$\ast$ av\+\_\+alloc\+\_\+vdpaucontext (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__lavc__codec__hwaccel__vdpau_gabd46596564db27b9783814b2942f6d84}{}\label{group__lavc__codec__hwaccel__vdpau_gabd46596564db27b9783814b2942f6d84}


allocation function for \hyperlink{struct_a_v_v_d_p_a_u_context}{A\+V\+V\+D\+P\+A\+U\+Context} 

Allows extending the struct without breaking A\+P\+I/\+A\+BI \index{V\+D\+P\+A\+U Decoder and Renderer@{V\+D\+P\+A\+U Decoder and Renderer}!av\+\_\+vdpau\+\_\+alloc\+\_\+context@{av\+\_\+vdpau\+\_\+alloc\+\_\+context}}
\index{av\+\_\+vdpau\+\_\+alloc\+\_\+context@{av\+\_\+vdpau\+\_\+alloc\+\_\+context}!V\+D\+P\+A\+U Decoder and Renderer@{V\+D\+P\+A\+U Decoder and Renderer}}
\subsubsection[{\texorpdfstring{av\+\_\+vdpau\+\_\+alloc\+\_\+context(void)}{av_vdpau_alloc_context(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf A\+V\+V\+D\+P\+A\+U\+Context}$\ast$ av\+\_\+vdpau\+\_\+alloc\+\_\+context (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__lavc__codec__hwaccel__vdpau_gac3b2e926326d9bc7c4a856304c4bc0f8}{}\label{group__lavc__codec__hwaccel__vdpau_gac3b2e926326d9bc7c4a856304c4bc0f8}
Allocate an \hyperlink{struct_a_v_v_d_p_a_u_context}{A\+V\+V\+D\+P\+A\+U\+Context}.

\begin{DoxyReturn}{Returns}
Newly-\/allocated \hyperlink{struct_a_v_v_d_p_a_u_context}{A\+V\+V\+D\+P\+A\+U\+Context} or N\+U\+LL on failure. 
\end{DoxyReturn}
\index{V\+D\+P\+A\+U Decoder and Renderer@{V\+D\+P\+A\+U Decoder and Renderer}!av\+\_\+vdpau\+\_\+get\+\_\+profile@{av\+\_\+vdpau\+\_\+get\+\_\+profile}}
\index{av\+\_\+vdpau\+\_\+get\+\_\+profile@{av\+\_\+vdpau\+\_\+get\+\_\+profile}!V\+D\+P\+A\+U Decoder and Renderer@{V\+D\+P\+A\+U Decoder and Renderer}}
\subsubsection[{\texorpdfstring{av\+\_\+vdpau\+\_\+get\+\_\+profile(\+A\+V\+Codec\+Context $\ast$avctx, Vdp\+Decoder\+Profile $\ast$profile)}{av_vdpau_get_profile(AVCodecContext *avctx, VdpDecoderProfile *profile)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf int} av\+\_\+vdpau\+\_\+get\+\_\+profile (
\begin{DoxyParamCaption}
\item[{{\bf A\+V\+Codec\+Context} $\ast$}]{avctx, }
\item[{Vdp\+Decoder\+Profile $\ast$}]{profile}
\end{DoxyParamCaption}
)}\hypertarget{group__lavc__codec__hwaccel__vdpau_gaa5dd9ae3912059bdb13f88ddfda26657}{}\label{group__lavc__codec__hwaccel__vdpau_gaa5dd9ae3912059bdb13f88ddfda26657}
Get a decoder profile that should be used for initializing a V\+D\+P\+AU decoder. Should be called from the \hyperlink{struct_a_v_codec_context_a360a2b8508a67c4234d97f4c13ba1bb5}{A\+V\+Codec\+Context.\+get\+\_\+format()} callback.


\begin{DoxyParams}{Parameters}
{\em avctx} & the codec context being used for decoding the stream \\
\hline
{\em profile} & a pointer into which the result will be written on success. The contents of profile are undefined if this function returns an error.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success (non-\/negative), a negative A\+V\+E\+R\+R\+OR on failure. 
\end{DoxyReturn}
\index{V\+D\+P\+A\+U Decoder and Renderer@{V\+D\+P\+A\+U Decoder and Renderer}!av\+\_\+vdpau\+\_\+hwaccel\+\_\+get\+\_\+render2@{av\+\_\+vdpau\+\_\+hwaccel\+\_\+get\+\_\+render2}}
\index{av\+\_\+vdpau\+\_\+hwaccel\+\_\+get\+\_\+render2@{av\+\_\+vdpau\+\_\+hwaccel\+\_\+get\+\_\+render2}!V\+D\+P\+A\+U Decoder and Renderer@{V\+D\+P\+A\+U Decoder and Renderer}}
\subsubsection[{\texorpdfstring{av\+\_\+vdpau\+\_\+hwaccel\+\_\+get\+\_\+render2(const A\+V\+V\+D\+P\+A\+U\+Context $\ast$)}{av_vdpau_hwaccel_get_render2(const AVVDPAUContext *)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf A\+V\+V\+D\+P\+A\+U\+\_\+\+Render2} av\+\_\+vdpau\+\_\+hwaccel\+\_\+get\+\_\+render2 (
\begin{DoxyParamCaption}
\item[{{\bf const} {\bf A\+V\+V\+D\+P\+A\+U\+Context} $\ast$}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__lavc__codec__hwaccel__vdpau_ga0a3496e46e9dfcd50f7baa96a9da0275}{}\label{group__lavc__codec__hwaccel__vdpau_ga0a3496e46e9dfcd50f7baa96a9da0275}
\index{V\+D\+P\+A\+U Decoder and Renderer@{V\+D\+P\+A\+U Decoder and Renderer}!av\+\_\+vdpau\+\_\+hwaccel\+\_\+set\+\_\+render2@{av\+\_\+vdpau\+\_\+hwaccel\+\_\+set\+\_\+render2}}
\index{av\+\_\+vdpau\+\_\+hwaccel\+\_\+set\+\_\+render2@{av\+\_\+vdpau\+\_\+hwaccel\+\_\+set\+\_\+render2}!V\+D\+P\+A\+U Decoder and Renderer@{V\+D\+P\+A\+U Decoder and Renderer}}
\subsubsection[{\texorpdfstring{av\+\_\+vdpau\+\_\+hwaccel\+\_\+set\+\_\+render2(\+A\+V\+V\+D\+P\+A\+U\+Context $\ast$, A\+V\+V\+D\+P\+A\+U\+\_\+\+Render2)}{av_vdpau_hwaccel_set_render2(AVVDPAUContext *, AVVDPAU_Render2)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} av\+\_\+vdpau\+\_\+hwaccel\+\_\+set\+\_\+render2 (
\begin{DoxyParamCaption}
\item[{{\bf A\+V\+V\+D\+P\+A\+U\+Context} $\ast$}]{, }
\item[{{\bf A\+V\+V\+D\+P\+A\+U\+\_\+\+Render2}}]{}
\end{DoxyParamCaption}
)}\hypertarget{group__lavc__codec__hwaccel__vdpau_ga5d993c664b580bb5b927e46c34455cf6}{}\label{group__lavc__codec__hwaccel__vdpau_ga5d993c664b580bb5b927e46c34455cf6}
