<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Audacity: AudioIO Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Audacity
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="class_audio_i_o-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AudioIO Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="class_audio_i_o.html" title="AudioIO uses the PortAudio library to play and record sound. ">AudioIO</a> uses the PortAudio library to play and record sound.  
 <a href="class_audio_i_o.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_audio_i_o_8h_source.html">AudioIO.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_audio_i_o_1_1_scrub_queue.html">ScrubQueue</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a68c6824c106711b4768dd3847a233366"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a68c6824c106711b4768dd3847a233366">AudioIO</a> ()</td></tr>
<tr class="separator:a68c6824c106711b4768dd3847a233366"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a747b3a9f103ce40e9b8d5e8dfb1cfce2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a747b3a9f103ce40e9b8d5e8dfb1cfce2">~AudioIO</a> ()</td></tr>
<tr class="separator:a747b3a9f103ce40e9b8d5e8dfb1cfce2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78477917ca8c9800ce6f5074a7044399"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_audio_i_o_listener.html">AudioIOListener</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a78477917ca8c9800ce6f5074a7044399">GetListener</a> ()</td></tr>
<tr class="separator:a78477917ca8c9800ce6f5074a7044399"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d9df4aba253fa43612ac02bafa994fd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a8d9df4aba253fa43612ac02bafa994fd">SetListener</a> (<a class="el" href="class_audio_i_o_listener.html">AudioIOListener</a> *listener)</td></tr>
<tr class="separator:a8d9df4aba253fa43612ac02bafa994fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a447c4b556a0f66a61ead1c97ed4ae7e7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a447c4b556a0f66a61ead1c97ed4ae7e7">StartMonitoring</a> (double sampleRate)</td></tr>
<tr class="memdesc:a447c4b556a0f66a61ead1c97ed4ae7e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start up Portaudio for capture and recording as needed for input monitoring and software playthrough only.  <a href="#a447c4b556a0f66a61ead1c97ed4ae7e7">More...</a><br /></td></tr>
<tr class="separator:a447c4b556a0f66a61ead1c97ed4ae7e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2be97e813dfdedb3504b20f8b61cdd7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#ac2be97e813dfdedb3504b20f8b61cdd7">StartStream</a> (<a class="el" href="class_wave_track_array.html">WaveTrackArray</a> playbackTracks, <a class="el" href="class_wave_track_array.html">WaveTrackArray</a> captureTracks, double sampleRate, double t0, double t1, <a class="el" href="getopt1_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="struct_audio_i_o_start_stream_options.html">AudioIOStartStreamOptions</a> &amp;options=<a class="el" href="struct_audio_i_o_start_stream_options.html">AudioIOStartStreamOptions</a>())</td></tr>
<tr class="memdesc:ac2be97e813dfdedb3504b20f8b61cdd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start recording or playing back audio.  <a href="#ac2be97e813dfdedb3504b20f8b61cdd7">More...</a><br /></td></tr>
<tr class="separator:ac2be97e813dfdedb3504b20f8b61cdd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a018ef510a8616f1feeb0f542f82b1d44"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a018ef510a8616f1feeb0f542f82b1d44">StopStream</a> ()</td></tr>
<tr class="memdesc:a018ef510a8616f1feeb0f542f82b1d44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop recording, playback or input monitoring.  <a href="#a018ef510a8616f1feeb0f542f82b1d44">More...</a><br /></td></tr>
<tr class="separator:a018ef510a8616f1feeb0f542f82b1d44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40488ff8506e6238963049844728a6c6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a40488ff8506e6238963049844728a6c6">SeekStream</a> (double seconds)</td></tr>
<tr class="memdesc:a40488ff8506e6238963049844728a6c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move the playback / recording position of the current stream by the specified amount from where it is now.  <a href="#a40488ff8506e6238963049844728a6c6">More...</a><br /></td></tr>
<tr class="separator:a40488ff8506e6238963049844728a6c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada30edb1aa1b556aebb4ba0b9bbc697e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#ada30edb1aa1b556aebb4ba0b9bbc697e">IsScrubbing</a> ()</td></tr>
<tr class="separator:ada30edb1aa1b556aebb4ba0b9bbc697e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89c8c6c8da819d583b92e32508fbae7b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a89c8c6c8da819d583b92e32508fbae7b">EnqueueScrubByPosition</a> (double endTime, double maxSpeed, <a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> maySkip)</td></tr>
<tr class="memdesc:a89c8c6c8da819d583b92e32508fbae7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">enqueue a NEW end time, using the last end as the new start, to be played over the same duration, as between this and the last enqueuing (or the starting of the stream). Except, we do not exceed maximum scrub speed, so may need to adjust either the start or the end. If maySkip is true, then when mouse movement exceeds maximum scrub speed, adjust the beginning of the scrub interval rather than the end, so that the scrub skips or "stutters" to stay near the cursor. But if the "stutter" is too short for the minimum, then there is no effect on the work queue. Return true if some work was really enqueued.  <a href="#a89c8c6c8da819d583b92e32508fbae7b">More...</a><br /></td></tr>
<tr class="separator:a89c8c6c8da819d583b92e32508fbae7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5680009162f44b9156622851767e328"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#aa5680009162f44b9156622851767e328">EnqueueScrubBySignedSpeed</a> (double speed, double maxSpeed, <a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> maySkip)</td></tr>
<tr class="memdesc:aa5680009162f44b9156622851767e328"><td class="mdescLeft">&#160;</td><td class="mdescRight">enqueue a NEW positive or negative scrubbing speed, using the last end as the NEW start, to be played over the same duration, as between this and the last enqueueing (or the starting of the stream). Except, we do not exceed maximum scrub speed, so may need to adjust either the start or the end. If maySkip is true, then when mouse movement exceeds maximum scrub speed, adjust the beginning of the scrub interval rather than the end, so that the scrub skips or "stutters" to stay near the cursor. But if the "stutter" is too short for the minimum, then there is no effect on the work queue. Return true if some work was really enqueued.  <a href="#aa5680009162f44b9156622851767e328">More...</a><br /></td></tr>
<tr class="separator:aa5680009162f44b9156622851767e328"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10f4e839ded338c433a4cd46a6ba41b1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a10f4e839ded338c433a4cd46a6ba41b1">IsBusy</a> ()</td></tr>
<tr class="memdesc:a10f4e839ded338c433a4cd46a6ba41b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if audio i/o is busy starting, stopping, playing, or recording.  <a href="#a10f4e839ded338c433a4cd46a6ba41b1">More...</a><br /></td></tr>
<tr class="separator:a10f4e839ded338c433a4cd46a6ba41b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07490d6ae881910c5ea13cdf011835f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a07490d6ae881910c5ea13cdf011835f3">IsStreamActive</a> ()</td></tr>
<tr class="memdesc:a07490d6ae881910c5ea13cdf011835f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the audio i/o is running at all, but not during cleanup.  <a href="#a07490d6ae881910c5ea13cdf011835f3">More...</a><br /></td></tr>
<tr class="separator:a07490d6ae881910c5ea13cdf011835f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab4123922c22aac622db1512d01c6c18"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#aab4123922c22aac622db1512d01c6c18">IsStreamActive</a> (<a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> <a class="el" href="seqread_8c.html#a472e2484c39e6e56a4c486a7d779841d">token</a>)</td></tr>
<tr class="separator:aab4123922c22aac622db1512d01c6c18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a313e20357b22f7adbbdd274ef1e2e84e"><td class="memItemLeft" align="right" valign="top">wxLongLong&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a313e20357b22f7adbbdd274ef1e2e84e">GetLastPlaybackTime</a> () <a class="el" href="getopt1_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> </td></tr>
<tr class="separator:a313e20357b22f7adbbdd274ef1e2e84e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae38ba2eafdaf5a1579366d788fd669d9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#ae38ba2eafdaf5a1579366d788fd669d9">IsAudioTokenActive</a> (<a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> <a class="el" href="seqread_8c.html#a472e2484c39e6e56a4c486a7d779841d">token</a>)</td></tr>
<tr class="memdesc:ae38ba2eafdaf5a1579366d788fd669d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the stream is active, or even if audio I/O is busy cleaning up its data or writing to disk.  <a href="#ae38ba2eafdaf5a1579366d788fd669d9">More...</a><br /></td></tr>
<tr class="separator:ae38ba2eafdaf5a1579366d788fd669d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81838290ddb586dc13726abf901b8260"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a81838290ddb586dc13726abf901b8260">IsMonitoring</a> ()</td></tr>
<tr class="memdesc:a81838290ddb586dc13726abf901b8260"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if we're monitoring input (but not recording or playing actual audio)  <a href="#a81838290ddb586dc13726abf901b8260">More...</a><br /></td></tr>
<tr class="separator:a81838290ddb586dc13726abf901b8260"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49f8574c7ce8410e3ab254fe95c44388"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a49f8574c7ce8410e3ab254fe95c44388">SetPaused</a> (<a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> state)</td></tr>
<tr class="memdesc:a49f8574c7ce8410e3ab254fe95c44388"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pause and un-pause playback and recording.  <a href="#a49f8574c7ce8410e3ab254fe95c44388">More...</a><br /></td></tr>
<tr class="separator:a49f8574c7ce8410e3ab254fe95c44388"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa83356a7bb2153f67f4c82b72ed5185b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#aa83356a7bb2153f67f4c82b72ed5185b">IsPaused</a> ()</td></tr>
<tr class="memdesc:aa83356a7bb2153f67f4c82b72ed5185b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find out if playback / recording is currently paused.  <a href="#aa83356a7bb2153f67f4c82b72ed5185b">More...</a><br /></td></tr>
<tr class="separator:aa83356a7bb2153f67f4c82b72ed5185b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab90a44dee504b8748bf321416a25067b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#ab90a44dee504b8748bf321416a25067b">SetMixer</a> (<a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> inputSource)</td></tr>
<tr class="separator:ab90a44dee504b8748bf321416a25067b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e08d80f05a4106be20dfaa96723c957"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a6e08d80f05a4106be20dfaa96723c957">SetMixer</a> (<a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> inputSource, float inputVolume, float playbackVolume)</td></tr>
<tr class="separator:a6e08d80f05a4106be20dfaa96723c957"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2341f380ecf5d7630ed1879a1b66e28c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a2341f380ecf5d7630ed1879a1b66e28c">GetMixer</a> (<a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> *inputSource, float *inputVolume, float *playbackVolume)</td></tr>
<tr class="separator:a2341f380ecf5d7630ed1879a1b66e28c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a104cc037e35b66adb8864a35e8376f8e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a104cc037e35b66adb8864a35e8376f8e">InputMixerWorks</a> ()</td></tr>
<tr class="memdesc:a104cc037e35b66adb8864a35e8376f8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find out if the input hardware level control is available.  <a href="#a104cc037e35b66adb8864a35e8376f8e">More...</a><br /></td></tr>
<tr class="separator:a104cc037e35b66adb8864a35e8376f8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc4c1f9f7609603270df993ee8af1af2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#abc4c1f9f7609603270df993ee8af1af2">OutputMixerEmulated</a> ()</td></tr>
<tr class="memdesc:abc4c1f9f7609603270df993ee8af1af2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find out if the output level control is being emulated via software attenuation.  <a href="#abc4c1f9f7609603270df993ee8af1af2">More...</a><br /></td></tr>
<tr class="separator:abc4c1f9f7609603270df993ee8af1af2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a871ad77e029d77ff4ae461b2be5325cd"><td class="memItemLeft" align="right" valign="top">wxArrayString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a871ad77e029d77ff4ae461b2be5325cd">GetInputSourceNames</a> ()</td></tr>
<tr class="memdesc:a871ad77e029d77ff4ae461b2be5325cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the list of inputs to the current mixer device.  <a href="#a871ad77e029d77ff4ae461b2be5325cd">More...</a><br /></td></tr>
<tr class="separator:a871ad77e029d77ff4ae461b2be5325cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef42a8e615a55e2b914a989e8b63af0b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#aef42a8e615a55e2b914a989e8b63af0b">HandleDeviceChange</a> ()</td></tr>
<tr class="memdesc:aef42a8e615a55e2b914a989e8b63af0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">update state after changing what audio devices are selected  <a href="#aef42a8e615a55e2b914a989e8b63af0b">More...</a><br /></td></tr>
<tr class="separator:aef42a8e615a55e2b914a989e8b63af0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaf7977e341e8012b03dca8c733f24e1"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#adaf7977e341e8012b03dca8c733f24e1">GetStreamTime</a> ()</td></tr>
<tr class="memdesc:adaf7977e341e8012b03dca8c733f24e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">During playback, the (unwarped) track time most recently played.  <a href="#adaf7977e341e8012b03dca8c733f24e1">More...</a><br /></td></tr>
<tr class="separator:adaf7977e341e8012b03dca8c733f24e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5735d00a230e2a59a9702dfbf1a8b85d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="include_2audacity_2_types_8h.html#a9938d2e2f6adef23e745cd80ef379792">sampleFormat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a5735d00a230e2a59a9702dfbf1a8b85d">GetCaptureFormat</a> ()</td></tr>
<tr class="separator:a5735d00a230e2a59a9702dfbf1a8b85d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a841f37644672ecb5ea445bfb52907c1f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a841f37644672ecb5ea445bfb52907c1f">GetNumCaptureChannels</a> ()</td></tr>
<tr class="separator:a841f37644672ecb5ea445bfb52907c1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a134b6a56921f9c6bd197d80de4ddce48"><td class="memItemLeft" align="right" valign="top">wxString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a134b6a56921f9c6bd197d80de4ddce48">GetDeviceInfo</a> ()</td></tr>
<tr class="memdesc:a134b6a56921f9c6bd197d80de4ddce48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get diagnostic information on all the available audio I/O devices.  <a href="#a134b6a56921f9c6bd197d80de4ddce48">More...</a><br /></td></tr>
<tr class="separator:a134b6a56921f9c6bd197d80de4ddce48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7735a1b6d723e8342d22f9ddcf61d8e6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a7735a1b6d723e8342d22f9ddcf61d8e6">IsAvailable</a> (<a class="el" href="class_audacity_project.html">AudacityProject</a> *projecT)</td></tr>
<tr class="memdesc:a7735a1b6d723e8342d22f9ddcf61d8e6"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_function.html" title="STK abstract function parent class. ">Function</a> to automatically set an acceptable volume.  <a href="#a7735a1b6d723e8342d22f9ddcf61d8e6">More...</a><br /></td></tr>
<tr class="separator:a7735a1b6d723e8342d22f9ddcf61d8e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ef8578b176133229c30a656fe41478e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a0ef8578b176133229c30a656fe41478e">SetCaptureMeter</a> (<a class="el" href="class_audacity_project.html">AudacityProject</a> *project, <a class="el" href="class_meter.html">Meter</a> *meter)</td></tr>
<tr class="separator:a0ef8578b176133229c30a656fe41478e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a615aec62315405636bfe8b6e2a326cbe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a615aec62315405636bfe8b6e2a326cbe">SetPlaybackMeter</a> (<a class="el" href="class_audacity_project.html">AudacityProject</a> *project, <a class="el" href="class_meter.html">Meter</a> *meter)</td></tr>
<tr class="separator:a615aec62315405636bfe8b6e2a326cbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a377107ccda3176965ac68d757ba517a7"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a377107ccda3176965ac68d757ba517a7">GetMaxScrubSpeed</a> ()</td></tr>
<tr class="separator:a377107ccda3176965ac68d757ba517a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40f26467a7d142f0edea9b3ac893dddd"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a40f26467a7d142f0edea9b3ac893dddd">GetMinScrubSpeed</a> ()</td></tr>
<tr class="separator:a40f26467a7d142f0edea9b3ac893dddd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d5c6376948069792d356c4d465f65af"><td class="memItemLeft" align="right" valign="top">static wxArrayLong&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a8d5c6376948069792d356c4d465f65af">GetSupportedPlaybackRates</a> (<a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> DevIndex=-1, double <a class="el" href="seqread_8c.html#ad89d3fac2deab7a9cf6cfc8d15341b85">rate</a>=0.0)</td></tr>
<tr class="memdesc:a8d5c6376948069792d356c4d465f65af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a list of sample rates the output (playback) device supports.  <a href="#a8d5c6376948069792d356c4d465f65af">More...</a><br /></td></tr>
<tr class="separator:a8d5c6376948069792d356c4d465f65af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a038799b288476cf6896129739c0ce5"><td class="memItemLeft" align="right" valign="top">static wxArrayLong&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a5a038799b288476cf6896129739c0ce5">GetSupportedCaptureRates</a> (<a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> devIndex=-1, double <a class="el" href="seqread_8c.html#ad89d3fac2deab7a9cf6cfc8d15341b85">rate</a>=0.0)</td></tr>
<tr class="memdesc:a5a038799b288476cf6896129739c0ce5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a list of sample rates the input (recording) device supports.  <a href="#a5a038799b288476cf6896129739c0ce5">More...</a><br /></td></tr>
<tr class="separator:a5a038799b288476cf6896129739c0ce5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb6e16f4da1d263491071ce5b26a9abd"><td class="memItemLeft" align="right" valign="top">static wxArrayLong&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#acb6e16f4da1d263491071ce5b26a9abd">GetSupportedSampleRates</a> (<a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> playDevice=-1, <a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> recDevice=-1, double <a class="el" href="seqread_8c.html#ad89d3fac2deab7a9cf6cfc8d15341b85">rate</a>=0.0)</td></tr>
<tr class="memdesc:acb6e16f4da1d263491071ce5b26a9abd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a list of sample rates the current input/output device combination supports.  <a href="#acb6e16f4da1d263491071ce5b26a9abd">More...</a><br /></td></tr>
<tr class="separator:acb6e16f4da1d263491071ce5b26a9abd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71facd3c7274394b70eaff652e1bc97e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a71facd3c7274394b70eaff652e1bc97e">GetOptimalSupportedSampleRate</a> ()</td></tr>
<tr class="memdesc:a71facd3c7274394b70eaff652e1bc97e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a supported sample rate which can be used a an optimal default.  <a href="#a71facd3c7274394b70eaff652e1bc97e">More...</a><br /></td></tr>
<tr class="separator:a71facd3c7274394b70eaff652e1bc97e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfaf9b48ca72d2d34ebfb8873e0ae7dd"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#acfaf9b48ca72d2d34ebfb8873e0ae7dd">ValidateDeviceNames</a> (<a class="el" href="getopt1_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> wxString &amp;play, <a class="el" href="getopt1_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> wxString &amp;rec)</td></tr>
<tr class="memdesc:acfaf9b48ca72d2d34ebfb8873e0ae7dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ensure selected device names are valid.  <a href="#acfaf9b48ca72d2d34ebfb8873e0ae7dd">More...</a><br /></td></tr>
<tr class="separator:acfaf9b48ca72d2d34ebfb8873e0ae7dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a42f4cf4090548388aa1c762bb59778ba"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="getopt1_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a42f4cf4090548388aa1c762bb59778ba">StandardRates</a> []</td></tr>
<tr class="memdesc:a42f4cf4090548388aa1c762bb59778ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array of common audio sample rates.  <a href="#a42f4cf4090548388aa1c762bb59778ba">More...</a><br /></td></tr>
<tr class="separator:a42f4cf4090548388aa1c762bb59778ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d794f0244d6be2f833a6627cbfcdae8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="getopt1_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a4d794f0244d6be2f833a6627cbfcdae8">NumStandardRates</a></td></tr>
<tr class="memdesc:a4d794f0244d6be2f833a6627cbfcdae8"><td class="mdescLeft">&#160;</td><td class="mdescRight">How many standard sample rates there are.  <a href="#a4d794f0244d6be2f833a6627cbfcdae8">More...</a><br /></td></tr>
<tr class="separator:a4d794f0244d6be2f833a6627cbfcdae8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a894b7c943c91bb34f845aeb117786dff"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a894b7c943c91bb34f845aeb117786dff">AudioThread</a></td></tr>
<tr class="separator:a894b7c943c91bb34f845aeb117786dff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c082d9ef3612f42a4a78edffdf2a0db"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a5c082d9ef3612f42a4a78edffdf2a0db">InitAudioIO</a> ()</td></tr>
<tr class="separator:a5c082d9ef3612f42a4a78edffdf2a0db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a362633315924afe19ab0fe0cf4bd32da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a362633315924afe19ab0fe0cf4bd32da">DeinitAudioIO</a> ()</td></tr>
<tr class="separator:a362633315924afe19ab0fe0cf4bd32da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d694f00df707ad21d421a1b29ad46ea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_i_o.html#a0d694f00df707ad21d421a1b29ad46ea">audacityAudioCallback</a> (<a class="el" href="getopt1_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a> *inputBuffer, <a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a> *outputBuffer, unsigned long framesPerBuffer, <a class="el" href="getopt1_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="struct_pa_stream_callback_time_info.html">PaStreamCallbackTimeInfo</a> *timeInfo, <a class="el" href="portaudio_8h.html#a55a005924bcfa0424594f4f65cd4ae82">PaStreamCallbackFlags</a> statusFlags, <a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a> *<a class="el" href="xmlparse_8c.html#a4b666535c828e23ccd16510a0a1a1943">userData</a>)</td></tr>
<tr class="separator:a0d694f00df707ad21d421a1b29ad46ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="class_audio_i_o.html" title="AudioIO uses the PortAudio library to play and record sound. ">AudioIO</a> uses the PortAudio library to play and record sound. </p>
<p>Great care and attention to detail are necessary for understanding and modifying this system. The code in this file is run from three different thread contexts: the UI thread, the disk thread (which this file creates and maintains; in the code, this is called the Audio Thread), and the PortAudio callback thread. To highlight this deliniation, the file is divided into three parts based on what thread context each function is intended to run in.</p>
<dl class="section user"><dt>EXPERIMENTAL_MIDI_PLAYBACK</dt><dd>If EXPERIMENTAL_MIDI_PLAYBACK is defined, this class also manages MIDI playback. The reason for putting MIDI here rather than in, say, class MidiIO, is that there is no high-level synchronization and transport architecture, so Audio and MIDI must be coupled in order to start/stop/pause and synchronize them.</dd></dl>
<dl class="section user"><dt>MIDI With Audio</dt><dd>When Audio and MIDI play simultaneously, MIDI synchronizes to Audio. This is necessary because the Audio sample clock is not the same hardware as the system time used to schedule MIDI messages. MIDI is synchronized to Audio because it is simple to pause or rush the dispatch of MIDI messages, but generally impossible to pause or rush synchronous audio samples (without distortion).</dd></dl>
<dl class="section user"><dt></dt><dd>MIDI output is driven by yet another thread. In principle, we could output timestamped MIDI data at the same time we fill audio buffers from disk, but audio buffers are filled far in advance of playback time, and there is a lower latency thread (PortAudio's callback) that actually sends samples to the output device. The relatively low latency to the output device allows Audacity to stop audio output quickly. We want the same behavior for MIDI, but there is not periodic callback from PortMidi (because MIDI is asynchronous), so this function is performed by the MidiThread class.</dd></dl>
<dl class="section user"><dt></dt><dd>When Audio is running, MIDI is synchronized to Audio. Globals are set in the Audio callback (audacityAudioCallback) for use by a time function that reports milliseconds to PortMidi. (Details below.)</dd></dl>
<dl class="section user"><dt>MIDI Without Audio</dt><dd>When Audio is not running, PortMidi uses its own millisecond timer since there is no audio to synchronize to. (Details below.)</dd></dl>
<dl class="section user"><dt>Implementation Notes and Details for MIDI</dt><dd>When opening devices, successAudio and successMidi indicate errors if false, so normally both are true. Use playbackChannels, captureChannels and mMidiPlaybackTracks.IsEmpty() to determine if Audio or MIDI is actually in use.</dd></dl>
<dl class="section user"><dt>Audio Time</dt><dd>Normally, the current time during playback is given by the variable mTime. mTime normally advances by frames / samplerate each time an audio buffer is output by the audio callback. However, Audacity has a speed control that can perform continuously variable time stretching on audio. This is achieved in two places: the playback "mixer" that generates the samples for output processes the audio according to the speed control. In a separate algorithm, the audio callback updates mTime by (frames / samplerate) * factor, where factor reflects the speed at mTime. This effectively integrates speed to get position. Negative speeds are allowed too, for instance in scrubbing.</dd></dl>
<dl class="section user"><dt>Midi Time</dt><dd>MIDI is not warped according to the speed control. This might be something that should be changed. (Editorial note: Wouldn't it make more sense to display audio at the correct time and allow users to stretch audio the way they can stretch MIDI?) For now, MIDI plays at 1 second per second, so it requires an unwarped clock. In fact, MIDI time synchronization requires a millisecond clock that does not pause. Note that mTime will stop progress when the Pause button is pressed, even though audio samples (zeros) continue to be output.</dd></dl>
<dl class="section user"><dt></dt><dd>Therefore, we define the following interface for MIDI timing: <ul>
<li><code>AudioTime()</code> is the time based on all samples written so far, including zeros output during pauses. AudioTime() is based on the start location mT0, not zero. </li>
<li><code>PauseTime()</code> is the amount of time spent paused, based on a count of zero samples output. </li>
<li><code>MidiTime()</code> is an estimate in milliseconds of the current audio output time + 1s. In other words, what audacity track time corresponds to the audio (including pause insertions) at the output?</li>
</ul>
</dd></dl>
<dl class="section user"><dt>AudioTime() and PauseTime() computation</dt><dd>AudioTime() is simply mT0 + mNumFrames / mRate. mNumFrames is incremented in each audio callback. Similarly, PauseTime() is mNumPauseFrames / mRate. mNumPauseFrames is also incremented in each audio callback when a pause is in effect.</dd></dl>
<dl class="section user"><dt>MidiTime() computation</dt><dd>MidiTime() is computed based on information from PortAudio's callback, which estimates the system time at which the current audio buffer will be output. Consider the (unimplemented) function RealToTrack() that maps real time to track time. If outputTime is PortAudio's time estimate for the most recent output buffer, then <br />
 RealToTrack(outputTime) = AudioTime() - PauseTime() - bufferDuration <br />
 We want to know RealToTrack of the current time, so we use this approximation for small d: <br />
 RealToTrack(t + d) = RealToTrack(t) + d <br />
 Letting t = outputTime and d = (systemTime - outputTime), we can substitute to get:<br />
 RealToTrack(systemTime) = AudioTime() - PauseTime() - bufferduration + (systemTime - outputTime) <br />
 MidiTime() should include pause time, so add PauseTime() to both sides of the equation. Also MidiTime() is offset by 1 second to avoid negative time at startup, so add 1 to both sides: MidiTime() in seconds = RealToTrack(systemTime) + PauseTime() + 1 = <br />
 AudioTime() - bufferduration + (systemTime - outputTime) + 1</dd></dl>
<dl class="section user"><dt></dt><dd>The difference AudioTime() - PauseTime() is the time "cursor" for MIDI. When the speed control is used, MIDI and Audio will become unsynchronized. In particular, MIDI will not be synchronized with the visual cursor, which moves with scaled time reported in mTime.</dd></dl>
<dl class="section user"><dt>Midi Synchronization</dt><dd>The goal of MIDI playback is to deliver MIDI messages synchronized to audio (assuming no speed variation for now). If a midi event has time tmidi, then the timestamp for that message should be <br />
 timestamp (in seconds) = tmidi + PauseTime() + 1.0 - latency.<br />
 (This is actually off by 1ms; see "PortMidi Latency Parameter" below for more detail.) Notice the extra 1.0, added because MidiTime() is offset by 1s to avoid starting at a negative value. Also notice that we subtract latency. The user must set device latency using preferences. Some software synthesizers have very high latency (on the order of 100ms), so unless we lower timestamps and send messages early, the final output will not be synchronized. This timestamp is interpreted by PortMidi relative to MidiTime(), which is synchronized to audio output. So the only thing we need to do is output Midi messages shortly before they will be played with the correct timestamp. We will take "shortly before" to mean "at about the same time
  as corresponding audio". Based on this, output the event when AudioTime() - PauseTime() &gt; mtime - latency, adjusting the event time by adding PauseTime() + 1 - latency. This gives at least mAudioOutputLatency for the MIDI output to be generated (we want to generate MIDI output before the actual output time because events generated early are accurately timed according to their timestamp). However, the MIDI thread sleeps for MIDI_SLEEP in its polling loop, so the worst case is really mAudioOutputLatency + MIDI_SLEEP. In case the audio output latency is very low, we will output events when AudioTime() + MIDI_SLEEP - PauseTime() &gt; mtime - latency.</dd></dl>
<dl class="section user"><dt>Interaction between MIDI, Audio, and Pause</dt><dd>When Pause is used, PauseTime() will increase at the same rate as AudioTime(), and no more events will be output. Because of the time advance of mAudioOutputLatency + MIDI_SLEEP + latency and the fact that AudioTime() advances stepwise by mAudioBufferDuration, some extra MIDI might be output, but the same is true of audio: something like mAudioOutputLatency audio samples will be in the output buffer (with up to mAudioBufferDuration additional samples, depending on when the Pause takes effect). When playback is resumed, there will be a slight delay corresponding to the extra data previously sent. Again, the same is true of audio. Audio and MIDI will not pause and resume at exactly the same times, but their pause and resume times will be within the low tens of milliseconds, and the streams will be synchronized in any case. I.e. if audio pauses 10ms earlier than MIDI, it will resume 10ms earlier as well.</dd></dl>
<dl class="section user"><dt>PortMidi Latency Parameter</dt><dd>PortMidi has a "latency" parameter that is added to all timestamps. This value must be greater than zero to enable timestamp-based timing, but serves no other function, so we will set it to 1. All timestamps must then be adjusted down by 1 before messages are sent. This adjustment is on top of all the calculations described above. It just seem too complicated to describe everything in complete detail in one place.</dd></dl>
<dl class="section user"><dt>Midi While Recording Only</dt><dd>All of the midi-to-audio synchronization is of course meaningless when audio is not playing. If only recording, there is the problem that synchronization is based on output time, but without audio output, there is no output time. This does not seem like a critical feature, so MIDI is not synchronized to audio without audio playback. The user can always play a track of silence while recording to synchronize.</dd></dl>
<dl class="section user"><dt>Midi Without Audio Playback</dt><dd>When there is no audio playback, MIDI runs according to its own clock. The midi timestamp clock starts at approximately the same time as audio recording (if any). A timestamp of 0 corresponds to mT0, the starting time in the Midi track(s). Thus the timestamp for an event at time tmidi should be: <br />
 timestamp = tmidi - mT0 + PauseTime() - latency - 0.001<br />
 Where latency is the synthesizer latency, and the extra 0.001 is the latency (1ms) that PortMidi adds to timestamps automatically.</dd></dl>
<dl class="section user"><dt>Midi Output Without Audio Playback</dt><dd>Midi events should be written before their timestamp expires. Since the loop that checks for events to write pauses for MIDI_SLEEP, the events should be written at least MIDI_SLEEP early, and due to other delays and computation, we want some extra time, so let's allow 2*MIDI_SLEEP. Therefore, the write time should be when:<br />
 tmidi - mT0 + PauseTime() - latency - 0.001 - 2 * MIDI_SLEEP &lt; <a class="el" href="porttime_8h.html#a9a335bb8c04c85bf85d807dd448d72d0">Pt_Time()</a><br />
, which can be rearranged to:<br />
 tmidi &lt; mT0 + <a class="el" href="porttime_8h.html#a9a335bb8c04c85bf85d807dd448d72d0">Pt_Time()</a> + MIDI_SLEEP + (MIDI_SLEEP + latency) - PauseTime<br />
 which matches the code in AudioIO::FillMidiBuffers() after converting ms to s appropriately. (Note also that the 0.001 is dropped here &ndash; it's not really important).</dd></dl>
<dl class="section user"><dt>The code for Midi Without Audio was developed by simply trying</dt><dd>to play Midi alone and fixing everything that did not work. The "normal" <a class="el" href="class_audio_i_o.html" title="AudioIO uses the PortAudio library to play and record sound. ">AudioIO</a> execution was full of assumptions about audio, so there is no systematic design for running without audio, merely a number of "patches" to make it work. The expression "mNumPlaybackChannels &gt; 0" is used to detect whether audio playback is active, and "mNumFrames &gt; 0" is used to indicate that playback of either Midi or Audio has actually started. (mNumFrames is normally incremented by the audio callback, but if there is no audio playback or recording, it is set to 1 at the end of initialization.</dd></dl>
<dl class="section user"><dt>NoteTrack PlayLooped</dt><dd>When mPlayLooped is true, output is supposed to loop from mT0 to mT1. For NoteTracks, we interpret this to mean that any note-on or control change in the range mT0 &lt;= t &lt; mT1 is sent (notes that start before mT0 are not played even if they extend beyond mT0). Then, all notes are turned off. Events in the range mT0 &lt;= t &lt; mT1 are then repeated, offset by (mT1 - mT0), etc. We do NOT go back to the beginning and play all control changes (update events) up to mT0, nor do we "undo" any state changes between mT0 and mT1.</dd></dl>
<dl class="section user"><dt>NoteTrack PlayLooped Implementation</dt><dd>The mIterator object (an <a class="el" href="class_alg__iterator.html">Alg_iterator</a>) returns NULL when there are no more events scheduled before mT1. At mT1, we want to output all notes off messages, but the FillMidiBuffers() loop will exit if mNextEvent is NULL, so we create a "fake" mNextEvent for this special "event" of sending all notes off. After that, we destroy the iterator and use PrepareMidiIterator() to set up a NEW one. At each iteration, time must advance by (mT1 - mT0), so the accumulated time is held in mMidiLoopOffset.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000043">Todo:</a></b></dt><dd>run through all functions called from audio and portaudio threads to verify they are thread-safe. Note that synchronization of the style: "A sets flag to signal B, B clears flag to acknowledge completion" is not thread safe in a general multiple-CPU context. For example, B can write to a buffer and set a completion flag. The flag write can occur before the buffer write due to out-of-order execution. Then A can see the flag and read the buffer before buffer writes complete.</dd></dl>

<p>Definition at line <a class="el" href="_audio_i_o_8h_source.html#l00130">130</a> of file <a class="el" href="_audio_i_o_8h_source.html">AudioIO.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a68c6824c106711b4768dd3847a233366"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AudioIO::AudioIO </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l00856">856</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a747b3a9f103ce40e9b8d5e8dfb1cfce2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AudioIO::~AudioIO </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l00960">960</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a89c8c6c8da819d583b92e32508fbae7b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> AudioIO::EnqueueScrubByPosition </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>endTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>maxSpeed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>maySkip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>enqueue a NEW end time, using the last end as the new start, to be played over the same duration, as between this and the last enqueuing (or the starting of the stream). Except, we do not exceed maximum scrub speed, so may need to adjust either the start or the end. If maySkip is true, then when mouse movement exceeds maximum scrub speed, adjust the beginning of the scrub interval rather than the end, so that the scrub skips or "stutters" to stay near the cursor. But if the "stutter" is too short for the minimum, then there is no effect on the work queue. Return true if some work was really enqueued. </p>

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l02412">2412</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa5680009162f44b9156622851767e328"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> AudioIO::EnqueueScrubBySignedSpeed </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>maxSpeed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>maySkip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>enqueue a NEW positive or negative scrubbing speed, using the last end as the NEW start, to be played over the same duration, as between this and the last enqueueing (or the starting of the stream). Except, we do not exceed maximum scrub speed, so may need to adjust either the start or the end. If maySkip is true, then when mouse movement exceeds maximum scrub speed, adjust the beginning of the scrub interval rather than the end, so that the scrub skips or "stutters" to stay near the cursor. But if the "stutter" is too short for the minimum, then there is no effect on the work queue. Return true if some work was really enqueued. </p>

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l02420">2420</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5735d00a230e2a59a9702dfbf1a8b85d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="include_2audacity_2_types_8h.html#a9938d2e2f6adef23e745cd80ef379792">sampleFormat</a> AudioIO::GetCaptureFormat </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_audio_i_o_8h_source.html#l00372">372</a> of file <a class="el" href="_audio_i_o_8h_source.html">AudioIO.h</a>.</p>

</div>
</div>
<a class="anchor" id="a134b6a56921f9c6bd197d80de4ddce48"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">wxString AudioIO::GetDeviceInfo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get diagnostic information on all the available audio I/O devices. </p>

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l03027">3027</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a871ad77e029d77ff4ae461b2be5325cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">wxArrayString AudioIO::GetInputSourceNames </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the list of inputs to the current mixer device. </p>
<p>Returns an array of strings giving the names of the inputs to the soundcard mixer (driven by PortMixer) </p>

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l01072">1072</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a313e20357b22f7adbbdd274ef1e2e84e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">wxLongLong AudioIO::GetLastPlaybackTime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_audio_i_o_8h_source.html#l00221">221</a> of file <a class="el" href="_audio_i_o_8h_source.html">AudioIO.h</a>.</p>

</div>
</div>
<a class="anchor" id="a78477917ca8c9800ce6f5074a7044399"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_audio_i_o_listener.html">AudioIOListener</a>* AudioIO::GetListener </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_audio_i_o_8h_source.html#l00136">136</a> of file <a class="el" href="_audio_i_o_8h_source.html">AudioIO.h</a>.</p>

</div>
</div>
<a class="anchor" id="a377107ccda3176965ac68d757ba517a7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static double AudioIO::GetMaxScrubSpeed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_audio_i_o_8h_source.html#l00176">176</a> of file <a class="el" href="_audio_i_o_8h_source.html">AudioIO.h</a>.</p>

</div>
</div>
<a class="anchor" id="a40f26467a7d142f0edea9b3ac893dddd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static double AudioIO::GetMinScrubSpeed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_audio_i_o_8h_source.html#l00177">177</a> of file <a class="el" href="_audio_i_o_8h_source.html">AudioIO.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2341f380ecf5d7630ed1879a1b66e28c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a> AudioIO::GetMixer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> *&#160;</td>
          <td class="paramname"><em>inputSource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>inputVolume</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>playbackVolume</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l01031">1031</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a841f37644672ecb5ea445bfb52907c1f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> AudioIO::GetNumCaptureChannels </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_audio_i_o_8h_source.html#l00373">373</a> of file <a class="el" href="_audio_i_o_8h_source.html">AudioIO.h</a>.</p>

</div>
</div>
<a class="anchor" id="a71facd3c7274394b70eaff652e1bc97e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> AudioIO::GetOptimalSupportedSampleRate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a supported sample rate which can be used a an optimal default. </p>
<p>Currently, this uses the first supported rate in the list [44100, 48000, highest sample rate]. Used in Project as a default value for project rates if one cannot be retrieved from the preferences. So all in all not that useful or important really</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000044">Todo:</a></b></dt><dd>: should this take into account PortAudio's value for <a class="el" href="struct_pa_device_info.html#a68f435353bfe1a4c9b632203a9afcacb">PaDeviceInfo::defaultSampleRate</a>? In principal this should let us work out which rates are "real" and which resampled in the drivers, and so prefer the real rates. </dd></dl>

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l02686">2686</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="adaf7977e341e8012b03dca8c733f24e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double AudioIO::GetStreamTime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>During playback, the (unwarped) track time most recently played. </p>
<p>When playing looped, this will start from t0 again, too. So the returned time should be always between t0 and t1 </p>

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l02506">2506</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5a038799b288476cf6896129739c0ce5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">wxArrayLong AudioIO::GetSupportedCaptureRates </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td>
          <td class="paramname"><em>devIndex</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rate</em> = <code>0.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a list of sample rates the input (recording) device supports. </p>
<p>If no information about available sample rates can be fetched, an empty list is returned.</p>
<p>You can explicitely give the index of the device. If you don't give it, the currently selected device from the preferences will be used.</p>
<p>You may also specify a rate for which to check in addition to the standard rates. </p>

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l02576">2576</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8d5c6376948069792d356c4d465f65af"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">wxArrayLong AudioIO::GetSupportedPlaybackRates </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td>
          <td class="paramname"><em>DevIndex</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rate</em> = <code>0.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a list of sample rates the output (playback) device supports. </p>
<p>If no information about available sample rates can be fetched, an empty list is returned.</p>
<p>You can explicitely give the index of the device. If you don't give it, the currently selected device from the preferences will be used.</p>
<p>You may also specify a rate for which to check in addition to the standard rates. </p>

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l02515">2515</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="acb6e16f4da1d263491071ce5b26a9abd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">wxArrayLong AudioIO::GetSupportedSampleRates </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td>
          <td class="paramname"><em>playDevice</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td>
          <td class="paramname"><em>recDevice</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>rate</em> = <code>0.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a list of sample rates the current input/output device combination supports. </p>
<p>Since there is no concept (yet) for different input/output sample rates, this currently returns only sample rates that are supported on both the output and input device. If no information about available sample rates can be fetched, it returns a default list. You can explicitely give the indexes of the playDevice/recDevice. If you don't give them, the selected devices from the preferences will be used. You may also specify a rate for which to check in addition to the standard rates. </p>

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l02642">2642</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aef42a8e615a55e2b914a989e8b63af0b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a> AudioIO::HandleDeviceChange </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>update state after changing what audio devices are selected </p>
<p>Called when the devices stored in the preferences are changed to update the audio mixer capabilities</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000045">Todo:</a></b></dt><dd>: Make this do a sample rate query and store the result in the <a class="el" href="class_audio_i_o.html" title="AudioIO uses the PortAudio library to play and record sound. ">AudioIO</a> object to avoid doing it later? Would simplify the GetSupported*Rate functions considerably </dd></dl>

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l01100">1100</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a104cc037e35b66adb8864a35e8376f8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> AudioIO::InputMixerWorks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find out if the input hardware level control is available. </p>
<p>Checks the mInputMixerWorks variable, which is set up in <a class="el" href="class_audio_i_o.html#aef42a8e615a55e2b914a989e8b63af0b" title="update state after changing what audio devices are selected ">AudioIO::HandleDeviceChange()</a>. External people care, because we want to disable the UI if it doesn't work. </p>

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l01062">1062</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae38ba2eafdaf5a1579366d788fd669d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> AudioIO::IsAudioTokenActive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td>
          <td class="paramname"><em>token</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the stream is active, or even if audio I/O is busy cleaning up its data or writing to disk. </p>
<p>This is used by <a class="el" href="class_track_panel.html" title="The TrackPanel class coordinates updates and operations on the main part of the screen which contains...">TrackPanel</a> to determine when a track has been completely recorded, and it's safe to flush to disk. </p>

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l02455">2455</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7735a1b6d723e8342d22f9ddcf61d8e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> AudioIO::IsAvailable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_audacity_project.html">AudacityProject</a> *&#160;</td>
          <td class="paramname"><em>projecT</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_function.html" title="STK abstract function parent class. ">Function</a> to automatically set an acceptable volume. </p>

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l02067">2067</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a10f4e839ded338c433a4cd46a6ba41b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> AudioIO::IsBusy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if audio i/o is busy starting, stopping, playing, or recording. </p>
<p>When this is false, it's safe to start playing or recording </p>

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l02429">2429</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a81838290ddb586dc13726abf901b8260"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> AudioIO::IsMonitoring </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if we're monitoring input (but not recording or playing actual audio) </p>

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l02460">2460</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa83356a7bb2153f67f4c82b72ed5185b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> AudioIO::IsPaused </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find out if playback / recording is currently paused. </p>

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l02406">2406</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ada30edb1aa1b556aebb4ba0b9bbc697e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> AudioIO::IsScrubbing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_audio_i_o_8h_source.html#l00174">174</a> of file <a class="el" href="_audio_i_o_8h_source.html">AudioIO.h</a>.</p>

</div>
</div>
<a class="anchor" id="a07490d6ae881910c5ea13cdf011835f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> AudioIO::IsStreamActive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the audio i/o is running at all, but not during cleanup. </p>
<p>Doesn't return true if the device has been closed but some disk i/o or cleanup is still going on. If you want to know if it's safe to start a NEW stream, use <a class="el" href="class_audio_i_o.html#a10f4e839ded338c433a4cd46a6ba41b1" title="Returns true if audio i/o is busy starting, stopping, playing, or recording. ">IsBusy()</a> </p>

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l02437">2437</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aab4123922c22aac622db1512d01c6c18"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> AudioIO::IsStreamActive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td>
          <td class="paramname"><em>token</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l02450">2450</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="abc4c1f9f7609603270df993ee8af1af2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> AudioIO::OutputMixerEmulated </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find out if the output level control is being emulated via software attenuation. </p>
<p>Checks the mEmulateMixerOutputVol variable, which is set up in <a class="el" href="class_audio_i_o.html#aef42a8e615a55e2b914a989e8b63af0b" title="update state after changing what audio devices are selected ">AudioIO::HandleDeviceChange()</a>. External classes care, because we want to modify the UI if it doesn't work. </p>

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l01067">1067</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a40488ff8506e6238963049844728a6c6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a> AudioIO::SeekStream </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>seconds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Move the playback / recording position of the current stream by the specified amount from where it is now. </p>

<p>Definition at line <a class="el" href="_audio_i_o_8h_source.html#l00171">171</a> of file <a class="el" href="_audio_i_o_8h_source.html">AudioIO.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0ef8578b176133229c30a656fe41478e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a> AudioIO::SetCaptureMeter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_audacity_project.html">AudacityProject</a> *&#160;</td>
          <td class="paramname"><em>project</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_meter.html">Meter</a> *&#160;</td>
          <td class="paramname"><em>meter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l02072">2072</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8d9df4aba253fa43612ac02bafa994fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a> AudioIO::SetListener </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_audio_i_o_listener.html">AudioIOListener</a> *&#160;</td>
          <td class="paramname"><em>listener</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l03491">3491</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab90a44dee504b8748bf321416a25067b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a> AudioIO::SetMixer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td>
          <td class="paramname"><em>inputSource</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l00999">999</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6e08d80f05a4106be20dfaa96723c957"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a> AudioIO::SetMixer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td>
          <td class="paramname"><em>inputSource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>inputVolume</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>playbackVolume</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l01007">1007</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a49f8574c7ce8410e3ab254fe95c44388"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a> AudioIO::SetPaused </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pause and un-pause playback and recording. </p>

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l02389">2389</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a615aec62315405636bfe8b6e2a326cbe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a> AudioIO::SetPlaybackMeter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_audacity_project.html">AudacityProject</a> *&#160;</td>
          <td class="paramname"><em>project</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_meter.html">Meter</a> *&#160;</td>
          <td class="paramname"><em>meter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l02084">2084</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a447c4b556a0f66a61ead1c97ed4ae7e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a> AudioIO::StartMonitoring </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>sampleRate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start up Portaudio for capture and recording as needed for input monitoring and software playthrough only. </p>
<p>This uses the Default project sample format, current sample rate, and selected number of input channels to open the recording device and start reading input data. If software playthrough is enabled, it also opens the output device in stereo to play the data through </p>

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l01459">1459</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac2be97e813dfdedb3504b20f8b61cdd7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> AudioIO::StartStream </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_wave_track_array.html">WaveTrackArray</a>&#160;</td>
          <td class="paramname"><em>playbackTracks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_wave_track_array.html">WaveTrackArray</a>&#160;</td>
          <td class="paramname"><em>captureTracks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>sampleRate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="getopt1_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="struct_audio_i_o_start_stream_options.html">AudioIOStartStreamOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>options</em> = <code><a class="el" href="struct_audio_i_o_start_stream_options.html">AudioIOStartStreamOptions</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start recording or playing back audio. </p>
<p>Allocates buffers for recording and playback, gets the Audio thread to fill them, and sets the stream rolling. If successful, returns a token identifying this particular stream instance. For use with <a class="el" href="class_audio_i_o.html#a07490d6ae881910c5ea13cdf011835f3" title="Returns true if the audio i/o is running at all, but not during cleanup. ">IsStreamActive()</a> below </p>

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l01490">1490</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a018ef510a8616f1feeb0f542f82b1d44"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a> AudioIO::StopStream </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop recording, playback or input monitoring. </p>
<p>Does quite a bit of housekeeping, including switching off monitoring, flushing recording buffers out to wave tracks, and applies latency correction to recorded tracks if necessary </p>

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l02111">2111</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="acfaf9b48ca72d2d34ebfb8873e0ae7dd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> AudioIO::ValidateDeviceNames </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="getopt1_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> wxString &amp;&#160;</td>
          <td class="paramname"><em>play</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="getopt1_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> wxString &amp;&#160;</td>
          <td class="paramname"><em>rec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ensure selected device names are valid. </p>

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l00844">844</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="a0d694f00df707ad21d421a1b29ad46ea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> audacityAudioCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="getopt1_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a> *&#160;</td>
          <td class="paramname"><em>inputBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a> *&#160;</td>
          <td class="paramname"><em>outputBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>framesPerBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="getopt1_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="struct_pa_stream_callback_time_info.html">PaStreamCallbackTimeInfo</a> *&#160;</td>
          <td class="paramname"><em>timeInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="portaudio_8h.html#a55a005924bcfa0424594f4f65cd4ae82">PaStreamCallbackFlags</a>&#160;</td>
          <td class="paramname"><em>statusFlags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a> *&#160;</td>
          <td class="paramname"><em>userData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>brief The function which is called from PortAudio's callback thread context to collect and deliver audio for / from the sound device.</p>
<p>This covers recording, playback, and doing both simultaneously. It is also invoked to do monitoring and software playthrough. Note that dealing with the two buffers needs some care to ensure that the right things happen for all possible cases. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inputBuffer</td><td>Buffer of length framesPerBuffer containing samples from the sound card, or null if not capturing audio. Note that the data type will depend on the format of audio data that was chosen when the stream was created (so could be floats or various integers) </td></tr>
    <tr><td class="paramname">outputBuffer</td><td>Uninitialised buffer of length framesPerBuffer which will be sent to the sound card after the callback, or null if not playing audio back. </td></tr>
    <tr><td class="paramname">framesPerBuffer</td><td>The length of the playback and recording buffers </td></tr>
    <tr><td class="paramname"><a class="el" href="struct_pa_stream_callback_time_info.html">PaStreamCallbackTimeInfo</a></td><td>Pointer to PortAudio time information structure, which tells us how long we have been playing / recording </td></tr>
    <tr><td class="paramname">statusFlags</td><td>PortAudio stream status flags </td></tr>
    <tr><td class="paramname">userData</td><td>pointer to user-defined data structure. Provided for flexibility by PortAudio, but not used by Audacity - the data is stored in the <a class="el" href="class_audio_i_o.html" title="AudioIO uses the PortAudio library to play and record sound. ">AudioIO</a> class instead. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a894b7c943c91bb34f845aeb117786dff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="class_audio_thread.html">AudioThread</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_audio_i_o_8h_source.html#l00655">655</a> of file <a class="el" href="_audio_i_o_8h_source.html">AudioIO.h</a>.</p>

</div>
</div>
<a class="anchor" id="a362633315924afe19ab0fe0cf4bd32da"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a> DeinitAudioIO </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l00825">825</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5c082d9ef3612f42a4a78edffdf2a0db"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a> InitAudioIO </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_audio_i_o_8cpp_source.html#l00795">795</a> of file <a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a4d794f0244d6be2f833a6627cbfcdae8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="getopt1_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> AudioIO::NumStandardRates</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="keyword">sizeof</span>(<a class="code" href="class_audio_i_o.html#a42f4cf4090548388aa1c762bb59778ba">AudioIO::StandardRates</a>) /</div><div class="line">                                      <span class="keyword">sizeof</span>(<a class="code" href="class_audio_i_o.html#a42f4cf4090548388aa1c762bb59778ba">AudioIO::StandardRates</a>[0])</div></div><!-- fragment -->
<p>How many standard sample rates there are. </p>

<p>Definition at line <a class="el" href="_audio_i_o_8h_source.html#l00381">381</a> of file <a class="el" href="_audio_i_o_8h_source.html">AudioIO.h</a>.</p>

</div>
</div>
<a class="anchor" id="a42f4cf4090548388aa1c762bb59778ba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="getopt1_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> AudioIO::StandardRates</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">   8000,</div><div class="line">   11025,</div><div class="line">   16000,</div><div class="line">   22050,</div><div class="line">   32000,</div><div class="line">   44100,</div><div class="line">   48000,</div><div class="line">   88200,</div><div class="line">   96000,</div><div class="line">   176400,</div><div class="line">   192000,</div><div class="line">   352800,</div><div class="line">   384000</div><div class="line">}</div></div><!-- fragment -->
<p>Array of common audio sample rates. </p>
<p>These are the rates we will always support, regardless of hardware support for them (by resampling in audacity if needed) </p>

<p>Definition at line <a class="el" href="_audio_i_o_8h_source.html#l00379">379</a> of file <a class="el" href="_audio_i_o_8h_source.html">AudioIO.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>C:/_dev/OpenU/Audacity/audacity/src/<a class="el" href="_audio_i_o_8h_source.html">AudioIO.h</a></li>
<li>C:/_dev/OpenU/Audacity/audacity/src/<a class="el" href="_audio_i_o_8cpp_source.html">AudioIO.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
