<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Audacity: Building Portaudio for Windows with ASIO support using MSVC</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Audacity
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Building Portaudio for Windows with ASIO support using MSVC </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="comp_win_asiomsvc1"></a>
Portaudio Windows ASIO with MSVC</h1>
<p>This tutorial describes how to build PortAudio with ASIO support using MSVC <em>from scratch</em>, without an existing Visual Studio project. For instructions for building PortAudio (including ASIO support) using the bundled Visual Studio project file see the compiling instructions for <a class="el" href="compile_windows.html">Building PortAudio for Windows using Microsoft Visual Studio</a>.</p>
<p>ASIO is a low latency audio API from Steinberg. To compile an ASIO application, you must first download the ASIO SDK from Steinberg. You also need to obtain ASIO drivers for your audio device. Download the ASIO SDK from Steinberg at <a href="http://www.steinberg.net/en/company/developer.html">http://www.steinberg.net/en/company/developer.html</a> . The SDK is free but you will need to set up a developer account with Steinberg.</p>
<p>This tutorial assumes that you have 3 directories set up at the same level (side by side), one containing PortAudio, one containing the ASIO SDK and one containing your Visual Studio project:</p>
<div class="fragment"><div class="line">/ASIOSDK2 </div><div class="line">/<a class="code" href="namespaceportaudio.html">portaudio</a></div><div class="line">/DirContainingYourVisualStudioProject  (should directly contain <a class="code" href="nasm_8h.html#aaf57ffcfef0bee04f46c6ada2a905a8c">the</a> .sln, .vcproj or .vcprojx etc.)</div></div><!-- fragment --><p>First, make sure that the Steinberg SDK and the portaudio files are "side by side" in the same directory.</p>
<p>Open Microsoft Visual C++ and create a new blank Console exe Project/Workspace in that same directory.</p>
<p>For example, the paths for all three groups might read like this:</p>
<div class="fragment"><div class="line">C:\Program Files\Microsoft Visual Studio\VC98\My Projects\ASIOSDK2</div><div class="line">C:\Program Files\Microsoft Visual Studio\VC98\My Projects\portaudio</div><div class="line">C:\Program Files\Microsoft Visual Studio\VC98\My Projects\Sawtooth</div></div><!-- fragment --><p>Next, add the following Steinberg ASIO SDK files to the project Source Files:</p>
<div class="fragment"><div class="line">asio.cpp                        (ASIOSDK2\common)</div><div class="line">asiodrivers.cpp                 (ASIOSDK2\host)</div><div class="line">asiolist.cpp                    (ASIOSDK2\host\pc)</div></div><!-- fragment --><p>Then, add the following PortAudio files to the project Source Files:</p>
<div class="fragment"><div class="line">pa_asio.cpp                     (<a class="code" href="namespaceportaudio.html">portaudio</a>\src\hostapi\asio)</div><div class="line">pa_allocation.c                 (<a class="code" href="namespaceportaudio.html">portaudio</a>\src\common)</div><div class="line">pa_converters.c                 (<a class="code" href="namespaceportaudio.html">portaudio</a>\src\common)</div><div class="line">pa_cpuload.c                    (<a class="code" href="namespaceportaudio.html">portaudio</a>\src\common)</div><div class="line">pa_dither.c                     (<a class="code" href="namespaceportaudio.html">portaudio</a>\src\common)</div><div class="line">pa_front.c                      (<a class="code" href="namespaceportaudio.html">portaudio</a>\src\common)</div><div class="line">pa_process.c                    (<a class="code" href="namespaceportaudio.html">portaudio</a>\src\common)</div><div class="line">pa_ringbuffer.c                 (<a class="code" href="namespaceportaudio.html">portaudio</a>\src\common)</div><div class="line">pa_stream.c                     (<a class="code" href="namespaceportaudio.html">portaudio</a>\src\common)</div><div class="line">pa_trace.c                      (<a class="code" href="namespaceportaudio.html">portaudio</a>\src\common)</div><div class="line">pa_win_hostapis.c               (<a class="code" href="namespaceportaudio.html">portaudio</a>\src\os\win)</div><div class="line">pa_win_util.c                   (<a class="code" href="namespaceportaudio.html">portaudio</a>\src\os\win)</div><div class="line">pa_win_coinitialize.c           (<a class="code" href="namespaceportaudio.html">portaudio</a>\src\os\win)</div><div class="line">pa_win_waveformat.c             (<a class="code" href="namespaceportaudio.html">portaudio</a>\src\os\win)</div><div class="line">pa_x86_plain_converters.c       (<a class="code" href="namespaceportaudio.html">portaudio</a>\src\os\win)</div><div class="line">paex_saw.c                      (<a class="code" href="namespaceportaudio.html">portaudio</a>\<a class="code" href="namespacehtmldata.html#ab52faf44a3a2bcdf3bf87668c93cba00">examples</a>)  (Or another file containing <a class="code" href="elements_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>() </div><div class="line">                                                      <a class="code" href="hashrout_8h.html#af69473f95324d0c0f91fdfb1d1a00360">for</a> <a class="code" href="nasm_8h.html#aaf57ffcfef0bee04f46c6ada2a905a8c">the</a> console exe to be built.)</div></div><!-- fragment --><p>Although not strictly necessary, you may also want to add the following files to the project Header Files:</p>
<div class="fragment"><div class="line"><a class="code" href="namespaceportaudio.html">portaudio</a>.h                     (<a class="code" href="namespaceportaudio.html">portaudio</a>\include)</div><div class="line">pa_asio.h                       (<a class="code" href="namespaceportaudio.html">portaudio</a>\include)</div></div><!-- fragment --><p>These header files define the interfaces to the PortAudio API.</p>
<p>Next, go to Project Settings &gt; All Configurations &gt; C/C++ &gt; Preprocessor &gt; Preprocessor Definitions and add PA_USE_ASIO=1 to any entries that might be there.</p>
<p>eg: WIN32;_CONSOLE;_MBCS changes to WIN32;_CONSOLE,_MBCS;PA_USE_ASIO=1</p>
<p>Then, on the same Project Settings tab, go down to Additional Include Directories (in VS2010 you'll find this setting under C/C++ &gt; General) and enter the following relative include paths:</p>
<div class="fragment"><div class="line">..\portaudio\include;..\portaudio\src\common;..\portaudio\src\os\win;..\asiosdk2\common;..\asiosdk2\host;..\asiosdk2\host\pc</div></div><!-- fragment --><p>You'll need to make sure the relative paths are correct for the particular directory layout you're using. The above should work fine if you use the side-by-side layout we recommended earlier.</p>
<p>Some source code in the ASIO SDK is not compatible with the Win32 API UNICODE mode (The ASIO SDK expects the non-Unicode Win32 API). Therefore you need to make sure your project is set to not use Unicode. You do this by setting the project Character Set to "Use Multi-Byte Character Set" (NOT "Use Unicode Character Set"). In VS2010 the Character Set option can be found at Configuration Properties &gt; General &gt; Character Set. (An alternative to setting the project to non-Unicode is to patch asiolist.cpp to work when UNICODE is defined: put #undef UNICODE at the top of the file before windows.h is included.)</p>
<p>You should now be able to build any of the test executables in the portaudio\examples directory. We suggest that you start with paex_saw.c because it's one of the simplest example files.</p>
<p>&mdash; Chris Share, Tom McCandless, Ross Bencina</p>
<p>Back to the Tutorial: <a class="el" href="tutorial_start.html">PortAudio Tutorials</a> </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
