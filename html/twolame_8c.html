<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Audacity: C:/_dev/OpenU/Audacity/audacity/lib-src/twolame/libtwolame/twolame.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Audacity
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_ca5d775a60eb14feacb7e09cea182bb9.html">audacity</a></li><li class="navelem"><a class="el" href="dir_7eead044a7427418c190b82a89ee69fb.html">lib-src</a></li><li class="navelem"><a class="el" href="dir_058e53cbf782bb2940e5b16350923c4d.html">twolame</a></li><li class="navelem"><a class="el" href="dir_04503376868270d219d5d040ce8905c3.html">libtwolame</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">twolame.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;<a class="el" href="assert_8h_source.html">assert.h</a>&gt;</code><br />
<code>#include &lt;limits.h&gt;</code><br />
<code>#include &quot;<a class="el" href="twolame_8h_source.html">twolame.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="twolame_2libtwolame_2common_8h_source.html">common.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="bitbuffer_8h_source.html">bitbuffer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="twolame_2libtwolame_2mem_8h_source.html">mem.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="twolame_2libtwolame_2crc_8h_source.html">crc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dab_8h_source.html">dab.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="psycho__n1_8h_source.html">psycho_n1.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="psycho__0_8h_source.html">psycho_0.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="psycho__1_8h_source.html">psycho_1.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="psycho__2_8h_source.html">psycho_2.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="psycho__3_8h_source.html">psycho_3.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="psycho__4_8h_source.html">psycho_4.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="availbits_8h_source.html">availbits.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="twolame_2libtwolame_2subband_8h_source.html">subband.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="twolame_2libtwolame_2encode_8h_source.html">encode.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="energy_8h_source.html">energy.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="twolame_2libtwolame_2util_8h_source.html">util.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="bitbuffer__inline_8h_source.html">bitbuffer_inline.h</a>&quot;</code><br />
</div>
<p><a href="twolame_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac4cdab0d6542badab38bb4ddf96957fb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="twolame_8h.html#a429c5c35b47d5d7cc34a07e48a82866d">twolame_options</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="twolame_8c.html#ac4cdab0d6542badab38bb4ddf96957fb">twolame_init</a> (<a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a>)</td></tr>
<tr class="separator:ac4cdab0d6542badab38bb4ddf96957fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a479229b288016a4b7b1dd696e4000257"><td class="memItemLeft" align="right" valign="top"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="twolame_8c.html#a479229b288016a4b7b1dd696e4000257">twolame_init_params</a> (<a class="el" href="twolame_8h.html#a429c5c35b47d5d7cc34a07e48a82866d">twolame_options</a> *glopts)</td></tr>
<tr class="separator:a479229b288016a4b7b1dd696e4000257"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7656283020d9b131790bf5a99af055c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="twolame_8c.html#a7656283020d9b131790bf5a99af055c4">twolame_encode_buffer</a> (<a class="el" href="twolame_8h.html#a429c5c35b47d5d7cc34a07e48a82866d">twolame_options</a> *glopts, <a class="el" href="getopt1_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> short <a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> leftpcm[], <a class="el" href="getopt1_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> short <a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> rightpcm[], <a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> num_samples, unsigned char *mp2buffer, <a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> mp2buffer_size)</td></tr>
<tr class="separator:a7656283020d9b131790bf5a99af055c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a578b70ad7abfcc2bbed09ecf661fd66e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="twolame_8c.html#a578b70ad7abfcc2bbed09ecf661fd66e">twolame_encode_buffer_interleaved</a> (<a class="el" href="twolame_8h.html#a429c5c35b47d5d7cc34a07e48a82866d">twolame_options</a> *glopts, <a class="el" href="getopt1_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> short <a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> pcm[], <a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> num_samples, unsigned char *mp2buffer, <a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> mp2buffer_size)</td></tr>
<tr class="separator:a578b70ad7abfcc2bbed09ecf661fd66e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e77eb0f22479f8ec1bd4f1b042f9cd9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="twolame_8c.html#a8e77eb0f22479f8ec1bd4f1b042f9cd9">twolame_encode_buffer_float32</a> (<a class="el" href="twolame_8h.html#a429c5c35b47d5d7cc34a07e48a82866d">twolame_options</a> *glopts, <a class="el" href="getopt1_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float leftpcm[], <a class="el" href="getopt1_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float rightpcm[], <a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> num_samples, unsigned char *mp2buffer, <a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> mp2buffer_size)</td></tr>
<tr class="separator:a8e77eb0f22479f8ec1bd4f1b042f9cd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca716bf42f767e889c0505206c3f1160"><td class="memItemLeft" align="right" valign="top"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="twolame_8c.html#aca716bf42f767e889c0505206c3f1160">twolame_encode_buffer_float32_interleaved</a> (<a class="el" href="twolame_8h.html#a429c5c35b47d5d7cc34a07e48a82866d">twolame_options</a> *glopts, <a class="el" href="getopt1_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float pcm[], <a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> num_samples, unsigned char *mp2buffer, <a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> mp2buffer_size)</td></tr>
<tr class="separator:aca716bf42f767e889c0505206c3f1160"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3903ae20e7e99b7774c527e3e9ed3ab3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="twolame_8c.html#a3903ae20e7e99b7774c527e3e9ed3ab3">twolame_encode_flush</a> (<a class="el" href="twolame_8h.html#a429c5c35b47d5d7cc34a07e48a82866d">twolame_options</a> *glopts, unsigned char *mp2buffer, <a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> mp2buffer_size)</td></tr>
<tr class="separator:a3903ae20e7e99b7774c527e3e9ed3ab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a9adda3b79826aa841471dda5e87e34"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="twolame_8c.html#a5a9adda3b79826aa841471dda5e87e34">twolame_close</a> (<a class="el" href="twolame_8h.html#a429c5c35b47d5d7cc34a07e48a82866d">twolame_options</a> **glopts)</td></tr>
<tr class="separator:a5a9adda3b79826aa841471dda5e87e34"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a5a9adda3b79826aa841471dda5e87e34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a> twolame_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="twolame_8h.html#a429c5c35b47d5d7cc34a07e48a82866d">twolame_options</a> **&#160;</td>
          <td class="paramname"><em>glopts</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Shut down the twolame encoder.</p>
<p>Shuts down the twolame encoder and frees all memory that it previously allocated. You should call this once you have finished all your encoding. This function will set your glopts pointer to NULL for you.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">glopts</td><td>pointer to twolame options pointer </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="twolame_8c_source.html#l00908">908</a> of file <a class="el" href="twolame_8c_source.html">twolame.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7656283020d9b131790bf5a99af055c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> twolame_encode_buffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="twolame_8h.html#a429c5c35b47d5d7cc34a07e48a82866d">twolame_options</a> *&#160;</td>
          <td class="paramname"><em>glopts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="getopt1_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> short <a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td>
          <td class="paramname"><em>leftpcm</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="getopt1_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> short <a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td>
          <td class="paramname"><em>rightpcm</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td>
          <td class="paramname"><em>num_samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>mp2buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td>
          <td class="paramname"><em>mp2buffer_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Encode some 16-bit PCM audio to MP2.</p>
<p>Takes 16-bit PCM audio samples from seperate left and right buffers and places encoded audio into mp2buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">glopts</td><td>twolame options pointer </td></tr>
    <tr><td class="paramname">leftpcm</td><td>Left channel audio samples </td></tr>
    <tr><td class="paramname">rightpcm</td><td>Right channel audio samples </td></tr>
    <tr><td class="paramname">num_samples</td><td>Number of samples per channel </td></tr>
    <tr><td class="paramname">mp2buffer</td><td>Buffer to place encoded audio into </td></tr>
    <tr><td class="paramname">mp2buffer_size</td><td>Size of the output buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes put in output buffer or a negative value on error </dd></dl>

<p>Definition at line <a class="el" href="twolame_8c_source.html#l00618">618</a> of file <a class="el" href="twolame_8c_source.html">twolame.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8e77eb0f22479f8ec1bd4f1b042f9cd9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> twolame_encode_buffer_float32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="twolame_8h.html#a429c5c35b47d5d7cc34a07e48a82866d">twolame_options</a> *&#160;</td>
          <td class="paramname"><em>glopts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="getopt1_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float&#160;</td>
          <td class="paramname"><em>leftpcm</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="getopt1_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float&#160;</td>
          <td class="paramname"><em>rightpcm</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td>
          <td class="paramname"><em>num_samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>mp2buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td>
          <td class="paramname"><em>mp2buffer_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Encode some 32-bit PCM audio to MP2.</p>
<p>Takes 32-bit floating point PCM audio samples from seperate left and right buffers and places encoded audio into mp2buffer.</p>
<p>Note: the 32-bit samples are currently scaled down to 16-bit samples internally.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">glopts</td><td>twolame options pointer </td></tr>
    <tr><td class="paramname">leftpcm</td><td>Left channel audio samples </td></tr>
    <tr><td class="paramname">rightpcm</td><td>Right channel audio samples </td></tr>
    <tr><td class="paramname">num_samples</td><td>Number of samples per channel </td></tr>
    <tr><td class="paramname">mp2buffer</td><td>Buffer to place encoded audio into </td></tr>
    <tr><td class="paramname">mp2buffer_size</td><td>Size of the output buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes put in output buffer or a negative value on error </dd></dl>

<p>Definition at line <a class="el" href="twolame_8c_source.html#l00760">760</a> of file <a class="el" href="twolame_8c_source.html">twolame.c</a>.</p>

</div>
</div>
<a class="anchor" id="aca716bf42f767e889c0505206c3f1160"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> twolame_encode_buffer_float32_interleaved </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="twolame_8h.html#a429c5c35b47d5d7cc34a07e48a82866d">twolame_options</a> *&#160;</td>
          <td class="paramname"><em>glopts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="getopt1_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> float&#160;</td>
          <td class="paramname"><em>pcm</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td>
          <td class="paramname"><em>num_samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>mp2buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td>
          <td class="paramname"><em>mp2buffer_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Encode some 32-bit PCM audio to MP2.</p>
<p>Takes 32-bit floating point PCM audio samples from a single buffer and places encoded audio into mp2buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">glopts</td><td>twolame options pointer </td></tr>
    <tr><td class="paramname">pcm</td><td>Audio samples for left AND right channels </td></tr>
    <tr><td class="paramname">num_samples</td><td>Number of samples per channel </td></tr>
    <tr><td class="paramname">mp2buffer</td><td>Buffer to place encoded audio into </td></tr>
    <tr><td class="paramname">mp2buffer_size</td><td>Size of the output buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes put in output buffer or a negative value on error </dd></dl>

<p>Definition at line <a class="el" href="twolame_8c_source.html#l00818">818</a> of file <a class="el" href="twolame_8c_source.html">twolame.c</a>.</p>

</div>
</div>
<a class="anchor" id="a578b70ad7abfcc2bbed09ecf661fd66e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> twolame_encode_buffer_interleaved </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="twolame_8h.html#a429c5c35b47d5d7cc34a07e48a82866d">twolame_options</a> *&#160;</td>
          <td class="paramname"><em>glopts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="getopt1_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> short <a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td>
          <td class="paramname"><em>pcm</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td>
          <td class="paramname"><em>num_samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>mp2buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td>
          <td class="paramname"><em>mp2buffer_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Encode some 16-bit PCM audio to MP2.</p>
<p>Takes interleaved 16-bit PCM audio samples from a single buffer and places encoded audio into mp2buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">glopts</td><td>twolame options pointer </td></tr>
    <tr><td class="paramname">pcm</td><td>Audio samples for left AND right channels </td></tr>
    <tr><td class="paramname">num_samples</td><td>Number of samples per channel </td></tr>
    <tr><td class="paramname">mp2buffer</td><td>Buffer to place encoded audio into </td></tr>
    <tr><td class="paramname">mp2buffer_size</td><td>Size of the output buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes put in output buffer or a negative value on error </dd></dl>

<p>Definition at line <a class="el" href="twolame_8c_source.html#l00676">676</a> of file <a class="el" href="twolame_8c_source.html">twolame.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3903ae20e7e99b7774c527e3e9ed3ab3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> twolame_encode_flush </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="twolame_8h.html#a429c5c35b47d5d7cc34a07e48a82866d">twolame_options</a> *&#160;</td>
          <td class="paramname"><em>glopts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>mp2buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a>&#160;</td>
          <td class="paramname"><em>mp2buffer_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Encode any remains buffered PCM audio to MP2.</p>
<p>Encodes any remaining audio samples in the libtwolame internal sample buffer. This function will return at most a single frame of MPEG Audio, and at least 0 frames.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">glopts</td><td>twolame options pointer </td></tr>
    <tr><td class="paramname">mp2buffer</td><td>Buffer to place encoded audio into </td></tr>
    <tr><td class="paramname">mp2buffer_size</td><td>Size of the output buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes put in output buffer or a negative value on error </dd></dl>

<p>Definition at line <a class="el" href="twolame_8c_source.html#l00877">877</a> of file <a class="el" href="twolame_8c_source.html">twolame.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac4cdab0d6542badab38bb4ddf96957fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="twolame_8h.html#a429c5c35b47d5d7cc34a07e48a82866d">twolame_options</a>* twolame_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sound_8c.html#ae35f5844602719cf66324f4de2a658b3">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialise the twolame encoder.</p>
<p>Sets defaults for all parameters. Will return NULL if malloc() failed, otherwise returns a pointer which you then need to pass to all future API calls.</p>
<dl class="section return"><dt>Returns</dt><dd>a pointer to your new options data structure </dd></dl>

<p>Definition at line <a class="el" href="twolame_8c_source.html#l00060">60</a> of file <a class="el" href="twolame_8c_source.html">twolame.c</a>.</p>

</div>
</div>
<a class="anchor" id="a479229b288016a4b7b1dd696e4000257"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="xmltok_8h.html#a5a0d4a5641ce434f1d23533f2b2e6653">int</a> twolame_init_params </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="twolame_8h.html#a429c5c35b47d5d7cc34a07e48a82866d">twolame_options</a> *&#160;</td>
          <td class="paramname"><em>glopts</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function should actually <em>check</em> the parameters to see if they make sense. </p>

<p>Definition at line <a class="el" href="twolame_8c_source.html#l00177">177</a> of file <a class="el" href="twolame_8c_source.html">twolame.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
