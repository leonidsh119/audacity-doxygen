<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.11">
  <compounddef id="_scripter_callback_8cpp" kind="file" language="C++">
    <compoundname>ScripterCallback.cpp</compoundname>
    <includes local="no">wx/wx.h</includes>
    <includes refid="_scripter_callback_8h" local="yes">ScripterCallback.h</includes>
    <includes refid="_audacity_8h" local="yes">../../src/Audacity.h</includes>
    <includes refid="_shuttle_gui_8h" local="yes">../../src/ShuttleGui.h</includes>
    <incdepgraph>
      <node id="27980">
        <label>WrappedType.h</label>
        <link refid="_wrapped_type_8h"/>
        <childnode refid="27973" relation="include">
        </childnode>
      </node>
      <node id="27981">
        <label>wx/scrolbar.h</label>
      </node>
      <node id="27972">
        <label>ScripterCallback.h</label>
        <link refid="_scripter_callback_8h"/>
      </node>
      <node id="27973">
        <label>../../src/Audacity.h</label>
        <link refid="_audacity_8h"/>
      </node>
      <node id="27977">
        <label>wx/grid.h</label>
      </node>
      <node id="27970">
        <label>C:/_dev/OpenU/Audacity/audacity/lib-src/mod-script-pipe/ScripterCallback.cpp</label>
        <link refid="ScripterCallback.cpp"/>
        <childnode refid="27971" relation="include">
        </childnode>
        <childnode refid="27972" relation="include">
        </childnode>
        <childnode refid="27973" relation="include">
        </childnode>
        <childnode refid="27974" relation="include">
        </childnode>
      </node>
      <node id="27979">
        <label>wx/string.h</label>
      </node>
      <node id="27978">
        <label>wx/sizer.h</label>
      </node>
      <node id="27971">
        <label>wx/wx.h</label>
      </node>
      <node id="27975">
        <label>MemoryX.h</label>
        <link refid="_memory_x_8h"/>
        <childnode refid="27976" relation="include">
        </childnode>
      </node>
      <node id="27974">
        <label>../../src/ShuttleGui.h</label>
        <link refid="_shuttle_gui_8h"/>
        <childnode refid="27973" relation="include">
        </childnode>
        <childnode refid="27975" relation="include">
        </childnode>
        <childnode refid="27977" relation="include">
        </childnode>
        <childnode refid="27978" relation="include">
        </childnode>
        <childnode refid="27979" relation="include">
        </childnode>
        <childnode refid="27980" relation="include">
        </childnode>
        <childnode refid="27981" relation="include">
        </childnode>
      </node>
      <node id="27976">
        <label>memory</label>
      </node>
    </incdepgraph>
      <sectiondef kind="enum">
      <memberdef kind="enum" id="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359" prot="public" static="no">
        <name>ModuleDispatchTypes</name>
        <enumvalue id="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359a1bf5c73b59c03d6544583932fe570e12" prot="public">
          <name>ModuleInitialize</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359ae47bfc7f94e66a1c0f638ca5665259dc" prot="public">
          <name>ModuleTerminate</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359a1714df437a6091c2065912b4f65d79b9" prot="public">
          <name>AppInitialized</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359a913e9635708d7d591acff3136533b418" prot="public">
          <name>AppQuiting</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359aca65a88d8918628a543db101c2cadd01" prot="public">
          <name>ProjectInitialized</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359aa9162e1533abf3b36d7eb49ee1dd8848" prot="public">
          <name>ProjectClosing</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359a28b56266fc9df570eaec939b72fb8eb6" prot="public">
          <name>MenusRebuilt</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="_module_manager_8h_1a9f2f762f76ca014f9381eeabccdef359a1bf5c73b59c03d6544583932fe570e12" prot="public">
          <name>ModuleInitialize</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="_module_manager_8h_1a9f2f762f76ca014f9381eeabccdef359ae47bfc7f94e66a1c0f638ca5665259dc" prot="public">
          <name>ModuleTerminate</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="_module_manager_8h_1a9f2f762f76ca014f9381eeabccdef359a1714df437a6091c2065912b4f65d79b9" prot="public">
          <name>AppInitialized</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="_module_manager_8h_1a9f2f762f76ca014f9381eeabccdef359a913e9635708d7d591acff3136533b418" prot="public">
          <name>AppQuiting</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="_module_manager_8h_1a9f2f762f76ca014f9381eeabccdef359aca65a88d8918628a543db101c2cadd01" prot="public">
          <name>ProjectInitialized</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="_module_manager_8h_1a9f2f762f76ca014f9381eeabccdef359aa9162e1533abf3b36d7eb49ee1dd8848" prot="public">
          <name>ProjectClosing</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="_module_manager_8h_1a9f2f762f76ca014f9381eeabccdef359a28b56266fc9df570eaec939b72fb8eb6" prot="public">
          <name>MenusRebuilt</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/mod-script-pipe/ScripterCallback.cpp" line="50" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/mod-script-pipe/ScripterCallback.cpp" bodystart="49" bodyend="58"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="typedef">
      <memberdef kind="typedef" id="_scripter_callback_8cpp_1a629fb6c89dc5db32c481edcea4b6bad9" prot="public" static="no">
        <type>SCRIPT_PIPE_DLL_IMPORT <ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref>(*</type>
        <definition>typedef SCRIPT_PIPE_DLL_IMPORT int(* tpExecScriptServerFunc) (wxString *pIn, wxString *pOut)</definition>
        <argsstring>)(wxString *pIn, wxString *pOut)</argsstring>
        <name>tpExecScriptServerFunc</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/mod-script-pipe/ScripterCallback.cpp" line="62" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/mod-script-pipe/ScripterCallback.cpp" bodystart="62" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="var">
      <memberdef kind="variable" id="_scripter_callback_8cpp_1af388bba46f351d0ab118c582ef11e2b7" prot="public" static="yes" mutable="no">
        <type><ref refid="_script_command_relay_8h_1a0a5541db06fba47449c9ae647e5136bc" kindref="member">tpExecScriptServerFunc</ref></type>
        <definition>tpExecScriptServerFunc pScriptServerFn</definition>
        <argsstring></argsstring>
        <name>pScriptServerFn</name>
        <initializer>=<ref refid="px__mixer_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref></initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/mod-script-pipe/ScripterCallback.cpp" line="63" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/mod-script-pipe/ScripterCallback.cpp" bodystart="63" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="_scripter_callback_8cpp_1af494ee5ec71748f29da04b50e9e66f0a" prot="public" static="no" mutable="no">
        <type>wxString</type>
        <definition>wxString Str2</definition>
        <argsstring></argsstring>
        <name>Str2</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/mod-script-pipe/ScripterCallback.cpp" line="115" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/mod-script-pipe/ScripterCallback.cpp" bodystart="115" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="_scripter_callback_8cpp_1af60f3b9f4c5742daf470073b30662137" prot="public" static="no" mutable="no">
        <type>wxArrayString</type>
        <definition>wxArrayString aStr</definition>
        <argsstring></argsstring>
        <name>aStr</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/mod-script-pipe/ScripterCallback.cpp" line="116" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/mod-script-pipe/ScripterCallback.cpp" bodystart="116" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="_scripter_callback_8cpp_1a51c4f544dcbb66f7dac8447e1ffad08a" prot="public" static="no" mutable="no">
        <type>unsigned <ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
        <definition>unsigned int currentLine</definition>
        <argsstring></argsstring>
        <name>currentLine</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/mod-script-pipe/ScripterCallback.cpp" line="117" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/mod-script-pipe/ScripterCallback.cpp" bodystart="117" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="_scripter_callback_8cpp_1a2774c1c4f950408c820a3b4816a92164" prot="public" static="no" mutable="no">
        <type>size_t</type>
        <definition>size_t currentPosition</definition>
        <argsstring></argsstring>
        <name>currentPosition</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/mod-script-pipe/ScripterCallback.cpp" line="118" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/mod-script-pipe/ScripterCallback.cpp" bodystart="118" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="_scripter_callback_8cpp_1a8103a2f83298167092617cc115085434" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>void PipeServer</definition>
        <argsstring>()</argsstring>
        <name>PipeServer</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/mod-script-pipe/ScripterCallback.cpp" line="61" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/mod-script-pipe/PipeServer.cpp" bodystart="120" bodyend="199"/>
      </memberdef>
      <memberdef kind="function" id="_scripter_callback_8cpp_1a0957243d264589ff893b960aa26d4598" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>SCRIPT_PIPE_DLL_API wxChar *</type>
        <definition>SCRIPT_PIPE_DLL_API wxChar* GetVersionString</definition>
        <argsstring>()</argsstring>
        <name>GetVersionString</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/mod-script-pipe/ScripterCallback.cpp" line="69" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/mod-script-pipe/ScripterCallback.cpp" bodystart="69" bodyend="76"/>
      </memberdef>
      <memberdef kind="function" id="_scripter_callback_8cpp_1a7ebf4cfb4dc0b64c0ee4e382bbaba330" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref> SCRIPT_PIPE_DLL_API</type>
        <definition>int SCRIPT_PIPE_DLL_API ModuleDispatch</definition>
        <argsstring>(ModuleDispatchTypes type)</argsstring>
        <name>ModuleDispatch</name>
        <param>
          <type><ref refid="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359" kindref="member">ModuleDispatchTypes</ref></type>
          <declname>type</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/mod-script-pipe/ScripterCallback.cpp" line="78" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/mod-script-pipe/ScripterCallback.cpp" bodystart="84" bodyend="100"/>
      </memberdef>
      <memberdef kind="function" id="_scripter_callback_8cpp_1a2a5fd82be3738ad226a96c9761b0e0d2" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref> SCRIPT_PIPE_DLL_API</type>
        <definition>int SCRIPT_PIPE_DLL_API RegScriptServerFunc</definition>
        <argsstring>(tpExecScriptServerFunc pFn)</argsstring>
        <name>RegScriptServerFunc</name>
        <param>
          <type><ref refid="_script_command_relay_8h_1a0a5541db06fba47449c9ae647e5136bc" kindref="member">tpExecScriptServerFunc</ref></type>
          <declname>pFn</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/mod-script-pipe/ScripterCallback.cpp" line="103" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/mod-script-pipe/ScripterCallback.cpp" bodystart="103" bodyend="112"/>
      </memberdef>
      <memberdef kind="function" id="_scripter_callback_8cpp_1abb8c03f50d7c80c9f541b0ba0668eb72" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
        <definition>int DoSrv</definition>
        <argsstring>(char *pIn)</argsstring>
        <name>DoSrv</name>
        <param>
          <type>char *</type>
          <declname>pIn</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/mod-script-pipe/ScripterCallback.cpp" line="122" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/mod-script-pipe/ScripterCallback.cpp" bodystart="122" bodyend="148"/>
      </memberdef>
      <memberdef kind="function" id="_scripter_callback_8cpp_1aaf7f9e6f351cdb3dc6553bdb6d8d75e7" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>size_t</type>
        <definition>size_t smin</definition>
        <argsstring>(size_t a, size_t b)</argsstring>
        <name>smin</name>
        <param>
          <type>size_t</type>
          <declname>a</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>b</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/mod-script-pipe/ScripterCallback.cpp" line="150" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/mod-script-pipe/ScripterCallback.cpp" bodystart="150" bodyend="150"/>
      </memberdef>
      <memberdef kind="function" id="_scripter_callback_8cpp_1abe4d2531e40d453c48b820d3760fc40c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
        <definition>int DoSrvMore</definition>
        <argsstring>(char *pOut, size_t nMax)</argsstring>
        <name>DoSrvMore</name>
        <param>
          <type>char *</type>
          <declname>pOut</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>nMax</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/mod-script-pipe/ScripterCallback.cpp" line="155" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/mod-script-pipe/ScripterCallback.cpp" bodystart="155" bodyend="193"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">//<sp/>ScripterCallback.cpp<sp/>:<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">//<sp/>A<sp/>loadable<sp/>module<sp/>that<sp/>connects<sp/>a<sp/>windows<sp/>named<sp/>pipe</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="comment">//<sp/>to<sp/>a<sp/>registered<sp/>service<sp/>function<sp/>that<sp/>is<sp/>able<sp/>to</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="comment">//<sp/>process<sp/>a<sp/>single<sp/>command<sp/>at<sp/>a<sp/>time.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="comment">//<sp/>The<sp/>service<sp/>function<sp/>is<sp/>provided<sp/>by<sp/>the<sp/>application</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="comment">//<sp/>and<sp/>not<sp/>by<sp/>libscript.<sp/><sp/>mod_script_pipe<sp/>was<sp/>developed<sp/>for</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Audacity.<sp/><sp/>Because<sp/>it<sp/>forwards<sp/>commands</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="comment">//<sp/>rather<sp/>than<sp/>handling<sp/>them<sp/>itself<sp/>it<sp/>can<sp/>be<sp/>used<sp/>in</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="comment">//<sp/>other<sp/>projects<sp/>too.<sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Enabling<sp/>other<sp/>programs<sp/>to<sp/>connect<sp/>to<sp/>Audacity<sp/>via<sp/>a<sp/>pipe<sp/>is<sp/>a<sp/>potential<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="comment">//<sp/>security<sp/>risk.<sp/><sp/>Use<sp/>at<sp/>your<sp/>own<sp/>risk.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;wx/wx.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_scripter_callback_8h" kindref="compound">ScripterCallback.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="comment">//#include<sp/>&quot;../lib_widget_extra/ShuttleGuiBase.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;../../src/Audacity.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;../../src/ShuttleGui.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="23"><highlight class="comment">There<sp/>are<sp/>several<sp/>functions<sp/>that<sp/>can<sp/>be<sp/>used<sp/>in<sp/>a<sp/>GUI<sp/>module.</highlight></codeline>
<codeline lineno="24"><highlight class="comment"></highlight></codeline>
<codeline lineno="25"><highlight class="comment">//#define<sp/>versionFnName<sp/><sp/><sp/>&quot;GetVersionString&quot;</highlight></codeline>
<codeline lineno="26"><highlight class="comment">If<sp/>the<sp/>version<sp/>is<sp/>wrong,<sp/>the<sp/>module<sp/>will<sp/>be<sp/>rejected.</highlight></codeline>
<codeline lineno="27"><highlight class="comment">That<sp/>is<sp/>it<sp/>will<sp/>be<sp/>loaded<sp/>and<sp/>then<sp/>unloaded.</highlight></codeline>
<codeline lineno="28"><highlight class="comment"></highlight></codeline>
<codeline lineno="29"><highlight class="comment">//#define<sp/>ModuleDispatchName<sp/>&quot;ModuleDispatch&quot;</highlight></codeline>
<codeline lineno="30"><highlight class="comment">The<sp/>most<sp/>useful<sp/>function.<sp/><sp/>See<sp/>the<sp/>example<sp/>in<sp/>this<sp/></highlight></codeline>
<codeline lineno="31"><highlight class="comment">file.<sp/><sp/>It<sp/>has<sp/>several<sp/>cases/options<sp/>in<sp/>it.</highlight></codeline>
<codeline lineno="32"><highlight class="comment"></highlight></codeline>
<codeline lineno="33"><highlight class="comment">//#define<sp/>scriptFnName<sp/><sp/><sp/><sp/>&quot;RegScriptServerFunc&quot;</highlight></codeline>
<codeline lineno="34"><highlight class="comment">This<sp/>function<sp/>is<sp/>run<sp/>from<sp/>a<sp/>non<sp/>gui<sp/>thread.<sp/><sp/>It<sp/>was<sp/>originally<sp/></highlight></codeline>
<codeline lineno="35"><highlight class="comment">created<sp/>for<sp/>the<sp/>benefit<sp/>of<sp/>mod-script-pipe.</highlight></codeline>
<codeline lineno="36"><highlight class="comment"></highlight></codeline>
<codeline lineno="37"><highlight class="comment">//#define<sp/>mainPanelFnName<sp/>&quot;MainPanelFunc&quot;</highlight></codeline>
<codeline lineno="38"><highlight class="comment">This<sp/>function<sp/>is<sp/>the<sp/>hijacking<sp/>function,<sp/>to<sp/>take<sp/>over<sp/>Audacity</highlight></codeline>
<codeline lineno="39"><highlight class="comment">and<sp/>replace<sp/>the<sp/>main<sp/>project<sp/>window<sp/>with<sp/>our<sp/>own<sp/>wxFrame.</highlight></codeline>
<codeline lineno="40"><highlight class="comment"></highlight></codeline>
<codeline lineno="41"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="comment">//<sp/>HACK!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight><highlight class="comment">//<sp/>This<sp/>must<sp/>match<sp/>the<sp/>enum<sp/>in<sp/>LoadModules.h</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="comment">//<sp/>We<sp/>do<sp/>NOT<sp/>include<sp/>LoadModules.h,<sp/>because<sp/>we<sp/>want</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight><highlight class="comment">//<sp/>this<sp/>DLL<sp/>to<sp/>be<sp/>usable<sp/>with<sp/>programs<sp/>other<sp/>than<sp/>Audacity.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight><highlight class="comment">//<sp/>(More<sp/>work<sp/>required<sp/>for<sp/>this<sp/>to<sp/>be<sp/>possible<sp/>-</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight><highlight class="comment">//<sp/>we<sp/>need<sp/>new<sp/>header<sp/>files<sp/>that<sp/>just<sp/>define<sp/>the<sp/>interface).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49" refid="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">enum</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal">{</highlight></codeline>
<codeline lineno="51" refid="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359a1bf5c73b59c03d6544583932fe570e12" refkind="member"><highlight class="normal"><sp/><sp/><sp/><ref refid="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359a1bf5c73b59c03d6544583932fe570e12" kindref="member">ModuleInitialize</ref>,</highlight></codeline>
<codeline lineno="52" refid="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359ae47bfc7f94e66a1c0f638ca5665259dc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><ref refid="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359ae47bfc7f94e66a1c0f638ca5665259dc" kindref="member">ModuleTerminate</ref>,</highlight></codeline>
<codeline lineno="53" refid="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359a1714df437a6091c2065912b4f65d79b9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><ref refid="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359a1714df437a6091c2065912b4f65d79b9" kindref="member">AppInitialized</ref>,</highlight></codeline>
<codeline lineno="54" refid="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359a913e9635708d7d591acff3136533b418" refkind="member"><highlight class="normal"><sp/><sp/><sp/><ref refid="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359a913e9635708d7d591acff3136533b418" kindref="member">AppQuiting</ref>,</highlight></codeline>
<codeline lineno="55" refid="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359aca65a88d8918628a543db101c2cadd01" refkind="member"><highlight class="normal"><sp/><sp/><sp/><ref refid="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359aca65a88d8918628a543db101c2cadd01" kindref="member">ProjectInitialized</ref>,</highlight></codeline>
<codeline lineno="56" refid="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359aa9162e1533abf3b36d7eb49ee1dd8848" refkind="member"><highlight class="normal"><sp/><sp/><sp/><ref refid="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359aa9162e1533abf3b36d7eb49ee1dd8848" kindref="member">ProjectClosing</ref>,</highlight></codeline>
<codeline lineno="57" refid="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359a28b56266fc9df570eaec939b72fb8eb6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><ref refid="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359a28b56266fc9df570eaec939b72fb8eb6" kindref="member">MenusRebuilt</ref></highlight></codeline>
<codeline lineno="58"><highlight class="normal">}<sp/><ref refid="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359" kindref="member">ModuleDispatchTypes</ref>;</highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="_scripter_callback_8cpp_1a8103a2f83298167092617cc115085434" kindref="member">PipeServer</ref>();</highlight></codeline>
<codeline lineno="62" refid="_scripter_callback_8cpp_1a629fb6c89dc5db32c481edcea4b6bad9" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>SCRIPT_PIPE_DLL_IMPORT<sp/><ref refid="lib_2expat_8h_1a14bb8924daea0b48c7803f281f66e390" kindref="member">int</ref><sp/>(*<ref refid="_scripter_callback_8cpp_1a629fb6c89dc5db32c481edcea4b6bad9" kindref="member">tpExecScriptServerFunc</ref>)(<sp/>wxString<sp/>*<sp/>pIn,<sp/>wxString<sp/>*<sp/>pOut);</highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="_scripter_callback_8cpp_1a629fb6c89dc5db32c481edcea4b6bad9" kindref="member">tpExecScriptServerFunc</ref><sp/>pScriptServerFn=<ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;C&quot;</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight></codeline>
<codeline lineno="69" refid="_scripter_callback_8cpp_1a0957243d264589ff893b960aa26d4598" refkind="member"><highlight class="normal">SCRIPT_PIPE_DLL_API<sp/>wxChar<sp/>*<sp/><ref refid="_scripter_callback_8cpp_1a0957243d264589ff893b960aa26d4598" kindref="member">GetVersionString</ref>()</highlight></codeline>
<codeline lineno="70"><highlight class="normal">{</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Make<sp/>sure<sp/>that<sp/>this<sp/>version<sp/>of<sp/>the<sp/>module<sp/>requires<sp/>the<sp/>version<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>of<sp/>Audacity<sp/>it<sp/>is<sp/>built<sp/>with.<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>For<sp/>now<sp/>the<sp/>versions<sp/>must<sp/>match<sp/>exactly<sp/>for<sp/>Audacity<sp/>to<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>agree<sp/>to<sp/>load<sp/>the<sp/>module.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="_audacity_8h_1a06785256c5408ee5ae69de8c7dfc57a5" kindref="member">AUDACITY_VERSION_STRING</ref>;</highlight></codeline>
<codeline lineno="76"><highlight class="normal">}</highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>SCRIPT_PIPE_DLL_API<sp/><sp/><ref refid="_scripter_callback_8cpp_1a7ebf4cfb4dc0b64c0ee4e382bbaba330" kindref="member">ModuleDispatch</ref>(<ref refid="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359" kindref="member">ModuleDispatchTypes</ref><sp/><ref refid="namespacewaflib_1_1_tools_1_1tex_1a7638d43e3ce55594540ea118202a9a40" kindref="member">type</ref>);</highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight><highlight class="comment">//<sp/>ModuleDispatch</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"></highlight><highlight class="comment">//<sp/>is<sp/>called<sp/>by<sp/>Audacity<sp/>to<sp/>initialize/terminmate<sp/>the<sp/>module,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight><highlight class="comment">//<sp/>and<sp/>ask<sp/>if<sp/>it<sp/>has<sp/>anything<sp/>for<sp/>the<sp/>menus.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight><highlight class="comment">//<sp/>We<sp/>don&apos;t<sp/>(yet)<sp/>do<sp/>anything<sp/>in<sp/>this,<sp/>since<sp/>we<sp/>have<sp/>a<sp/>special<sp/>function<sp/>for<sp/>the<sp/>scripter</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight><highlight class="comment">//<sp/>all<sp/>we<sp/>need<sp/>to<sp/>do<sp/>is<sp/>return<sp/>1.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="84" refid="_scripter_callback_8cpp_1a7ebf4cfb4dc0b64c0ee4e382bbaba330" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="_scripter_callback_8cpp_1a7ebf4cfb4dc0b64c0ee4e382bbaba330" kindref="member">ModuleDispatch</ref>(<ref refid="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359" kindref="member">ModuleDispatchTypes</ref><sp/>type){</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(type){</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359a1714df437a6091c2065912b4f65d79b9" kindref="member">AppInitialized</ref>:{</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359a913e9635708d7d591acff3136533b418" kindref="member">AppQuiting</ref>:<sp/>{</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359aca65a88d8918628a543db101c2cadd01" kindref="member">ProjectInitialized</ref>:</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359a28b56266fc9df570eaec939b72fb8eb6" kindref="member">MenusRebuilt</ref>:<sp/><sp/>{</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>1;</highlight></codeline>
<codeline lineno="100"><highlight class="normal">}<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="101"><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight><highlight class="comment">//<sp/>And<sp/>here<sp/>is<sp/>our<sp/>special<sp/>registration<sp/>function.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="103" refid="_scripter_callback_8cpp_1a2a5fd82be3738ad226a96c9761b0e0d2" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>SCRIPT_PIPE_DLL_API<sp/><ref refid="_scripter_callback_8cpp_1a2a5fd82be3738ad226a96c9761b0e0d2" kindref="member">RegScriptServerFunc</ref>(<sp/><ref refid="_scripter_callback_8cpp_1a629fb6c89dc5db32c481edcea4b6bad9" kindref="member">tpExecScriptServerFunc</ref><sp/>pFn<sp/>)</highlight></codeline>
<codeline lineno="104"><highlight class="normal">{</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>pFn<sp/>)</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>pScriptServerFn<sp/>=<sp/>pFn;</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_scripter_callback_8cpp_1a8103a2f83298167092617cc115085434" kindref="member">PipeServer</ref>();</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="110"><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>4;</highlight></codeline>
<codeline lineno="112"><highlight class="normal">}</highlight></codeline>
<codeline lineno="113"><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight></codeline>
<codeline lineno="115" refid="_scripter_callback_8cpp_1af494ee5ec71748f29da04b50e9e66f0a" refkind="member"><highlight class="normal">wxString<sp/><ref refid="_scripter_callback_8cpp_1af494ee5ec71748f29da04b50e9e66f0a" kindref="member">Str2</ref>;</highlight></codeline>
<codeline lineno="116" refid="_scripter_callback_8cpp_1af60f3b9f4c5742daf470073b30662137" refkind="member"><highlight class="normal">wxArrayString<sp/><ref refid="_scripter_callback_8cpp_1af60f3b9f4c5742daf470073b30662137" kindref="member">aStr</ref>;</highlight></codeline>
<codeline lineno="117" refid="_scripter_callback_8cpp_1a51c4f544dcbb66f7dac8447e1ffad08a" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="_scripter_callback_8cpp_1a51c4f544dcbb66f7dac8447e1ffad08a" kindref="member">currentLine</ref>;</highlight></codeline>
<codeline lineno="118" refid="_scripter_callback_8cpp_1a2774c1c4f950408c820a3b4816a92164" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="_scripter_callback_8cpp_1a2774c1c4f950408c820a3b4816a92164" kindref="member">currentPosition</ref>;</highlight></codeline>
<codeline lineno="119"><highlight class="normal"></highlight></codeline>
<codeline lineno="120"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Send<sp/>the<sp/>received<sp/>command<sp/>to<sp/>Audacity<sp/>and<sp/>build<sp/>an<sp/>array<sp/>of<sp/>response<sp/>lines.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight><highlight class="comment">//<sp/>The<sp/>response<sp/>lines<sp/>can<sp/>be<sp/>retrieved<sp/>by<sp/>calling<sp/>DoSrvMore<sp/>repeatedly.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="122" refid="_scripter_callback_8cpp_1abb8c03f50d7c80c9f541b0ba0668eb72" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="_scripter_callback_8cpp_1abb8c03f50d7c80c9f541b0ba0668eb72" kindref="member">DoSrv</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pIn)</highlight></codeline>
<codeline lineno="123"><highlight class="normal">{</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/>wxString<sp/>Str1(pIn,<sp/>wxConvISO8859_1);</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/>Str1.Replace(<sp/>wxT(</highlight><highlight class="stringliteral">&quot;\r&quot;</highlight><highlight class="normal">),<sp/>wxT(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/>Str1.Replace(<sp/>wxT(</highlight><highlight class="stringliteral">&quot;\n&quot;</highlight><highlight class="normal">),<sp/>wxT(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/>Str2<sp/>=<sp/>wxEmptyString;</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/>(*pScriptServerFn)(<sp/>&amp;Str1<sp/>,<sp/>&amp;<ref refid="_scripter_callback_8cpp_1af494ee5ec71748f29da04b50e9e66f0a" kindref="member">Str2</ref>);</highlight></codeline>
<codeline lineno="129"><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/>Str2<sp/>+=<sp/>wxT(</highlight><highlight class="charliteral">&apos;\n&apos;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>outputLength<sp/>=<sp/>Str2.Length();</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/>aStr.Clear();</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>iStart<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>outputLength;<sp/>++<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>)</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>Str2[i]<sp/>==<sp/>wxT(</highlight><highlight class="charliteral">&apos;\n&apos;</highlight><highlight class="normal">)<sp/>)</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>aStr.Add(<sp/>Str2.Mid(<sp/>iStart,<sp/>i-iStart)<sp/>+<sp/>wxT(</highlight><highlight class="stringliteral">&quot;\n&quot;</highlight><highlight class="normal">)<sp/>);</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iStart<sp/>=<sp/>i+1;</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/>currentLine<sp/><sp/><sp/><sp/><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/>currentPosition<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>1;</highlight></codeline>
<codeline lineno="148"><highlight class="normal">}</highlight></codeline>
<codeline lineno="149"><highlight class="normal"></highlight></codeline>
<codeline lineno="150" refid="_scripter_callback_8cpp_1aaf7f9e6f351cdb3dc6553bdb6d8d75e7" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="_scripter_callback_8cpp_1aaf7f9e6f351cdb3dc6553bdb6d8d75e7" kindref="member">smin</ref>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="poly-fir_8h_1a8d3c3518d793541417a4845125da1ae1" kindref="member">a</ref>,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="poly-fir_8h_1ab2d05693952610f937e5acb3c4a8fa1b" kindref="member">b</ref>)<sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>a<sp/>&lt;<sp/>b<sp/>?<sp/>a<sp/>:<sp/><ref refid="poly-fir_8h_1ab2d05693952610f937e5acb3c4a8fa1b" kindref="member">b</ref>;<sp/>}</highlight></codeline>
<codeline lineno="151"><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Write<sp/>up<sp/>to<sp/>nMax<sp/>characters<sp/>of<sp/>the<sp/>prepared<sp/>(by<sp/>DoSrv)<sp/>response<sp/>lines.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Returns<sp/>the<sp/>number<sp/>of<sp/>characters<sp/>sent,<sp/>including<sp/>null.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="154"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Zero<sp/>returned<sp/>if<sp/>and<sp/>only<sp/>if<sp/>there&apos;s<sp/>nothing<sp/>else<sp/>to<sp/>send.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="155" refid="_scripter_callback_8cpp_1abe4d2531e40d453c48b820d3760fc40c" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="_scripter_callback_8cpp_1abe4d2531e40d453c48b820d3760fc40c" kindref="member">DoSrvMore</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pOut,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>nMax)</highlight></codeline>
<codeline lineno="156"><highlight class="normal">{</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/>wxASSERT(currentLine<sp/>&gt;=<sp/>0);</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/>wxASSERT(currentPosition<sp/>&gt;=<sp/>0);</highlight></codeline>
<codeline lineno="159"><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>totalLines<sp/>=<sp/>aStr.GetCount();</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(currentLine<sp/>&lt;<sp/>totalLines)</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxString<sp/>lineString<sp/><sp/><sp/><sp/>=<sp/>aStr[<ref refid="_scripter_callback_8cpp_1a51c4f544dcbb66f7dac8447e1ffad08a" kindref="member">currentLine</ref>];</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>lineLength<sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>lineString.Length();</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>charsLeftInLine<sp/>=<sp/>lineLength<sp/>-<sp/><ref refid="_scripter_callback_8cpp_1a2774c1c4f950408c820a3b4816a92164" kindref="member">currentPosition</ref>;</highlight></codeline>
<codeline lineno="166"><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxASSERT(charsLeftInLine<sp/>&gt;=<sp/>0);</highlight></codeline>
<codeline lineno="168"><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(charsLeftInLine<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Move<sp/>to<sp/>next<sp/>line</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++<ref refid="_scripter_callback_8cpp_1a51c4f544dcbb66f7dac8447e1ffad08a" kindref="member">currentLine</ref>;</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>currentPosition<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Write<sp/>as<sp/>much<sp/>of<sp/>the<sp/>rest<sp/>of<sp/>the<sp/>line<sp/>as<sp/>will<sp/>fit<sp/>in<sp/>the<sp/>buffer</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>charsToWrite<sp/>=<sp/><ref refid="_scripter_callback_8cpp_1aaf7f9e6f351cdb3dc6553bdb6d8d75e7" kindref="member">smin</ref>(charsLeftInLine,<sp/>nMax<sp/>-<sp/>1);</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy(pOut,<sp/></highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lineString.Mid(currentPosition,<sp/></highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>currentPosition<sp/>+<sp/>charsToWrite).mb_str(),<sp/></highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>charsToWrite);</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pOut[charsToWrite]<sp/>=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>currentPosition<sp/><sp/><sp/><sp/>+=<sp/>charsToWrite;</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Need<sp/>to<sp/>cast<sp/>to<sp/>prevent<sp/>compiler<sp/>warnings</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>charsWritten<sp/>=<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">int</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(charsToWrite<sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>(Check<sp/>cast<sp/>was<sp/>safe)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxASSERT(static_cast&lt;size_t&gt;(charsWritten)<sp/>==<sp/>charsToWrite<sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>charsWritten;</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="193"><highlight class="normal">}</highlight></codeline>
<codeline lineno="194"><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal">}<sp/></highlight><highlight class="comment">//<sp/>End<sp/>extern<sp/>&quot;C&quot;</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/mod-script-pipe/ScripterCallback.cpp"/>
  </compounddef>
</doxygen>
