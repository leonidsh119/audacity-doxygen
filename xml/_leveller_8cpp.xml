<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.11">
  <compounddef id="_leveller_8cpp" kind="file" language="C++">
    <compoundname>Leveller.cpp</compoundname>
    <includes refid="_audacity_8h" local="yes">../Audacity.h</includes>
    <includes refid="_leveller_8h" local="yes">Leveller.h</includes>
    <includes local="no">math.h</includes>
    <includes local="no">wx/choice.h</includes>
    <includes local="no">wx/intl.h</includes>
    <includes local="no">wx/valgen.h</includes>
    <includes refid="_prefs_8h" local="yes">../Prefs.h</includes>
    <includes refid="_shuttle_gui_8h" local="yes">../ShuttleGui.h</includes>
    <incdepgraph>
      <node id="42413">
        <label>wx/choice.h</label>
      </node>
      <node id="42410">
        <label>wx/gauge.h</label>
      </node>
      <node id="42397">
        <label>wx/cmdline.h</label>
      </node>
      <node id="42393">
        <label>audacity/EffectInterface.h</label>
        <link refid="_effect_interface_8h"/>
        <childnode refid="42392" relation="include">
        </childnode>
        <childnode refid="42394" relation="include">
        </childnode>
        <childnode refid="42391" relation="include">
        </childnode>
        <childnode refid="42395" relation="include">
        </childnode>
        <childnode refid="42399" relation="include">
        </childnode>
      </node>
      <node id="42406">
        <label>../Internat.h</label>
        <link refid="_internat_8h"/>
        <childnode refid="42381" relation="include">
        </childnode>
        <childnode refid="42382" relation="include">
        </childnode>
        <childnode refid="42407" relation="include">
        </childnode>
      </node>
      <node id="42403">
        <label>wx/wxchar.h</label>
      </node>
      <node id="42391">
        <label>audacity/ConfigInterface.h</label>
        <link refid="_config_interface_8h"/>
        <childnode refid="42392" relation="include">
        </childnode>
      </node>
      <node id="42412">
        <label>wx/utils.h</label>
      </node>
      <node id="42409">
        <label>wx/evtloop.h</label>
      </node>
      <node id="42378">
        <label>C:/_dev/OpenU/Audacity/audacity/src/effects/Leveller.cpp</label>
        <link refid="Leveller.cpp"/>
        <childnode refid="42379" relation="include">
        </childnode>
        <childnode refid="42380" relation="include">
        </childnode>
        <childnode refid="42404" relation="include">
        </childnode>
        <childnode refid="42413" relation="include">
        </childnode>
        <childnode refid="42389" relation="include">
        </childnode>
        <childnode refid="42414" relation="include">
        </childnode>
        <childnode refid="42415" relation="include">
        </childnode>
        <childnode refid="42417" relation="include">
        </childnode>
      </node>
      <node id="42420">
        <label>WrappedType.h</label>
        <link refid="_wrapped_type_8h"/>
        <childnode refid="42379" relation="include">
        </childnode>
      </node>
      <node id="42400">
        <label>../Experimental.h</label>
        <link refid="_experimental_8h"/>
        <childnode refid="42401" relation="include">
        </childnode>
      </node>
      <node id="42405">
        <label>../Shuttle.h</label>
        <link refid="_shuttle_8h"/>
      </node>
      <node id="42398">
        <label>wx/fileconf.h</label>
      </node>
      <node id="42421">
        <label>wx/scrolbar.h</label>
      </node>
      <node id="42411">
        <label>wx/stattext.h</label>
      </node>
      <node id="42394">
        <label>audacity/IdentInterface.h</label>
        <link refid="_ident_interface_8h"/>
        <childnode refid="42392" relation="include">
        </childnode>
      </node>
      <node id="42401">
        <label>wx/defs.h</label>
      </node>
      <node id="42389">
        <label>wx/intl.h</label>
      </node>
      <node id="42408">
        <label>../widgets/ProgressDialog.h</label>
        <link refid="_progress_dialog_8h"/>
        <childnode refid="42379" relation="include">
        </childnode>
        <childnode refid="42401" relation="include">
        </childnode>
        <childnode refid="42399" relation="include">
        </childnode>
        <childnode refid="42409" relation="include">
        </childnode>
        <childnode refid="42410" relation="include">
        </childnode>
        <childnode refid="42411" relation="include">
        </childnode>
        <childnode refid="42412" relation="include">
        </childnode>
      </node>
      <node id="42387">
        <label>wx/bmpbuttn.h</label>
      </node>
      <node id="42392">
        <label>audacity/Types.h</label>
        <link refid="include_2audacity_2_types_8h"/>
        <childnode refid="42382" relation="include">
        </childnode>
        <childnode refid="42381" relation="include">
        </childnode>
      </node>
      <node id="42399">
        <label>wx/dialog.h</label>
      </node>
      <node id="42414">
        <label>wx/valgen.h</label>
      </node>
      <node id="42395">
        <label>audacity/EffectAutomationParameters.h</label>
        <link refid="_effect_automation_parameters_8h"/>
        <childnode refid="42396" relation="include">
        </childnode>
        <childnode refid="42397" relation="include">
        </childnode>
        <childnode refid="42398" relation="include">
        </childnode>
        <childnode refid="42389" relation="include">
        </childnode>
      </node>
      <node id="42415">
        <label>../Prefs.h</label>
        <link refid="_prefs_8h"/>
        <childnode refid="42379" relation="include">
        </childnode>
        <childnode refid="42416" relation="include">
        </childnode>
        <childnode refid="42398" relation="include">
        </childnode>
      </node>
      <node id="42379">
        <label>../Audacity.h</label>
        <link refid="_audacity_8h"/>
      </node>
      <node id="42418">
        <label>wx/grid.h</label>
      </node>
      <node id="42383">
        <label>Effect.h</label>
        <link refid="src_2effects_2_effect_8h"/>
        <childnode refid="42379" relation="include">
        </childnode>
        <childnode refid="42384" relation="include">
        </childnode>
        <childnode refid="42386" relation="include">
        </childnode>
        <childnode refid="42387" relation="include">
        </childnode>
        <childnode refid="42388" relation="include">
        </childnode>
        <childnode refid="42389" relation="include">
        </childnode>
        <childnode refid="42382" relation="include">
        </childnode>
        <childnode refid="42390" relation="include">
        </childnode>
        <childnode refid="42391" relation="include">
        </childnode>
        <childnode refid="42393" relation="include">
        </childnode>
        <childnode refid="42400" relation="include">
        </childnode>
        <childnode refid="42402" relation="include">
        </childnode>
        <childnode refid="42405" relation="include">
        </childnode>
        <childnode refid="42406" relation="include">
        </childnode>
        <childnode refid="42408" relation="include">
        </childnode>
      </node>
      <node id="42388">
        <label>wx/dynarray.h</label>
      </node>
      <node id="42380">
        <label>Leveller.h</label>
        <link refid="_leveller_8h"/>
        <childnode refid="42381" relation="include">
        </childnode>
        <childnode refid="42382" relation="include">
        </childnode>
        <childnode refid="42383" relation="include">
        </childnode>
      </node>
      <node id="42382">
        <label>wx/string.h</label>
      </node>
      <node id="42404">
        <label>math.h</label>
      </node>
      <node id="42402">
        <label>../SelectedRegion.h</label>
        <link refid="_selected_region_8h"/>
        <childnode refid="42379" relation="include">
        </childnode>
        <childnode refid="42400" relation="include">
        </childnode>
        <childnode refid="42401" relation="include">
        </childnode>
        <childnode refid="42403" relation="include">
        </childnode>
        <childnode refid="42404" relation="include">
        </childnode>
      </node>
      <node id="42381">
        <label>wx/arrstr.h</label>
      </node>
      <node id="42416">
        <label>wx/config.h</label>
      </node>
      <node id="42419">
        <label>wx/sizer.h</label>
      </node>
      <node id="42390">
        <label>wx/tglbtn.h</label>
      </node>
      <node id="42384">
        <label>../MemoryX.h</label>
        <link refid="_memory_x_8h"/>
        <childnode refid="42385" relation="include">
        </childnode>
      </node>
      <node id="42417">
        <label>../ShuttleGui.h</label>
        <link refid="_shuttle_gui_8h"/>
        <childnode refid="42379" relation="include">
        </childnode>
        <childnode refid="42384" relation="include">
        </childnode>
        <childnode refid="42418" relation="include">
        </childnode>
        <childnode refid="42419" relation="include">
        </childnode>
        <childnode refid="42382" relation="include">
        </childnode>
        <childnode refid="42420" relation="include">
        </childnode>
        <childnode refid="42421" relation="include">
        </childnode>
      </node>
      <node id="42386">
        <label>set</label>
      </node>
      <node id="42407">
        <label>wx/longlong.h</label>
      </node>
      <node id="42396">
        <label>locale.h</label>
      </node>
      <node id="42385">
        <label>memory</label>
      </node>
    </incdepgraph>
      <sectiondef kind="define">
      <memberdef kind="define" id="_leveller_8cpp_1a7092ae7bbec0b5bd0fcb119cd96c15e4" prot="public" static="no">
        <name>LEVELER_FACTORS</name>
        <initializer>6</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/src/effects/Leveller.cpp" line="259" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/src/effects/Leveller.cpp" bodystart="259" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="enum">
      <memberdef kind="enum" id="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81" prot="public" static="no">
        <name>kPasses</name>
        <enumvalue id="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81a4b1026889ac8a8c906a6f3a53301bbbc" prot="public">
          <name>kLight</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81af88e695bd45f848bdf51e787b24268f6" prot="public">
          <name>kModerate</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81a329780461fe843f6b6cad1d0397eaf85" prot="public">
          <name>kHeavy</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81a547371fe2dcf6f15fe0c5c6304a9d7ed" prot="public">
          <name>kHeavier</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81a38a4682489c72c49c036960324a2cf6d" prot="public">
          <name>kHeaviest</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81af4d03cc80617e35bf33b64bbec90b872" prot="public">
          <name>kNumPasses</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/src/effects/Leveller.cpp" line="29" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/src/effects/Leveller.cpp" bodystart="28" bodyend="36"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="var">
      <memberdef kind="variable" id="_leveller_8cpp_1ad80924770117eac85fceb01d105d3dbc" prot="public" static="yes" mutable="no">
        <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> wxString</type>
        <definition>const wxString kPassStrings[kNumPasses]</definition>
        <argsstring>[kNumPasses]</argsstring>
        <name>kPassStrings</name>
        <initializer>=
{
   
   <ref refid="_theme_8cpp_1ad4baed404c66b57e257af684bdc5ecf2" kindref="member">XO</ref>(&quot;Light&quot;),
   XO(&quot;Moderate&quot;),
   
   XO(&quot;Heavy&quot;),
   XO(&quot;Heavier&quot;),
   XO(&quot;Heaviest&quot;),
}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/src/effects/Leveller.cpp" line="38" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/src/effects/Leveller.cpp" bodystart="38" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="_leveller_8cpp_1ad93f1a6d07474d059fcbec1b6b058fbe" prot="public" static="yes" mutable="no">
        <type>double</type>
        <definition>double gLimit[LEVELER_FACTORS]</definition>
        <argsstring>[LEVELER_FACTORS]</argsstring>
        <name>gLimit</name>
        <initializer>= { 0.0001, 0.0, 0.1, 0.3, 0.5, 1.0 }</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/src/effects/Leveller.cpp" line="260" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/src/effects/Leveller.cpp" bodystart="260" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="_leveller_8cpp_1a227d703e2cbba83b8c13f09ceceacf92" prot="public" static="yes" mutable="no">
        <type>double</type>
        <definition>double gAdjLimit[LEVELER_FACTORS]</definition>
        <argsstring>[LEVELER_FACTORS]</argsstring>
        <name>gAdjLimit</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/src/effects/Leveller.cpp" line="261" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/src/effects/Leveller.cpp" bodystart="261" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="_leveller_8cpp_1ae8d5f6873b0891076062c19ecbe676be" prot="public" static="yes" mutable="no">
        <type>double</type>
        <definition>double gAddOnValue[LEVELER_FACTORS]</definition>
        <argsstring>[LEVELER_FACTORS]</argsstring>
        <name>gAddOnValue</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/src/effects/Leveller.cpp" line="262" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/src/effects/Leveller.cpp" bodystart="262" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="_leveller_8cpp_1ad6f2010f132b45c945bdc73aab650c47" prot="public" static="yes" mutable="no">
        <type>double</type>
        <definition>double gAdjFactor[LEVELER_FACTORS]</definition>
        <argsstring>[LEVELER_FACTORS]</argsstring>
        <name>gAdjFactor</name>
        <initializer>= { 0.80, 1.00, 1.20, 1.20, 1.00, 0.80 }</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/src/effects/Leveller.cpp" line="264" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/src/effects/Leveller.cpp" bodystart="264" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="_leveller_8cpp_1aabd5c9257f6cbda1d7df6b29fa01978a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>Param</definition>
        <argsstring>(Level, int, XO(&quot;dB&quot;), 10, 0, Enums::NumDbChoices-1, 1)</argsstring>
        <name>Param</name>
        <param>
          <type>Level</type>
        </param>
        <param>
          <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
        </param>
        <param>
          <type><ref refid="_theme_8cpp_1ad4baed404c66b57e257af684bdc5ecf2" kindref="member">XO</ref>(&quot;dB&quot;)</type>
        </param>
        <param>
          <type>10</type>
        </param>
        <param>
          <type>0</type>
        </param>
        <param>
          <type><ref refid="class_enums_1af68f2c8c485e9bdce28e025246d686aa" kindref="member">Enums::NumDbChoices</ref>-</type>
          <declname>1</declname>
        </param>
        <param>
          <type>1</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/src/effects/Leveller.cpp" line="52" column="1"/>
      </memberdef>
      <memberdef kind="function" id="_leveller_8cpp_1a670a5cfe2e881034f682f339a735aebd" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>Param</definition>
        <argsstring>(Passes, int, XO(&quot;Passes&quot;), kModerate, 0, kNumPasses-1, 1)</argsstring>
        <name>Param</name>
        <param>
          <type>Passes</type>
        </param>
        <param>
          <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
        </param>
        <param>
          <type><ref refid="_theme_8cpp_1ad4baed404c66b57e257af684bdc5ecf2" kindref="member">XO</ref>(&quot;Passes&quot;)</type>
        </param>
        <param>
          <type><ref refid="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81af88e695bd45f848bdf51e787b24268f6" kindref="member">kModerate</ref></type>
        </param>
        <param>
          <type>0</type>
        </param>
        <param>
          <type><ref refid="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81af4d03cc80617e35bf33b64bbec90b872" kindref="member">kNumPasses</ref>-</type>
          <declname>1</declname>
        </param>
        <param>
          <type>1</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/src/effects/Leveller.cpp" line="53" column="1"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/**********************************************************************</highlight></codeline>
<codeline lineno="2"><highlight class="comment"></highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/><sp/>Audacity:<sp/>A<sp/>Digital<sp/>Audio<sp/>Editor</highlight></codeline>
<codeline lineno="4"><highlight class="comment"></highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/><sp/>Leveller.cpp</highlight></codeline>
<codeline lineno="6"><highlight class="comment"></highlight></codeline>
<codeline lineno="7"><highlight class="comment"><sp/><sp/>Lynn<sp/>Allan</highlight></codeline>
<codeline lineno="8"><highlight class="comment"></highlight></codeline>
<codeline lineno="9"><highlight class="comment">******************************************************************/</highlight><highlight class="comment">/*******************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;../Audacity.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_leveller_8h" kindref="compound">Leveller.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;math.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;wx/choice.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;wx/intl.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;wx/valgen.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;../Prefs.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;../ShuttleGui.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight></codeline>
<codeline lineno="28" refid="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">enum</highlight><highlight class="normal"><sp/><ref refid="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81" kindref="member">kPasses</ref></highlight></codeline>
<codeline lineno="29"><highlight class="normal">{</highlight></codeline>
<codeline lineno="30" refid="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81a4b1026889ac8a8c906a6f3a53301bbbc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><ref refid="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81a4b1026889ac8a8c906a6f3a53301bbbc" kindref="member">kLight</ref>,</highlight></codeline>
<codeline lineno="31" refid="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81af88e695bd45f848bdf51e787b24268f6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><ref refid="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81af88e695bd45f848bdf51e787b24268f6" kindref="member">kModerate</ref>,</highlight></codeline>
<codeline lineno="32" refid="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81a329780461fe843f6b6cad1d0397eaf85" refkind="member"><highlight class="normal"><sp/><sp/><sp/><ref refid="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81a329780461fe843f6b6cad1d0397eaf85" kindref="member">kHeavy</ref>,</highlight></codeline>
<codeline lineno="33" refid="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81a547371fe2dcf6f15fe0c5c6304a9d7ed" refkind="member"><highlight class="normal"><sp/><sp/><sp/><ref refid="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81a547371fe2dcf6f15fe0c5c6304a9d7ed" kindref="member">kHeavier</ref>,</highlight></codeline>
<codeline lineno="34" refid="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81a38a4682489c72c49c036960324a2cf6d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><ref refid="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81a38a4682489c72c49c036960324a2cf6d" kindref="member">kHeaviest</ref>,</highlight></codeline>
<codeline lineno="35" refid="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81af4d03cc80617e35bf33b64bbec90b872" refkind="member"><highlight class="normal"><sp/><sp/><sp/><ref refid="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81af4d03cc80617e35bf33b64bbec90b872" kindref="member">kNumPasses</ref></highlight></codeline>
<codeline lineno="36"><highlight class="normal">};</highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>wxString<sp/>kPassStrings[<ref refid="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81af4d03cc80617e35bf33b64bbec90b872" kindref="member">kNumPasses</ref>]<sp/>=</highlight></codeline>
<codeline lineno="39"><highlight class="normal">{</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>i18n-hint:<sp/>Of<sp/>strength<sp/>of<sp/>an<sp/>effect.<sp/><sp/>Not<sp/>strongly.*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><ref refid="_audacity_8h_1ad4baed404c66b57e257af684bdc5ecf2" kindref="member">XO</ref>(</highlight><highlight class="stringliteral">&quot;Light&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><ref refid="_audacity_8h_1ad4baed404c66b57e257af684bdc5ecf2" kindref="member">XO</ref>(</highlight><highlight class="stringliteral">&quot;Moderate&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>i18n-hint:<sp/>Of<sp/>strength<sp/>of<sp/>an<sp/>effect.<sp/><sp/>Strongly.*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><ref refid="_audacity_8h_1ad4baed404c66b57e257af684bdc5ecf2" kindref="member">XO</ref>(</highlight><highlight class="stringliteral">&quot;Heavy&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><ref refid="_audacity_8h_1ad4baed404c66b57e257af684bdc5ecf2" kindref="member">XO</ref>(</highlight><highlight class="stringliteral">&quot;Heavier&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><ref refid="_audacity_8h_1ad4baed404c66b57e257af684bdc5ecf2" kindref="member">XO</ref>(</highlight><highlight class="stringliteral">&quot;Heaviest&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="47"><highlight class="normal">};</highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Define<sp/>keys,<sp/>defaults,<sp/>minimums,<sp/>and<sp/>maximums<sp/>for<sp/>the<sp/>effect<sp/>parameters</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/>Name<sp/><sp/><sp/><sp/>Type<sp/><sp/>Key<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Def<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Min<sp/><sp/><sp/>Max<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Scale</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><ref refid="_leveller_8cpp_1aabd5c9257f6cbda1d7df6b29fa01978a" kindref="member">Param</ref>(<sp/>Level,<sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">,<sp/><sp/><ref refid="_audacity_8h_1ad4baed404c66b57e257af684bdc5ecf2" kindref="member">XO</ref>(</highlight><highlight class="stringliteral">&quot;dB&quot;</highlight><highlight class="normal">),<sp/><sp/><sp/><sp/><sp/><sp/>10,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0,<sp/><sp/><sp/><sp/><ref refid="class_enums_1af68f2c8c485e9bdce28e025246d686aa" kindref="member">Enums::NumDbChoices</ref><sp/>-<sp/>1,<sp/><sp/><sp/>1<sp/><sp/>);</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><ref refid="_leveller_8cpp_1aabd5c9257f6cbda1d7df6b29fa01978a" kindref="member">Param</ref>(<sp/>Passes,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">,<sp/><sp/><ref refid="_audacity_8h_1ad4baed404c66b57e257af684bdc5ecf2" kindref="member">XO</ref>(</highlight><highlight class="stringliteral">&quot;Passes&quot;</highlight><highlight class="normal">),<sp/><sp/><ref refid="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81af88e695bd45f848bdf51e787b24268f6" kindref="member">kModerate</ref>,<sp/>0,<sp/><sp/><sp/><sp/><ref refid="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81af4d03cc80617e35bf33b64bbec90b872" kindref="member">kNumPasses</ref><sp/>-<sp/>1,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>1<sp/><sp/>);</highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight><highlight class="comment">//<sp/>EffectLeveller</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight></codeline>
<codeline lineno="59" refid="class_effect_leveller_1a04f49bb33517f77c476158cbc5ed6251" refkind="member"><highlight class="normal"><ref refid="class_effect_leveller_1a04f49bb33517f77c476158cbc5ed6251" kindref="member">EffectLeveller::EffectLeveller</ref>()</highlight></codeline>
<codeline lineno="60"><highlight class="normal">{</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/>mPassIndex<sp/>=<sp/>DEF_Passes;</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/>mDbIndex<sp/>=<sp/>DEF_Level;</highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/>mNumPasses<sp/>=<sp/>mPassIndex<sp/>+<sp/>1;</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/>mDbSilenceThreshold<sp/>=<sp/><ref refid="class_enums_1a9664e8d989f758f005a661ef386d3985" kindref="member">Enums::Db2Signal</ref>[mDbIndex];</highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/>CalcLevellerFactors();</highlight></codeline>
<codeline lineno="68"><highlight class="normal">}</highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight></codeline>
<codeline lineno="70" refid="class_effect_leveller_1a311cb1c6737edee1920f98f0d6cc2bbd" refkind="member"><highlight class="normal"><ref refid="class_effect_leveller_1a311cb1c6737edee1920f98f0d6cc2bbd" kindref="member">EffectLeveller::~EffectLeveller</ref>()</highlight></codeline>
<codeline lineno="71"><highlight class="normal">{</highlight></codeline>
<codeline lineno="72"><highlight class="normal">}</highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight><highlight class="comment">//<sp/>IdentInterface<sp/>implementation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight></codeline>
<codeline lineno="76" refid="class_effect_leveller_1ab3f0645a094a214fdb7e8288076f2a35" refkind="member"><highlight class="normal">wxString<sp/><ref refid="class_effect_leveller_1ab3f0645a094a214fdb7e8288076f2a35" kindref="member">EffectLeveller::GetSymbol</ref>()</highlight></codeline>
<codeline lineno="77"><highlight class="normal">{</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="_leveller_8h_1a573d08a3a2fe5bbd32e8d213bc3c9a6d" kindref="member">LEVELLER_PLUGIN_SYMBOL</ref>;</highlight></codeline>
<codeline lineno="79"><highlight class="normal">}</highlight></codeline>
<codeline lineno="80"><highlight class="normal"></highlight></codeline>
<codeline lineno="81" refid="class_effect_leveller_1af9b39cf783bd3f7bb20cdc652f803e08" refkind="member"><highlight class="normal">wxString<sp/><ref refid="class_effect_leveller_1af9b39cf783bd3f7bb20cdc652f803e08" kindref="member">EffectLeveller::GetDescription</ref>()</highlight></codeline>
<codeline lineno="82"><highlight class="normal">{</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="_audacity_8h_1ad4baed404c66b57e257af684bdc5ecf2" kindref="member">XO</ref>(</highlight><highlight class="stringliteral">&quot;Leveller<sp/>is<sp/>a<sp/>simple,<sp/>combined<sp/>compressor<sp/>and<sp/>limiter<sp/>effect<sp/>for<sp/>reducing<sp/>the<sp/>dynamic<sp/>range<sp/>of<sp/>audio&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="84"><highlight class="normal">}</highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight><highlight class="comment">//<sp/>EffectIdentInterface<sp/>implementation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight></codeline>
<codeline lineno="88" refid="class_effect_leveller_1a1282ccc3d1053422c51637534317dc07" refkind="member"><highlight class="normal"><ref refid="_effect_interface_8h_1a4809a7bb3fd1a421902a667cc1405d43" kindref="member">EffectType</ref><sp/><ref refid="class_effect_leveller_1a1282ccc3d1053422c51637534317dc07" kindref="member">EffectLeveller::GetType</ref>()</highlight></codeline>
<codeline lineno="89"><highlight class="normal">{</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="_effect_interface_8h_1a4809a7bb3fd1a421902a667cc1405d43afd0f1aa24555662b091206287d30521b" kindref="member">EffectTypeProcess</ref>;</highlight></codeline>
<codeline lineno="91"><highlight class="normal">}</highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight><highlight class="comment">//<sp/>EffectClientInterface<sp/>implementation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight></codeline>
<codeline lineno="95" refid="class_effect_leveller_1a2d710ad5e6684fe7411b9163d0a9d460" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_effect_leveller_1a2d710ad5e6684fe7411b9163d0a9d460" kindref="member">EffectLeveller::GetAudioInCount</ref>()</highlight></codeline>
<codeline lineno="96"><highlight class="normal">{</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>1;</highlight></codeline>
<codeline lineno="98"><highlight class="normal">}</highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight></codeline>
<codeline lineno="100" refid="class_effect_leveller_1afb46677880c7f161111ffca7e4418ba8" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_effect_leveller_1afb46677880c7f161111ffca7e4418ba8" kindref="member">EffectLeveller::GetAudioOutCount</ref>()</highlight></codeline>
<codeline lineno="101"><highlight class="normal">{</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>1;</highlight></codeline>
<codeline lineno="103"><highlight class="normal">}</highlight></codeline>
<codeline lineno="104"><highlight class="normal"></highlight></codeline>
<codeline lineno="105" refid="class_effect_leveller_1ab80cd8d6f133562bb975a8d2d9210489" refkind="member"><highlight class="normal"><ref refid="include_2audacity_2_types_8h_1afa427e1f521ea5ec12d054e8bd4d0f71" kindref="member">sampleCount</ref><sp/><ref refid="class_effect_leveller_1ab80cd8d6f133562bb975a8d2d9210489" kindref="member">EffectLeveller::ProcessBlock</ref>(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>**inBlock,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>**outBlock,<sp/><ref refid="include_2audacity_2_types_8h_1afa427e1f521ea5ec12d054e8bd4d0f71" kindref="member">sampleCount</ref><sp/>blockLen)</highlight></codeline>
<codeline lineno="106"><highlight class="normal">{</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>*ibuf<sp/>=<sp/>inBlock[0];</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>*obuf<sp/>=<sp/>outBlock[0];</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<ref refid="include_2audacity_2_types_8h_1afa427e1f521ea5ec12d054e8bd4d0f71" kindref="member">sampleCount</ref><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref><sp/>=<sp/>0;<sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref><sp/>&lt;<sp/>blockLen;<sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>++)</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>frame<sp/>=<sp/>ibuf[<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>];</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>pass<sp/>=<sp/>0;<sp/>pass<sp/>&lt;<sp/>mNumPasses;<sp/>pass++)</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>frame<sp/>=<sp/>LevelOneFrame(frame);</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>obuf[<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>]<sp/>=<sp/>frame;</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="119"><highlight class="normal"></highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>blockLen;</highlight></codeline>
<codeline lineno="121"><highlight class="normal">}</highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight></codeline>
<codeline lineno="123" refid="class_effect_leveller_1a1be339feb8f8d386ed400cf1e4786c69" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_effect_leveller_1a1be339feb8f8d386ed400cf1e4786c69" kindref="member">EffectLeveller::GetAutomationParameters</ref>(<ref refid="class_effect_automation_parameters" kindref="compound">EffectAutomationParameters</ref><sp/>&amp;<sp/>parms)</highlight></codeline>
<codeline lineno="124"><highlight class="normal">{</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/>parms.Write(KEY_Level,<sp/><ref refid="class_enums_1a9417be74f0aabc332d79926d0a244a94" kindref="member">Enums::DbChoices</ref>[mDbIndex]);</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/>parms.Write(KEY_Passes,<sp/>kPassStrings[mPassIndex]);</highlight></codeline>
<codeline lineno="127"><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="129"><highlight class="normal">}</highlight></codeline>
<codeline lineno="130"><highlight class="normal"></highlight></codeline>
<codeline lineno="131" refid="class_effect_leveller_1aa5948dc6162f56442d9f4531bb436599" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_effect_leveller_1aa5948dc6162f56442d9f4531bb436599" kindref="member">EffectLeveller::SetAutomationParameters</ref>(<ref refid="class_effect_automation_parameters" kindref="compound">EffectAutomationParameters</ref><sp/>&amp;<sp/>parms)</highlight></codeline>
<codeline lineno="132"><highlight class="normal">{</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Allow<sp/>for<sp/>2.1.0<sp/>and<sp/>before</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/>wxArrayString<sp/>passChoices(<ref refid="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81af4d03cc80617e35bf33b64bbec90b872" kindref="member">kNumPasses</ref>,<sp/>kPassStrings);</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/>passChoices.Insert(wxT(</highlight><highlight class="stringliteral">&quot;1&quot;</highlight><highlight class="normal">),<sp/>0);</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/>passChoices.Insert(wxT(</highlight><highlight class="stringliteral">&quot;2&quot;</highlight><highlight class="normal">),<sp/>1);</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/>passChoices.Insert(wxT(</highlight><highlight class="stringliteral">&quot;3&quot;</highlight><highlight class="normal">),<sp/>2);</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/>passChoices.Insert(wxT(</highlight><highlight class="stringliteral">&quot;4&quot;</highlight><highlight class="normal">),<sp/>3);</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/>passChoices.Insert(wxT(</highlight><highlight class="stringliteral">&quot;5&quot;</highlight><highlight class="normal">),<sp/>4);</highlight></codeline>
<codeline lineno="140"><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><ref refid="src_2effects_2_effect_8h_1a7f66a6fc07a71dc42f7d8bf7248d210e" kindref="member">ReadAndVerifyEnum</ref>(Level,<sp/>wxArrayString(<ref refid="class_enums_1af68f2c8c485e9bdce28e025246d686aa" kindref="member">Enums::NumDbChoices</ref>,<ref refid="class_enums_1a93eebf0af1a98c64fa3af929766f747b" kindref="member">Enums::GetDbChoices</ref>()));</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><ref refid="src_2effects_2_effect_8h_1a7f66a6fc07a71dc42f7d8bf7248d210e" kindref="member">ReadAndVerifyEnum</ref>(Passes,<sp/>passChoices);</highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/>mDbIndex<sp/>=<sp/>Level;</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/>mPassIndex<sp/>=<sp/>Passes;</highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Readjust<sp/>for<sp/>2.1.0<sp/>or<sp/>before</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mPassIndex<sp/>&gt;=<sp/><ref refid="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81af4d03cc80617e35bf33b64bbec90b872" kindref="member">kNumPasses</ref>)</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>mPassIndex<sp/>-=<sp/><ref refid="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81af4d03cc80617e35bf33b64bbec90b872" kindref="member">kNumPasses</ref>;</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/>mNumPasses<sp/>=<sp/>mPassIndex<sp/>+<sp/>1;</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/>mDbSilenceThreshold<sp/>=<sp/><ref refid="class_enums_1a9664e8d989f758f005a661ef386d3985" kindref="member">Enums::Db2Signal</ref>[mDbIndex];</highlight></codeline>
<codeline lineno="155"><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/>CalcLevellerFactors();</highlight></codeline>
<codeline lineno="157"><highlight class="normal"></highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="159"><highlight class="normal">}</highlight></codeline>
<codeline lineno="160"><highlight class="normal"></highlight></codeline>
<codeline lineno="161"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Effect<sp/>implementation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"></highlight></codeline>
<codeline lineno="163" refid="class_effect_leveller_1a5fea844c69bf810029d57e233ff62491" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_effect_leveller_1a5fea844c69bf810029d57e233ff62491" kindref="member">EffectLeveller::Startup</ref>()</highlight></codeline>
<codeline lineno="164"><highlight class="normal">{</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/>wxString<sp/><ref refid="lib_2expat_8h_1a938e186c531ea86ae9adf3c0a649d8fc" kindref="member">base</ref><sp/>=<sp/>wxT(</highlight><highlight class="stringliteral">&quot;/Effects/Leveller/&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="166"><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Migrate<sp/>settings<sp/>from<sp/>2.1.0<sp/>or<sp/>before</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Already<sp/>migrated,<sp/>so<sp/>bail</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Exists(base<sp/>+<sp/>wxT(</highlight><highlight class="stringliteral">&quot;Migrated&quot;</highlight><highlight class="normal">)))</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="174"><highlight class="normal"></highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Load<sp/>the<sp/>old<sp/>&quot;current&quot;<sp/>settings</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Exists(base))</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>mNumPasses<sp/>=<sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Read(base<sp/>+<sp/>wxT(</highlight><highlight class="stringliteral">&quot;LevellerNumPasses&quot;</highlight><highlight class="normal">),<sp/>2L);</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((mNumPasses<sp/>&lt;=<sp/>0)<sp/>||<sp/>(mNumPasses<sp/>&gt;<sp/><ref refid="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81af4d03cc80617e35bf33b64bbec90b872" kindref="member">kNumPasses</ref>))</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/></highlight><highlight class="comment">//<sp/>corrupted<sp/>Pr</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mNumPasses<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>mDbIndex<sp/>=<sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Read(base<sp/>+<sp/>wxT(</highlight><highlight class="stringliteral">&quot;LevellerDbChoiceIndex&quot;</highlight><highlight class="normal">),<sp/>10L);</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((mDbIndex<sp/>&lt;<sp/>0)<sp/>||<sp/>(mDbIndex<sp/>&gt;=<sp/><ref refid="class_enums_1af68f2c8c485e9bdce28e025246d686aa" kindref="member">Enums::NumDbChoices</ref>))</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/><sp/></highlight><highlight class="comment">//<sp/>cor</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mDbIndex<sp/>=<sp/>0;<sp/><sp/></highlight><highlight class="comment">//Least<sp/>dB</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="188"><highlight class="normal"></highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_effect_1a6e3578fd544c99167a7462c6c3839c3c" kindref="member">SaveUserPreset</ref>(<ref refid="class_effect_1a058541101e2a9496372810d0ef4d7fe4" kindref="member">GetCurrentSettingsGroup</ref>());</highlight></codeline>
<codeline lineno="190"><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Do<sp/>not<sp/>migrate<sp/>again</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(base<sp/>+<sp/>wxT(</highlight><highlight class="stringliteral">&quot;Migrated&quot;</highlight><highlight class="normal">),<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Flush();</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="195"><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="197"><highlight class="normal">}</highlight></codeline>
<codeline lineno="198"><highlight class="normal"></highlight></codeline>
<codeline lineno="199" refid="class_effect_leveller_1a58e3698828a4758d425e430d23413c70" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_effect_leveller_1a58e3698828a4758d425e430d23413c70" kindref="member">EffectLeveller::PopulateOrExchange</ref>(<ref refid="class_shuttle_gui" kindref="compound">ShuttleGui</ref><sp/>&amp;<sp/><ref refid="xlftab_8c_1af933676109efed7ab34cea71d748a517" kindref="member">S</ref>)</highlight></codeline>
<codeline lineno="200"><highlight class="normal">{</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/>wxASSERT(<ref refid="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81af4d03cc80617e35bf33b64bbec90b872" kindref="member">kNumPasses</ref><sp/>==<sp/>WXSIZEOF(kPassStrings));</highlight></codeline>
<codeline lineno="202"><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/>wxArrayString<sp/>passChoices;</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref><sp/>=<sp/>0;<sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref><sp/>&lt;<sp/><ref refid="_leveller_8cpp_1a4de70b341ff151b9421ba55f95362b81af4d03cc80617e35bf33b64bbec90b872" kindref="member">kNumPasses</ref>;<sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>++)</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>passChoices.Add(wxGetTranslation(kPassStrings[<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>]));</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="208"><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/>wxArrayString<sp/>dBChoices(<ref refid="class_enums_1af68f2c8c485e9bdce28e025246d686aa" kindref="member">Enums::NumDbChoices</ref>,<ref refid="class_enums_1a93eebf0af1a98c64fa3af929766f747b" kindref="member">Enums::GetDbChoices</ref>());</highlight></codeline>
<codeline lineno="210"><highlight class="normal"></highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/>S.<ref refid="class_shuttle_gui_base_1a026838575f360f2d1d8414827d18457d" kindref="member">SetBorder</ref>(5);</highlight></codeline>
<codeline lineno="212"><highlight class="normal"></highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/>S.<ref refid="class_shuttle_gui_base_1a6f8c4113388aa33dbb64204cd5ab1571" kindref="member">StartVerticalLay</ref>();</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>S.<ref refid="class_shuttle_gui_1a3a5b4056473e3a9f240a8e9b173424fe" kindref="member">AddSpace</ref>(5);</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>S.<ref refid="class_shuttle_gui_base_1ae71efe4837e02680f854a905b3b27120" kindref="member">StartMultiColumn</ref>(2,<sp/>wxALIGN_CENTER);</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>S.<ref refid="class_shuttle_gui_base_1af7a1f08500177bfe4cb37255043aebc0" kindref="member">AddChoice</ref>(<ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Degree<sp/>of<sp/>Leveling:&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxT(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;passChoices)-&gt;SetValidator(wxGenericValidator(&amp;mPassIndex));</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>S.<ref refid="class_shuttle_gui_base_1af7a1f08500177bfe4cb37255043aebc0" kindref="member">AddChoice</ref>(<ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Noise<sp/>Threshold:&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxT(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;dBChoices)-&gt;SetValidator(wxGenericValidator(&amp;mDbIndex));</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>S.<ref refid="class_shuttle_gui_base_1a1a676a57ca191fde04599e4199e3f7f4" kindref="member">EndMultiColumn</ref>();</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/>S.<ref refid="class_shuttle_gui_base_1a0286cb0ae146afcf8c589ceb16b37144" kindref="member">EndVerticalLay</ref>();</highlight></codeline>
<codeline lineno="228"><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="230"><highlight class="normal">}</highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight></codeline>
<codeline lineno="232" refid="class_effect_leveller_1aa86d67c50876126494a48a9d93e1d4a3" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_effect_leveller_1aa86d67c50876126494a48a9d93e1d4a3" kindref="member">EffectLeveller::TransferDataToWindow</ref>()</highlight></codeline>
<codeline lineno="233"><highlight class="normal">{</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_effect_1a72092c469d5f0e82f16fbac57e38229f" kindref="member">mUIParent</ref>-&gt;TransferDataToWindow())</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="238"><highlight class="normal"></highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="240"><highlight class="normal">}</highlight></codeline>
<codeline lineno="241"><highlight class="normal"></highlight></codeline>
<codeline lineno="242" refid="class_effect_leveller_1a2b374acc0998cf9121ca7acf2cf71717" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_effect_leveller_1a2b374acc0998cf9121ca7acf2cf71717" kindref="member">EffectLeveller::TransferDataFromWindow</ref>()</highlight></codeline>
<codeline lineno="243"><highlight class="normal">{</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_effect_1a72092c469d5f0e82f16fbac57e38229f" kindref="member">mUIParent</ref>-&gt;Validate()<sp/>||<sp/>!<ref refid="class_effect_1a72092c469d5f0e82f16fbac57e38229f" kindref="member">mUIParent</ref>-&gt;TransferDataFromWindow())</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="248"><highlight class="normal"></highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/>mNumPasses<sp/>=<sp/>mPassIndex<sp/>+<sp/>1;</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/>mDbSilenceThreshold<sp/>=<sp/><ref refid="class_enums_1a9664e8d989f758f005a661ef386d3985" kindref="member">Enums::Db2Signal</ref>[mDbIndex];</highlight></codeline>
<codeline lineno="251"><highlight class="normal"></highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/>CalcLevellerFactors();</highlight></codeline>
<codeline lineno="253"><highlight class="normal"></highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="255"><highlight class="normal">}</highlight></codeline>
<codeline lineno="256"><highlight class="normal"></highlight></codeline>
<codeline lineno="257"><highlight class="normal"></highlight><highlight class="comment">//<sp/>EffectLeveller<sp/>implementation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="258"><highlight class="normal"></highlight></codeline>
<codeline lineno="259" refid="_leveller_8cpp_1a7092ae7bbec0b5bd0fcb119cd96c15e4" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>LEVELER_FACTORS<sp/>6</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="260"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>gLimit[<ref refid="_leveller_8cpp_1a7092ae7bbec0b5bd0fcb119cd96c15e4" kindref="member">LEVELER_FACTORS</ref>]<sp/>=<sp/>{<sp/>0.0001,<sp/>0.0,<sp/>0.1,<sp/>0.3,<sp/>0.5,<sp/>1.0<sp/>};</highlight></codeline>
<codeline lineno="261"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>gAdjLimit[<ref refid="_leveller_8cpp_1a7092ae7bbec0b5bd0fcb119cd96c15e4" kindref="member">LEVELER_FACTORS</ref>];</highlight></codeline>
<codeline lineno="262"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>gAddOnValue[<ref refid="_leveller_8cpp_1a7092ae7bbec0b5bd0fcb119cd96c15e4" kindref="member">LEVELER_FACTORS</ref>];</highlight></codeline>
<codeline lineno="263"><highlight class="normal"></highlight><highlight class="comment">//<sp/>static<sp/>double<sp/>gAdjFactor[LEVELER_FACTORS]<sp/>=<sp/>{<sp/>0.9,<sp/>1.0,<sp/>1.1,<sp/>1.1,<sp/>1.0,<sp/>0.9<sp/>};</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="264"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>gAdjFactor[<ref refid="_leveller_8cpp_1a7092ae7bbec0b5bd0fcb119cd96c15e4" kindref="member">LEVELER_FACTORS</ref>]<sp/>=<sp/>{<sp/>0.80,<sp/>1.00,<sp/>1.20,<sp/>1.20,<sp/>1.00,<sp/>0.80<sp/>};</highlight></codeline>
<codeline lineno="265"><highlight class="normal"></highlight></codeline>
<codeline lineno="266"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>EffectLeveller::CalcLevellerFactors()</highlight></codeline>
<codeline lineno="267"><highlight class="normal">{</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/>gLimit[1]<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>mDbSilenceThreshold;</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/>prev<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>addOnValue<sp/><sp/><sp/><sp/>=<sp/>0.0;</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>prevLimit<sp/><sp/><sp/><sp/><sp/>=<sp/>0.0;</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>limit<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>gLimit[0];</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/>gAddOnValue[0]<sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>addOnValue;</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>adjFactor<sp/><sp/><sp/><sp/><sp/>=<sp/>gAdjFactor[0];</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>upperAdjLimit<sp/>=<sp/>gLimit[0]<sp/>*<sp/>adjFactor;</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>prevAdjLimit<sp/><sp/>=<sp/>upperAdjLimit;</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/>gAdjLimit[0]<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>upperAdjLimit;</highlight></codeline>
<codeline lineno="278"><highlight class="normal"></highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref><sp/>=<sp/>1;<sp/><ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref><sp/>&lt;<sp/><ref refid="_leveller_8cpp_1a7092ae7bbec0b5bd0fcb119cd96c15e4" kindref="member">LEVELER_FACTORS</ref>;<sp/>++<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref>)<sp/>{</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>prev<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/><ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref><sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>adjFactor<sp/><sp/><sp/><sp/><sp/>=<sp/>gAdjFactor[<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref>];</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>prevLimit<sp/><sp/><sp/><sp/><sp/>=<sp/>gLimit[prev];</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>limit<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>gLimit[<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref>];</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>prevAdjLimit<sp/><sp/>=<sp/>gAdjLimit[prev];</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>addOnValue<sp/><sp/><sp/><sp/>=<sp/>prevAdjLimit<sp/>-<sp/>(adjFactor<sp/>*<sp/>prevLimit);</highlight></codeline>
<codeline lineno="286"><highlight class="normal"></highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>gAddOnValue[<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref>]<sp/>=<sp/>addOnValue;</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>gAdjLimit[<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref>]<sp/><sp/><sp/>=<sp/>(adjFactor<sp/>*<sp/>limit)<sp/>+<sp/>addOnValue;</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="290"><highlight class="normal">}</highlight></codeline>
<codeline lineno="291"><highlight class="normal"></highlight></codeline>
<codeline lineno="292"><highlight class="normal"></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>EffectLeveller::LevelOneFrame(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>frameInBuffer)</highlight></codeline>
<codeline lineno="293"><highlight class="normal">{</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><sp/>curFrame;</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><sp/>fabsCurFrame;</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><sp/>curSign;</highlight></codeline>
<codeline lineno="297"><highlight class="normal"></highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/>curFrame<sp/>=<sp/>frameInBuffer;</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(curFrame<sp/>&lt;<sp/>0.0)<sp/>{</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>curSign<sp/>=<sp/>-1.0;</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>curSign<sp/>=<sp/>1.0;</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/>fabsCurFrame<sp/>=<sp/>(float)fabs(curFrame);</highlight></codeline>
<codeline lineno="306"><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref><sp/>=<sp/>0;<sp/><ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref><sp/>&lt;<sp/><ref refid="_leveller_8cpp_1a7092ae7bbec0b5bd0fcb119cd96c15e4" kindref="member">LEVELER_FACTORS</ref>;<sp/>++<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref>)<sp/>{</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(fabsCurFrame<sp/>&lt;=<sp/>gLimit[<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref>])<sp/>{</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>curFrame<sp/>*=<sp/>(float)gAdjFactor[f];</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>curFrame<sp/>+=<sp/>(float)(gAddOnValue[f]<sp/>*<sp/>curSign);</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>curFrame;</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">)0.99;</highlight></codeline>
<codeline lineno="315"><highlight class="normal">}</highlight></codeline>
<codeline lineno="316"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="C:/_dev/OpenU/Audacity/audacity/src/effects/Leveller.cpp"/>
  </compounddef>
</doxygen>
