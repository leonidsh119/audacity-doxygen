<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.11">
  <compounddef id="pa__win__wdmks_8c" kind="file" language="C++">
    <compoundname>pa_win_wdmks.c</compoundname>
    <includes local="no">stdio.h</includes>
    <includes local="no">string.h</includes>
    <includes refid="assert_8h" local="no">assert.h</includes>
    <includes refid="wchar_8h" local="no">wchar.h</includes>
    <includes refid="pa__util_8h" local="yes">pa_util.h</includes>
    <includes refid="pa__allocation_8h" local="yes">pa_allocation.h</includes>
    <includes refid="pa__hostapi_8h" local="yes">pa_hostapi.h</includes>
    <includes refid="pa__stream_8h" local="yes">pa_stream.h</includes>
    <includes refid="pa__cpuload_8h" local="yes">pa_cpuload.h</includes>
    <includes refid="pa__process_8h" local="yes">pa_process.h</includes>
    <includes refid="portaudio_8h" local="yes">portaudio.h</includes>
    <includes refid="pa__debugprint_8h" local="yes">pa_debugprint.h</includes>
    <includes refid="pa__memorybarrier_8h" local="yes">pa_memorybarrier.h</includes>
    <includes refid="pa__ringbuffer_8h" local="yes">pa_ringbuffer.h</includes>
    <includes refid="pa__trace_8h" local="yes">pa_trace.h</includes>
    <includes refid="pa__win__waveformat_8h" local="yes">pa_win_waveformat.h</includes>
    <includes refid="pa__win__wdmks_8h" local="yes">pa_win_wdmks.h</includes>
    <includes local="no">windows.h</includes>
    <includes local="no">winioctl.h</includes>
    <includes local="no">process.h</includes>
    <includes local="no">math.h</includes>
    <includes local="no">setupapi.h</includes>
    <includes local="no">mmreg.h</includes>
    <includes refid="ks_8h" local="no">ks.h</includes>
    <includes refid="ksmedia_8h" local="no">ksmedia.h</includes>
    <incdepgraph>
      <node id="30356">
        <label>process.h</label>
      </node>
      <node id="30359">
        <label>mmreg.h</label>
      </node>
      <node id="30353">
        <label>pa_win_wdmks.h</label>
        <link refid="pa__win__wdmks_8h"/>
        <childnode refid="30339" relation="include">
        </childnode>
        <childnode refid="30354" relation="include">
        </childnode>
      </node>
      <node id="30337">
        <label>wchar.h</label>
        <link refid="wchar_8h"/>
      </node>
      <node id="30354">
        <label>windows.h</label>
      </node>
      <node id="30341">
        <label>pa_hostapi.h</label>
        <link refid="pa__hostapi_8h"/>
        <childnode refid="30339" relation="include">
        </childnode>
      </node>
      <node id="30340">
        <label>pa_allocation.h</label>
        <link refid="pa__allocation_8h"/>
      </node>
      <node id="30333">
        <label>C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c</label>
        <link refid="pa_win_wdmks.c"/>
        <childnode refid="30334" relation="include">
        </childnode>
        <childnode refid="30335" relation="include">
        </childnode>
        <childnode refid="30336" relation="include">
        </childnode>
        <childnode refid="30337" relation="include">
        </childnode>
        <childnode refid="30338" relation="include">
        </childnode>
        <childnode refid="30340" relation="include">
        </childnode>
        <childnode refid="30341" relation="include">
        </childnode>
        <childnode refid="30342" relation="include">
        </childnode>
        <childnode refid="30343" relation="include">
        </childnode>
        <childnode refid="30344" relation="include">
        </childnode>
        <childnode refid="30339" relation="include">
        </childnode>
        <childnode refid="30348" relation="include">
        </childnode>
        <childnode refid="30349" relation="include">
        </childnode>
        <childnode refid="30350" relation="include">
        </childnode>
        <childnode refid="30351" relation="include">
        </childnode>
        <childnode refid="30352" relation="include">
        </childnode>
        <childnode refid="30353" relation="include">
        </childnode>
        <childnode refid="30354" relation="include">
        </childnode>
        <childnode refid="30355" relation="include">
        </childnode>
        <childnode refid="30356" relation="include">
        </childnode>
        <childnode refid="30357" relation="include">
        </childnode>
        <childnode refid="30358" relation="include">
        </childnode>
        <childnode refid="30359" relation="include">
        </childnode>
        <childnode refid="30360" relation="include">
        </childnode>
        <childnode refid="30363" relation="include">
        </childnode>
      </node>
      <node id="30344">
        <label>pa_process.h</label>
        <link refid="pa__process_8h"/>
        <childnode refid="30339" relation="include">
        </childnode>
        <childnode refid="30345" relation="include">
        </childnode>
        <childnode refid="30346" relation="include">
        </childnode>
      </node>
      <node id="30352">
        <label>pa_win_waveformat.h</label>
        <link refid="pa__win__waveformat_8h"/>
      </node>
      <node id="30343">
        <label>pa_cpuload.h</label>
        <link refid="pa__cpuload_8h"/>
      </node>
      <node id="30360">
        <label>ks.h</label>
        <link refid="ks_8h"/>
        <childnode refid="30361" relation="include">
        </childnode>
        <childnode refid="30362" relation="include">
        </childnode>
      </node>
      <node id="30336">
        <label>assert.h</label>
        <link refid="assert_8h"/>
      </node>
      <node id="30363">
        <label>ksmedia.h</label>
        <link refid="ksmedia_8h"/>
        <childnode refid="30361" relation="include">
        </childnode>
        <childnode refid="30362" relation="include">
        </childnode>
        <childnode refid="30360" relation="include">
        </childnode>
      </node>
      <node id="30335">
        <label>string.h</label>
      </node>
      <node id="30355">
        <label>winioctl.h</label>
      </node>
      <node id="30358">
        <label>setupapi.h</label>
      </node>
      <node id="30346">
        <label>pa_dither.h</label>
        <link refid="pa__dither_8h"/>
        <childnode refid="30347" relation="include">
        </childnode>
      </node>
      <node id="30362">
        <label>poppack.h</label>
      </node>
      <node id="30350">
        <label>pa_ringbuffer.h</label>
        <link refid="pa__ringbuffer_8h"/>
      </node>
      <node id="30339">
        <label>portaudio.h</label>
        <link refid="portaudio_8h"/>
      </node>
      <node id="30357">
        <label>math.h</label>
      </node>
      <node id="30342">
        <label>pa_stream.h</label>
        <link refid="pa__stream_8h"/>
        <childnode refid="30339" relation="include">
        </childnode>
      </node>
      <node id="30347">
        <label>pa_types.h</label>
        <link refid="pa__types_8h"/>
      </node>
      <node id="30361">
        <label>pshpack1.h</label>
      </node>
      <node id="30345">
        <label>pa_converters.h</label>
        <link refid="pa__converters_8h"/>
        <childnode refid="30339" relation="include">
        </childnode>
      </node>
      <node id="30351">
        <label>pa_trace.h</label>
        <link refid="pa__trace_8h"/>
      </node>
      <node id="30348">
        <label>pa_debugprint.h</label>
        <link refid="pa__debugprint_8h"/>
      </node>
      <node id="30349">
        <label>pa_memorybarrier.h</label>
        <link refid="pa__memorybarrier_8h"/>
      </node>
      <node id="30334">
        <label>stdio.h</label>
      </node>
      <node id="30338">
        <label>pa_util.h</label>
        <link refid="pa__util_8h"/>
        <childnode refid="30339" relation="include">
        </childnode>
      </node>
    </incdepgraph>
    <innerclass refid="struct_pa_win_w_d_m_k_s_av_rt_entry_points" prot="public">PaWinWDMKSAvRtEntryPoints</innerclass>
    <innerclass refid="struct_____pa_win_wdm_muxed_input" prot="public">__PaWinWdmMuxedInput</innerclass>
    <innerclass refid="struct_____pa_win_wdm_pin" prot="public">__PaWinWdmPin</innerclass>
    <innerclass refid="struct_____pa_win_wdm_filter" prot="public">__PaWinWdmFilter</innerclass>
    <innerclass refid="struct_____pa_win_wdm_device_info" prot="public">__PaWinWdmDeviceInfo</innerclass>
    <innerclass refid="struct_____pa_win_wdm_host_api_representation" prot="public">__PaWinWdmHostApiRepresentation</innerclass>
    <innerclass refid="struct_____d_a_t_a_p_a_c_k_e_t" prot="public">__DATAPACKET</innerclass>
    <innerclass refid="struct_____pa_i_o_packet" prot="public">__PaIOPacket</innerclass>
    <innerclass refid="struct_____pa_win_wdm_i_o_info" prot="public">__PaWinWdmIOInfo</innerclass>
    <innerclass refid="struct_____pa_win_wdm_stream" prot="public">__PaWinWdmStream</innerclass>
    <innerclass refid="struct_____pa_process_thread_info" prot="public">__PaProcessThreadInfo</innerclass>
    <innerclass refid="struct_____pa_win_w_d_m_scan_device_infos_results" prot="public">__PaWinWDMScanDeviceInfosResults</innerclass>
    <innerclass refid="struct_____pa_usb_terminal_g_u_i_d_to_name" prot="public">__PaUsbTerminalGUIDToName</innerclass>
    <innerclass refid="struct_pa_name_hash_index" prot="public">PaNameHashIndex</innerclass>
    <innerclass refid="struct_pa_name_hash_object" prot="public">PaNameHashObject</innerclass>
      <sectiondef kind="define">
      <memberdef kind="define" id="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" prot="public" static="no">
        <name>PA_LOGE_</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="61" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="61" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" prot="public" static="no">
        <name>PA_LOGL_</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="62" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="62" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pa__win__wdmks_8c_1adad5f0b12993256d88ee25ebee3e0bca" prot="public" static="no">
        <name>DRV_QUERYDEVICEINTERFACE</name>
        <initializer>(<ref refid="px__win__endpoint_8c_1aa9fa6bfc5facbee89fde1bfea2f178f8" kindref="member">DRV_RESERVED</ref> + 12)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="90" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="90" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pa__win__wdmks_8c_1a12fe28580c2caabf3c97130411605dd4" prot="public" static="no">
        <name>DRV_QUERYDEVICEINTERFACESIZE</name>
        <initializer>(<ref refid="px__win__endpoint_8c_1aa9fa6bfc5facbee89fde1bfea2f178f8" kindref="member">DRV_RESERVED</ref> + 13)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="93" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="93" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pa__win__wdmks_8c_1a1ed56124518c5cb5bac27422912327e6" prot="public" static="no">
        <name>PA_HP_TRACE</name>
        <param><defname>x</defname></param>
        <initializer><ref refid="pa__trace_8h_1a665e802c0ad6f2b2ee97bfd522f2a3fd" kindref="member">PaUtil_AddHighSpeedLogMessage</ref> x ;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="110" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="110" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pa__win__wdmks_8c_1a4df7ba9195cdae8d2a7a47ae0421b567" prot="public" static="no">
        <name>PA_WDMKS_USE_CATEGORY_FOR_PIN_NAMES</name>
        <initializer>1</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="120" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="120" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pa__win__wdmks_8c_1ae9a0f0ff7059ae7fd026ac46f65ed9b9" prot="public" static="no">
        <name>CREATE_THREAD_FUNCTION</name>
        <initializer>(<ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref>)_beginthreadex</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="152" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="152" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pa__win__wdmks_8c_1ad744bd36cb3631b1dc11beb41dcc238c" prot="public" static="no">
        <name>PA_THREAD_FUNC</name>
        <initializer>static unsigned <ref refid="mapinls_8h_1a9aa60e1ead64be77ad551e745cbfd4d3" kindref="member">WINAPI</ref></initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="153" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="153" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pa__win__wdmks_8c_1abbaccfbed35b945162c27ef6d3748e77" prot="public" static="no">
        <name>EXTERN_C</name>
        <initializer>extern</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="172" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="172" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="pa__win__wdmks_8c_1a63e227993b75fd9a2658b34234bf3366" prot="public" static="no">
        <name>MAXIMUM_NUMBER_OF_CHANNELS</name>
        <initializer>256</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="225" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="225" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="enum">
      <memberdef kind="enum" id="pa__win__wdmks_8c_1a2ed6fe22cba98e98dc797f66315d3884" prot="public" static="no">
        <name>_PA_AVRT_PRIORITY</name>
        <enumvalue id="pa__win__wdmks_8c_1a2ed6fe22cba98e98dc797f66315d3884a6627750d6c81485298bdc0c779f8d1d6" prot="public">
          <name>PA_AVRT_PRIORITY_LOW</name>
          <initializer>= -1</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="pa__win__wdmks_8c_1a2ed6fe22cba98e98dc797f66315d3884ac373f8d46e872a052340070e06b3ae07" prot="public">
          <name>PA_AVRT_PRIORITY_NORMAL</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="pa__win__wdmks_8c_1a2ed6fe22cba98e98dc797f66315d3884aed71aa0f94fc663d031ca72dc2775272" prot="public">
          <name>PA_AVRT_PRIORITY_HIGH</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="pa__win__wdmks_8c_1a2ed6fe22cba98e98dc797f66315d3884aaddd13240b8b15d145e282c8ef36a108" prot="public">
          <name>PA_AVRT_PRIORITY_CRITICAL</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="205" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="204" bodyend="210"/>
      </memberdef>
      <memberdef kind="enum" id="pa__win__wdmks_8c_1abf83566c082ff992efb67a6a533c7ec5" prot="public" static="no">
        <name>__PaStreamStartEnum</name>
        <enumvalue id="pa__win__wdmks_8c_1abf83566c082ff992efb67a6a533c7ec5a46bc3f5ea073342703b3dd6904d564a7" prot="public">
          <name>StreamStart_kOk</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="pa__win__wdmks_8c_1abf83566c082ff992efb67a6a533c7ec5ab05b936607a5bdb4dad033e21a349c7a" prot="public">
          <name>StreamStart_kFailed</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="pa__win__wdmks_8c_1abf83566c082ff992efb67a6a533c7ec5a015288f4751df2a3c5680952db2ebc97" prot="public">
          <name>StreamStart_kCnt</name>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="249" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="248" bodyend="253"/>
      </memberdef>
      <memberdef kind="enum" id="pa__win__wdmks_8c_1a05a5c67ee1c75fcecd2e93c969ac3fcb" prot="public" static="no">
        <name>_tag_EAlias</name>
        <enumvalue id="pa__win__wdmks_8c_1a05a5c67ee1c75fcecd2e93c969ac3fcbae12bf2522f9b69283147ea566401be2b" prot="public">
          <name>Alias_kRender</name>
          <initializer>= (1&lt;&lt;0)</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="pa__win__wdmks_8c_1a05a5c67ee1c75fcecd2e93c969ac3fcba45df6c4cd301906a68e4ec8ff6b023ac" prot="public">
          <name>Alias_kCapture</name>
          <initializer>= (1&lt;&lt;1)</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <enumvalue id="pa__win__wdmks_8c_1a05a5c67ee1c75fcecd2e93c969ac3fcba2cb0d7e662be977a49066c7167073fdb" prot="public">
          <name>Alias_kRealtime</name>
          <initializer>= (1&lt;&lt;2)</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
          </detaileddescription>
        </enumvalue>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="3017" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="3016" bodyend="3021"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="typedef">
      <memberdef kind="typedef" id="pa__win__wdmks_8c_1a055163a2257c29ab3084cd304d1ffb92" prot="public" static="no">
        <type><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref> <ref refid="mapinls_8h_1a9aa60e1ead64be77ad551e745cbfd4d3" kindref="member">WINAPI</ref></type>
        <definition>typedef DWORD WINAPI KSCREATEPIN(HANDLE, PKSPIN_CONNECT, ACCESS_MASK, PHANDLE)</definition>
        <argsstring>(HANDLE, PKSPIN_CONNECT, ACCESS_MASK, PHANDLE)</argsstring>
        <name>KSCREATEPIN</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="199" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="199" bodyend="-1"/>
      </memberdef>
      <memberdef kind="typedef" id="pa__win__wdmks_8c_1a3c538d73971d3be18d19d6cc57e02602" prot="public" static="no">
        <type>enum <ref refid="pa__win__wdmks_8c_1a2ed6fe22cba98e98dc797f66315d3884" kindref="member">_PA_AVRT_PRIORITY</ref></type>
        <definition>typedef enum _PA_AVRT_PRIORITY  PA_AVRT_PRIORITY</definition>
        <argsstring></argsstring>
        <name>PA_AVRT_PRIORITY</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="210" column="1"/>
      </memberdef>
      <memberdef kind="typedef" id="pa__win__wdmks_8c_1ac506a8f6f8a5251e2e94066faccb7d16" prot="public" static="no">
        <type>enum <ref refid="pa__win__wdmks_8c_1a2ed6fe22cba98e98dc797f66315d3884" kindref="member">_PA_AVRT_PRIORITY</ref> *</type>
        <definition>typedef enum _PA_AVRT_PRIORITY * PPA_AVRT_PRIORITY</definition>
        <argsstring></argsstring>
        <name>PPA_AVRT_PRIORITY</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="210" column="1"/>
      </memberdef>
      <memberdef kind="typedef" id="pa__win__wdmks_8c_1add25dc7e76c77419d4520c774371efe4" prot="public" static="no">
        <type>struct <ref refid="struct_____pa_win_wdm_filter" kindref="compound">__PaWinWdmFilter</ref></type>
        <definition>typedef struct __PaWinWdmFilter PaWinWdmFilter</definition>
        <argsstring></argsstring>
        <name>PaWinWdmFilter</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="221" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="229" bodyend="-1"/>
      </memberdef>
      <memberdef kind="typedef" id="pa__win__wdmks_8c_1a1b9a07297c7f8093f59fc4b333c9ba68" prot="public" static="no">
        <type>struct <ref refid="struct_____pa_win_wdm_pin" kindref="compound">__PaWinWdmPin</ref></type>
        <definition>typedef struct __PaWinWdmPin PaWinWdmPin</definition>
        <argsstring></argsstring>
        <name>PaWinWdmPin</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="221" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="232" bodyend="-1"/>
      </memberdef>
      <memberdef kind="typedef" id="pa__win__wdmks_8c_1a41c57e03e58e2456ec901b8337ce6791" prot="public" static="no">
        <type>struct <ref refid="struct_____pa_win_wdm_stream" kindref="compound">__PaWinWdmStream</ref></type>
        <definition>typedef struct __PaWinWdmStream PaWinWdmStream</definition>
        <argsstring></argsstring>
        <name>PaWinWdmStream</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="221" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="235" bodyend="-1"/>
      </memberdef>
      <memberdef kind="typedef" id="pa__win__wdmks_8c_1a5c6efedb86e3f590184c4595820e68b9" prot="public" static="no">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref>(*</type>
        <definition>typedef PaError(* FunctionGetPinAudioPosition) (PaWinWdmPin *, unsigned long *)</definition>
        <argsstring>)(PaWinWdmPin *, unsigned long *)</argsstring>
        <name>FunctionGetPinAudioPosition</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="238" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="238" bodyend="-1"/>
      </memberdef>
      <memberdef kind="typedef" id="pa__win__wdmks_8c_1af3fcb71d44986590898882b6b1ca82f5" prot="public" static="no">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref>(*</type>
        <definition>typedef void(* FunctionMemoryBarrier) (void)</definition>
        <argsstring>)(void)</argsstring>
        <name>FunctionMemoryBarrier</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="241" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="241" bodyend="-1"/>
      </memberdef>
      <memberdef kind="typedef" id="pa__win__wdmks_8c_1ac11d18d40d2d3d9de06b2bec09bc4d78" prot="public" static="no">
        <type>struct <ref refid="struct_____pa_process_thread_info" kindref="compound">__PaProcessThreadInfo</ref></type>
        <definition>typedef struct __PaProcessThreadInfo PaProcessThreadInfo</definition>
        <argsstring></argsstring>
        <name>PaProcessThreadInfo</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="241" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="244" bodyend="-1"/>
      </memberdef>
      <memberdef kind="typedef" id="pa__win__wdmks_8c_1a648f640b2f250d09332384c98a242d5d" prot="public" static="no">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref>(*</type>
        <definition>typedef PaError(* FunctionPinHandler) (PaProcessThreadInfo *pInfo, unsigned eventIndex)</definition>
        <argsstring>)(PaProcessThreadInfo *pInfo, unsigned eventIndex)</argsstring>
        <name>FunctionPinHandler</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="246" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="246" bodyend="-1"/>
      </memberdef>
      <memberdef kind="typedef" id="pa__win__wdmks_8c_1a5e9a8fba94905a0ad9e65bb844470879" prot="public" static="no">
        <type>enum <ref refid="pa__win__wdmks_8c_1abf83566c082ff992efb67a6a533c7ec5" kindref="member">__PaStreamStartEnum</ref></type>
        <definition>typedef enum __PaStreamStartEnum  PaStreamStartEnum</definition>
        <argsstring></argsstring>
        <name>PaStreamStartEnum</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="253" column="1"/>
      </memberdef>
      <memberdef kind="typedef" id="pa__win__wdmks_8c_1a0be015bebf38da0f5c27b19866c31716" prot="public" static="no">
        <type>struct <ref refid="struct_____pa_win_wdm_muxed_input" kindref="compound">__PaWinWdmMuxedInput</ref></type>
        <definition>typedef struct __PaWinWdmMuxedInput  PaWinWdmMuxedInput</definition>
        <argsstring></argsstring>
        <name>PaWinWdmMuxedInput</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="263" column="1"/>
      </memberdef>
      <memberdef kind="typedef" id="pa__win__wdmks_8c_1a0e4201b3428d9f404a25c14fac68d820" prot="public" static="no">
        <type>struct <ref refid="struct_____pa_win_wdm_device_info" kindref="compound">__PaWinWdmDeviceInfo</ref></type>
        <definition>typedef struct __PaWinWdmDeviceInfo
 PaWinWdmDeviceInfo</definition>
        <argsstring></argsstring>
        <name>PaWinWdmDeviceInfo</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="327" column="1"/>
      </memberdef>
      <memberdef kind="typedef" id="pa__win__wdmks_8c_1a77b99e8756ea1d6b9e3cae415249eec2" prot="public" static="no">
        <type>struct <ref refid="struct_____pa_win_wdm_host_api_representation" kindref="compound">__PaWinWdmHostApiRepresentation</ref></type>
        <definition>typedef struct __PaWinWdmHostApiRepresentation
 PaWinWdmHostApiRepresentation</definition>
        <argsstring></argsstring>
        <name>PaWinWdmHostApiRepresentation</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="339" column="1"/>
      </memberdef>
      <memberdef kind="typedef" id="pa__win__wdmks_8c_1a6d1fcd4c734c4938cadbb326520d2026" prot="public" static="no">
        <type>struct <ref refid="struct_____d_a_t_a_p_a_c_k_e_t" kindref="compound">__DATAPACKET</ref></type>
        <definition>typedef struct __DATAPACKET  DATAPACKET</definition>
        <argsstring></argsstring>
        <name>DATAPACKET</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="345" column="1"/>
      </memberdef>
      <memberdef kind="typedef" id="pa__win__wdmks_8c_1a124673d3110129eeef30c4dddbf2ed2e" prot="public" static="no">
        <type>struct <ref refid="struct_____pa_i_o_packet" kindref="compound">__PaIOPacket</ref></type>
        <definition>typedef struct __PaIOPacket  PaIOPacket</definition>
        <argsstring></argsstring>
        <name>PaIOPacket</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="352" column="1"/>
      </memberdef>
      <memberdef kind="typedef" id="pa__win__wdmks_8c_1ac3893d31d094c8c05362e8e99830d488" prot="public" static="no">
        <type>struct <ref refid="struct_____pa_win_wdm_i_o_info" kindref="compound">__PaWinWdmIOInfo</ref></type>
        <definition>typedef struct __PaWinWdmIOInfo  PaWinWdmIOInfo</definition>
        <argsstring></argsstring>
        <name>PaWinWdmIOInfo</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="368" column="1"/>
      </memberdef>
      <memberdef kind="typedef" id="pa__win__wdmks_8c_1ad05589077a84c0c0b8b2704e54b54cad" prot="public" static="no">
        <type>struct <ref refid="struct_____pa_win_w_d_m_scan_device_infos_results" kindref="compound">__PaWinWDMScanDeviceInfosResults</ref></type>
        <definition>typedef struct __PaWinWDMScanDeviceInfosResults  PaWinWDMScanDeviceInfosResults</definition>
        <argsstring></argsstring>
        <name>PaWinWDMScanDeviceInfosResults</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="433" column="1"/>
      </memberdef>
      <memberdef kind="typedef" id="pa__win__wdmks_8c_1a6db15cab0555a8cd06485de4f8cd8852" prot="public" static="no">
        <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref> *(*</type>
        <definition>typedef const KSTOPOLOGY_CONNECTION*(* TFnGetConnection) (const KSTOPOLOGY_CONNECTION *, PaWinWdmFilter *, int)</definition>
        <argsstring>)(const KSTOPOLOGY_CONNECTION *, PaWinWdmFilter *, int)</argsstring>
        <name>TFnGetConnection</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="1041" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="1041" bodyend="-1"/>
      </memberdef>
      <memberdef kind="typedef" id="pa__win__wdmks_8c_1a5ab5100ea609d0ad5bf634112d7ada3d" prot="public" static="no">
        <type>struct <ref refid="struct_____pa_usb_terminal_g_u_i_d_to_name" kindref="compound">__PaUsbTerminalGUIDToName</ref></type>
        <definition>typedef struct __PaUsbTerminalGUIDToName  PaUsbTerminalGUIDToName</definition>
        <argsstring></argsstring>
        <name>PaUsbTerminalGUIDToName</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="1185" column="1"/>
      </memberdef>
      <memberdef kind="typedef" id="pa__win__wdmks_8c_1a07fb727c6849d06bc5c21d7cfc050f6e" prot="public" static="no">
        <type>enum <ref refid="pa__win__wdmks_8c_1a05a5c67ee1c75fcecd2e93c969ac3fcb" kindref="member">_tag_EAlias</ref></type>
        <definition>typedef enum _tag_EAlias  EAlias</definition>
        <argsstring></argsstring>
        <name>EAlias</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="3021" column="1"/>
      </memberdef>
      <memberdef kind="typedef" id="pa__win__wdmks_8c_1ae9c8fd380cec2f97fc52982add00105a" prot="public" static="no">
        <type>struct <ref refid="struct_pa_name_hash_index" kindref="compound">PaNameHashIndex</ref></type>
        <definition>typedef struct PaNameHashIndex  PaNameHashIndex</definition>
        <argsstring></argsstring>
        <name>PaNameHashIndex</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="3316" column="1"/>
      </memberdef>
      <memberdef kind="typedef" id="pa__win__wdmks_8c_1a9e59824058f2d1a36cd295d3e6259a2c" prot="public" static="no">
        <type>struct <ref refid="struct_pa_name_hash_object" kindref="compound">PaNameHashObject</ref></type>
        <definition>typedef struct PaNameHashObject  PaNameHashObject</definition>
        <argsstring></argsstring>
        <name>PaNameHashObject</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="3322" column="1"/>
      </memberdef>
      <memberdef kind="typedef" id="pa__win__wdmks_8c_1ada66fed498da9c7e21d12a239b65fb47" prot="public" static="no">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref>(*</type>
        <definition>typedef void(* TSetInputFrameCount) (PaUtilBufferProcessor *, unsigned long)</definition>
        <argsstring>)(PaUtilBufferProcessor *, unsigned long)</argsstring>
        <name>TSetInputFrameCount</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="5681" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="5681" bodyend="-1"/>
      </memberdef>
      <memberdef kind="typedef" id="pa__win__wdmks_8c_1aa61cecfbd8805d72ee3d84e504c3c833" prot="public" static="no">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref>(*</type>
        <definition>typedef void(* TSetInputChannel) (PaUtilBufferProcessor *, unsigned int, void *, unsigned int)</definition>
        <argsstring>)(PaUtilBufferProcessor *, unsigned int, void *, unsigned int)</argsstring>
        <name>TSetInputChannel</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="5682" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="5682" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="var">
      <memberdef kind="variable" id="pa__win__wdmks_8c_1a899ecd269a5995deeb6433a13297e6e7" prot="public" static="no" mutable="no">
        <type>HMODULE</type>
        <definition>HMODULE DllKsUser</definition>
        <argsstring></argsstring>
        <name>DllKsUser</name>
        <initializer>= <ref refid="px__mixer_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref></initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="200" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="437" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="pa__win__wdmks_8c_1a6d5e1e7c5625b65ea3efb5169e7320ac" prot="public" static="no" mutable="no">
        <type><ref refid="pa__win__wdmks_8c_1a055163a2257c29ab3084cd304d1ffb92" kindref="member">KSCREATEPIN</ref> *</type>
        <definition>KSCREATEPIN * FunctionKsCreatePin</definition>
        <argsstring></argsstring>
        <name>FunctionKsCreatePin</name>
        <initializer>= <ref refid="px__mixer_8h_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref></initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="201" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="438" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="pa__win__wdmks_8c_1abf792f83c3394ad3c05a32d9f4bea2e3" prot="public" static="yes" mutable="no">
        <type><ref refid="struct_pa_win_w_d_m_k_s_av_rt_entry_points" kindref="compound">PaWinWDMKSAvRtEntryPoints</ref></type>
        <definition>PaWinWDMKSAvRtEntryPoints paWinWDMKSAvRtEntryPoints</definition>
        <argsstring></argsstring>
        <name>paWinWDMKSAvRtEntryPoints</name>
        <initializer>= {0}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="221" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="221" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="pa__win__wdmks_8c_1af68c2eed109b45bf815ae01845a6998e" prot="public" static="yes" mutable="no">
        <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> unsigned</type>
        <definition>const unsigned cPacketsArrayMask</definition>
        <argsstring></argsstring>
        <name>cPacketsArrayMask</name>
        <initializer>= 3</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="435" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="435" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="pa__win__wdmks_8c_1a0a4ad799f75e7be72a8b5ce0bf6dafd2" prot="public" static="yes" mutable="no">
        <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="pa__win__wdmks_8c_1a5ab5100ea609d0ad5bf634112d7ada3d" kindref="member">PaUsbTerminalGUIDToName</ref></type>
        <definition>const PaUsbTerminalGUIDToName kNames[]</definition>
        <argsstring>[]</argsstring>
        <name>kNames</name>
        <initializer>=
{
    
    
    { 0x0201, L&quot;Microphone&quot; },
    { 0x0202, L&quot;Desktop Microphone&quot; },
    { 0x0203, L&quot;Personal Microphone&quot; },
    { 0x0204, L&quot;Omni Directional Microphone&quot; },
    { 0x0205, L&quot;Microphone Array&quot; },
    { 0x0206, L&quot;Processing Microphone Array&quot; },
    
    { 0x0301, L&quot;Speakers&quot; },
    { 0x0302, L&quot;Headphones&quot; },
    { 0x0303, L&quot;Head Mounted Display Audio&quot; },
    { 0x0304, L&quot;Desktop Speaker&quot; },
    { 0x0305, L&quot;Room Speaker&quot; },
    { 0x0306, L&quot;Communication Speaker&quot; },
    { 0x0307, L&quot;LFE Speakers&quot; },
    
    { 0x0601, L&quot;Analog&quot; },
    { 0x0602, L&quot;Digital&quot; },
    { 0x0603, L&quot;Line&quot; },
    { 0x0604, L&quot;Audio&quot; },
    { 0x0605, L&quot;SPDIF&quot; },
}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="1187" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="1187" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="pa__win__wdmks_8c_1a02588b8066e34751f39e9246cbf54c30" prot="public" static="yes" mutable="no">
        <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> unsigned</type>
        <definition>const unsigned kNamesCnt</definition>
        <argsstring></argsstring>
        <name>kNamesCnt</name>
        <initializer>= sizeof(kNames)/sizeof(<ref refid="pa__win__wdmks_8c_1a5ab5100ea609d0ad5bf634112d7ada3d" kindref="member">PaUsbTerminalGUIDToName</ref>)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="1213" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="1213" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="pa__win__wdmks_8c_1a87c5f12260e1faaf430186fdd248b54c" prot="public" static="yes" mutable="no">
        <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
        <definition>const int defaultSampleRateSearchOrder[]</definition>
        <argsstring>[]</argsstring>
        <name>defaultSampleRateSearchOrder</name>
        <initializer>=
{ 44100, 48000, 88200, 96000, 192000, 32000, 24000, 22050, 16000, 12000, 11025, 9600, 8000 }</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="1290" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="1290" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="pa__win__wdmks_8c_1af6aecfb76ee39c95b5c43193430cbba8" prot="public" static="yes" mutable="no">
        <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
        <definition>const int defaultSampleRateSearchOrderCount</definition>
        <argsstring></argsstring>
        <name>defaultSampleRateSearchOrderCount</name>
        <initializer>= sizeof(defaultSampleRateSearchOrder)/sizeof(defaultSampleRateSearchOrder[0])</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="1292" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="1292" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="pa__win__wdmks_8c_1afad018429a58fc395a9e56e13c45f94b" prot="public" static="yes" mutable="no">
        <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> wchar_t</type>
        <definition>const wchar_t kUsbPrefix[]</definition>
        <argsstring>[]</argsstring>
        <name>kUsbPrefix</name>
        <initializer>= L&quot;\\\\?\\USB&quot;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="2999" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="2999" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="pa__win__wdmks_8c_1af2361006858083fcf3ea7b0ca0ef3a19" prot="public" static="yes" mutable="no">
        <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> wchar_t</type>
        <definition>const wchar_t kUsbNamePrefix[]</definition>
        <argsstring>[]</argsstring>
        <name>kUsbNamePrefix</name>
        <initializer>= L&quot;USB Audio&quot;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="3009" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="3009" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="pa__win__wdmks_8c_1a2de1dcf09d23154d33a50f310cb59d2d" prot="public" static="yes" mutable="no">
        <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="pa__win__wdmks_8c_1ada66fed498da9c7e21d12a239b65fb47" kindref="member">TSetInputFrameCount</ref></type>
        <definition>const TSetInputFrameCount fnSetInputFrameCount[2]</definition>
        <argsstring>[2]</argsstring>
        <name>fnSetInputFrameCount</name>
        <initializer>= { <ref refid="pa__process_8h_1a5201db0d922fac6e3b513bf8c4d59149" kindref="member">PaUtil_SetInputFrameCount</ref>, <ref refid="pa__process_8h_1a469724724e74e5e1a8ea97f98f2d76bd" kindref="member">PaUtil_Set2ndInputFrameCount</ref> }</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="5683" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="5683" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="pa__win__wdmks_8c_1a0cf5e87d279bb151e0ed16fc196864cb" prot="public" static="yes" mutable="no">
        <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="pa__win__wdmks_8c_1aa61cecfbd8805d72ee3d84e504c3c833" kindref="member">TSetInputChannel</ref></type>
        <definition>const TSetInputChannel fnSetInputChannel[2]</definition>
        <argsstring>[2]</argsstring>
        <name>fnSetInputChannel</name>
        <initializer>= { <ref refid="pa__process_8h_1a98b89245c209d2a0b367ed8d82bde5ca" kindref="member">PaUtil_SetInputChannel</ref>, <ref refid="pa__process_8h_1a89d233c8e934e1495f4b40d6baf2c8c9" kindref="member">PaUtil_Set2ndInputChannel</ref> }</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="5684" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="5684" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="pa__win__wdmks_8c_1a69eb4c041d72171b7053264130e50a46" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>PaError PaWinWdm_Initialize</definition>
        <argsstring>(PaUtilHostApiRepresentation **hostApi, PaHostApiIndex index)</argsstring>
        <name>PaWinWdm_Initialize</name>
        <param>
          <type><ref refid="struct_pa_util_host_api_representation" kindref="compound">PaUtilHostApiRepresentation</ref> **</type>
          <declname>hostApi</declname>
        </param>
        <param>
          <type><ref refid="portaudio_8h_1aeef6da084c57c70aa94be97411e19930" kindref="member">PaHostApiIndex</ref></type>
          <declname>index</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="447" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="3778" bodyend="3880"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a4f20cf4b313a27677d269c673732bdbb" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError WdmSyncIoctl</definition>
        <argsstring>(HANDLE handle, unsigned long ioctlNumber, void *inBuffer, unsigned long inBufferCount, void *outBuffer, unsigned long outBufferCount, unsigned long *bytesReturned)</argsstring>
        <name>WdmSyncIoctl</name>
        <param>
          <type><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref></type>
          <declname>handle</declname>
        </param>
        <param>
          <type>unsigned long</type>
          <declname>ioctlNumber</declname>
        </param>
        <param>
          <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref> *</type>
          <declname>inBuffer</declname>
        </param>
        <param>
          <type>unsigned long</type>
          <declname>inBufferCount</declname>
        </param>
        <param>
          <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref> *</type>
          <declname>outBuffer</declname>
        </param>
        <param>
          <type>unsigned long</type>
          <declname>outBufferCount</declname>
        </param>
        <param>
          <type>unsigned long *</type>
          <declname>bytesReturned</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="454" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="707" bodyend="749"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1aa1f5c36ba97813a63b02ede1bb4831a9" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError WdmGetPropertySimple</definition>
        <argsstring>(HANDLE handle, const GUID *const guidPropertySet, unsigned long property, void *value, unsigned long valueCount)</argsstring>
        <name>WdmGetPropertySimple</name>
        <param>
          <type><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref></type>
          <declname>handle</declname>
        </param>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> GUID *<ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref></type>
          <declname>guidPropertySet</declname>
        </param>
        <param>
          <type>unsigned long</type>
          <declname>property</declname>
        </param>
        <param>
          <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref> *</type>
          <declname>value</declname>
        </param>
        <param>
          <type>unsigned long</type>
          <declname>valueCount</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="462" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="751" bodyend="774"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a2f7afd4587c909023ac4165e6aba572f" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError WdmSetPropertySimple</definition>
        <argsstring>(HANDLE handle, const GUID *const guidPropertySet, unsigned long property, void *value, unsigned long valueCount, void *instance, unsigned long instanceCount)</argsstring>
        <name>WdmSetPropertySimple</name>
        <param>
          <type><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref></type>
          <declname>handle</declname>
        </param>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> GUID *<ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref></type>
          <declname>guidPropertySet</declname>
        </param>
        <param>
          <type>unsigned long</type>
          <declname>property</declname>
        </param>
        <param>
          <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref> *</type>
          <declname>value</declname>
        </param>
        <param>
          <type>unsigned long</type>
          <declname>valueCount</declname>
        </param>
        <param>
          <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref> *</type>
          <declname>instance</declname>
        </param>
        <param>
          <type>unsigned long</type>
          <declname>instanceCount</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="468" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="776" bodyend="815"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a9ade0135cd7bd9c7172135e87947ea5b" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError WdmGetPinPropertySimple</definition>
        <argsstring>(HANDLE handle, unsigned long pinId, const GUID *const guidPropertySet, unsigned long property, void *value, unsigned long valueCount, unsigned long *byteCount)</argsstring>
        <name>WdmGetPinPropertySimple</name>
        <param>
          <type><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref></type>
          <declname>handle</declname>
        </param>
        <param>
          <type>unsigned long</type>
          <declname>pinId</declname>
        </param>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> GUID *<ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref></type>
          <declname>guidPropertySet</declname>
        </param>
        <param>
          <type>unsigned long</type>
          <declname>property</declname>
        </param>
        <param>
          <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref> *</type>
          <declname>value</declname>
        </param>
        <param>
          <type>unsigned long</type>
          <declname>valueCount</declname>
        </param>
        <param>
          <type>unsigned long *</type>
          <declname>byteCount</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="476" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="817" bodyend="845"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a014c17c593dc6a363649299906bfaf2e" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError WdmGetPinPropertyMulti</definition>
        <argsstring>(HANDLE handle, unsigned long pinId, const GUID *const guidPropertySet, unsigned long property, KSMULTIPLE_ITEM **ksMultipleItem)</argsstring>
        <name>WdmGetPinPropertyMulti</name>
        <param>
          <type><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref></type>
          <declname>handle</declname>
        </param>
        <param>
          <type>unsigned long</type>
          <declname>pinId</declname>
        </param>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> GUID *<ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref></type>
          <declname>guidPropertySet</declname>
        </param>
        <param>
          <type>unsigned long</type>
          <declname>property</declname>
        </param>
        <param>
          <type><ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m" kindref="compound">KSMULTIPLE_ITEM</ref> **</type>
          <declname>ksMultipleItem</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="484" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="847" bodyend="898"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1ad7244cf5bff8b80c8f1dbb21f6afe174" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError WdmGetPropertyMulti</definition>
        <argsstring>(HANDLE handle, const GUID *const guidPropertySet, unsigned long property, KSMULTIPLE_ITEM **ksMultipleItem)</argsstring>
        <name>WdmGetPropertyMulti</name>
        <param>
          <type><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref></type>
          <declname>handle</declname>
        </param>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> GUID *<ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref></type>
          <declname>guidPropertySet</declname>
        </param>
        <param>
          <type>unsigned long</type>
          <declname>property</declname>
        </param>
        <param>
          <type><ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m" kindref="compound">KSMULTIPLE_ITEM</ref> **</type>
          <declname>ksMultipleItem</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="490" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="900" bodyend="947"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a379ac130ef886bbcde78ce65215ae8b6" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError WdmSetMuxNodeProperty</definition>
        <argsstring>(HANDLE handle, ULONG nodeId, ULONG pinId)</argsstring>
        <name>WdmSetMuxNodeProperty</name>
        <param>
          <type><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref></type>
          <declname>handle</declname>
        </param>
        <param>
          <type>ULONG</type>
          <declname>nodeId</declname>
        </param>
        <param>
          <type>ULONG</type>
          <declname>pinId</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="495" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="949" bodyend="964"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1ae7fcad4b462eee43c4b4bba1c70c0cff" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="pa__win__wdmks_8c_1a1b9a07297c7f8093f59fc4b333c9ba68" kindref="member">PaWinWdmPin</ref> *</type>
        <definition>static PaWinWdmPin * PinNew</definition>
        <argsstring>(PaWinWdmFilter *parentFilter, unsigned long pinId, PaError *error)</argsstring>
        <name>PinNew</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1add25dc7e76c77419d4520c774371efe4" kindref="member">PaWinWdmFilter</ref> *</type>
          <declname>parentFilter</declname>
        </param>
        <param>
          <type>unsigned long</type>
          <declname>pinId</declname>
        </param>
        <param>
          <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref> *</type>
          <declname>error</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Pin management functions </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="501" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="1316" bodyend="2018"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a1e57cc99128b7869589a10ed7a023685" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>static void PinFree</definition>
        <argsstring>(PaWinWdmPin *pin)</argsstring>
        <name>PinFree</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1a1b9a07297c7f8093f59fc4b333c9ba68" kindref="member">PaWinWdmPin</ref> *</type>
          <declname>pin</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="502" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="2023" bodyend="2049"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a834283b199442cf3ab8cdc044f182dc9" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>static void PinClose</definition>
        <argsstring>(PaWinWdmPin *pin)</argsstring>
        <name>PinClose</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1a1b9a07297c7f8093f59fc4b333c9ba68" kindref="member">PaWinWdmPin</ref> *</type>
          <declname>pin</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="503" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="2054" bodyend="2072"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a9014c97a05454309e914c652867ebe54" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError PinInstantiate</definition>
        <argsstring>(PaWinWdmPin *pin)</argsstring>
        <name>PinInstantiate</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1a1b9a07297c7f8093f59fc4b333c9ba68" kindref="member">PaWinWdmPin</ref> *</type>
          <declname>pin</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="504" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="2098" bodyend="2172"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a7f26166c28e68017917f11f3c7fe3128" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError PinSetState</definition>
        <argsstring>(PaWinWdmPin *pin, KSSTATE state)</argsstring>
        <name>PinSetState</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1a1b9a07297c7f8093f59fc4b333c9ba68" kindref="member">PaWinWdmPin</ref> *</type>
          <declname>pin</declname>
        </param>
        <param>
          <type><ref refid="ks_8h_1a4f0d9baddd3d96a7541645f20c7e28d7" kindref="member">KSSTATE</ref></type>
          <declname>state</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="506" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="2077" bodyend="2096"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1aa819b5c7bec98a384c1fd35b478e42f6" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError PinSetFormat</definition>
        <argsstring>(PaWinWdmPin *pin, const WAVEFORMATEX *format)</argsstring>
        <name>PinSetFormat</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1a1b9a07297c7f8093f59fc4b333c9ba68" kindref="member">PaWinWdmPin</ref> *</type>
          <declname>pin</declname>
        </param>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> WAVEFORMATEX *</type>
          <declname>format</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="507" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="2174" bodyend="2207"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a73b086dd6efbf89c599a915de33777c0" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError PinIsFormatSupported</definition>
        <argsstring>(PaWinWdmPin *pin, const WAVEFORMATEX *format)</argsstring>
        <name>PinIsFormatSupported</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1a1b9a07297c7f8093f59fc4b333c9ba68" kindref="member">PaWinWdmPin</ref> *</type>
          <declname>pin</declname>
        </param>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> WAVEFORMATEX *</type>
          <declname>format</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="508" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="2209" bodyend="2294"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a4e883b7cdef57de609110528ec59f68c" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError PinQueryNotificationSupport</definition>
        <argsstring>(PaWinWdmPin *pPin, BOOL *pbResult)</argsstring>
        <name>PinQueryNotificationSupport</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1a1b9a07297c7f8093f59fc4b333c9ba68" kindref="member">PaWinWdmPin</ref> *</type>
          <declname>pPin</declname>
        </param>
        <param>
          <type><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref> *</type>
          <declname>pbResult</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="510" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="2296" bodyend="2321"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a78e66e8bd92b5110193ae775e299872d" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError PinGetBuffer</definition>
        <argsstring>(PaWinWdmPin *pPin, void **pBuffer, DWORD *pRequestedBufSize, BOOL *pbCallMemBarrier)</argsstring>
        <name>PinGetBuffer</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1a1b9a07297c7f8093f59fc4b333c9ba68" kindref="member">PaWinWdmPin</ref> *</type>
          <declname>pPin</declname>
        </param>
        <param>
          <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref> **</type>
          <declname>pBuffer</declname>
        </param>
        <param>
          <type><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref> *</type>
          <declname>pRequestedBufSize</declname>
        </param>
        <param>
          <type><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref> *</type>
          <declname>pbCallMemBarrier</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="511" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="2407" bodyend="2466"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a834033f048cbdaa8bb70cd4056934db2" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError PinRegisterPositionRegister</definition>
        <argsstring>(PaWinWdmPin *pPin)</argsstring>
        <name>PinRegisterPositionRegister</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1a1b9a07297c7f8093f59fc4b333c9ba68" kindref="member">PaWinWdmPin</ref> *</type>
          <declname>pPin</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="512" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="2468" bodyend="2500"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a2d79953c51b196eafdbb87804a1dca30" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError PinRegisterNotificationHandle</definition>
        <argsstring>(PaWinWdmPin *pPin, HANDLE handle)</argsstring>
        <name>PinRegisterNotificationHandle</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1a1b9a07297c7f8093f59fc4b333c9ba68" kindref="member">PaWinWdmPin</ref> *</type>
          <declname>pPin</declname>
        </param>
        <param>
          <type><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref></type>
          <declname>handle</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="513" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="2502" bodyend="2529"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1ace1a3cc6059c92831fb3964279257d8f" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError PinUnregisterNotificationHandle</definition>
        <argsstring>(PaWinWdmPin *pPin, HANDLE handle)</argsstring>
        <name>PinUnregisterNotificationHandle</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1a1b9a07297c7f8093f59fc4b333c9ba68" kindref="member">PaWinWdmPin</ref> *</type>
          <declname>pPin</declname>
        </param>
        <param>
          <type><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref></type>
          <declname>handle</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="514" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="2531" bodyend="2560"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1abb7aee20564d385156d70501d11615de" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError PinGetHwLatency</definition>
        <argsstring>(PaWinWdmPin *pPin, ULONG *pFifoSize, ULONG *pChipsetDelay, ULONG *pCodecDelay)</argsstring>
        <name>PinGetHwLatency</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1a1b9a07297c7f8093f59fc4b333c9ba68" kindref="member">PaWinWdmPin</ref> *</type>
          <declname>pPin</declname>
        </param>
        <param>
          <type>ULONG *</type>
          <declname>pFifoSize</declname>
        </param>
        <param>
          <type>ULONG *</type>
          <declname>pChipsetDelay</declname>
        </param>
        <param>
          <type>ULONG *</type>
          <declname>pCodecDelay</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="515" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="2562" bodyend="2595"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a8b44a0080115c2dafe6acd791ccd258d" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError PinGetAudioPositionMemoryMapped</definition>
        <argsstring>(PaWinWdmPin *pPin, ULONG *pPosition)</argsstring>
        <name>PinGetAudioPositionMemoryMapped</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1a1b9a07297c7f8093f59fc4b333c9ba68" kindref="member">PaWinWdmPin</ref> *</type>
          <declname>pPin</declname>
        </param>
        <param>
          <type>ULONG *</type>
          <declname>pPosition</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="516" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="2598" bodyend="2602"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1abd5e857ec185128ce72be32e06772389" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError PinGetAudioPositionViaIOCTLRead</definition>
        <argsstring>(PaWinWdmPin *pPin, ULONG *pPosition)</argsstring>
        <name>PinGetAudioPositionViaIOCTLRead</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1a1b9a07297c7f8093f59fc4b333c9ba68" kindref="member">PaWinWdmPin</ref> *</type>
          <declname>pPin</declname>
        </param>
        <param>
          <type>ULONG *</type>
          <declname>pPosition</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="517" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="2605" bodyend="2636"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1acf754e285e533e08ad6c183589552db8" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError PinGetAudioPositionViaIOCTLWrite</definition>
        <argsstring>(PaWinWdmPin *pPin, ULONG *pPosition)</argsstring>
        <name>PinGetAudioPositionViaIOCTLWrite</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1a1b9a07297c7f8093f59fc4b333c9ba68" kindref="member">PaWinWdmPin</ref> *</type>
          <declname>pPin</declname>
        </param>
        <param>
          <type>ULONG *</type>
          <declname>pPosition</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="518" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="2639" bodyend="2670"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a73e32dc10ec99aefbb9aae1e0e032a89" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="pa__win__wdmks_8c_1add25dc7e76c77419d4520c774371efe4" kindref="member">PaWinWdmFilter</ref> *</type>
        <definition>static PaWinWdmFilter * FilterNew</definition>
        <argsstring>(PaWDMKSType type, DWORD devNode, const wchar_t *filterName, const wchar_t *friendlyName, PaError *error)</argsstring>
        <name>FilterNew</name>
        <param>
          <type><ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8" kindref="member">PaWDMKSType</ref></type>
          <declname>type</declname>
        </param>
        <param>
          <type><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref></type>
          <declname>devNode</declname>
        </param>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> wchar_t *</type>
          <declname>filterName</declname>
        </param>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> wchar_t *</type>
          <declname>friendlyName</declname>
        </param>
        <param>
          <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref> *</type>
          <declname>error</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Create a new filter object. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="521" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="2677" bodyend="2795"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a1585a7908d804e46e5f3944e25e10cd2" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>PaError FilterInitializePins</definition>
        <argsstring>(PaWinWdmFilter *filter)</argsstring>
        <name>FilterInitializePins</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1add25dc7e76c77419d4520c774371efe4" kindref="member">PaWinWdmFilter</ref> *</type>
          <declname>filter</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Initialize the pins of the filter. This is separated from FilterNew because this might fail if there is another process using the pin(s). </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="522" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="2813" bodyend="2872"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1ac833c0f47072b6ad59da6fe3f8861524" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>static void FilterFree</definition>
        <argsstring>(PaWinWdmFilter *filter)</argsstring>
        <name>FilterFree</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1add25dc7e76c77419d4520c774371efe4" kindref="member">PaWinWdmFilter</ref> *</type>
          <declname>filter</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Free a previously created filter </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="523" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="2878" bodyend="2917"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a71e534103c5c93d8c75b99a5784cadd0" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>static void FilterAddRef</definition>
        <argsstring>(PaWinWdmFilter *filter)</argsstring>
        <name>FilterAddRef</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1add25dc7e76c77419d4520c774371efe4" kindref="member">PaWinWdmFilter</ref> *</type>
          <declname>filter</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Add reference to filter </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="524" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="2800" bodyend="2806"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a13084b05612561279b8c2d0335fb9738" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="pa__win__wdmks_8c_1a1b9a07297c7f8093f59fc4b333c9ba68" kindref="member">PaWinWdmPin</ref> *</type>
        <definition>static PaWinWdmPin * FilterCreatePin</definition>
        <argsstring>(PaWinWdmFilter *filter, int pinId, const WAVEFORMATEX *wfex, PaError *error)</argsstring>
        <name>FilterCreatePin</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1add25dc7e76c77419d4520c774371efe4" kindref="member">PaWinWdmFilter</ref> *</type>
          <declname>filter</declname>
        </param>
        <param>
          <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
          <declname>pinId</declname>
        </param>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> WAVEFORMATEX *</type>
          <declname>wfex</declname>
        </param>
        <param>
          <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref> *</type>
          <declname>error</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Create a render or playback pin using the supplied format </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="525" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="2979" bodyend="2997"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a4039aba1b6a5194657a9ab496064d43a" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError FilterUse</definition>
        <argsstring>(PaWinWdmFilter *filter)</argsstring>
        <name>FilterUse</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1add25dc7e76c77419d4520c774371efe4" kindref="member">PaWinWdmFilter</ref> *</type>
          <declname>filter</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Reopen the filter handle if necessary so it can be used </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="530" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="2922" bodyend="2947"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1af43fa161fc5e8e3834df98b79fd075b2" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>static void FilterRelease</definition>
        <argsstring>(PaWinWdmFilter *filter)</argsstring>
        <name>FilterRelease</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1add25dc7e76c77419d4520c774371efe4" kindref="member">PaWinWdmFilter</ref> *</type>
          <declname>filter</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Release the filter handle if nobody is using it </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="531" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="2952" bodyend="2974"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a6b381ae0d666c3654e43c2f933c13f8f" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref></type>
        <definition>static BOOL IsDeviceTheSame</definition>
        <argsstring>(const PaWinWdmDeviceInfo *pDev1, const PaWinWdmDeviceInfo *pDev2)</argsstring>
        <name>IsDeviceTheSame</name>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="pa__win__wdmks_8c_1a0e4201b3428d9f404a25c14fac68d820" kindref="member">PaWinWdmDeviceInfo</ref> *</type>
          <declname>pDev1</declname>
        </param>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="pa__win__wdmks_8c_1a0e4201b3428d9f404a25c14fac68d820" kindref="member">PaWinWdmDeviceInfo</ref> *</type>
          <declname>pDev2</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="534" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="627" bodyend="640"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1aceda435bfe9c0d0959dcd41043016c6c" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>static void Terminate</definition>
        <argsstring>(struct PaUtilHostApiRepresentation *hostApi)</argsstring>
        <name>Terminate</name>
        <param>
          <type>struct <ref refid="struct_pa_util_host_api_representation" kindref="compound">PaUtilHostApiRepresentation</ref> *</type>
          <declname>hostApi</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="538" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="3883" bodyend="3916"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1addd36fca55daaf757e041555254b05e3" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError IsFormatSupported</definition>
        <argsstring>(struct PaUtilHostApiRepresentation *hostApi, const PaStreamParameters *inputParameters, const PaStreamParameters *outputParameters, double sampleRate)</argsstring>
        <name>IsFormatSupported</name>
        <param>
          <type>struct <ref refid="struct_pa_util_host_api_representation" kindref="compound">PaUtilHostApiRepresentation</ref> *</type>
          <declname>hostApi</declname>
        </param>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="struct_pa_stream_parameters" kindref="compound">PaStreamParameters</ref> *</type>
          <declname>inputParameters</declname>
        </param>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="struct_pa_stream_parameters" kindref="compound">PaStreamParameters</ref> *</type>
          <declname>outputParameters</declname>
        </param>
        <param>
          <type>double</type>
          <declname>sampleRate</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="539" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="3918" bodyend="4185"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a1d6ffccf4e84b3ab50684c00378af959" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError ScanDeviceInfos</definition>
        <argsstring>(struct PaUtilHostApiRepresentation *hostApi, PaHostApiIndex index, void **newDeviceInfos, int *newDeviceCount)</argsstring>
        <name>ScanDeviceInfos</name>
        <param>
          <type>struct <ref refid="struct_pa_util_host_api_representation" kindref="compound">PaUtilHostApiRepresentation</ref> *</type>
          <declname>hostApi</declname>
        </param>
        <param>
          <type><ref refid="portaudio_8h_1aeef6da084c57c70aa94be97411e19930" kindref="member">PaHostApiIndex</ref></type>
          <declname>index</declname>
        </param>
        <param>
          <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref> **</type>
          <declname>newDeviceInfos</declname>
        </param>
        <param>
          <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref> *</type>
          <declname>newDeviceCount</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="545" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="3445" bodyend="3703"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a1846769fd6b0ebb92d70f08884f3d526" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError CommitDeviceInfos</definition>
        <argsstring>(struct PaUtilHostApiRepresentation *hostApi, PaHostApiIndex index, void *deviceInfos, int deviceCount)</argsstring>
        <name>CommitDeviceInfos</name>
        <param>
          <type>struct <ref refid="struct_pa_util_host_api_representation" kindref="compound">PaUtilHostApiRepresentation</ref> *</type>
          <declname>hostApi</declname>
        </param>
        <param>
          <type><ref refid="portaudio_8h_1aeef6da084c57c70aa94be97411e19930" kindref="member">PaHostApiIndex</ref></type>
          <declname>index</declname>
        </param>
        <param>
          <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref> *</type>
          <declname>deviceInfos</declname>
        </param>
        <param>
          <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
          <declname>deviceCount</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="546" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="3705" bodyend="3745"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a2507ed37d24df440043365e41f495690" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError DisposeDeviceInfos</definition>
        <argsstring>(struct PaUtilHostApiRepresentation *hostApi, void *deviceInfos, int deviceCount)</argsstring>
        <name>DisposeDeviceInfos</name>
        <param>
          <type>struct <ref refid="struct_pa_util_host_api_representation" kindref="compound">PaUtilHostApiRepresentation</ref> *</type>
          <declname>hostApi</declname>
        </param>
        <param>
          <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref> *</type>
          <declname>deviceInfos</declname>
        </param>
        <param>
          <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
          <declname>deviceCount</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="547" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="3747" bodyend="3776"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1ac43ea176a845c04786718d19a88b9455" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError OpenStream</definition>
        <argsstring>(struct PaUtilHostApiRepresentation *hostApi, PaStream **s, const PaStreamParameters *inputParameters, const PaStreamParameters *outputParameters, double sampleRate, unsigned long framesPerBuffer, PaStreamFlags streamFlags, PaStreamCallback *streamCallback, void *userData)</argsstring>
        <name>OpenStream</name>
        <param>
          <type>struct <ref refid="struct_pa_util_host_api_representation" kindref="compound">PaUtilHostApiRepresentation</ref> *</type>
          <declname>hostApi</declname>
        </param>
        <param>
          <type><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref> **</type>
          <declname>s</declname>
        </param>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="struct_pa_stream_parameters" kindref="compound">PaStreamParameters</ref> *</type>
          <declname>inputParameters</declname>
        </param>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="struct_pa_stream_parameters" kindref="compound">PaStreamParameters</ref> *</type>
          <declname>outputParameters</declname>
        </param>
        <param>
          <type>double</type>
          <declname>sampleRate</declname>
        </param>
        <param>
          <type>unsigned long</type>
          <declname>framesPerBuffer</declname>
        </param>
        <param>
          <type><ref refid="portaudio_8h_1a37c7ac3ace7d2dd1430f40ecdee4ebb6" kindref="member">PaStreamFlags</ref></type>
          <declname>streamFlags</declname>
        </param>
        <param>
          <type><ref refid="portaudio_8h_1a8a60fb2a5ec9cbade3f54a9c978e2710" kindref="member">PaStreamCallback</ref> *</type>
          <declname>streamCallback</declname>
        </param>
        <param>
          <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref> *</type>
          <declname>userData</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="549" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="4315" bodyend="5330"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a6684024dfdc36122d40cf7adae0e4322" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError CloseStream</definition>
        <argsstring>(PaStream *stream)</argsstring>
        <name>CloseStream</name>
        <param>
          <type><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref> *</type>
          <declname>stream</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="559" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="5336" bodyend="5380"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1afa58dcb70fc29aa4c667d6d07b748f6e" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError StartStream</definition>
        <argsstring>(PaStream *stream)</argsstring>
        <name>StartStream</name>
        <param>
          <type><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref> *</type>
          <declname>stream</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="560" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="6206" bodyend="6266"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a39e942c55c24e34c3796d29d61889370" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError StopStream</definition>
        <argsstring>(PaStream *stream)</argsstring>
        <name>StopStream</name>
        <param>
          <type><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref> *</type>
          <declname>stream</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="561" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="6269" bodyend="6327"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a28c623db69cda01e15f064fd2bf84f0f" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError AbortStream</definition>
        <argsstring>(PaStream *stream)</argsstring>
        <name>AbortStream</name>
        <param>
          <type><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref> *</type>
          <declname>stream</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="562" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="6329" bodyend="6369"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1aa9f1516c5edd9ea34b8e150f662f8f4e" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError IsStreamStopped</definition>
        <argsstring>(PaStream *s)</argsstring>
        <name>IsStreamStopped</name>
        <param>
          <type><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref> *</type>
          <declname>s</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="563" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="6372" bodyend="6384"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a4f3f06c27a57b78bf59b603f30b6b466" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError IsStreamActive</definition>
        <argsstring>(PaStream *stream)</argsstring>
        <name>IsStreamActive</name>
        <param>
          <type><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref> *</type>
          <declname>stream</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="564" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="6387" bodyend="6399"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1ab41ee17db1430b9bb3957324f6ac20f1" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1af17a7e6d0471a23071acf8dbd7bbe4bd" kindref="member">PaTime</ref></type>
        <definition>static PaTime GetStreamTime</definition>
        <argsstring>(PaStream *stream)</argsstring>
        <name>GetStreamTime</name>
        <param>
          <type><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref> *</type>
          <declname>stream</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="565" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="6402" bodyend="6408"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a3877d53c30b8b20f35f362ef07b998cd" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>double</type>
        <definition>static double GetStreamCpuLoad</definition>
        <argsstring>(PaStream *stream)</argsstring>
        <name>GetStreamCpuLoad</name>
        <param>
          <type><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref> *</type>
          <declname>stream</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="566" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="6411" bodyend="6419"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a9e7f111c33d1e80f40473846864e84fa" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError ReadStream</definition>
        <argsstring>(PaStream *stream, void *buffer, unsigned long frames)</argsstring>
        <name>ReadStream</name>
        <param>
          <type><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref> *</type>
          <declname>stream</declname>
        </param>
        <param>
          <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref> *</type>
          <declname>buffer</declname>
        </param>
        <param>
          <type>unsigned long</type>
          <declname>frames</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="567" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="6428" bodyend="6444"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a0cfb7772846808945bd521d23d5626eb" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError WriteStream</definition>
        <argsstring>(PaStream *stream, const void *buffer, unsigned long frames)</argsstring>
        <name>WriteStream</name>
        <param>
          <type><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref> *</type>
          <declname>stream</declname>
        </param>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref> *</type>
          <declname>buffer</declname>
        </param>
        <param>
          <type>unsigned long</type>
          <declname>frames</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="571" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="6447" bodyend="6463"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a82aa1e30985c7924247e8f45fc356d46" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>signed long</type>
        <definition>static signed long GetStreamReadAvailable</definition>
        <argsstring>(PaStream *stream)</argsstring>
        <name>GetStreamReadAvailable</name>
        <param>
          <type><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref> *</type>
          <declname>stream</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="575" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="6466" bodyend="6478"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1ad7ee6bd74b3109101f1eb4ca0514c8b0" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>signed long</type>
        <definition>static signed long GetStreamWriteAvailable</definition>
        <argsstring>(PaStream *stream)</argsstring>
        <name>GetStreamWriteAvailable</name>
        <param>
          <type><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref> *</type>
          <declname>stream</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="576" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="6481" bodyend="6492"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1af1f937f07ca620e1b5a95d594a971f8e" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>unsigned long</type>
        <definition>static unsigned long GetWfexSize</definition>
        <argsstring>(const WAVEFORMATEX *wfex)</argsstring>
        <name>GetWfexSize</name>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> WAVEFORMATEX *</type>
          <declname>wfex</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="579" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="682" bodyend="692"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a9ce2ba5d32af8b39020af0ae00af2633" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="pa__win__wdmks_8c_1add25dc7e76c77419d4520c774371efe4" kindref="member">PaWinWdmFilter</ref> **</type>
        <definition>PaWinWdmFilter ** BuildFilterList</definition>
        <argsstring>(int *filterCount, int *noOfPaDevices, PaError *result)</argsstring>
        <name>BuildFilterList</name>
        <param>
          <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref> *</type>
          <declname>filterCount</declname>
          <defname>pFilterCount</defname>
        </param>
        <param>
          <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref> *</type>
          <declname>noOfPaDevices</declname>
          <defname>pNoOfPaDevices</defname>
        </param>
        <param>
          <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref> *</type>
          <declname>result</declname>
          <defname>pResult</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Build the list of available filters Use the SetupDi API to enumerate all devices in the KSCATEGORY_AUDIO which have a KSCATEGORY_RENDER or KSCATEGORY_CAPTURE alias. For each of these devices initialise a PaWinWdmFilter structure by calling our NewFilter() function. We enumerate devices twice, once to count how many there are, and once to initialize the PaWinWdmFilter structures.</para><para>Vista and later: Also check KSCATEGORY_REALTIME for WaveRT devices. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="580" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="3053" bodyend="3308"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1ab6c1206933925d5b207beee9d5626e42" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref></type>
        <definition>static PaError PinWrite</definition>
        <argsstring>(HANDLE h, DATAPACKET *p)</argsstring>
        <name>PinWrite</name>
        <param>
          <type><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref></type>
          <declname>h</declname>
        </param>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1a6d1fcd4c734c4938cadbb326520d2026" kindref="member">DATAPACKET</ref> *</type>
          <declname>p</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="581" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="5387" bodyend="5408"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a956babbef072b8fa7890b0b7a79e40bb" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref></type>
        <definition>static PaError PinRead</definition>
        <argsstring>(HANDLE h, DATAPACKET *p)</argsstring>
        <name>PinRead</name>
        <param>
          <type><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref></type>
          <declname>h</declname>
        </param>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1a6d1fcd4c734c4938cadbb326520d2026" kindref="member">DATAPACKET</ref> *</type>
          <declname>p</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="582" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="5415" bodyend="5436"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a8943fbc60dc74738421cbb4936ac2a2f" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>static void DuplicateFirstChannelInt16</definition>
        <argsstring>(void *buffer, int channels, int samples)</argsstring>
        <name>DuplicateFirstChannelInt16</name>
        <param>
          <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref> *</type>
          <declname>buffer</declname>
        </param>
        <param>
          <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
          <declname>channels</declname>
        </param>
        <param>
          <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
          <declname>samples</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="583" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="5441" bodyend="5455"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a85bfdd296a2cdc0b6cbcb456b0485072" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>static void DuplicateFirstChannelInt24</definition>
        <argsstring>(void *buffer, int channels, int samples)</argsstring>
        <name>DuplicateFirstChannelInt24</name>
        <param>
          <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref> *</type>
          <declname>buffer</declname>
        </param>
        <param>
          <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
          <declname>channels</declname>
        </param>
        <param>
          <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
          <declname>samples</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="584" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="5460" bodyend="5480"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a7575d59c6ddcacfebfe2831e1743cff7" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="pa__win__wmme_8c_1ad744bd36cb3631b1dc11beb41dcc238c" kindref="member">PA_THREAD_FUNC</ref></type>
        <definition>PA_THREAD_FUNC ProcessingThread</definition>
        <argsstring>(void *)</argsstring>
        <name>ProcessingThread</name>
        <param>
          <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref> *</type>
          <defname>pParam</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="585" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="5867" bodyend="6203"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1ae796d2c43bbddf5a982ae132e9f7d9df" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError PaPinCaptureEventHandler_WaveCyclic</definition>
        <argsstring>(PaProcessThreadInfo *pInfo, unsigned eventIndex)</argsstring>
        <name>PaPinCaptureEventHandler_WaveCyclic</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1ac11d18d40d2d3d9de06b2bec09bc4d78" kindref="member">PaProcessThreadInfo</ref> *</type>
          <declname>pInfo</declname>
        </param>
        <param>
          <type>unsigned</type>
          <declname>eventIndex</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="588" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="6498" bodyend="6528"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1abbfcc1789dae2de043d738ea263aa9a9" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError PaPinCaptureSubmitHandler_WaveCyclic</definition>
        <argsstring>(PaProcessThreadInfo *pInfo, unsigned eventIndex)</argsstring>
        <name>PaPinCaptureSubmitHandler_WaveCyclic</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1ac11d18d40d2d3d9de06b2bec09bc4d78" kindref="member">PaProcessThreadInfo</ref> *</type>
          <declname>pInfo</declname>
        </param>
        <param>
          <type>unsigned</type>
          <declname>eventIndex</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="589" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="6530" bodyend="6542"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1abb4165e62e654bfc1d6dabcb87951c59" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError PaPinRenderEventHandler_WaveCyclic</definition>
        <argsstring>(PaProcessThreadInfo *pInfo, unsigned eventIndex)</argsstring>
        <name>PaPinRenderEventHandler_WaveCyclic</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1ac11d18d40d2d3d9de06b2bec09bc4d78" kindref="member">PaProcessThreadInfo</ref> *</type>
          <declname>pInfo</declname>
        </param>
        <param>
          <type>unsigned</type>
          <declname>eventIndex</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="591" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="6544" bodyend="6553"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1aaa7813ff0f7b00882d1a121faed8319b" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError PaPinRenderSubmitHandler_WaveCyclic</definition>
        <argsstring>(PaProcessThreadInfo *pInfo, unsigned eventIndex)</argsstring>
        <name>PaPinRenderSubmitHandler_WaveCyclic</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1ac11d18d40d2d3d9de06b2bec09bc4d78" kindref="member">PaProcessThreadInfo</ref> *</type>
          <declname>pInfo</declname>
        </param>
        <param>
          <type>unsigned</type>
          <declname>eventIndex</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="592" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="6555" bodyend="6572"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a097409ad89393dd7606c921384f0a26b" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError PaPinCaptureEventHandler_WaveRTEvent</definition>
        <argsstring>(PaProcessThreadInfo *pInfo, unsigned eventIndex)</argsstring>
        <name>PaPinCaptureEventHandler_WaveRTEvent</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1ac11d18d40d2d3d9de06b2bec09bc4d78" kindref="member">PaProcessThreadInfo</ref> *</type>
          <declname>pInfo</declname>
        </param>
        <param>
          <type>unsigned</type>
          <declname>eventIndex</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="594" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="6578" bodyend="6613"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a40acafdbc56b9e7c4228a8314eb290af" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError PaPinCaptureEventHandler_WaveRTPolled</definition>
        <argsstring>(PaProcessThreadInfo *pInfo, unsigned eventIndex)</argsstring>
        <name>PaPinCaptureEventHandler_WaveRTPolled</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1ac11d18d40d2d3d9de06b2bec09bc4d78" kindref="member">PaProcessThreadInfo</ref> *</type>
          <declname>pInfo</declname>
        </param>
        <param>
          <type>unsigned</type>
          <declname>eventIndex</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="595" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="6615" bodyend="6651"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a99c99b81de8372846202a0fd0f002a07" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError PaPinCaptureSubmitHandler_WaveRTEvent</definition>
        <argsstring>(PaProcessThreadInfo *pInfo, unsigned eventIndex)</argsstring>
        <name>PaPinCaptureSubmitHandler_WaveRTEvent</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1ac11d18d40d2d3d9de06b2bec09bc4d78" kindref="member">PaProcessThreadInfo</ref> *</type>
          <declname>pInfo</declname>
        </param>
        <param>
          <type>unsigned</type>
          <declname>eventIndex</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="596" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="6653" bodyend="6658"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a35afbd283ca239364d55de68249ab2e8" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError PaPinCaptureSubmitHandler_WaveRTPolled</definition>
        <argsstring>(PaProcessThreadInfo *pInfo, unsigned eventIndex)</argsstring>
        <name>PaPinCaptureSubmitHandler_WaveRTPolled</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1ac11d18d40d2d3d9de06b2bec09bc4d78" kindref="member">PaProcessThreadInfo</ref> *</type>
          <declname>pInfo</declname>
        </param>
        <param>
          <type>unsigned</type>
          <declname>eventIndex</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="597" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="6660" bodyend="6665"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a3941a68e53ad56a9d21a55ed86d9795e" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError PaPinRenderEventHandler_WaveRTEvent</definition>
        <argsstring>(PaProcessThreadInfo *pInfo, unsigned eventIndex)</argsstring>
        <name>PaPinRenderEventHandler_WaveRTEvent</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1ac11d18d40d2d3d9de06b2bec09bc4d78" kindref="member">PaProcessThreadInfo</ref> *</type>
          <declname>pInfo</declname>
        </param>
        <param>
          <type>unsigned</type>
          <declname>eventIndex</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="599" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="6667" bodyend="6700"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a9ae765fc224c80c793ad66d9c840c367" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError PaPinRenderEventHandler_WaveRTPolled</definition>
        <argsstring>(PaProcessThreadInfo *pInfo, unsigned eventIndex)</argsstring>
        <name>PaPinRenderEventHandler_WaveRTPolled</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1ac11d18d40d2d3d9de06b2bec09bc4d78" kindref="member">PaProcessThreadInfo</ref> *</type>
          <declname>pInfo</declname>
        </param>
        <param>
          <type>unsigned</type>
          <declname>eventIndex</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="600" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="6702" bodyend="6749"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a4d2bb99bb7ac1e4bd7d3ca5f51d1cd4d" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError PaPinRenderSubmitHandler_WaveRTEvent</definition>
        <argsstring>(PaProcessThreadInfo *pInfo, unsigned eventIndex)</argsstring>
        <name>PaPinRenderSubmitHandler_WaveRTEvent</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1ac11d18d40d2d3d9de06b2bec09bc4d78" kindref="member">PaProcessThreadInfo</ref> *</type>
          <declname>pInfo</declname>
        </param>
        <param>
          <type>unsigned</type>
          <declname>eventIndex</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="601" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="6751" bodyend="6769"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a6a22b8d3548d3daa5f17e9389b7dac77" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError PaPinRenderSubmitHandler_WaveRTPolled</definition>
        <argsstring>(PaProcessThreadInfo *pInfo, unsigned eventIndex)</argsstring>
        <name>PaPinRenderSubmitHandler_WaveRTPolled</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1ac11d18d40d2d3d9de06b2bec09bc4d78" kindref="member">PaProcessThreadInfo</ref> *</type>
          <declname>pInfo</declname>
        </param>
        <param>
          <type>unsigned</type>
          <declname>eventIndex</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="602" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="6771" bodyend="6789"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a29e70883c4c76b0e5387a65de53279a5" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref></type>
        <definition>static BOOL IsEarlierThanVista</definition>
        <argsstring>()</argsstring>
        <name>IsEarlierThanVista</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="642" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="642" bodyend="663"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a8616b9e473c6039faa2ff086f25da13c" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>static void MemoryBarrierDummy</definition>
        <argsstring>(void)</argsstring>
        <name>MemoryBarrierDummy</name>
        <param>
          <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="667" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="667" bodyend="670"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a2d3dd6f8d38059f94ed67fb8a562c938" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>static void MemoryBarrierRead</definition>
        <argsstring>(void)</argsstring>
        <name>MemoryBarrierRead</name>
        <param>
          <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="672" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="672" bodyend="675"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1ae558b5e2c8d6024b7291c0dd8c15db8c" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>static void MemoryBarrierWrite</definition>
        <argsstring>(void)</argsstring>
        <name>MemoryBarrierWrite</name>
        <param>
          <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="677" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="677" bodyend="680"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1ab27afb89fcfebca0a8d122e7067129cc" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>static void PaWinWDM_SetLastErrorInfo</definition>
        <argsstring>(long errCode, const char *fmt,...)</argsstring>
        <name>PaWinWDM_SetLastErrorInfo</name>
        <param>
          <type>long</type>
          <declname>errCode</declname>
        </param>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> char *</type>
          <declname>fmt</declname>
        </param>
        <param>
          <type>...</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="694" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="694" bodyend="702"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a41466aca8beac7ad9047dbb6cd02ae7a" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref> *</type>
        <definition>static const KSTOPOLOGY_CONNECTION* GetConnectionTo</definition>
        <argsstring>(const KSTOPOLOGY_CONNECTION *pFrom, PaWinWdmFilter *filter, int muxIdx)</argsstring>
        <name>GetConnectionTo</name>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref> *</type>
          <declname>pFrom</declname>
        </param>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1add25dc7e76c77419d4520c774371efe4" kindref="member">PaWinWdmFilter</ref> *</type>
          <declname>filter</declname>
        </param>
        <param>
          <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
          <declname>muxIdx</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="967" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="967" bodyend="988"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a076044a7d2d5a05ac82d869d9c8fc5b7" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref> *</type>
        <definition>static const KSTOPOLOGY_CONNECTION* GetConnectionFrom</definition>
        <argsstring>(const KSTOPOLOGY_CONNECTION *pTo, PaWinWdmFilter *filter, int muxIdx)</argsstring>
        <name>GetConnectionFrom</name>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref> *</type>
          <declname>pTo</declname>
        </param>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1add25dc7e76c77419d4520c774371efe4" kindref="member">PaWinWdmFilter</ref> *</type>
          <declname>filter</declname>
        </param>
        <param>
          <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
          <declname>muxIdx</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="991" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="991" bodyend="1020"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1ac5da20f67cc3d9502618cd55c27a56ea" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>ULONG</type>
        <definition>static ULONG GetNumberOfConnectionsTo</definition>
        <argsstring>(const KSTOPOLOGY_CONNECTION *pTo, PaWinWdmFilter *filter)</argsstring>
        <name>GetNumberOfConnectionsTo</name>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref> *</type>
          <declname>pTo</declname>
        </param>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1add25dc7e76c77419d4520c774371efe4" kindref="member">PaWinWdmFilter</ref> *</type>
          <declname>filter</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="1022" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="1022" bodyend="1039"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a9ee5b86dfb9e81cb29552a922c2f5367" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref> *</type>
        <definition>static const KSTOPOLOGY_CONNECTION* FindStartConnectionFrom</definition>
        <argsstring>(ULONG startPin, PaWinWdmFilter *filter)</argsstring>
        <name>FindStartConnectionFrom</name>
        <param>
          <type>ULONG</type>
          <declname>startPin</declname>
        </param>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1add25dc7e76c77419d4520c774371efe4" kindref="member">PaWinWdmFilter</ref> *</type>
          <declname>filter</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="1043" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="1043" bodyend="1061"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1aaa471af996ed78310c564fe386a7f52b" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref> *</type>
        <definition>static const KSTOPOLOGY_CONNECTION* FindStartConnectionTo</definition>
        <argsstring>(ULONG startPin, PaWinWdmFilter *filter)</argsstring>
        <name>FindStartConnectionTo</name>
        <param>
          <type>ULONG</type>
          <declname>startPin</declname>
        </param>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1add25dc7e76c77419d4520c774371efe4" kindref="member">PaWinWdmFilter</ref> *</type>
          <declname>filter</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="1063" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="1063" bodyend="1081"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a86c7c0655639a47c945fc8a51ec8a52b" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>ULONG</type>
        <definition>static ULONG GetConnectedPin</definition>
        <argsstring>(ULONG startPin, BOOL forward, PaWinWdmFilter *filter, int muxPosition, ULONG *muxInputPinId, ULONG *muxNodeId)</argsstring>
        <name>GetConnectedPin</name>
        <param>
          <type>ULONG</type>
          <declname>startPin</declname>
        </param>
        <param>
          <type><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref></type>
          <declname>forward</declname>
        </param>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1add25dc7e76c77419d4520c774371efe4" kindref="member">PaWinWdmFilter</ref> *</type>
          <declname>filter</declname>
        </param>
        <param>
          <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
          <declname>muxPosition</declname>
        </param>
        <param>
          <type>ULONG *</type>
          <declname>muxInputPinId</declname>
        </param>
        <param>
          <type>ULONG *</type>
          <declname>muxNodeId</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="1083" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="1083" bodyend="1144"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a5a1438868fcfadf3941a507994bc2922" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>static void DumpConnectionsAndNodes</definition>
        <argsstring>(PaWinWdmFilter *filter)</argsstring>
        <name>DumpConnectionsAndNodes</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1add25dc7e76c77419d4520c774371efe4" kindref="member">PaWinWdmFilter</ref> *</type>
          <declname>filter</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="1146" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="1146" bodyend="1179"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a66854bf2ff547f54c2e0aab705b2ccf7" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
        <definition>static int PaUsbTerminalGUIDToNameCmp</definition>
        <argsstring>(const void *lhs, const void *rhs)</argsstring>
        <name>PaUsbTerminalGUIDToNameCmp</name>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref> *</type>
          <declname>lhs</declname>
        </param>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref> *</type>
          <declname>rhs</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="1215" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="1215" bodyend="1220"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1ab01385b774f62ce40c25e5921b120e60" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError GetNameFromCategory</definition>
        <argsstring>(const GUID *pGUID, BOOL input, wchar_t *name, unsigned length)</argsstring>
        <name>GetNameFromCategory</name>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> GUID *</type>
          <declname>pGUID</declname>
        </param>
        <param>
          <type><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref></type>
          <declname>input</declname>
        </param>
        <param>
          <type>wchar_t *</type>
          <declname>name</declname>
        </param>
        <param>
          <type>unsigned</type>
          <declname>length</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="1222" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="1222" bodyend="1269"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a9abbc61f6d90ea469e88a9bc0e25bf7d" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref></type>
        <definition>static BOOL IsFrequencyWithinRange</definition>
        <argsstring>(const KSDATARANGE_AUDIO *range, int frequency)</argsstring>
        <name>IsFrequencyWithinRange</name>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o" kindref="compound">KSDATARANGE_AUDIO</ref> *</type>
          <declname>range</declname>
        </param>
        <param>
          <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
          <declname>frequency</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="1271" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="1271" bodyend="1278"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1ac83f1a7a1231d5e5fda48681047690d9" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref></type>
        <definition>static BOOL IsBitsWithinRange</definition>
        <argsstring>(const KSDATARANGE_AUDIO *range, int noOfBits)</argsstring>
        <name>IsBitsWithinRange</name>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o" kindref="compound">KSDATARANGE_AUDIO</ref> *</type>
          <declname>range</declname>
        </param>
        <param>
          <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
          <declname>noOfBits</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="1280" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="1280" bodyend="1287"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a3b19201306deea9827166f3fb3ffac99" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
        <definition>static int DefaultSampleFrequencyIndex</definition>
        <argsstring>(const KSDATARANGE_AUDIO *range)</argsstring>
        <name>DefaultSampleFrequencyIndex</name>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o" kindref="compound">KSDATARANGE_AUDIO</ref> *</type>
          <declname>range</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="1294" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="1294" bodyend="1309"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a5b79d5727268239c2d3788a0accc3704" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError PinGetBufferWithNotification</definition>
        <argsstring>(PaWinWdmPin *pPin, void **pBuffer, DWORD *pRequestedBufSize, BOOL *pbCallMemBarrier)</argsstring>
        <name>PinGetBufferWithNotification</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1a1b9a07297c7f8093f59fc4b333c9ba68" kindref="member">PaWinWdmPin</ref> *</type>
          <declname>pPin</declname>
        </param>
        <param>
          <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref> **</type>
          <declname>pBuffer</declname>
        </param>
        <param>
          <type><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref> *</type>
          <declname>pRequestedBufSize</declname>
        </param>
        <param>
          <type><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref> *</type>
          <declname>pbCallMemBarrier</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="2323" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="2323" bodyend="2358"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a9eecf00f335d60eb06e5ac1460b4ebf4" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError PinGetBufferWithoutNotification</definition>
        <argsstring>(PaWinWdmPin *pPin, void **pBuffer, DWORD *pRequestedBufSize, BOOL *pbCallMemBarrier)</argsstring>
        <name>PinGetBufferWithoutNotification</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1a1b9a07297c7f8093f59fc4b333c9ba68" kindref="member">PaWinWdmPin</ref> *</type>
          <declname>pPin</declname>
        </param>
        <param>
          <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref> **</type>
          <declname>pBuffer</declname>
        </param>
        <param>
          <type><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref> *</type>
          <declname>pRequestedBufSize</declname>
        </param>
        <param>
          <type><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref> *</type>
          <declname>pbCallMemBarrier</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="2360" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="2360" bodyend="2394"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a17b00cdf0959df0a1054b638ba642750" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>unsigned long</type>
        <definition>static unsigned long PaWinWDMGCD</definition>
        <argsstring>(unsigned long a, unsigned long b)</argsstring>
        <name>PaWinWDMGCD</name>
        <param>
          <type>unsigned long</type>
          <declname>a</declname>
        </param>
        <param>
          <type>unsigned long</type>
          <declname>b</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="2397" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="2397" bodyend="2400"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a9c919729c6a25099446c69d1a6b269e3" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref></type>
        <definition>static BOOL IsUSBDevice</definition>
        <argsstring>(const wchar_t *devicePath)</argsstring>
        <name>IsUSBDevice</name>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> wchar_t *</type>
          <declname>devicePath</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="3001" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="3001" bodyend="3006"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a6cfa16ad1eef39b1fc19037b65b2ba39" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref></type>
        <definition>static BOOL IsNameUSBAudioDevice</definition>
        <argsstring>(const wchar_t *friendlyName)</argsstring>
        <name>IsNameUSBAudioDevice</name>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> wchar_t *</type>
          <declname>friendlyName</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="3011" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="3011" bodyend="3014"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a02829eb38d85602d5412ca5a91a8ef0f" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>static void TrimString</definition>
        <argsstring>(wchar_t *str, size_t length)</argsstring>
        <name>TrimString</name>
        <param>
          <type>wchar_t *</type>
          <declname>str</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>length</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="3024" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="3024" bodyend="3040"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a268973ef267c70d6b57796e66b152005" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>ULONG</type>
        <definition>static ULONG GetNameHash</definition>
        <argsstring>(const wchar_t *str, const BOOL input)</argsstring>
        <name>GetNameHash</name>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> wchar_t *</type>
          <declname>str</declname>
        </param>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref></type>
          <declname>input</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="3324" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="3324" bodyend="3336"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1ab0505a14c002b7d96c5684fb99adca2d" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError CreateHashEntry</definition>
        <argsstring>(PaNameHashObject *obj, const wchar_t *name, const BOOL input)</argsstring>
        <name>CreateHashEntry</name>
        <param>
          <type><ref refid="struct_pa_name_hash_object" kindref="compound">PaNameHashObject</ref> *</type>
          <declname>obj</declname>
        </param>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> wchar_t *</type>
          <declname>name</declname>
        </param>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref></type>
          <declname>input</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="3338" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="3338" bodyend="3376"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a69b96e2902b61170982ad203b92c05b6" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError InitNameHashObject</definition>
        <argsstring>(PaNameHashObject *obj, PaWinWdmFilter *pFilter)</argsstring>
        <name>InitNameHashObject</name>
        <param>
          <type><ref refid="struct_pa_name_hash_object" kindref="compound">PaNameHashObject</ref> *</type>
          <declname>obj</declname>
        </param>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1add25dc7e76c77419d4520c774371efe4" kindref="member">PaWinWdmFilter</ref> *</type>
          <declname>pFilter</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="3378" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="3378" bodyend="3410"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1adc444770daa49a31ecba9bd4d20d1da3" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>static void DeinitNameHashObject</definition>
        <argsstring>(PaNameHashObject *obj)</argsstring>
        <name>DeinitNameHashObject</name>
        <param>
          <type><ref refid="struct_pa_name_hash_object" kindref="compound">PaNameHashObject</ref> *</type>
          <declname>obj</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="3412" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="3412" bodyend="3418"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a0a3a1f16980af9da8112d98a76f3fc00" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>unsigned</type>
        <definition>static unsigned GetNameIndex</definition>
        <argsstring>(PaNameHashObject *obj, const wchar_t *name, const BOOL input)</argsstring>
        <name>GetNameIndex</name>
        <param>
          <type><ref refid="struct_pa_name_hash_object" kindref="compound">PaNameHashObject</ref> *</type>
          <declname>obj</declname>
        </param>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> wchar_t *</type>
          <declname>name</declname>
        </param>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref></type>
          <declname>input</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="3420" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="3420" bodyend="3443"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a69336c0a6d19dba5ca63c8248739c5eb" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>static void ResetStreamEvents</definition>
        <argsstring>(PaWinWdmStream *stream)</argsstring>
        <name>ResetStreamEvents</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1a41c57e03e58e2456ec901b8337ce6791" kindref="member">PaWinWdmStream</ref> *</type>
          <declname>stream</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="4187" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="4187" bodyend="4209"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1ab870cf766c029132f1803b7773613d28" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>static void CloseStreamEvents</definition>
        <argsstring>(PaWinWdmStream *stream)</argsstring>
        <name>CloseStreamEvents</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1a41c57e03e58e2456ec901b8337ce6791" kindref="member">PaWinWdmStream</ref> *</type>
          <declname>stream</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="4211" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="4211" bodyend="4250"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a6662fdd35aa858640ac4ad3e0ae009dc" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>unsigned</type>
        <definition>static unsigned NextPowerOf2</definition>
        <argsstring>(unsigned val)</argsstring>
        <name>NextPowerOf2</name>
        <param>
          <type>unsigned</type>
          <declname>val</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="4252" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="4252" bodyend="4261"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a0ba820c3e33320b262ba276011e09667" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError ValidateSpecificStreamParameters</definition>
        <argsstring>(const PaStreamParameters *streamParameters, const PaWinWDMKSInfo *streamInfo, unsigned isInput)</argsstring>
        <name>ValidateSpecificStreamParameters</name>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="struct_pa_stream_parameters" kindref="compound">PaStreamParameters</ref> *</type>
          <declname>streamParameters</declname>
        </param>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="struct_pa_win_w_d_m_k_s_info" kindref="compound">PaWinWDMKSInfo</ref> *</type>
          <declname>streamInfo</declname>
        </param>
        <param>
          <type>unsigned</type>
          <declname>isInput</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="4263" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="4263" bodyend="4308"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a13360458bb2fd85c9c7aef945c94451a" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>static void DuplicateFirstChannelInt32</definition>
        <argsstring>(void *buffer, int channels, int samples)</argsstring>
        <name>DuplicateFirstChannelInt32</name>
        <param>
          <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref> *</type>
          <declname>buffer</declname>
        </param>
        <param>
          <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
          <declname>channels</declname>
        </param>
        <param>
          <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
          <declname>samples</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="5485" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="5485" bodyend="5499"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1ac306d1baef0671e296a4dd610e8ec5b3" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref></type>
        <definition>static HANDLE BumpThreadPriority</definition>
        <argsstring>()</argsstring>
        <name>BumpThreadPriority</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="5504" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="5504" bodyend="5542"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1aff690b127408a8cc75e9625f3e74a3cc" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>static void DropThreadPriority</definition>
        <argsstring>(HANDLE hAVRT)</argsstring>
        <name>DropThreadPriority</name>
        <param>
          <type><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref></type>
          <declname>hAVRT</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="5547" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="5547" bodyend="5560"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a8f9e0930c4b34a682e4639b0cb5e13e6" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError PreparePinForStart</definition>
        <argsstring>(PaWinWdmPin *pin)</argsstring>
        <name>PreparePinForStart</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1a1b9a07297c7f8093f59fc4b333c9ba68" kindref="member">PaWinWdmPin</ref> *</type>
          <declname>pin</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="5562" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="5562" bodyend="5580"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a1adee647b11606d18a843dcad20764a7" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError PreparePinsForStart</definition>
        <argsstring>(PaProcessThreadInfo *pInfo)</argsstring>
        <name>PreparePinsForStart</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1ac11d18d40d2d3d9de06b2bec09bc4d78" kindref="member">PaProcessThreadInfo</ref> *</type>
          <declname>pInfo</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="5582" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="5582" bodyend="5635"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a6543d61356c7cc4f20ce3e17921afac1" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError StartPin</definition>
        <argsstring>(PaWinWdmPin *pin)</argsstring>
        <name>StartPin</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1a1b9a07297c7f8093f59fc4b333c9ba68" kindref="member">PaWinWdmPin</ref> *</type>
          <declname>pin</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="5637" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="5637" bodyend="5640"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1aa52e5a58aa610e465099dceeabddd044" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError StartPins</definition>
        <argsstring>(PaProcessThreadInfo *pInfo)</argsstring>
        <name>StartPins</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1ac11d18d40d2d3d9de06b2bec09bc4d78" kindref="member">PaProcessThreadInfo</ref> *</type>
          <declname>pInfo</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="5642" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="5642" bodyend="5656"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1afa3cb857b918e3e8336330eacdf2adf5" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError StopPin</definition>
        <argsstring>(PaWinWdmPin *pin)</argsstring>
        <name>StopPin</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1a1b9a07297c7f8093f59fc4b333c9ba68" kindref="member">PaWinWdmPin</ref> *</type>
          <declname>pin</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="5659" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="5659" bodyend="5664"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a0f3f136b75010dfd003bce34c49b3e5d" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError StopPins</definition>
        <argsstring>(PaProcessThreadInfo *pInfo)</argsstring>
        <name>StopPins</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1ac11d18d40d2d3d9de06b2bec09bc4d78" kindref="member">PaProcessThreadInfo</ref> *</type>
          <declname>pInfo</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="5667" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="5667" bodyend="5679"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1ab4796df2de03c18940dc0a9a70ada3c0" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref></type>
        <definition>static PaError PaDoProcessing</definition>
        <argsstring>(PaProcessThreadInfo *pInfo)</argsstring>
        <name>PaDoProcessing</name>
        <param>
          <type><ref refid="pa__win__wdmks_8c_1ac11d18d40d2d3d9de06b2bec09bc4d78" kindref="member">PaProcessThreadInfo</ref> *</type>
          <declname>pInfo</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="5686" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="5686" bodyend="5850"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1a8505624e9e10bc39c488686e36f3a70c" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>VOID CALLBACK</type>
        <definition>static VOID CALLBACK TimerAPCWaveRTPolledMode</definition>
        <argsstring>(LPVOID lpArgToCompletionRoutine, DWORD dwTimerLowValue, DWORD dwTimerHighValue)</argsstring>
        <name>TimerAPCWaveRTPolledMode</name>
        <param>
          <type>LPVOID</type>
          <declname>lpArgToCompletionRoutine</declname>
        </param>
        <param>
          <type><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref></type>
          <declname>dwTimerLowValue</declname>
        </param>
        <param>
          <type><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref></type>
          <declname>dwTimerHighValue</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="5852" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="5852" bodyend="5860"/>
      </memberdef>
      <memberdef kind="function" id="pa__win__wdmks_8c_1ab689e7038ba653ca84f46232ee433321" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref></type>
        <definition>static DWORD GetCurrentTimeInMillisecs</definition>
        <argsstring>()</argsstring>
        <name>GetCurrentTimeInMillisecs</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" line="5862" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c" bodystart="5862" bodyend="5865"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
<para>Portaudio WDM-KS host API. </para>    </briefdescription>
    <detaileddescription>
<para><simplesect kind="note"><para>This is the implementation of the Portaudio host API using the Windows WDM/Kernel Streaming API in order to enable very low latency playback and recording on all modern Windows platforms (e.g. 2K, XP, Vista, Win7) Note: This API accesses the device drivers below the usual KMIXER component which is normally used to enable multi-client mixing and format conversion. That means that it will lock out all other users of a device for the duration of active stream using those devices </para></simplesect>
</para>    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*</highlight></codeline>
<codeline lineno="2"><highlight class="comment">*<sp/>$Id:<sp/>pa_win_wdmks.c<sp/>1945<sp/>2015-01-21<sp/>06:24:32Z<sp/>rbencina<sp/>$</highlight></codeline>
<codeline lineno="3"><highlight class="comment">*<sp/>PortAudio<sp/>Windows<sp/>WDM-KS<sp/>interface</highlight></codeline>
<codeline lineno="4"><highlight class="comment">*</highlight></codeline>
<codeline lineno="5"><highlight class="comment">*<sp/>Author:<sp/>Andrew<sp/>Baldwin,<sp/>Robert<sp/>Bielik<sp/>(WaveRT)</highlight></codeline>
<codeline lineno="6"><highlight class="comment">*<sp/>Based<sp/>on<sp/>the<sp/>Open<sp/>Source<sp/>API<sp/>proposed<sp/>by<sp/>Ross<sp/>Bencina</highlight></codeline>
<codeline lineno="7"><highlight class="comment">*<sp/>Copyright<sp/>(c)<sp/>1999-2004<sp/>Andrew<sp/>Baldwin,<sp/>Ross<sp/>Bencina,<sp/>Phil<sp/>Burk</highlight></codeline>
<codeline lineno="8"><highlight class="comment">*</highlight></codeline>
<codeline lineno="9"><highlight class="comment">*<sp/>Permission<sp/>is<sp/>hereby<sp/>granted,<sp/>free<sp/>of<sp/>charge,<sp/>to<sp/>any<sp/>person<sp/>obtaining</highlight></codeline>
<codeline lineno="10"><highlight class="comment">*<sp/>a<sp/>copy<sp/>of<sp/>this<sp/>software<sp/>and<sp/>associated<sp/>documentation<sp/>files</highlight></codeline>
<codeline lineno="11"><highlight class="comment">*<sp/>(the<sp/>&quot;Software&quot;),<sp/>to<sp/>deal<sp/>in<sp/>the<sp/>Software<sp/>without<sp/>restriction,</highlight></codeline>
<codeline lineno="12"><highlight class="comment">*<sp/>including<sp/>without<sp/>limitation<sp/>the<sp/>rights<sp/>to<sp/>use,<sp/>copy,<sp/>modify,<sp/>merge,</highlight></codeline>
<codeline lineno="13"><highlight class="comment">*<sp/>publish,<sp/>distribute,<sp/>sublicense,<sp/>and/or<sp/>sell<sp/>copies<sp/>of<sp/>the<sp/>Software,</highlight></codeline>
<codeline lineno="14"><highlight class="comment">*<sp/>and<sp/>to<sp/>permit<sp/>persons<sp/>to<sp/>whom<sp/>the<sp/>Software<sp/>is<sp/>furnished<sp/>to<sp/>do<sp/>so,</highlight></codeline>
<codeline lineno="15"><highlight class="comment">*<sp/>subject<sp/>to<sp/>the<sp/>following<sp/>conditions:</highlight></codeline>
<codeline lineno="16"><highlight class="comment">*</highlight></codeline>
<codeline lineno="17"><highlight class="comment">*<sp/>The<sp/>above<sp/>copyright<sp/>notice<sp/>and<sp/>this<sp/>permission<sp/>notice<sp/>shall<sp/>be</highlight></codeline>
<codeline lineno="18"><highlight class="comment">*<sp/>included<sp/>in<sp/>all<sp/>copies<sp/>or<sp/>substantial<sp/>portions<sp/>of<sp/>the<sp/>Software.</highlight></codeline>
<codeline lineno="19"><highlight class="comment">*</highlight></codeline>
<codeline lineno="20"><highlight class="comment">*<sp/>THE<sp/>SOFTWARE<sp/>IS<sp/>PROVIDED<sp/>&quot;AS<sp/>IS&quot;,<sp/>WITHOUT<sp/>WARRANTY<sp/>OF<sp/>ANY<sp/>KIND,</highlight></codeline>
<codeline lineno="21"><highlight class="comment">*<sp/>EXPRESS<sp/>OR<sp/>IMPLIED,<sp/>INCLUDING<sp/>BUT<sp/>NOT<sp/>LIMITED<sp/>TO<sp/>THE<sp/>WARRANTIES<sp/>OF</highlight></codeline>
<codeline lineno="22"><highlight class="comment">*<sp/>MERCHANTABILITY,<sp/>FITNESS<sp/>FOR<sp/>A<sp/>PARTICULAR<sp/>PURPOSE<sp/>AND<sp/>NONINFRINGEMENT.</highlight></codeline>
<codeline lineno="23"><highlight class="comment">*<sp/>IN<sp/>NO<sp/>EVENT<sp/>SHALL<sp/>THE<sp/>AUTHORS<sp/>OR<sp/>COPYRIGHT<sp/>HOLDERS<sp/>BE<sp/>LIABLE<sp/>FOR</highlight></codeline>
<codeline lineno="24"><highlight class="comment">*<sp/>ANY<sp/>CLAIM,<sp/>DAMAGES<sp/>OR<sp/>OTHER<sp/>LIABILITY,<sp/>WHETHER<sp/>IN<sp/>AN<sp/>ACTION<sp/>OF</highlight></codeline>
<codeline lineno="25"><highlight class="comment">*<sp/>CONTRACT,<sp/>TORT<sp/>OR<sp/>OTHERWISE,<sp/>ARISING<sp/>FROM,<sp/>OUT<sp/>OF<sp/>OR<sp/>IN<sp/>CONNECTION</highlight></codeline>
<codeline lineno="26"><highlight class="comment">*<sp/>WITH<sp/>THE<sp/>SOFTWARE<sp/>OR<sp/>THE<sp/>USE<sp/>OR<sp/>OTHER<sp/>DEALINGS<sp/>IN<sp/>THE<sp/>SOFTWARE.</highlight></codeline>
<codeline lineno="27"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="30"><highlight class="comment">*<sp/>The<sp/>text<sp/>above<sp/>constitutes<sp/>the<sp/>entire<sp/>PortAudio<sp/>license;<sp/>however,<sp/></highlight></codeline>
<codeline lineno="31"><highlight class="comment">*<sp/>the<sp/>PortAudio<sp/>community<sp/>also<sp/>makes<sp/>the<sp/>following<sp/>non-binding<sp/>requests:</highlight></codeline>
<codeline lineno="32"><highlight class="comment">*</highlight></codeline>
<codeline lineno="33"><highlight class="comment">*<sp/>Any<sp/>person<sp/>wishing<sp/>to<sp/>distribute<sp/>modifications<sp/>to<sp/>the<sp/>Software<sp/>is</highlight></codeline>
<codeline lineno="34"><highlight class="comment">*<sp/>requested<sp/>to<sp/>send<sp/>the<sp/>modifications<sp/>to<sp/>the<sp/>original<sp/>developer<sp/>so<sp/>that</highlight></codeline>
<codeline lineno="35"><highlight class="comment">*<sp/>they<sp/>can<sp/>be<sp/>incorporated<sp/>into<sp/>the<sp/>canonical<sp/>version.<sp/>It<sp/>is<sp/>also<sp/></highlight></codeline>
<codeline lineno="36"><highlight class="comment">*<sp/>requested<sp/>that<sp/>these<sp/>non-binding<sp/>requests<sp/>be<sp/>included<sp/>along<sp/>with<sp/>the<sp/></highlight></codeline>
<codeline lineno="37"><highlight class="comment">*<sp/>license<sp/>above.</highlight></codeline>
<codeline lineno="38"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="preprocessor">#include<sp/>&lt;stdio.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>(defined(_WIN32)<sp/>&amp;&amp;<sp/>(defined(_MSC_VER)<sp/>&amp;&amp;<sp/>(_MSC_VER<sp/>&gt;=<sp/>1200)))<sp/></highlight><highlight class="comment">/*<sp/>MSC<sp/>version<sp/>6<sp/>and<sp/>above<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>comment(<sp/>lib,<sp/>&quot;setupapi.lib&quot;<sp/>)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Debugging/tracing<sp/>support<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight></codeline>
<codeline lineno="61" refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PA_LOGE_</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="62" refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PA_LOGL_</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__GNUC__</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;initguid.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>_WIN32_WINNT<sp/>0x0501</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>WINVER<sp/>0x0501</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string.h&gt;</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">/*<sp/>strlen()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="assert_8h" kindref="compound">assert.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="wchar_8h" kindref="compound">wchar.h</ref>&gt;</highlight><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>iswspace()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="pa__util_8h" kindref="compound">pa_util.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="pa__allocation_8h" kindref="compound">pa_allocation.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="pa__hostapi_8h" kindref="compound">pa_hostapi.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="pa__stream_8h" kindref="compound">pa_stream.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="pa__cpuload_8h" kindref="compound">pa_cpuload.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="pa__process_8h" kindref="compound">pa_process.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="portaudio_8h" kindref="compound">portaudio.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="pa__debugprint_8h" kindref="compound">pa_debugprint.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="pa__memorybarrier_8h" kindref="compound">pa_memorybarrier.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="pa__ringbuffer_8h" kindref="compound">pa_ringbuffer.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="pa__trace_8h" kindref="compound">pa_trace.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="pa__win__waveformat_8h" kindref="compound">pa_win_waveformat.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="pa__win__wdmks_8h" kindref="compound">pa_win_wdmks.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>DRV_QUERYDEVICEINTERFACE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="90" refid="pa__win__wdmks_8c_1adad5f0b12993256d88ee25ebee3e0bca" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>DRV_QUERYDEVICEINTERFACE<sp/><sp/><sp/><sp/><sp/>(DRV_RESERVED<sp/>+<sp/>12)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>DRV_QUERYDEVICEINTERFACESIZE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="93" refid="pa__win__wdmks_8c_1a12fe28580c2caabf3c97130411605dd4" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>DRV_QUERYDEVICEINTERFACESIZE<sp/>(DRV_RESERVED<sp/>+<sp/>13)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;windows.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;winioctl.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;process.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;math.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>_MSC_VER</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>snprintf<sp/>_snprintf</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>vsnprintf<sp/>_vsnprintf</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>The<sp/>PA_HP_TRACE<sp/>macro<sp/>is<sp/>used<sp/>in<sp/>RT<sp/>parts,<sp/>so<sp/>it<sp/>can<sp/>be<sp/>switched<sp/>off<sp/>without<sp/>affecting</highlight></codeline>
<codeline lineno="108"><highlight class="comment">the<sp/>rest<sp/>of<sp/>the<sp/>debug<sp/>tracing<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>1</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="110" refid="pa__win__wdmks_8c_1a1ed56124518c5cb5bac27422912327e6" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PA_HP_TRACE(x)<sp/><sp/>PaUtil_AddHighSpeedLogMessage<sp/>x<sp/>;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PA_HP_TRACE(x)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="113"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>A<sp/>define<sp/>that<sp/>selects<sp/>whether<sp/>the<sp/>resulting<sp/>pin<sp/>names<sp/>are<sp/>chosen<sp/>from<sp/>pin<sp/>category</highlight></codeline>
<codeline lineno="116"><highlight class="comment">instead<sp/>of<sp/>the<sp/>available<sp/>pin<sp/>names,<sp/>who<sp/>sometimes<sp/>can<sp/>be<sp/>quite<sp/>cheesy,<sp/>like<sp/>&quot;Volume<sp/>control&quot;.</highlight></codeline>
<codeline lineno="117"><highlight class="comment">Default<sp/>is<sp/>to<sp/>use<sp/>the<sp/>pin<sp/>category.</highlight></codeline>
<codeline lineno="118"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>PA_WDMKS_USE_CATEGORY_FOR_PIN_NAMES</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="120" refid="pa__win__wdmks_8c_1a4df7ba9195cdae8d2a7a47ae0421b567" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PA_WDMKS_USE_CATEGORY_FOR_PIN_NAMES<sp/><sp/>1</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__GNUC__</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"></highlight><highlight class="preprocessor">#undef<sp/>PA_LOGE_</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PA_LOGE_<sp/>PA_DEBUG((&quot;%s<sp/>{\n&quot;,__FUNCTION__))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="126"><highlight class="normal"></highlight><highlight class="preprocessor">#undef<sp/>PA_LOGL_</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="127"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PA_LOGL_<sp/>PA_DEBUG((&quot;}<sp/>%s\n&quot;,__FUNCTION__))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>These<sp/>defines<sp/>are<sp/>set<sp/>in<sp/>order<sp/>to<sp/>allow<sp/>the<sp/>WIndows<sp/>DirectX</highlight></codeline>
<codeline lineno="129"><highlight class="comment">*<sp/>headers<sp/>to<sp/>compile<sp/>with<sp/>a<sp/>GCC<sp/>compiler<sp/>such<sp/>as<sp/>MinGW</highlight></codeline>
<codeline lineno="130"><highlight class="comment">*<sp/>NOTE:<sp/>The<sp/>headers<sp/>may<sp/>generate<sp/>a<sp/>few<sp/>warning<sp/>in<sp/>GCC,<sp/>but</highlight></codeline>
<codeline lineno="131"><highlight class="comment">*<sp/>they<sp/>should<sp/>compile<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>_INC_MMSYSTEM</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>_INC_MMREG</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>_NTRTL_<sp/></highlight><highlight class="comment">/*<sp/>Turn<sp/>off<sp/>default<sp/>definition<sp/>of<sp/>DEFINE_GUIDEX<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>DEFINE_GUID_THUNK(name,guid)<sp/>DEFINE_GUID(name,guid)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>DEFINE_GUIDEX(n)<sp/>DEFINE_GUID_THUNK(<sp/>n,<sp/>STATIC_##n<sp/>)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>!defined(<sp/>DEFINE_WAVEFORMATEX_GUID<sp/>)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>DEFINE_WAVEFORMATEX_GUID(x)<sp/>(USHORT)(x),<sp/>0x0000,<sp/>0x0010,<sp/>0x80,<sp/>0x00,<sp/>0x00,<sp/>0xaa,<sp/>0x00,<sp/>0x38,<sp/>0x9b,<sp/>0x71</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="139"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="140"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/><sp/>WAVE_FORMAT_ADPCM<sp/><sp/><sp/><sp/><sp/><sp/>0x0002</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/><sp/>WAVE_FORMAT_IEEE_FLOAT<sp/>0x0003</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/><sp/>WAVE_FORMAT_ALAW<sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x0006</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/><sp/>WAVE_FORMAT_MULAW<sp/><sp/><sp/><sp/><sp/><sp/>0x0007</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/><sp/>WAVE_FORMAT_MPEG<sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x0050</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="145"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/><sp/>WAVE_FORMAT_DRM<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x0009</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>DYNAMIC_GUID_THUNK(l,w1,w2,b1,b2,b3,b4,b5,b6,b7,b8)<sp/>{l,w1,w2,{b1,b2,b3,b4,b5,b6,b7,b8}}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>DYNAMIC_GUID(data)<sp/>DYNAMIC_GUID_THUNK(data)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>use<sp/>CreateThread<sp/>for<sp/>CYGWIN/Windows<sp/>Mobile,<sp/>_beginthreadex<sp/>for<sp/>all<sp/>others<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>!defined(__CYGWIN__)<sp/>&amp;&amp;<sp/>!defined(_WIN32_WCE)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="152" refid="pa__win__wdmks_8c_1ae9a0f0ff7059ae7fd026ac46f65ed9b9" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CREATE_THREAD_FUNCTION<sp/>(HANDLE)_beginthreadex</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="153" refid="pa__win__wdmks_8c_1ad744bd36cb3631b1dc11beb41dcc238c" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PA_THREAD_FUNC<sp/>static<sp/>unsigned<sp/>WINAPI</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="154"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>CREATE_THREAD_FUNCTION<sp/>CreateThread</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PA_THREAD_FUNC<sp/>static<sp/>DWORD<sp/>WINAPI</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="158"><highlight class="normal"></highlight></codeline>
<codeline lineno="159"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>_MSC_VER</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>NOMMIDS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="161"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>DYNAMIC_GUID(data)<sp/>{data}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>_NTRTL_<sp/></highlight><highlight class="comment">/*<sp/>Turn<sp/>off<sp/>default<sp/>definition<sp/>of<sp/>DEFINE_GUIDEX<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="163"><highlight class="normal"></highlight><highlight class="preprocessor">#undef<sp/>DEFINE_GUID</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>DEFINE_GUID(n,data)<sp/>EXTERN_C<sp/>const<sp/>GUID<sp/>n<sp/>=<sp/>{data}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>DEFINE_GUID_THUNK(n,data)<sp/>DEFINE_GUID(n,data)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>DEFINE_GUIDEX(n)<sp/>DEFINE_GUID_THUNK(n,<sp/>STATIC_##n)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;setupapi.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>EXTERN_C</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="172" refid="pa__win__wdmks_8c_1abbaccfbed35b945162c27ef6d3748e77" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>EXTERN_C<sp/>extern</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="173"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"></highlight></codeline>
<codeline lineno="175"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(__GNUC__)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>For<sp/>MinGW<sp/>we<sp/>reference<sp/>mingw-include<sp/>files<sp/>supplied<sp/>with<sp/>WASAPI<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>WINBOOL<sp/>BOOL</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"></highlight></codeline>
<codeline lineno="180"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;../wasapi/mingw-include/ks.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;../wasapi/mingw-include/ksmedia.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"></highlight></codeline>
<codeline lineno="185"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;mmreg.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="ks_8h" kindref="compound">ks.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"></highlight></codeline>
<codeline lineno="188"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Note<sp/>that<sp/>Windows<sp/>SDK<sp/>V6.0A<sp/>or<sp/>later<sp/>is<sp/>needed<sp/>for<sp/>WaveRT<sp/>specific<sp/>structs<sp/>to<sp/>be<sp/>present<sp/>in</highlight></codeline>
<codeline lineno="189"><highlight class="comment"><sp/><sp/><sp/>ksmedia.h.<sp/>Also<sp/>make<sp/>sure<sp/>that<sp/>the<sp/>SDK<sp/>include<sp/>path<sp/>is<sp/>before<sp/>other<sp/>include<sp/>paths<sp/>(that<sp/>may<sp/>contain</highlight></codeline>
<codeline lineno="190"><highlight class="comment"><sp/><sp/><sp/>an<sp/>&quot;old&quot;<sp/>ksmedia.h),<sp/>so<sp/>the<sp/>proper<sp/>ksmedia.h<sp/>is<sp/>used<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="ksmedia_8h" kindref="compound">ksmedia.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="192"><highlight class="normal"></highlight></codeline>
<codeline lineno="193"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="assert_8h" kindref="compound">assert.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdio.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>These<sp/>next<sp/>definitions<sp/>allow<sp/>the<sp/>use<sp/>of<sp/>the<sp/>KSUSER<sp/>DLL<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="199" refid="pa__win__wdmks_8c_1a055163a2257c29ab3084cd304d1ffb92" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">/*KSDDKAPI*/</highlight><highlight class="normal"><sp/><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref><sp/><ref refid="mapinls_8h_1a9aa60e1ead64be77ad551e745cbfd4d3" kindref="member">WINAPI</ref><sp/><ref refid="pa__win__wdmks_8c_1a055163a2257c29ab3084cd304d1ffb92" kindref="member">KSCREATEPIN</ref>(<ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref>,<sp/><ref refid="struct_k_s_p_i_n___c_o_n_n_e_c_t" kindref="compound">PKSPIN_CONNECT</ref>,<sp/>ACCESS_MASK,<sp/>PHANDLE);</highlight></codeline>
<codeline lineno="200"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/>HMODULE<sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a899ecd269a5995deeb6433a13297e6e7" kindref="member">DllKsUser</ref>;</highlight></codeline>
<codeline lineno="201"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/><ref refid="pa__win__wdmks_8c_1a055163a2257c29ab3084cd304d1ffb92" kindref="member">KSCREATEPIN</ref>*<sp/><ref refid="pa__win__wdmks_8c_1a6d5e1e7c5625b65ea3efb5169e7320ac" kindref="member">FunctionKsCreatePin</ref>;</highlight></codeline>
<codeline lineno="202"><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>These<sp/>definitions<sp/>allows<sp/>the<sp/>use<sp/>of<sp/>AVRT.DLL<sp/>on<sp/>Vista<sp/>and<sp/>later<sp/>OSs<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="204" refid="pa__win__wdmks_8c_1a2ed6fe22cba98e98dc797f66315d3884" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">enum</highlight><highlight class="normal"><sp/><ref refid="pa__win__wdmks_8c_1a2ed6fe22cba98e98dc797f66315d3884" kindref="member">_PA_AVRT_PRIORITY</ref></highlight></codeline>
<codeline lineno="205"><highlight class="normal">{</highlight></codeline>
<codeline lineno="206" refid="pa__win__wdmks_8c_1a2ed6fe22cba98e98dc797f66315d3884a6627750d6c81485298bdc0c779f8d1d6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a2ed6fe22cba98e98dc797f66315d3884a6627750d6c81485298bdc0c779f8d1d6" kindref="member">PA_AVRT_PRIORITY_LOW</ref><sp/>=<sp/>-1,</highlight></codeline>
<codeline lineno="207" refid="pa__win__wdmks_8c_1a2ed6fe22cba98e98dc797f66315d3884ac373f8d46e872a052340070e06b3ae07" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a2ed6fe22cba98e98dc797f66315d3884ac373f8d46e872a052340070e06b3ae07" kindref="member">PA_AVRT_PRIORITY_NORMAL</ref>,</highlight></codeline>
<codeline lineno="208" refid="pa__win__wdmks_8c_1a2ed6fe22cba98e98dc797f66315d3884aed71aa0f94fc663d031ca72dc2775272" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a2ed6fe22cba98e98dc797f66315d3884aed71aa0f94fc663d031ca72dc2775272" kindref="member">PA_AVRT_PRIORITY_HIGH</ref>,</highlight></codeline>
<codeline lineno="209" refid="pa__win__wdmks_8c_1a2ed6fe22cba98e98dc797f66315d3884aaddd13240b8b15d145e282c8ef36a108" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a2ed6fe22cba98e98dc797f66315d3884aaddd13240b8b15d145e282c8ef36a108" kindref="member">PA_AVRT_PRIORITY_CRITICAL</ref></highlight></codeline>
<codeline lineno="210"><highlight class="normal">}<sp/><ref refid="pa__win__wdmks_8c_1a3c538d73971d3be18d19d6cc57e02602" kindref="member">PA_AVRT_PRIORITY</ref>,<sp/>*<ref refid="pa__win__wdmks_8c_1ac506a8f6f8a5251e2e94066faccb7d16" kindref="member">PPA_AVRT_PRIORITY</ref>;</highlight></codeline>
<codeline lineno="211"><highlight class="normal"></highlight></codeline>
<codeline lineno="212" refid="struct_pa_win_w_d_m_k_s_av_rt_entry_points" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="213"><highlight class="normal">{</highlight></codeline>
<codeline lineno="214" refid="struct_pa_win_w_d_m_k_s_av_rt_entry_points_1a01e8bf87daf173079d8cc9eab3bb91ea" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>HINSTANCE<sp/><ref refid="struct_pa_win_w_d_m_k_s_av_rt_entry_points_1a01e8bf87daf173079d8cc9eab3bb91ea" kindref="member">hInstance</ref>;</highlight></codeline>
<codeline lineno="215"><highlight class="normal"></highlight></codeline>
<codeline lineno="216" refid="struct_pa_win_w_d_m_k_s_av_rt_entry_points_1a114899ed72054b8ffe800683e89615c8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/><sp/>(<ref refid="mapinls_8h_1a9aa60e1ead64be77ad551e745cbfd4d3" kindref="member">WINAPI</ref><sp/>*AvSetMmThreadCharacteristics)<sp/>(<ref refid="mapinls_8h_1a866fd74f5159bb4d319261005a5e85e0" kindref="member">LPCSTR</ref>,<sp/><ref refid="struct_pa_win_w_d_m_k_s_av_rt_entry_points_1a114899ed72054b8ffe800683e89615c8" kindref="member">LPDWORD</ref>);</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="readbinaryplist_8c_1ae4cc35dcc70810fa972cc8a5185a28fa" kindref="member">BOOL</ref><sp/><sp/><sp/><sp/>(<ref refid="mapinls_8h_1a9aa60e1ead64be77ad551e745cbfd4d3" kindref="member">WINAPI</ref><sp/>*AvRevertMmThreadCharacteristics)<sp/>(<ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref>);</highlight></codeline>
<codeline lineno="218" refid="struct_pa_win_w_d_m_k_s_av_rt_entry_points_1a5852d421e90994f3266f994420047009" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="readbinaryplist_8c_1ae4cc35dcc70810fa972cc8a5185a28fa" kindref="member">BOOL</ref><sp/><sp/><sp/><sp/>(<ref refid="mapinls_8h_1a9aa60e1ead64be77ad551e745cbfd4d3" kindref="member">WINAPI</ref><sp/>*AvSetMmThreadPriority)<sp/>(<ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref>,<sp/><ref refid="struct_pa_win_w_d_m_k_s_av_rt_entry_points_1a5852d421e90994f3266f994420047009" kindref="member">PA_AVRT_PRIORITY</ref>);</highlight></codeline>
<codeline lineno="219"><highlight class="normal">}<sp/><ref refid="struct_pa_win_w_d_m_k_s_av_rt_entry_points" kindref="compound">PaWinWDMKSAvRtEntryPoints</ref>;</highlight></codeline>
<codeline lineno="220"><highlight class="normal"></highlight></codeline>
<codeline lineno="221"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="struct_pa_win_w_d_m_k_s_av_rt_entry_points" kindref="compound">PaWinWDMKSAvRtEntryPoints</ref><sp/>paWinWDMKSAvRtEntryPoints<sp/>=<sp/>{0};</highlight></codeline>
<codeline lineno="222"><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>An<sp/>unspecified<sp/>channel<sp/>count<sp/>(-1)<sp/>is<sp/>not<sp/>treated<sp/>correctly,<sp/>so<sp/>we<sp/>replace<sp/>it<sp/>with</highlight></codeline>
<codeline lineno="224"><highlight class="comment">*<sp/>an<sp/>arbitrarily<sp/>large<sp/>number<sp/>*/</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="225" refid="pa__win__wdmks_8c_1a63e227993b75fd9a2658b34234bf3366" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MAXIMUM_NUMBER_OF_CHANNELS<sp/>256</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"></highlight></codeline>
<codeline lineno="227"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Forward<sp/>definition<sp/>to<sp/>break<sp/>circular<sp/>type<sp/>reference<sp/>between<sp/>pin<sp/>and<sp/>filter<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="228"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_____pa_win_wdm_filter" kindref="compound">__PaWinWdmFilter</ref>;</highlight></codeline>
<codeline lineno="229" refid="pa__win__wdmks_8c_1add25dc7e76c77419d4520c774371efe4" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_____pa_win_wdm_filter" kindref="compound">__PaWinWdmFilter</ref><sp/><ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>;</highlight></codeline>
<codeline lineno="230"><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_____pa_win_wdm_pin" kindref="compound">__PaWinWdmPin</ref>;</highlight></codeline>
<codeline lineno="232" refid="pa__win__wdmks_8c_1a1b9a07297c7f8093f59fc4b333c9ba68" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_____pa_win_wdm_pin" kindref="compound">__PaWinWdmPin</ref><sp/><ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>;</highlight></codeline>
<codeline lineno="233"><highlight class="normal"></highlight></codeline>
<codeline lineno="234"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_____pa_win_wdm_stream" kindref="compound">__PaWinWdmStream</ref>;</highlight></codeline>
<codeline lineno="235" refid="pa__win__wdmks_8c_1a41c57e03e58e2456ec901b8337ce6791" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_____pa_win_wdm_stream" kindref="compound">__PaWinWdmStream</ref><sp/><ref refid="struct_____pa_win_wdm_stream" kindref="compound">PaWinWdmStream</ref>;</highlight></codeline>
<codeline lineno="236"><highlight class="normal"></highlight></codeline>
<codeline lineno="237"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Function<sp/>prototype<sp/>for<sp/>getting<sp/>audio<sp/>position<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="238" refid="pa__win__wdmks_8c_1a5c6efedb86e3f590184c4595820e68b9" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>(*<ref refid="pa__win__wdmks_8c_1a5c6efedb86e3f590184c4595820e68b9" kindref="member">FunctionGetPinAudioPosition</ref>)(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal">*);</highlight></codeline>
<codeline lineno="239"><highlight class="normal"></highlight></codeline>
<codeline lineno="240"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Function<sp/>prototype<sp/>for<sp/>memory<sp/>barrier<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="241" refid="pa__win__wdmks_8c_1af3fcb71d44986590898882b6b1ca82f5" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/><ref refid="lib_2expat_8h_1a3980d15795c6349fecd06c1b035c1ae9" kindref="member">void</ref><sp/>(*<ref refid="pa__win__wdmks_8c_1af3fcb71d44986590898882b6b1ca82f5" kindref="member">FunctionMemoryBarrier</ref>)(<ref refid="lib_2expat_8h_1a3980d15795c6349fecd06c1b035c1ae9" kindref="member">void</ref>);</highlight></codeline>
<codeline lineno="242"><highlight class="normal"></highlight></codeline>
<codeline lineno="243"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_____pa_process_thread_info" kindref="compound">__PaProcessThreadInfo</ref>;</highlight></codeline>
<codeline lineno="244" refid="pa__win__wdmks_8c_1ac11d18d40d2d3d9de06b2bec09bc4d78" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_____pa_process_thread_info" kindref="compound">__PaProcessThreadInfo</ref><sp/><ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref>;</highlight></codeline>
<codeline lineno="245"><highlight class="normal"></highlight></codeline>
<codeline lineno="246" refid="pa__win__wdmks_8c_1a648f640b2f250d09332384c98a242d5d" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>(*<ref refid="pa__win__wdmks_8c_1a648f640b2f250d09332384c98a242d5d" kindref="member">FunctionPinHandler</ref>)(<ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref>*<sp/>pInfo,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>eventIndex);</highlight></codeline>
<codeline lineno="247"><highlight class="normal"></highlight></codeline>
<codeline lineno="248" refid="pa__win__wdmks_8c_1abf83566c082ff992efb67a6a533c7ec5" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">enum</highlight><highlight class="normal"><sp/><ref refid="pa__win__wdmks_8c_1abf83566c082ff992efb67a6a533c7ec5" kindref="member">__PaStreamStartEnum</ref></highlight></codeline>
<codeline lineno="249"><highlight class="normal">{</highlight></codeline>
<codeline lineno="250" refid="pa__win__wdmks_8c_1abf83566c082ff992efb67a6a533c7ec5a46bc3f5ea073342703b3dd6904d564a7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1abf83566c082ff992efb67a6a533c7ec5a46bc3f5ea073342703b3dd6904d564a7" kindref="member">StreamStart_kOk</ref>,</highlight></codeline>
<codeline lineno="251" refid="pa__win__wdmks_8c_1abf83566c082ff992efb67a6a533c7ec5ab05b936607a5bdb4dad033e21a349c7a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1abf83566c082ff992efb67a6a533c7ec5ab05b936607a5bdb4dad033e21a349c7a" kindref="member">StreamStart_kFailed</ref>,</highlight></codeline>
<codeline lineno="252" refid="pa__win__wdmks_8c_1abf83566c082ff992efb67a6a533c7ec5a015288f4751df2a3c5680952db2ebc97" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1abf83566c082ff992efb67a6a533c7ec5a015288f4751df2a3c5680952db2ebc97" kindref="member">StreamStart_kCnt</ref></highlight></codeline>
<codeline lineno="253"><highlight class="normal">}<sp/><ref refid="pa__win__wdmks_8c_1a5e9a8fba94905a0ad9e65bb844470879" kindref="member">PaStreamStartEnum</ref>;</highlight></codeline>
<codeline lineno="254"><highlight class="normal"></highlight></codeline>
<codeline lineno="255"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Multiplexed<sp/>input<sp/>structure.</highlight></codeline>
<codeline lineno="256"><highlight class="comment">*<sp/><sp/>Very<sp/>often<sp/>several<sp/>physical<sp/>inputs<sp/>are<sp/>multiplexed<sp/>through<sp/>a<sp/>MUX<sp/>node<sp/>(represented<sp/>in<sp/>the<sp/>topology<sp/>filter)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="257" refid="struct_____pa_win_wdm_muxed_input" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_____pa_win_wdm_muxed_input" kindref="compound">__PaWinWdmMuxedInput</ref></highlight></codeline>
<codeline lineno="258"><highlight class="normal">{</highlight></codeline>
<codeline lineno="259" refid="struct_____pa_win_wdm_muxed_input_1a07079d0c8604c5a64fc338263c5e2468" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">wchar_t</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_muxed_input_1a07079d0c8604c5a64fc338263c5e2468" kindref="member">friendlyName</ref>[MAX_PATH];</highlight></codeline>
<codeline lineno="260" refid="struct_____pa_win_wdm_muxed_input_1a8fb0e8c234c7f14108aa2926e1142d20" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>ULONG<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_muxed_input_1a8fb0e8c234c7f14108aa2926e1142d20" kindref="member">muxPinId</ref>;</highlight></codeline>
<codeline lineno="261" refid="struct_____pa_win_wdm_muxed_input_1a0c99dd95a1181833c2f8758ce8e76331" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>ULONG<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_muxed_input_1a0c99dd95a1181833c2f8758ce8e76331" kindref="member">muxNodeId</ref>;</highlight></codeline>
<codeline lineno="262" refid="struct_____pa_win_wdm_muxed_input_1a9c44ecfcd2a4b85db38793cf33017ba0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>ULONG<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_muxed_input_1a9c44ecfcd2a4b85db38793cf33017ba0" kindref="member">endpointPinId</ref>;</highlight></codeline>
<codeline lineno="263"><highlight class="normal">}<sp/><ref refid="pa__win__wdmks_8c_1a0be015bebf38da0f5c27b19866c31716" kindref="member">PaWinWdmMuxedInput</ref>;</highlight></codeline>
<codeline lineno="264"><highlight class="normal"></highlight></codeline>
<codeline lineno="265"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>The<sp/>Pin<sp/>structure</highlight></codeline>
<codeline lineno="266"><highlight class="comment">*<sp/>A<sp/>pin<sp/>is<sp/>an<sp/>input<sp/>or<sp/>output<sp/>node,<sp/>e.g.<sp/>for<sp/>audio<sp/>flow<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="267" refid="struct_____pa_win_wdm_pin" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_____pa_win_wdm_pin" kindref="compound">__PaWinWdmPin</ref></highlight></codeline>
<codeline lineno="268"><highlight class="normal">{</highlight></codeline>
<codeline lineno="269" refid="struct_____pa_win_wdm_pin_1a60e3d7a05346b1ce3e8e910e9d1c4fb8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin_1a60e3d7a05346b1ce3e8e910e9d1c4fb8" kindref="member">handle</ref>;</highlight></codeline>
<codeline lineno="270" refid="struct_____pa_win_wdm_pin_1ae08e82747f231ea0365211c5dbbc48a7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_muxed_input" kindref="compound">PaWinWdmMuxedInput</ref>**<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin_1ae08e82747f231ea0365211c5dbbc48a7" kindref="member">inputs</ref>;</highlight></codeline>
<codeline lineno="271" refid="struct_____pa_win_wdm_pin_1a4e8be021efbd43cf14cb3b40e501d4eb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin_1a4e8be021efbd43cf14cb3b40e501d4eb" kindref="member">inputCount</ref>;</highlight></codeline>
<codeline lineno="272" refid="struct_____pa_win_wdm_pin_1ad20963ecc38fe667f890dd6939b324a2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">wchar_t</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_muxed_input_1a07079d0c8604c5a64fc338263c5e2468" kindref="member">friendlyName</ref>[MAX_PATH];</highlight></codeline>
<codeline lineno="273"><highlight class="normal"></highlight></codeline>
<codeline lineno="274" refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>;</highlight></codeline>
<codeline lineno="275" refid="struct_____pa_win_wdm_pin_1a8f64c1157494c02e8be9d85d72f359fe" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8h_1ab1fecd3bd8c22ca5820fee46fc9d89c2" kindref="member">PaWDMKSSubType</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin_1a8f64c1157494c02e8be9d85d72f359fe" kindref="member">pinKsSubType</ref>;</highlight></codeline>
<codeline lineno="276" refid="struct_____pa_win_wdm_pin_1a81ab014de4b698e66915fb28e01cb7c7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin_1a81ab014de4b698e66915fb28e01cb7c7" kindref="member">pinId</ref>;</highlight></codeline>
<codeline lineno="277" refid="struct_____pa_win_wdm_pin_1a3f3942f6c97d908f03f559998a1daafb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin_1a3f3942f6c97d908f03f559998a1daafb" kindref="member">endpointPinId</ref>;<sp/><sp/></highlight><highlight class="comment">/*<sp/>For<sp/>output<sp/>pins<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="278" refid="struct_____pa_win_wdm_pin_1a2c0a3fa53ea7dbc62ef29f9ee4b5ff2c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_k_s_p_i_n___c_o_n_n_e_c_t" kindref="compound">KSPIN_CONNECT</ref>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin_1a2c0a3fa53ea7dbc62ef29f9ee4b5ff2c" kindref="member">pinConnect</ref>;</highlight></codeline>
<codeline lineno="279" refid="struct_____pa_win_wdm_pin_1a77f9537f17bc86095bfc5646de673da5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin_1a77f9537f17bc86095bfc5646de673da5" kindref="member">pinConnectSize</ref>;</highlight></codeline>
<codeline lineno="280" refid="struct_____pa_win_wdm_pin_1ac22b41ab27423a1fe5b96d1b675d62cb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>KSDATAFORMAT_WAVEFORMATEX*<sp/><sp/><ref refid="struct_____pa_win_wdm_pin_1ac22b41ab27423a1fe5b96d1b675d62cb" kindref="member">ksDataFormatWfx</ref>;</highlight></codeline>
<codeline lineno="281" refid="struct_____pa_win_wdm_pin_1a3d1ada1784d7cecbf90b73b27b31d0a7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a6e14df6c0ef3b91a7aa83cac527c71ff" kindref="member">KSPIN_COMMUNICATION</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin_1a3d1ada1784d7cecbf90b73b27b31d0a7" kindref="member">communication</ref>;</highlight></codeline>
<codeline lineno="282" refid="struct_____pa_win_wdm_pin_1a70e5b9749552a4f4bbf76233c984d4e0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="union_k_s_d_a_t_a_f_o_r_m_a_t" kindref="compound">KSDATARANGE</ref>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin_1a70e5b9749552a4f4bbf76233c984d4e0" kindref="member">dataRanges</ref>;</highlight></codeline>
<codeline lineno="283" refid="struct_____pa_win_wdm_pin_1ad7e5f835e21d79bb012d4a369e2437cd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m" kindref="compound">KSMULTIPLE_ITEM</ref>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin_1ad7e5f835e21d79bb012d4a369e2437cd" kindref="member">dataRangesItem</ref>;</highlight></codeline>
<codeline lineno="284" refid="struct_____pa_win_wdm_pin_1a8d798c1a1b09965996a5c29f3797dbff" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a56408dcd08fcb4080adbd109cf61c4aa" kindref="member">KSPIN_DATAFLOW</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin_1a8d798c1a1b09965996a5c29f3797dbff" kindref="member">dataFlow</ref>;</highlight></codeline>
<codeline lineno="285" refid="struct_____pa_win_wdm_pin_1a72ae21ecfd85a9ef47d80f8d75e0aea4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_k_s_p_i_n___c_i_n_s_t_a_n_c_e_s" kindref="compound">KSPIN_CINSTANCES</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin_1a72ae21ecfd85a9ef47d80f8d75e0aea4" kindref="member">instances</ref>;</highlight></codeline>
<codeline lineno="286" refid="struct_____pa_win_wdm_pin_1a6c12dcae31c4badecb8bb36ed5fd7381" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin_1a6c12dcae31c4badecb8bb36ed5fd7381" kindref="member">frameSize</ref>;</highlight></codeline>
<codeline lineno="287" refid="struct_____pa_win_wdm_pin_1a33c12a0dbd09db02923a4bd4e7d2fb17" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin_1a33c12a0dbd09db02923a4bd4e7d2fb17" kindref="member">maxChannels</ref>;</highlight></codeline>
<codeline lineno="288" refid="struct_____pa_win_wdm_pin_1aaa618474b3f5813e67f4ade59e6c9540" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin_1aaa618474b3f5813e67f4ade59e6c9540" kindref="member">formats</ref>;</highlight></codeline>
<codeline lineno="289" refid="struct_____pa_win_wdm_pin_1a690270ec5eb11c10a9a669edab5b5aa6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin_1a690270ec5eb11c10a9a669edab5b5aa6" kindref="member">defaultSampleRate</ref>;</highlight></codeline>
<codeline lineno="290" refid="struct_____pa_win_wdm_pin_1a24343f8f122ae703ef0864843868ef6f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>ULONG<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<ref refid="struct_____pa_win_wdm_pin_1a24343f8f122ae703ef0864843868ef6f" kindref="member">positionRegister</ref>;<sp/><sp/></highlight><highlight class="comment">/*<sp/>WaveRT<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="291" refid="struct_____pa_win_wdm_pin_1a2bef1e76e0d2a5184c48ee7cd6961573" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>ULONG<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin_1a2bef1e76e0d2a5184c48ee7cd6961573" kindref="member">hwLatency</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>WaveRT<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="292" refid="struct_____pa_win_wdm_pin_1a964c737ddb76f5e51678617788646106" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1af3fcb71d44986590898882b6b1ca82f5" kindref="member">FunctionMemoryBarrier</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin_1a964c737ddb76f5e51678617788646106" kindref="member">fnMemBarrier</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>WaveRT<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="293" refid="struct_____pa_win_wdm_pin_1a4eb72e73473daa4c5fe2c9dc6b840a93" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5c6efedb86e3f590184c4595820e68b9" kindref="member">FunctionGetPinAudioPosition</ref><sp/><ref refid="struct_____pa_win_wdm_pin_1a4eb72e73473daa4c5fe2c9dc6b840a93" kindref="member">fnAudioPosition</ref>;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>WaveRT<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="294" refid="struct_____pa_win_wdm_pin_1a342610d8c28c1bdd075e26a37b9bd984" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a648f640b2f250d09332384c98a242d5d" kindref="member">FunctionPinHandler</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin_1a342610d8c28c1bdd075e26a37b9bd984" kindref="member">fnEventHandler</ref>;</highlight></codeline>
<codeline lineno="295" refid="struct_____pa_win_wdm_pin_1a202ee56dc377eba26384ab00d6aa5779" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a648f640b2f250d09332384c98a242d5d" kindref="member">FunctionPinHandler</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin_1a202ee56dc377eba26384ab00d6aa5779" kindref="member">fnSubmitHandler</ref>;</highlight></codeline>
<codeline lineno="296"><highlight class="normal">};</highlight></codeline>
<codeline lineno="297"><highlight class="normal"></highlight></codeline>
<codeline lineno="298"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>The<sp/>Filter<sp/>structure</highlight></codeline>
<codeline lineno="299"><highlight class="comment">*<sp/>A<sp/>filter<sp/>has<sp/>a<sp/>number<sp/>of<sp/>pins<sp/>and<sp/>a<sp/>&quot;friendly<sp/>name&quot;<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="300" refid="struct_____pa_win_wdm_filter" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_____pa_win_wdm_filter" kindref="compound">__PaWinWdmFilter</ref></highlight></codeline>
<codeline lineno="301"><highlight class="normal">{</highlight></codeline>
<codeline lineno="302" refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref>;</highlight></codeline>
<codeline lineno="303" refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_pa_win_w_d_m_k_s_device_info" kindref="compound">PaWinWDMKSDeviceInfo</ref><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>;<sp/><sp/></highlight><highlight class="comment">/*<sp/>This<sp/>will<sp/>hold<sp/>information<sp/>that<sp/>is<sp/>exposed<sp/>in<sp/>PaDeviceInfo<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="304"><highlight class="normal"></highlight></codeline>
<codeline lineno="305" refid="struct_____pa_win_wdm_filter_1a105c3a8f9cc3b7be4c7c0441c02dfa88" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_filter_1a105c3a8f9cc3b7be4c7c0441c02dfa88" kindref="member">deviceNode</ref>;</highlight></codeline>
<codeline lineno="306" refid="struct_____pa_win_wdm_filter_1afd1955556211487bb56538d548778e23" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_filter_1afd1955556211487bb56538d548778e23" kindref="member">pinCount</ref>;</highlight></codeline>
<codeline lineno="307" refid="struct_____pa_win_wdm_filter_1abe74b1bbe62a54025b7c05bd8519d19f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>**<sp/><sp/><ref refid="struct_____pa_win_wdm_filter_1abe74b1bbe62a54025b7c05bd8519d19f" kindref="member">pins</ref>;</highlight></codeline>
<codeline lineno="308" refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/><sp/><ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref>;</highlight></codeline>
<codeline lineno="309" refid="struct_____pa_win_wdm_filter_1ad1b53f3170d7cb538e61642f3321ad81" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">wchar_t</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_muxed_input_1a07079d0c8604c5a64fc338263c5e2468" kindref="member">friendlyName</ref>[MAX_PATH];</highlight></codeline>
<codeline lineno="310" refid="struct_____pa_win_wdm_filter_1a5c441f64352697c820c2b296979e984b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_filter_1a5c441f64352697c820c2b296979e984b" kindref="member">validPinCount</ref>;</highlight></codeline>
<codeline lineno="311" refid="struct_____pa_win_wdm_filter_1a044b9a83d9af60246e4f1696182ef1b8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_filter_1a044b9a83d9af60246e4f1696182ef1b8" kindref="member">usageCount</ref>;</highlight></codeline>
<codeline lineno="312" refid="struct_____pa_win_wdm_filter_1acb2256419c942e072c17068bbe5dca8f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m" kindref="compound">KSMULTIPLE_ITEM</ref>*<sp/><ref refid="struct_____pa_win_wdm_filter_1acb2256419c942e072c17068bbe5dca8f" kindref="member">connections</ref>;</highlight></codeline>
<codeline lineno="313" refid="struct_____pa_win_wdm_filter_1a5e676e26c0e890e93bf501853e9b91fe" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m" kindref="compound">KSMULTIPLE_ITEM</ref>*<sp/><ref refid="struct_____pa_win_wdm_filter_1a5e676e26c0e890e93bf501853e9b91fe" kindref="member">nodes</ref>;</highlight></codeline>
<codeline lineno="314" refid="struct_____pa_win_wdm_filter_1a7d9dcc84bbd2a8220c4e4ed6dae36181" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_filter_1a7d9dcc84bbd2a8220c4e4ed6dae36181" kindref="member">filterRefCount</ref>;</highlight></codeline>
<codeline lineno="315"><highlight class="normal">};</highlight></codeline>
<codeline lineno="316"><highlight class="normal"></highlight></codeline>
<codeline lineno="317"><highlight class="normal"></highlight></codeline>
<codeline lineno="318" refid="struct_____pa_win_wdm_device_info" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_____pa_win_wdm_device_info" kindref="compound">__PaWinWdmDeviceInfo</ref></highlight></codeline>
<codeline lineno="319"><highlight class="normal">{</highlight></codeline>
<codeline lineno="320" refid="struct_____pa_win_wdm_device_info_1a529bc0e5844539996188948f28fd6bcd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_pa_device_info" kindref="compound">PaDeviceInfo</ref><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_device_info_1a529bc0e5844539996188948f28fd6bcd" kindref="member">inheritedDeviceInfo</ref>;</highlight></codeline>
<codeline lineno="321" refid="struct_____pa_win_wdm_device_info_1a078805bd1a8e163820775d76673d0813" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>compositeName[MAX_PATH];<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Composite<sp/>name<sp/>consists<sp/>of<sp/>pin<sp/>name<sp/>+<sp/>device<sp/>name<sp/>in<sp/>utf8<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="322" refid="struct_____pa_win_wdm_device_info_1a6bb59c9cdcc8861941e589cf0558dfc4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/><ref refid="struct_____pa_win_wdm_device_info_1a6bb59c9cdcc8861941e589cf0558dfc4" kindref="member">filter</ref>;</highlight></codeline>
<codeline lineno="323" refid="struct_____pa_win_wdm_device_info_1ad47a164d9d771b528bb67bb8da07c839" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_device_info_1ad47a164d9d771b528bb67bb8da07c839" kindref="member">pin</ref>;</highlight></codeline>
<codeline lineno="324" refid="struct_____pa_win_wdm_device_info_1ac4769a798b0d43861e1ce362afe729b2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_device_info_1ac4769a798b0d43861e1ce362afe729b2" kindref="member">muxPosition</ref>;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Used<sp/>only<sp/>for<sp/>input<sp/>devices<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="325" refid="struct_____pa_win_wdm_device_info_1ad338338f56666dd11ecc1da66602fa5f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_device_info_1ad338338f56666dd11ecc1da66602fa5f" kindref="member">endpointPinId</ref>;</highlight></codeline>
<codeline lineno="326"><highlight class="normal">}</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><ref refid="pa__win__wdmks_8c_1a0e4201b3428d9f404a25c14fac68d820" kindref="member">PaWinWdmDeviceInfo</ref>;</highlight></codeline>
<codeline lineno="328"><highlight class="normal"></highlight></codeline>
<codeline lineno="329"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>PaWinWdmHostApiRepresentation<sp/>-<sp/>host<sp/>api<sp/>datastructure<sp/>specific<sp/>to<sp/>this<sp/>implementation<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="330" refid="struct_____pa_win_wdm_host_api_representation" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_____pa_win_wdm_host_api_representation" kindref="compound">__PaWinWdmHostApiRepresentation</ref></highlight></codeline>
<codeline lineno="331"><highlight class="normal">{</highlight></codeline>
<codeline lineno="332" refid="struct_____pa_win_wdm_host_api_representation_1a73b6839eeeedfad62406b6929c26d3ad" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_pa_util_host_api_representation" kindref="compound">PaUtilHostApiRepresentation</ref><sp/><sp/><ref refid="struct_____pa_win_wdm_host_api_representation_1a73b6839eeeedfad62406b6929c26d3ad" kindref="member">inheritedHostApiRep</ref>;</highlight></codeline>
<codeline lineno="333" refid="struct_____pa_win_wdm_host_api_representation_1af4dec3b34a520b1b2aa393fbca9e2c9e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_pa_util_stream_interface" kindref="compound">PaUtilStreamInterface</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_host_api_representation_1af4dec3b34a520b1b2aa393fbca9e2c9e" kindref="member">callbackStreamInterface</ref>;</highlight></codeline>
<codeline lineno="334" refid="struct_____pa_win_wdm_host_api_representation_1a040a7b4993995b26c9128826a8644050" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_pa_util_stream_interface" kindref="compound">PaUtilStreamInterface</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_host_api_representation_1a040a7b4993995b26c9128826a8644050" kindref="member">blockingStreamInterface</ref>;</highlight></codeline>
<codeline lineno="335"><highlight class="normal"></highlight></codeline>
<codeline lineno="336" refid="struct_____pa_win_wdm_host_api_representation_1aefaac80ee7c20f6ab43463d2a153d64c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_pa_util_allocation_group" kindref="compound">PaUtilAllocationGroup</ref>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_host_api_representation_1aefaac80ee7c20f6ab43463d2a153d64c" kindref="member">allocations</ref>;</highlight></codeline>
<codeline lineno="337" refid="struct_____pa_win_wdm_host_api_representation_1a698d7764ee087e177079cca725c08686" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_host_api_representation_1a698d7764ee087e177079cca725c08686" kindref="member">deviceCount</ref>;</highlight></codeline>
<codeline lineno="338"><highlight class="normal">}</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><ref refid="pa__win__wdmks_8c_1a77b99e8756ea1d6b9e3cae415249eec2" kindref="member">PaWinWdmHostApiRepresentation</ref>;</highlight></codeline>
<codeline lineno="340"><highlight class="normal"></highlight></codeline>
<codeline lineno="341" refid="struct_____d_a_t_a_p_a_c_k_e_t" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_____d_a_t_a_p_a_c_k_e_t" kindref="compound">__DATAPACKET</ref></highlight></codeline>
<codeline lineno="342"><highlight class="normal">{</highlight></codeline>
<codeline lineno="343" refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r" kindref="compound">KSSTREAM_HEADER</ref><sp/><sp/><ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>;</highlight></codeline>
<codeline lineno="344" refid="struct_____d_a_t_a_p_a_c_k_e_t_1aa4ee2aff55460a89851b305543017691" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>OVERLAPPED<sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1aa4ee2aff55460a89851b305543017691" kindref="member">Signal</ref>;</highlight></codeline>
<codeline lineno="345"><highlight class="normal">}<sp/><ref refid="pa__win__wdmks_8c_1a6d1fcd4c734c4938cadbb326520d2026" kindref="member">DATAPACKET</ref>;</highlight></codeline>
<codeline lineno="346"><highlight class="normal"></highlight></codeline>
<codeline lineno="347" refid="struct_____pa_i_o_packet" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_____pa_i_o_packet" kindref="compound">__PaIOPacket</ref></highlight></codeline>
<codeline lineno="348"><highlight class="normal">{</highlight></codeline>
<codeline lineno="349" refid="struct_____pa_i_o_packet_1af9b39c3b9381b31ad27daf1d9689e9ae" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____d_a_t_a_p_a_c_k_e_t" kindref="compound">DATAPACKET</ref>*<sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_i_o_packet_1af9b39c3b9381b31ad27daf1d9689e9ae" kindref="member">packet</ref>;</highlight></codeline>
<codeline lineno="350" refid="struct_____pa_i_o_packet_1aac33f08703b3e5553760a3e1e0d68714" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_i_o_packet_1aac33f08703b3e5553760a3e1e0d68714" kindref="member">startByte</ref>;</highlight></codeline>
<codeline lineno="351" refid="struct_____pa_i_o_packet_1a7f5be19ae9613a09a9eff411cea344f2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_i_o_packet_1a7f5be19ae9613a09a9eff411cea344f2" kindref="member">lengthBytes</ref>;</highlight></codeline>
<codeline lineno="352"><highlight class="normal">}<sp/><ref refid="pa__win__wdmks_8c_1a124673d3110129eeef30c4dddbf2ed2e" kindref="member">PaIOPacket</ref>;</highlight></codeline>
<codeline lineno="353"><highlight class="normal"></highlight></codeline>
<codeline lineno="354" refid="struct_____pa_win_wdm_i_o_info" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_____pa_win_wdm_i_o_info" kindref="compound">__PaWinWdmIOInfo</ref></highlight></codeline>
<codeline lineno="355"><highlight class="normal">{</highlight></codeline>
<codeline lineno="356" refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>;</highlight></codeline>
<codeline lineno="357" refid="struct_____pa_win_wdm_i_o_info_1ab2726db73e01500b5088f535ac766738" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_i_o_info_1ab2726db73e01500b5088f535ac766738" kindref="member">hostBuffer</ref>;</highlight></codeline>
<codeline lineno="358" refid="struct_____pa_win_wdm_i_o_info_1a6d8bb24a84a455a3621d7d357160fc39" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_i_o_info_1a6d8bb24a84a455a3621d7d357160fc39" kindref="member">hostBufferSize</ref>;</highlight></codeline>
<codeline lineno="359" refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref>;</highlight></codeline>
<codeline lineno="360" refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref>;</highlight></codeline>
<codeline lineno="361" refid="struct_____pa_win_wdm_i_o_info_1af6be7951457618844e4df735a0f64c90" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_i_o_info_1af6be7951457618844e4df735a0f64c90" kindref="member">bytesPerSample</ref>;</highlight></codeline>
<codeline lineno="362" refid="struct_____pa_win_wdm_i_o_info_1a09ddd7e42c3b90a750e3769f20258201" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_i_o_info_1a09ddd7e42c3b90a750e3769f20258201" kindref="member">noOfPackets</ref>;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Only<sp/>used<sp/>in<sp/>WaveCyclic<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="363" refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<ref refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" kindref="member">events</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>noOfPackets<sp/>handles<sp/>(WaveCyclic)<sp/>1<sp/>(WaveRT)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="364" refid="struct_____pa_win_wdm_i_o_info_1ad1658ab65cd0eaf8d0c0c3b1904125df" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____d_a_t_a_p_a_c_k_e_t" kindref="compound">DATAPACKET</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<ref refid="struct_____pa_win_wdm_i_o_info_1ad1658ab65cd0eaf8d0c0c3b1904125df" kindref="member">packets</ref>;<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>noOfPackets<sp/>packets<sp/>(WaveCyclic)<sp/>2<sp/>(WaveRT)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>WaveRT<sp/>polled<sp/>mode<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="366" refid="struct_____pa_win_wdm_i_o_info_1a9531d0af0db86e249feae8339dd7bfaf" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_i_o_info_1a9531d0af0db86e249feae8339dd7bfaf" kindref="member">lastPosition</ref>;<sp/></highlight></codeline>
<codeline lineno="367" refid="struct_____pa_win_wdm_i_o_info_1a759db1d44a817fa5b51e8a81fe80d038" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_i_o_info_1a759db1d44a817fa5b51e8a81fe80d038" kindref="member">pollCntr</ref>;</highlight></codeline>
<codeline lineno="368"><highlight class="normal">}<sp/><ref refid="pa__win__wdmks_8c_1ac3893d31d094c8c05362e8e99830d488" kindref="member">PaWinWdmIOInfo</ref>;</highlight></codeline>
<codeline lineno="369"><highlight class="normal"></highlight></codeline>
<codeline lineno="370"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>PaWinWdmStream<sp/>-<sp/>a<sp/>stream<sp/>data<sp/>structure<sp/>specifically<sp/>for<sp/>this<sp/>implementation<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="371" refid="struct_____pa_win_wdm_stream" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_____pa_win_wdm_stream" kindref="compound">__PaWinWdmStream</ref></highlight></codeline>
<codeline lineno="372"><highlight class="normal">{</highlight></codeline>
<codeline lineno="373" refid="struct_____pa_win_wdm_stream_1a7e4e2c52c81ca859f290909b0e9868a6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_pa_util_stream_representation" kindref="compound">PaUtilStreamRepresentation</ref><sp/><sp/><ref refid="struct_____pa_win_wdm_stream_1a7e4e2c52c81ca859f290909b0e9868a6" kindref="member">streamRepresentation</ref>;</highlight></codeline>
<codeline lineno="374" refid="struct_____pa_win_wdm_stream_1a3dbf6fed2412e92984b34fba10cbfeb5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_pa_w_d_m_k_s_specific_stream_info" kindref="compound">PaWDMKSSpecificStreamInfo</ref><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream_1a3dbf6fed2412e92984b34fba10cbfeb5" kindref="member">hostApiStreamInfo</ref>;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>This<sp/>holds<sp/>info<sp/>that<sp/>is<sp/>exposed<sp/>through<sp/>PaStreamInfo<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="375" refid="struct_____pa_win_wdm_stream_1ad77f1764e2de9c5a9d2b05ee1a4565ee" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_pa_util_cpu_load_measurer" kindref="compound">PaUtilCpuLoadMeasurer</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream_1ad77f1764e2de9c5a9d2b05ee1a4565ee" kindref="member">cpuLoadMeasurer</ref>;</highlight></codeline>
<codeline lineno="376" refid="struct_____pa_win_wdm_stream_1a2c900cef33bbe8ae112f0de607c61335" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_pa_util_buffer_processor" kindref="compound">PaUtilBufferProcessor</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream_1a2c900cef33bbe8ae112f0de607c61335" kindref="member">bufferProcessor</ref>;</highlight></codeline>
<codeline lineno="377"><highlight class="normal"></highlight></codeline>
<codeline lineno="378"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>PA_TRACE_REALTIME_EVENTS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/>LogHandle<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hLog;</highlight></codeline>
<codeline lineno="380"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="381"><highlight class="normal"></highlight></codeline>
<codeline lineno="382" refid="struct_____pa_win_wdm_stream_1a4dd31c3219fcd2e7cfd39dbf2006d08d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_pa_util_allocation_group" kindref="compound">PaUtilAllocationGroup</ref>*<sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream_1a4dd31c3219fcd2e7cfd39dbf2006d08d" kindref="member">allocGroup</ref>;</highlight></codeline>
<codeline lineno="383" refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_i_o_info" kindref="compound">PaWinWdmIOInfo</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>;</highlight></codeline>
<codeline lineno="384" refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_i_o_info" kindref="compound">PaWinWdmIOInfo</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>;</highlight></codeline>
<codeline lineno="385" refid="struct_____pa_win_wdm_stream_1ab3122c31d95fb7481d45e375fa9a5a3f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream_1ab3122c31d95fb7481d45e375fa9a5a3f" kindref="member">streamStarted</ref>;</highlight></codeline>
<codeline lineno="386" refid="struct_____pa_win_wdm_stream_1a1f917538ec25eacc82713745052815f1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream_1a1f917538ec25eacc82713745052815f1" kindref="member">streamActive</ref>;</highlight></codeline>
<codeline lineno="387" refid="struct_____pa_win_wdm_stream_1a970f778b68693673b00fedf8ff4f201d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream_1a970f778b68693673b00fedf8ff4f201d" kindref="member">streamStop</ref>;</highlight></codeline>
<codeline lineno="388" refid="struct_____pa_win_wdm_stream_1acaa0f377d2148764a2c6dd97c75e87d7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream_1acaa0f377d2148764a2c6dd97c75e87d7" kindref="member">streamAbort</ref>;</highlight></codeline>
<codeline lineno="389" refid="struct_____pa_win_wdm_stream_1a0ab2edba0df711bbda00f8030f290db0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream_1a0ab2edba0df711bbda00f8030f290db0" kindref="member">oldProcessPriority</ref>;</highlight></codeline>
<codeline lineno="390" refid="struct_____pa_win_wdm_stream_1a696e6c139cc0dfad91ab108dbf446a12" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream_1a696e6c139cc0dfad91ab108dbf446a12" kindref="member">streamThread</ref>;</highlight></codeline>
<codeline lineno="391" refid="struct_____pa_win_wdm_stream_1a2ec042a491ca1d0d8a071f4c4901e4c4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream_1a2ec042a491ca1d0d8a071f4c4901e4c4" kindref="member">eventAbort</ref>;</highlight></codeline>
<codeline lineno="392" refid="struct_____pa_win_wdm_stream_1a03f53464c73a442fdb86f340fe54e369" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eventStreamStart[<ref refid="pa__win__wdmks_8c_1abf83566c082ff992efb67a6a533c7ec5a015288f4751df2a3c5680952db2ebc97" kindref="member">StreamStart_kCnt</ref>];<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>0<sp/>=<sp/>OK,<sp/>1<sp/>=<sp/>Failed<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="393" refid="struct_____pa_win_wdm_stream_1a3fde31efa009b90dc634e4cb24507976" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream_1a3fde31efa009b90dc634e4cb24507976" kindref="member">threadResult</ref>;</highlight></codeline>
<codeline lineno="394" refid="struct_____pa_win_wdm_stream_1a515c790a2cfb6e012e152dc1713feb5c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a37c7ac3ace7d2dd1430f40ecdee4ebb6" kindref="member">PaStreamFlags</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream_1a515c790a2cfb6e012e152dc1713feb5c" kindref="member">streamFlags</ref>;</highlight></codeline>
<codeline lineno="395"><highlight class="normal"></highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Capture<sp/>ring<sp/>buffer<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="397" refid="struct_____pa_win_wdm_stream_1adece2546e5f0f11c92aa5ddd757bc251" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_pa_util_ring_buffer" kindref="compound">PaUtilRingBuffer</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream_1adece2546e5f0f11c92aa5ddd757bc251" kindref="member">ringBuffer</ref>;</highlight></codeline>
<codeline lineno="398" refid="struct_____pa_win_wdm_stream_1aad0c5a37686d5d36e970628c720348fd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream_1aad0c5a37686d5d36e970628c720348fd" kindref="member">ringBufferData</ref>;</highlight></codeline>
<codeline lineno="399"><highlight class="normal"></highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>These<sp/>values<sp/>handle<sp/>the<sp/>case<sp/>where<sp/>the<sp/>user<sp/>wants<sp/>to<sp/>use<sp/>fewer</highlight></codeline>
<codeline lineno="401"><highlight class="comment"><sp/><sp/><sp/><sp/>*<sp/>channels<sp/>than<sp/>the<sp/>device<sp/>has<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="402" refid="struct_____pa_win_wdm_stream_1ac89b1708e9a4877523c85ed6961d4fe7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream_1ac89b1708e9a4877523c85ed6961d4fe7" kindref="member">userInputChannels</ref>;</highlight></codeline>
<codeline lineno="403" refid="struct_____pa_win_wdm_stream_1ae9c3eec995fc49fa3fadb925430b359c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream_1ae9c3eec995fc49fa3fadb925430b359c" kindref="member">deviceInputChannels</ref>;</highlight></codeline>
<codeline lineno="404" refid="struct_____pa_win_wdm_stream_1a4d0bdb5754a747c2be09c7a3829efa9c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream_1a4d0bdb5754a747c2be09c7a3829efa9c" kindref="member">userOutputChannels</ref>;</highlight></codeline>
<codeline lineno="405" refid="struct_____pa_win_wdm_stream_1aea3f97d4daebbcf1865bcce7103e5e1b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream_1aea3f97d4daebbcf1865bcce7103e5e1b" kindref="member">deviceOutputChannels</ref>;</highlight></codeline>
<codeline lineno="406"><highlight class="normal">};</highlight></codeline>
<codeline lineno="407"><highlight class="normal"></highlight></codeline>
<codeline lineno="408"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Gather<sp/>all<sp/>processing<sp/>variables<sp/>in<sp/>a<sp/>struct<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="409" refid="struct_____pa_process_thread_info" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_____pa_process_thread_info" kindref="compound">__PaProcessThreadInfo</ref><sp/></highlight></codeline>
<codeline lineno="410"><highlight class="normal">{</highlight></codeline>
<codeline lineno="411" refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream" kindref="compound">PaWinWdmStream</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>;</highlight></codeline>
<codeline lineno="412" refid="struct_____pa_process_thread_info_1a136fb47bcce3eba9d06797ac97109f17" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_pa_stream_callback_time_info" kindref="compound">PaStreamCallbackTimeInfo</ref><sp/><sp/><sp/><sp/><ref refid="struct_____pa_process_thread_info_1a136fb47bcce3eba9d06797ac97109f17" kindref="member">ti</ref>;</highlight></codeline>
<codeline lineno="413" refid="struct_____pa_process_thread_info_1adaf9f419fc2faac367df5ce8807064a1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a55a005924bcfa0424594f4f65cd4ae82" kindref="member">PaStreamCallbackFlags</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_process_thread_info_1adaf9f419fc2faac367df5ce8807064a1" kindref="member">underover</ref>;</highlight></codeline>
<codeline lineno="414" refid="struct_____pa_process_thread_info_1aff68ee41ea10c48f0a7a59b1b914fb6b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_process_thread_info_1aff68ee41ea10c48f0a7a59b1b914fb6b" kindref="member">cbResult</ref>;</highlight></codeline>
<codeline lineno="415" refid="struct_____pa_process_thread_info_1aa45f4971b33af9b928d1b158e0e508a2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">volatile</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_process_thread_info_1aa45f4971b33af9b928d1b158e0e508a2" kindref="member">pending</ref>;</highlight></codeline>
<codeline lineno="416" refid="struct_____pa_process_thread_info_1abd6f079f77dad8c8489c060f8d68fedb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">volatile</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_process_thread_info_1abd6f079f77dad8c8489c060f8d68fedb" kindref="member">priming</ref>;</highlight></codeline>
<codeline lineno="417" refid="struct_____pa_process_thread_info_1ad138de1cdf8c7e4890fb41329daf4477" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">volatile</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_process_thread_info_1ad138de1cdf8c7e4890fb41329daf4477" kindref="member">pinsStarted</ref>;</highlight></codeline>
<codeline lineno="418" refid="struct_____pa_process_thread_info_1ae4e34696e69af44278c7633b96f4d683" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_process_thread_info_1ae4e34696e69af44278c7633b96f4d683" kindref="member">timeout</ref>;</highlight></codeline>
<codeline lineno="419" refid="struct_____pa_process_thread_info_1a1f40d5b9b559f02e1a60c3aafb577038" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_process_thread_info_1a1f40d5b9b559f02e1a60c3aafb577038" kindref="member">captureHead</ref>;</highlight></codeline>
<codeline lineno="420" refid="struct_____pa_process_thread_info_1a0176c49820b2df61da28580d9702f64f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_process_thread_info_1a0176c49820b2df61da28580d9702f64f" kindref="member">captureTail</ref>;</highlight></codeline>
<codeline lineno="421" refid="struct_____pa_process_thread_info_1afaabcdb7ba9f573a5ccb51ad217d9786" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_process_thread_info_1afaabcdb7ba9f573a5ccb51ad217d9786" kindref="member">renderHead</ref>;</highlight></codeline>
<codeline lineno="422" refid="struct_____pa_process_thread_info_1a46af18819185c66ad788396981ea7b75" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_process_thread_info_1a46af18819185c66ad788396981ea7b75" kindref="member">renderTail</ref>;</highlight></codeline>
<codeline lineno="423" refid="struct_____pa_process_thread_info_1ac4bc0cbbaebc5a15285da84261d50e81" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_i_o_packet" kindref="compound">PaIOPacket</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>capturePackets[4];</highlight></codeline>
<codeline lineno="424" refid="struct_____pa_process_thread_info_1a174161d8cef2629818fd34a192578992" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_i_o_packet" kindref="compound">PaIOPacket</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>renderPackets[4];</highlight></codeline>
<codeline lineno="425"><highlight class="normal">};</highlight></codeline>
<codeline lineno="426"><highlight class="normal"></highlight></codeline>
<codeline lineno="427"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Used<sp/>for<sp/>transferring<sp/>device<sp/>infos<sp/>during<sp/>scanning<sp/>/<sp/>rescanning<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="428" refid="struct_____pa_win_w_d_m_scan_device_infos_results" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_____pa_win_w_d_m_scan_device_infos_results" kindref="compound">__PaWinWDMScanDeviceInfosResults</ref></highlight></codeline>
<codeline lineno="429"><highlight class="normal">{<sp/></highlight></codeline>
<codeline lineno="430" refid="struct_____pa_win_w_d_m_scan_device_infos_results_1a2fe91f3f6605d7624f4b47f4b43aa5c1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_pa_device_info" kindref="compound">PaDeviceInfo</ref><sp/>**<ref refid="struct_____pa_win_w_d_m_scan_device_infos_results_1a2fe91f3f6605d7624f4b47f4b43aa5c1" kindref="member">deviceInfos</ref>;</highlight></codeline>
<codeline lineno="431" refid="struct_____pa_win_w_d_m_scan_device_infos_results_1ada9f50c629190a27cff9479fc24fc3fa" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1ad79317e65bde63d76c4b8e711ac5a361" kindref="member">PaDeviceIndex</ref><sp/><ref refid="struct_____pa_win_w_d_m_scan_device_infos_results_1ada9f50c629190a27cff9479fc24fc3fa" kindref="member">defaultInputDevice</ref>;</highlight></codeline>
<codeline lineno="432" refid="struct_____pa_win_w_d_m_scan_device_infos_results_1ae035601f901c22bee7f4d4fb456e6f27" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1ad79317e65bde63d76c4b8e711ac5a361" kindref="member">PaDeviceIndex</ref><sp/><ref refid="struct_____pa_win_w_d_m_scan_device_infos_results_1ae035601f901c22bee7f4d4fb456e6f27" kindref="member">defaultOutputDevice</ref>;</highlight></codeline>
<codeline lineno="433"><highlight class="normal">}<sp/><ref refid="pa__win__wdmks_8c_1ad05589077a84c0c0b8b2704e54b54cad" kindref="member">PaWinWDMScanDeviceInfosResults</ref>;</highlight></codeline>
<codeline lineno="434"><highlight class="normal"></highlight></codeline>
<codeline lineno="435"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>cPacketsArrayMask<sp/>=<sp/>3;</highlight></codeline>
<codeline lineno="436"><highlight class="normal"></highlight></codeline>
<codeline lineno="437" refid="pa__win__wdmks_8c_1a899ecd269a5995deeb6433a13297e6e7" refkind="member"><highlight class="normal">HMODULE<sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a899ecd269a5995deeb6433a13297e6e7" kindref="member">DllKsUser</ref><sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="438" refid="pa__win__wdmks_8c_1a6d5e1e7c5625b65ea3efb5169e7320ac" refkind="member"><highlight class="normal"><ref refid="pa__win__wdmks_8c_1a055163a2257c29ab3084cd304d1ffb92" kindref="member">KSCREATEPIN</ref>*<sp/><ref refid="pa__win__wdmks_8c_1a6d5e1e7c5625b65ea3efb5169e7320ac" kindref="member">FunctionKsCreatePin</ref><sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="439"><highlight class="normal"></highlight></codeline>
<codeline lineno="440"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>prototypes<sp/>for<sp/>functions<sp/>declared<sp/>in<sp/>this<sp/>file<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="441"><highlight class="normal"></highlight></codeline>
<codeline lineno="442"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__cplusplus</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="443"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;C&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="444"><highlight class="normal">{</highlight></codeline>
<codeline lineno="445"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>__cplusplus<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="446"><highlight class="normal"></highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/><ref refid="pa__win__wdmks_8c_1a69eb4c041d72171b7053264130e50a46" kindref="member">PaWinWdm_Initialize</ref>(<sp/><ref refid="struct_pa_util_host_api_representation" kindref="compound">PaUtilHostApiRepresentation</ref><sp/>**hostApi,<sp/><ref refid="portaudio_8h_1aeef6da084c57c70aa94be97411e19930" kindref="member">PaHostApiIndex</ref><sp/>index<sp/>);</highlight></codeline>
<codeline lineno="448"><highlight class="normal"></highlight></codeline>
<codeline lineno="449"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__cplusplus</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="450"><highlight class="normal">}</highlight></codeline>
<codeline lineno="451"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>__cplusplus<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="452"><highlight class="normal"></highlight></codeline>
<codeline lineno="453"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Low<sp/>level<sp/>I/O<sp/>functions<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="454"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>WdmSyncIoctl(<ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/>handle,</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>ioctlNumber,</highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>inBuffer,</highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>inBufferCount,</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>outBuffer,</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>outBufferCount,</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal">*<sp/>bytesReturned);</highlight></codeline>
<codeline lineno="461"><highlight class="normal"></highlight></codeline>
<codeline lineno="462"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>WdmGetPropertySimple(<ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/>handle,</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>GUID*<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>guidPropertySet,</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>property,</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/><ref refid="lib_2expat_8h_1a4a30a13b813682e68c5b689b45c65971" kindref="member">value</ref>,</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>valueCount);</highlight></codeline>
<codeline lineno="467"><highlight class="normal"></highlight></codeline>
<codeline lineno="468"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>WdmSetPropertySimple(<ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/>handle,</highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>GUID*<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>guidPropertySet,</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>property,</highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/><ref refid="lib_2expat_8h_1a4a30a13b813682e68c5b689b45c65971" kindref="member">value</ref>,</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>valueCount,</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>instance,</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>instanceCount);</highlight></codeline>
<codeline lineno="475"><highlight class="normal"></highlight></codeline>
<codeline lineno="476"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>WdmGetPinPropertySimple(<ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/><sp/>handle,</highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>pinId,</highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>GUID*<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>guidPropertySet,</highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>property,</highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/><ref refid="lib_2expat_8h_1a4a30a13b813682e68c5b689b45c65971" kindref="member">value</ref>,</highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>valueCount,</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal">*<sp/>byteCount);</highlight></codeline>
<codeline lineno="483"><highlight class="normal"></highlight></codeline>
<codeline lineno="484"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>WdmGetPinPropertyMulti(<ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/><sp/>handle,</highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>pinId,</highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>GUID*<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>guidPropertySet,</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>property,</highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m" kindref="compound">KSMULTIPLE_ITEM</ref>**<sp/>ksMultipleItem);</highlight></codeline>
<codeline lineno="489"><highlight class="normal"></highlight></codeline>
<codeline lineno="490"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>WdmGetPropertyMulti(<ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/>handle,</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>GUID*<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>guidPropertySet,</highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>property,</highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m" kindref="compound">KSMULTIPLE_ITEM</ref>**<sp/>ksMultipleItem);</highlight></codeline>
<codeline lineno="494"><highlight class="normal"></highlight></codeline>
<codeline lineno="495"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>WdmSetMuxNodeProperty(<ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/>handle,</highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ULONG<sp/>nodeId,</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ULONG<sp/>pinId);</highlight></codeline>
<codeline lineno="498"><highlight class="normal"></highlight></codeline>
<codeline lineno="499"><highlight class="normal"></highlight></codeline>
<codeline lineno="501"><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>PinNew(<ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/>parentFilter,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>pinId,<sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref>*<sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>);</highlight></codeline>
<codeline lineno="502"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>PinFree(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pin);</highlight></codeline>
<codeline lineno="503"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>PinClose(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pin);</highlight></codeline>
<codeline lineno="504"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PinInstantiate(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pin);</highlight></codeline>
<codeline lineno="505"><highlight class="normal"></highlight><highlight class="comment">/*static<sp/>PaError<sp/>PinGetState(PaWinWdmPin*<sp/>pin,<sp/>KSSTATE*<sp/>state);<sp/>NOT<sp/>USED<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="506"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PinSetState(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pin,<sp/><ref refid="ks_8h_1a4f0d9baddd3d96a7541645f20c7e28d7" kindref="member">KSSTATE</ref><sp/>state);</highlight></codeline>
<codeline lineno="507"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PinSetFormat(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pin,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>WAVEFORMATEX*<sp/><ref refid="_export_p_c_m_8cpp_1a317afff57d87a89158c2b038d37b2b08" kindref="member">format</ref>);</highlight></codeline>
<codeline lineno="508"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PinIsFormatSupported(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pin,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>WAVEFORMATEX*<sp/><ref refid="_export_p_c_m_8cpp_1a317afff57d87a89158c2b038d37b2b08" kindref="member">format</ref>);</highlight></codeline>
<codeline lineno="509"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>WaveRT<sp/>support<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="510"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PinQueryNotificationSupport(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pPin,<sp/><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref>*<sp/>pbResult);</highlight></codeline>
<codeline lineno="511"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PinGetBuffer(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pPin,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">**<sp/>pBuffer,<sp/><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref>*<sp/>pRequestedBufSize,<sp/><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref>*<sp/>pbCallMemBarrier);</highlight></codeline>
<codeline lineno="512"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PinRegisterPositionRegister(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pPin);</highlight></codeline>
<codeline lineno="513"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PinRegisterNotificationHandle(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pPin,<sp/><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/>handle);</highlight></codeline>
<codeline lineno="514"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PinUnregisterNotificationHandle(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pPin,<sp/><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/>handle);</highlight></codeline>
<codeline lineno="515"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PinGetHwLatency(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pPin,<sp/>ULONG*<sp/>pFifoSize,<sp/>ULONG*<sp/>pChipsetDelay,<sp/>ULONG*<sp/>pCodecDelay);</highlight></codeline>
<codeline lineno="516"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PinGetAudioPositionMemoryMapped(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pPin,<sp/>ULONG*<sp/>pPosition);</highlight></codeline>
<codeline lineno="517"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PinGetAudioPositionViaIOCTLRead(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pPin,<sp/>ULONG*<sp/>pPosition);</highlight></codeline>
<codeline lineno="518"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PinGetAudioPositionViaIOCTLWrite(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pPin,<sp/>ULONG*<sp/>pPosition);</highlight></codeline>
<codeline lineno="519"><highlight class="normal"></highlight></codeline>
<codeline lineno="520"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Filter<sp/>management<sp/>functions<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="521"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/>FilterNew(<ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8" kindref="member">PaWDMKSType</ref><sp/><ref refid="namespacewaflib_1_1_tools_1_1tex_1a7638d43e3ce55594540ea118202a9a40" kindref="member">type</ref>,<sp/><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref><sp/>devNode,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">wchar_t</highlight><highlight class="normal">*<sp/>filterName,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">wchar_t</highlight><highlight class="normal">*<sp/><ref refid="struct_____pa_win_wdm_muxed_input_1a07079d0c8604c5a64fc338263c5e2468" kindref="member">friendlyName</ref>,<sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref>*<sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>);</highlight></codeline>
<codeline lineno="522"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>FilterInitializePins(<ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/><ref refid="mm_8c_1a2719b8cbe8dc1a5064a418269c72e528" kindref="member">filter</ref>);</highlight></codeline>
<codeline lineno="523"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>FilterFree(<ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/>filter);</highlight></codeline>
<codeline lineno="524"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>FilterAddRef(<ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/>filter);</highlight></codeline>
<codeline lineno="525"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>FilterCreatePin(</highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/>filter,</highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>pinId,</highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>WAVEFORMATEX*<sp/>wfex,</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref>*<sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>);</highlight></codeline>
<codeline lineno="530"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>FilterUse(<ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/>filter);</highlight></codeline>
<codeline lineno="531"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>FilterRelease(<ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/>filter);</highlight></codeline>
<codeline lineno="532"><highlight class="normal"></highlight></codeline>
<codeline lineno="533"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Hot<sp/>plug<sp/>functions<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="534"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref><sp/>IsDeviceTheSame(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_____pa_win_wdm_device_info" kindref="compound">PaWinWdmDeviceInfo</ref>*<sp/>pDev1,</highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_____pa_win_wdm_device_info" kindref="compound">PaWinWdmDeviceInfo</ref>*<sp/>pDev2);</highlight></codeline>
<codeline lineno="536"><highlight class="normal"></highlight></codeline>
<codeline lineno="537"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Interface<sp/>functions<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="538"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Terminate(<sp/></highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/><ref refid="struct_pa_util_host_api_representation" kindref="compound">PaUtilHostApiRepresentation</ref><sp/>*hostApi<sp/>);</highlight></codeline>
<codeline lineno="539"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>IsFormatSupported(</highlight></codeline>
<codeline lineno="540"><highlight class="normal"></highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/><ref refid="struct_pa_util_host_api_representation" kindref="compound">PaUtilHostApiRepresentation</ref><sp/>*hostApi,</highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_pa_stream_parameters" kindref="compound">PaStreamParameters</ref><sp/>*inputParameters,</highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_pa_stream_parameters" kindref="compound">PaStreamParameters</ref><sp/>*outputParameters,</highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="namespacepatest__suggested__vs__streaminfo__latency_1a14f2ecd6f756d329f6df4096833062d0" kindref="member">sampleRate</ref><sp/>);</highlight></codeline>
<codeline lineno="544"><highlight class="normal"></highlight></codeline>
<codeline lineno="545"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>ScanDeviceInfos(<sp/></highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/><ref refid="struct_pa_util_host_api_representation" kindref="compound">PaUtilHostApiRepresentation</ref><sp/>*hostApi,<sp/><ref refid="portaudio_8h_1aeef6da084c57c70aa94be97411e19930" kindref="member">PaHostApiIndex</ref><sp/>index,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>**newDeviceInfos,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>*newDeviceCount<sp/>);</highlight></codeline>
<codeline lineno="546"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>CommitDeviceInfos(<sp/></highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/><ref refid="struct_pa_util_host_api_representation" kindref="compound">PaUtilHostApiRepresentation</ref><sp/>*hostApi,<sp/><ref refid="portaudio_8h_1aeef6da084c57c70aa94be97411e19930" kindref="member">PaHostApiIndex</ref><sp/>index,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*deviceInfos,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>deviceCount<sp/>);</highlight></codeline>
<codeline lineno="547"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>DisposeDeviceInfos(<sp/></highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/><ref refid="struct_pa_util_host_api_representation" kindref="compound">PaUtilHostApiRepresentation</ref><sp/>*hostApi,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*deviceInfos,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>deviceCount<sp/>);</highlight></codeline>
<codeline lineno="548"><highlight class="normal"></highlight></codeline>
<codeline lineno="549"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>OpenStream(</highlight></codeline>
<codeline lineno="550"><highlight class="normal"></highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/><ref refid="struct_pa_util_host_api_representation" kindref="compound">PaUtilHostApiRepresentation</ref><sp/>*hostApi,</highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref>**<sp/><ref refid="lib_2expat_8h_1a755339d27872b13735c2cab829e47157" kindref="member">s</ref>,</highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_pa_stream_parameters" kindref="compound">PaStreamParameters</ref><sp/>*inputParameters,</highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_pa_stream_parameters" kindref="compound">PaStreamParameters</ref><sp/>*outputParameters,</highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="namespacepatest__suggested__vs__streaminfo__latency_1a14f2ecd6f756d329f6df4096833062d0" kindref="member">sampleRate</ref>,</highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>framesPerBuffer,</highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a37c7ac3ace7d2dd1430f40ecdee4ebb6" kindref="member">PaStreamFlags</ref><sp/>streamFlags,</highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a8a60fb2a5ec9cbade3f54a9c978e2710" kindref="member">PaStreamCallback</ref><sp/>*streamCallback,</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<ref refid="xmlparse_8c_1a4b666535c828e23ccd16510a0a1a1943" kindref="member">userData</ref><sp/>);</highlight></codeline>
<codeline lineno="559"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>CloseStream(<sp/><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref>*<sp/>stream<sp/>);</highlight></codeline>
<codeline lineno="560"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>StartStream(<sp/><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref><sp/>*stream<sp/>);</highlight></codeline>
<codeline lineno="561"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>StopStream(<sp/><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref><sp/>*stream<sp/>);</highlight></codeline>
<codeline lineno="562"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>AbortStream(<sp/><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref><sp/>*stream<sp/>);</highlight></codeline>
<codeline lineno="563"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>IsStreamStopped(<sp/><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref><sp/>*<ref refid="lib_2expat_8h_1a755339d27872b13735c2cab829e47157" kindref="member">s</ref><sp/>);</highlight></codeline>
<codeline lineno="564"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>IsStreamActive(<sp/><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref><sp/>*stream<sp/>);</highlight></codeline>
<codeline lineno="565"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1af17a7e6d0471a23071acf8dbd7bbe4bd" kindref="member">PaTime</ref><sp/>GetStreamTime(<sp/><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref><sp/>*stream<sp/>);</highlight></codeline>
<codeline lineno="566"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>GetStreamCpuLoad(<sp/><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref>*<sp/>stream<sp/>);</highlight></codeline>
<codeline lineno="567"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/><ref refid="pa__mac__core__blocking_8c_1a9e7f111c33d1e80f40473846864e84fa" kindref="member">ReadStream</ref>(</highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref>*<sp/>stream,</highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<ref refid="structbuffer" kindref="compound">buffer</ref>,</highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>frames<sp/>);</highlight></codeline>
<codeline lineno="571"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/><ref refid="pa__mac__core__blocking_8c_1a0cfb7772846808945bd521d23d5626eb" kindref="member">WriteStream</ref>(</highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref>*<sp/>stream,</highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<ref refid="structbuffer" kindref="compound">buffer</ref>,</highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>frames<sp/>);</highlight></codeline>
<codeline lineno="575"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">signed</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="pa__mac__core__blocking_8c_1a82aa1e30985c7924247e8f45fc356d46" kindref="member">GetStreamReadAvailable</ref>(<sp/><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref>*<sp/>stream<sp/>);</highlight></codeline>
<codeline lineno="576"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">signed</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="pa__mac__core__blocking_8c_1ad7ee6bd74b3109101f1eb4ca0514c8b0" kindref="member">GetStreamWriteAvailable</ref>(<sp/><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref>*<sp/>stream<sp/>);</highlight></codeline>
<codeline lineno="577"><highlight class="normal"></highlight></codeline>
<codeline lineno="578"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Utility<sp/>functions<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="579"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>GetWfexSize(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>WAVEFORMATEX*<sp/>wfex);</highlight></codeline>
<codeline lineno="580"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>**<sp/>BuildFilterList(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">*<sp/>filterCount,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">*<sp/>noOfPaDevices,<sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref>*<sp/>result);</highlight></codeline>
<codeline lineno="581"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref><sp/>PinWrite(<ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/>h,<sp/><ref refid="struct_____d_a_t_a_p_a_c_k_e_t" kindref="compound">DATAPACKET</ref>*<sp/><ref refid="xmltok_8h_1a94b60f3beb36ae85555d36dc9816769c" kindref="member">p</ref>);</highlight></codeline>
<codeline lineno="582"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref><sp/>PinRead(<ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/>h,<sp/><ref refid="struct_____d_a_t_a_p_a_c_k_e_t" kindref="compound">DATAPACKET</ref>*<sp/>p);</highlight></codeline>
<codeline lineno="583"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>DuplicateFirstChannelInt16(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/><ref refid="structbuffer" kindref="compound">buffer</ref>,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>channels,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="test__rw__echo_8c_1a39c8d1039645bc924aecc49d76f472a0" kindref="member">samples</ref>);</highlight></codeline>
<codeline lineno="584"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>DuplicateFirstChannelInt24(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/><ref refid="structbuffer" kindref="compound">buffer</ref>,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>channels,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="test__rw__echo_8c_1a39c8d1039645bc924aecc49d76f472a0" kindref="member">samples</ref>);</highlight></codeline>
<codeline lineno="585"><highlight class="normal"><ref refid="pa__win__wdmks_8c_1ad744bd36cb3631b1dc11beb41dcc238c" kindref="member">PA_THREAD_FUNC</ref><sp/><ref refid="pa__win__wdmks_8c_1a7575d59c6ddcacfebfe2831e1743cff7" kindref="member">ProcessingThread</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*);</highlight></codeline>
<codeline lineno="586"><highlight class="normal"></highlight></codeline>
<codeline lineno="587"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Pin<sp/>handler<sp/>functions<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="588"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PaPinCaptureEventHandler_WaveCyclic(<ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref>*<sp/>pInfo,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>eventIndex);</highlight></codeline>
<codeline lineno="589"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PaPinCaptureSubmitHandler_WaveCyclic(<ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref>*<sp/>pInfo,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>eventIndex);</highlight></codeline>
<codeline lineno="590"><highlight class="normal"></highlight></codeline>
<codeline lineno="591"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PaPinRenderEventHandler_WaveCyclic(<ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref>*<sp/>pInfo,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>eventIndex);</highlight></codeline>
<codeline lineno="592"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PaPinRenderSubmitHandler_WaveCyclic(<ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref>*<sp/>pInfo,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>eventIndex);</highlight></codeline>
<codeline lineno="593"><highlight class="normal"></highlight></codeline>
<codeline lineno="594"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PaPinCaptureEventHandler_WaveRTEvent(<ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref>*<sp/>pInfo,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>eventIndex);</highlight></codeline>
<codeline lineno="595"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PaPinCaptureEventHandler_WaveRTPolled(<ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref>*<sp/>pInfo,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>eventIndex);</highlight></codeline>
<codeline lineno="596"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PaPinCaptureSubmitHandler_WaveRTEvent(<ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref>*<sp/>pInfo,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>eventIndex);</highlight></codeline>
<codeline lineno="597"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PaPinCaptureSubmitHandler_WaveRTPolled(<ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref>*<sp/>pInfo,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>eventIndex);</highlight></codeline>
<codeline lineno="598"><highlight class="normal"></highlight></codeline>
<codeline lineno="599"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PaPinRenderEventHandler_WaveRTEvent(<ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref>*<sp/>pInfo,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>eventIndex);</highlight></codeline>
<codeline lineno="600"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PaPinRenderEventHandler_WaveRTPolled(<ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref>*<sp/>pInfo,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>eventIndex);</highlight></codeline>
<codeline lineno="601"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PaPinRenderSubmitHandler_WaveRTEvent(<ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref>*<sp/>pInfo,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>eventIndex);</highlight></codeline>
<codeline lineno="602"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PaPinRenderSubmitHandler_WaveRTPolled(<ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref>*<sp/>pInfo,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>eventIndex);</highlight></codeline>
<codeline lineno="603"><highlight class="normal"></highlight></codeline>
<codeline lineno="604"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Function<sp/>bodies<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="605"><highlight class="normal"></highlight></codeline>
<codeline lineno="606"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(_DEBUG)<sp/>&amp;&amp;<sp/>defined(PA_ENABLE_DEBUG_OUTPUT)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="607"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PA_WDMKS_SET_TREF</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="608"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1af17a7e6d0471a23071acf8dbd7bbe4bd" kindref="member">PaTime</ref><sp/>tRef<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="609"><highlight class="normal"></highlight></codeline>
<codeline lineno="610"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>PaWinWdmDebugPrintf(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>fmt,<sp/>...)</highlight></codeline>
<codeline lineno="611"><highlight class="normal">{</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/>va_list<sp/>list;</highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="structbuffer" kindref="compound">buffer</ref>[1024];</highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1af17a7e6d0471a23071acf8dbd7bbe4bd" kindref="member">PaTime</ref><sp/><ref refid="octave__test_8m_1aaccc9105df5383111407fd5b41255e23" kindref="member">t</ref><sp/>=<sp/><ref refid="pa__util_8h_1a9598384d28d22d589f607ca1069cc04c" kindref="member">PaUtil_GetTime</ref>()<sp/>-<sp/>tRef;</highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/>va_start(list,<sp/>fmt);</highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/>_vsnprintf(buffer,<sp/>1023,<sp/>fmt,<sp/>list);</highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/>va_end(list);</highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8c_1a775ad90aa83e8a15e724f1b0fc55a0d3" kindref="member">PaUtil_DebugPrint</ref>(</highlight><highlight class="stringliteral">&quot;%6.3lf:<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>t,<sp/>buffer);</highlight></codeline>
<codeline lineno="619"><highlight class="normal">}</highlight></codeline>
<codeline lineno="620"><highlight class="normal"></highlight></codeline>
<codeline lineno="621"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>PA_DEBUG</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="622"><highlight class="normal"></highlight><highlight class="preprocessor">#undef<sp/>PA_DEBUG</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="623"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PA_DEBUG(x)<sp/><sp/><sp/><sp/>PaWinWdmDebugPrintf<sp/>x<sp/>;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="624"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="625"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="626"><highlight class="normal"></highlight></codeline>
<codeline lineno="627"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref><sp/>IsDeviceTheSame(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_____pa_win_wdm_device_info" kindref="compound">PaWinWdmDeviceInfo</ref>*<sp/>pDev1,</highlight></codeline>
<codeline lineno="628"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_____pa_win_wdm_device_info" kindref="compound">PaWinWdmDeviceInfo</ref>*<sp/>pDev2)</highlight></codeline>
<codeline lineno="629"><highlight class="normal">{</highlight></codeline>
<codeline lineno="630"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pDev1<sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>||<sp/>pDev2<sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;</highlight></codeline>
<codeline lineno="632"><highlight class="normal"></highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pDev1<sp/>==<sp/>pDev2)</highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cext_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>;</highlight></codeline>
<codeline lineno="635"><highlight class="normal"></highlight></codeline>
<codeline lineno="636"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(strcmp(pDev1-&gt;<ref refid="struct_____pa_win_wdm_device_info_1a078805bd1a8e163820775d76673d0813" kindref="member">compositeName</ref>,<sp/>pDev2-&gt;<ref refid="struct_____pa_win_wdm_device_info_1a078805bd1a8e163820775d76673d0813" kindref="member">compositeName</ref>)<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cext_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>;</highlight></codeline>
<codeline lineno="638"><highlight class="normal"></highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;</highlight></codeline>
<codeline lineno="640"><highlight class="normal">}</highlight></codeline>
<codeline lineno="641"><highlight class="normal"></highlight></codeline>
<codeline lineno="642"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref><sp/>IsEarlierThanVista()</highlight></codeline>
<codeline lineno="643"><highlight class="normal">{</highlight></codeline>
<codeline lineno="644"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="645"><highlight class="comment">NOTE:<sp/>GetVersionEx()<sp/>is<sp/>deprecated<sp/>as<sp/>of<sp/>Windows<sp/>8.1<sp/>and<sp/>can<sp/>not<sp/>be<sp/>used<sp/>to<sp/>reliably<sp/>detect</highlight></codeline>
<codeline lineno="646"><highlight class="comment">versions<sp/>of<sp/>Windows<sp/>higher<sp/>than<sp/>Windows<sp/>8<sp/>(due<sp/>to<sp/>manifest<sp/>requirements<sp/>for<sp/>reporting<sp/>higher<sp/>versions).</highlight></codeline>
<codeline lineno="647"><highlight class="comment">Microsoft<sp/>recommends<sp/>switching<sp/>to<sp/>VerifyVersionInfo<sp/>(available<sp/>on<sp/>Win<sp/>2k<sp/>and<sp/>later),<sp/>however<sp/>GetVersionEx</highlight></codeline>
<codeline lineno="648"><highlight class="comment">is<sp/>is<sp/>faster,<sp/>for<sp/>now<sp/>we<sp/>just<sp/>disable<sp/>the<sp/>deprecation<sp/>warning.</highlight></codeline>
<codeline lineno="649"><highlight class="comment">See:<sp/>https://msdn.microsoft.com/en-us/library/windows/desktop/ms724451(v=vs.85).aspx</highlight></codeline>
<codeline lineno="650"><highlight class="comment">See:<sp/>http://www.codeproject.com/Articles/678606/Part-Overcoming-Windows-s-deprecation-of-GetVe</highlight></codeline>
<codeline lineno="651"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="652"><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>warning<sp/>(disable<sp/>:<sp/>4996)<sp/></highlight><highlight class="comment">/*<sp/>use<sp/>of<sp/>GetVersionEx<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="653"><highlight class="normal"></highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/><sp/><sp/>OSVERSIONINFO<sp/>osvi;</highlight></codeline>
<codeline lineno="655"><highlight class="normal"><sp/><sp/><sp/><sp/>osvi.dwOSVersionInfoSize<sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(osvi);</highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(GetVersionEx(&amp;osvi)<sp/>&amp;&amp;<sp/>osvi.dwMajorVersion&lt;6)</highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cext_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>;</highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;</highlight></codeline>
<codeline lineno="661"><highlight class="normal"></highlight></codeline>
<codeline lineno="662"><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>warning<sp/>(default<sp/>:<sp/>4996)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="663"><highlight class="normal">}</highlight></codeline>
<codeline lineno="664"><highlight class="normal"></highlight></codeline>
<codeline lineno="665"><highlight class="normal"></highlight></codeline>
<codeline lineno="666"><highlight class="normal"></highlight></codeline>
<codeline lineno="667"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>MemoryBarrierDummy(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="668"><highlight class="normal">{</highlight></codeline>
<codeline lineno="669"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Do<sp/>nothing<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="670"><highlight class="normal">}</highlight></codeline>
<codeline lineno="671"><highlight class="normal"></highlight></codeline>
<codeline lineno="672"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>MemoryBarrierRead(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="673"><highlight class="normal">{</highlight></codeline>
<codeline lineno="674"><highlight class="normal"><sp/><sp/><sp/><sp/>PaUtil_ReadMemoryBarrier();</highlight></codeline>
<codeline lineno="675"><highlight class="normal">}</highlight></codeline>
<codeline lineno="676"><highlight class="normal"></highlight></codeline>
<codeline lineno="677"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>MemoryBarrierWrite(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="678"><highlight class="normal">{</highlight></codeline>
<codeline lineno="679"><highlight class="normal"><sp/><sp/><sp/><sp/>PaUtil_WriteMemoryBarrier();</highlight></codeline>
<codeline lineno="680"><highlight class="normal">}</highlight></codeline>
<codeline lineno="681"><highlight class="normal"></highlight></codeline>
<codeline lineno="682"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>GetWfexSize(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>WAVEFORMATEX*<sp/>wfex)</highlight></codeline>
<codeline lineno="683"><highlight class="normal">{</highlight></codeline>
<codeline lineno="684"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>wfex-&gt;wFormatTag<sp/>==<sp/><ref refid="wav__w64_8h_1ac6bfa7273251ec8fc11ef21ca645ad90a16e7ae31fde201d5d97243c1b8dd4b7c" kindref="member">WAVE_FORMAT_PCM</ref><sp/>)</highlight></codeline>
<codeline lineno="685"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<sp/>WAVEFORMATEX<sp/>);</highlight></codeline>
<codeline lineno="687"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="688"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="689"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<sp/>WAVEFORMATEX<sp/>)<sp/>+<sp/>wfex-&gt;cbSize);</highlight></codeline>
<codeline lineno="691"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="692"><highlight class="normal">}</highlight></codeline>
<codeline lineno="693"><highlight class="normal"></highlight></codeline>
<codeline lineno="694"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>PaWinWDM_SetLastErrorInfo(</highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>errCode,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>fmt,<sp/>...)</highlight></codeline>
<codeline lineno="695"><highlight class="normal">{</highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/><sp/><sp/>va_list<sp/>list;</highlight></codeline>
<codeline lineno="697"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="structbuffer" kindref="compound">buffer</ref>[1024];</highlight></codeline>
<codeline lineno="698"><highlight class="normal"><sp/><sp/><sp/><sp/>va_start(list,<sp/>fmt);</highlight></codeline>
<codeline lineno="699"><highlight class="normal"><sp/><sp/><sp/><sp/>_vsnprintf(buffer,<sp/>1023,<sp/>fmt,<sp/>list);</highlight></codeline>
<codeline lineno="700"><highlight class="normal"><sp/><sp/><sp/><sp/>va_end(list);</highlight></codeline>
<codeline lineno="701"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__front_8c_1a9c3ad627c13c1d695fef054c216667f7" kindref="member">PaUtil_SetLastHostErrorInfo</ref>(<ref refid="portaudio_8h_1a8eaebe3d39c5ea45598da8f86dc2e5aeacb4ba221afe42867d96ab345ee13d78d" kindref="member">paWDMKS</ref>,<sp/>errCode,<sp/>buffer);</highlight></codeline>
<codeline lineno="702"><highlight class="normal">}</highlight></codeline>
<codeline lineno="703"><highlight class="normal"></highlight></codeline>
<codeline lineno="704"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="705"><highlight class="comment">Low<sp/>level<sp/>pin/filter<sp/>access<sp/>functions</highlight></codeline>
<codeline lineno="706"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="707"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>WdmSyncIoctl(</highlight></codeline>
<codeline lineno="708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/>handle,</highlight></codeline>
<codeline lineno="709"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>ioctlNumber,</highlight></codeline>
<codeline lineno="710"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>inBuffer,</highlight></codeline>
<codeline lineno="711"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>inBufferCount,</highlight></codeline>
<codeline lineno="712"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>outBuffer,</highlight></codeline>
<codeline lineno="713"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>outBufferCount,</highlight></codeline>
<codeline lineno="714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal">*<sp/>bytesReturned)</highlight></codeline>
<codeline lineno="715"><highlight class="normal">{</highlight></codeline>
<codeline lineno="716"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="717"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>dummyBytesReturned<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="718"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref><sp/>bRes;</highlight></codeline>
<codeline lineno="719"><highlight class="normal"></highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>!bytesReturned<sp/>)</highlight></codeline>
<codeline lineno="721"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Use<sp/>a<sp/>dummy<sp/>as<sp/>the<sp/>caller<sp/>hasn&apos;t<sp/>supplied<sp/>one<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bytesReturned<sp/>=<sp/>&amp;dummyBytesReturned;</highlight></codeline>
<codeline lineno="724"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="725"><highlight class="normal"></highlight></codeline>
<codeline lineno="726"><highlight class="normal"><sp/><sp/><sp/><sp/>bRes<sp/>=<sp/>DeviceIoControl(handle,<sp/>ioctlNumber,<sp/>inBuffer,<sp/>inBufferCount,<sp/>outBuffer,<sp/>outBufferCount,<sp/>bytesReturned,<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="727"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!bRes)</highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref><sp/>=<sp/>GetLastError();</highlight></codeline>
<codeline lineno="730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!(((error<sp/>==<sp/>ERROR_INSUFFICIENT_BUFFER<sp/>)<sp/>||<sp/>(<sp/>error<sp/>==<sp/>ERROR_MORE_DATA<sp/>))<sp/>&amp;&amp;<sp/></highlight></codeline>
<codeline lineno="731"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<sp/>ioctlNumber<sp/>==<sp/><ref refid="ks_8h_1a2b4dc8e207e8906a86897224c7676a8f" kindref="member">IOCTL_KS_PROPERTY</ref><sp/>)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="732"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<sp/>outBufferCount<sp/>==<sp/>0<sp/>)<sp/>)<sp/>)<sp/></highlight></codeline>
<codeline lineno="733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_k_s_i_d_e_n_t_i_f_i_e_r" kindref="compound">KSPROPERTY</ref>*<sp/>ksProperty<sp/>=<sp/>(<ref refid="struct_k_s_i_d_e_n_t_i_f_i_e_r" kindref="compound">KSPROPERTY</ref>*)inBuffer;</highlight></codeline>
<codeline lineno="735"><highlight class="normal"></highlight></codeline>
<codeline lineno="736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(result,<sp/></highlight><highlight class="stringliteral">&quot;WdmSyncIoctl:<sp/>DeviceIoControl<sp/>GLE<sp/>=<sp/>0x%08X<sp/>(prop_set<sp/>=<sp/>{%08X-%04X-%04X-%02X%02X-%02X%02X%02X%02X%02X%02X},<sp/>prop_id<sp/>=<sp/>%u)&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="737"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>error,</highlight></codeline>
<codeline lineno="738"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ksProperty-&gt;Set.Data1,<sp/>ksProperty-&gt;Set.Data2,<sp/>ksProperty-&gt;Set.Data3,</highlight></codeline>
<codeline lineno="739"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ksProperty-&gt;Set.Data4[0],<sp/>ksProperty-&gt;Set.Data4[1],</highlight></codeline>
<codeline lineno="740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ksProperty-&gt;Set.Data4[2],<sp/>ksProperty-&gt;Set.Data4[3],</highlight></codeline>
<codeline lineno="741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ksProperty-&gt;Set.Data4[4],<sp/>ksProperty-&gt;Set.Data4[5],</highlight></codeline>
<codeline lineno="742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ksProperty-&gt;Set.Data4[6],<sp/>ksProperty-&gt;Set.Data4[7],</highlight></codeline>
<codeline lineno="743"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ksProperty-&gt;Id</highlight></codeline>
<codeline lineno="744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a47726071f5dccc656d5e3ff20bbfc5a0" kindref="member">paUnanticipatedHostError</ref>;</highlight></codeline>
<codeline lineno="746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="747"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="748"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="749"><highlight class="normal">}</highlight></codeline>
<codeline lineno="750"><highlight class="normal"></highlight></codeline>
<codeline lineno="751"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>WdmGetPropertySimple(<ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/>handle,</highlight></codeline>
<codeline lineno="752"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>GUID*<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>guidPropertySet,</highlight></codeline>
<codeline lineno="753"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>property,</highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/><ref refid="lib_2expat_8h_1a4a30a13b813682e68c5b689b45c65971" kindref="member">value</ref>,</highlight></codeline>
<codeline lineno="755"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>valueCount)</highlight></codeline>
<codeline lineno="756"><highlight class="normal">{</highlight></codeline>
<codeline lineno="757"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result;</highlight></codeline>
<codeline lineno="758"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_k_s_i_d_e_n_t_i_f_i_e_r" kindref="compound">KSPROPERTY</ref><sp/>ksProperty;</highlight></codeline>
<codeline lineno="759"><highlight class="normal"></highlight></codeline>
<codeline lineno="760"><highlight class="normal"><sp/><sp/><sp/><sp/>ksProperty.Set<sp/>=<sp/>*guidPropertySet;</highlight></codeline>
<codeline lineno="761"><highlight class="normal"><sp/><sp/><sp/><sp/>ksProperty.Id<sp/>=<sp/>property;</highlight></codeline>
<codeline lineno="762"><highlight class="normal"><sp/><sp/><sp/><sp/>ksProperty.Flags<sp/>=<sp/><ref refid="ks_8h_1ae21fea32b5e7366daebb4ae7140fc9c9" kindref="member">KSPROPERTY_TYPE_GET</ref>;</highlight></codeline>
<codeline lineno="763"><highlight class="normal"></highlight></codeline>
<codeline lineno="764"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmSyncIoctl(</highlight></codeline>
<codeline lineno="765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>handle,</highlight></codeline>
<codeline lineno="766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a2b4dc8e207e8906a86897224c7676a8f" kindref="member">IOCTL_KS_PROPERTY</ref>,</highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;ksProperty,</highlight></codeline>
<codeline lineno="768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_k_s_i_d_e_n_t_i_f_i_e_r" kindref="compound">KSPROPERTY</ref>),</highlight></codeline>
<codeline lineno="769"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="lib_2expat_8h_1a4a30a13b813682e68c5b689b45c65971" kindref="member">value</ref>,</highlight></codeline>
<codeline lineno="770"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>valueCount,</highlight></codeline>
<codeline lineno="771"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="772"><highlight class="normal"></highlight></codeline>
<codeline lineno="773"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="774"><highlight class="normal">}</highlight></codeline>
<codeline lineno="775"><highlight class="normal"></highlight></codeline>
<codeline lineno="776"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>WdmSetPropertySimple(</highlight></codeline>
<codeline lineno="777"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/>handle,</highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>GUID*<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>guidPropertySet,</highlight></codeline>
<codeline lineno="779"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>property,</highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/><ref refid="lib_2expat_8h_1a4a30a13b813682e68c5b689b45c65971" kindref="member">value</ref>,</highlight></codeline>
<codeline lineno="781"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>valueCount,</highlight></codeline>
<codeline lineno="782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>instance,</highlight></codeline>
<codeline lineno="783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>instanceCount)</highlight></codeline>
<codeline lineno="784"><highlight class="normal">{</highlight></codeline>
<codeline lineno="785"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result;</highlight></codeline>
<codeline lineno="786"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_k_s_i_d_e_n_t_i_f_i_e_r" kindref="compound">KSPROPERTY</ref>*<sp/>ksProperty;</highlight></codeline>
<codeline lineno="787"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>propertyCount<sp/><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="788"><highlight class="normal"></highlight></codeline>
<codeline lineno="789"><highlight class="normal"><sp/><sp/><sp/><sp/>propertyCount<sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="ks_8h_1a4392f77c74e868d813d46c39ada4d660" kindref="member">KSPROPERTY</ref>)<sp/>+<sp/>instanceCount;</highlight></codeline>
<codeline lineno="790"><highlight class="normal"><sp/><sp/><sp/><sp/>ksProperty<sp/>=<sp/>(<ref refid="struct_k_s_i_d_e_n_t_i_f_i_e_r" kindref="compound">KSPROPERTY</ref>*)_alloca(<sp/>propertyCount<sp/>);</highlight></codeline>
<codeline lineno="791"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>!ksProperty<sp/>)</highlight></codeline>
<codeline lineno="792"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="793"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="794"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="795"><highlight class="normal"></highlight></codeline>
<codeline lineno="796"><highlight class="normal"><sp/><sp/><sp/><sp/>ksProperty-&gt;Set<sp/>=<sp/>*guidPropertySet;</highlight></codeline>
<codeline lineno="797"><highlight class="normal"><sp/><sp/><sp/><sp/>ksProperty-&gt;Id<sp/>=<sp/>property;</highlight></codeline>
<codeline lineno="798"><highlight class="normal"><sp/><sp/><sp/><sp/>ksProperty-&gt;Flags<sp/>=<sp/><ref refid="ks_8h_1a1ee40c236640d276d72babab6bf97925" kindref="member">KSPROPERTY_TYPE_SET</ref>;</highlight></codeline>
<codeline lineno="799"><highlight class="normal"></highlight></codeline>
<codeline lineno="800"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>instance<sp/>)</highlight></codeline>
<codeline lineno="801"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="802"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy((</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*)((</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*)ksProperty<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_k_s_i_d_e_n_t_i_f_i_e_r" kindref="compound">KSPROPERTY</ref>)),<sp/>instance,<sp/>instanceCount);</highlight></codeline>
<codeline lineno="803"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="804"><highlight class="normal"></highlight></codeline>
<codeline lineno="805"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmSyncIoctl(</highlight></codeline>
<codeline lineno="806"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>handle,</highlight></codeline>
<codeline lineno="807"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a2b4dc8e207e8906a86897224c7676a8f" kindref="member">IOCTL_KS_PROPERTY</ref>,</highlight></codeline>
<codeline lineno="808"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ksProperty,</highlight></codeline>
<codeline lineno="809"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>propertyCount,</highlight></codeline>
<codeline lineno="810"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="lib_2expat_8h_1a4a30a13b813682e68c5b689b45c65971" kindref="member">value</ref>,</highlight></codeline>
<codeline lineno="811"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>valueCount,</highlight></codeline>
<codeline lineno="812"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="813"><highlight class="normal"></highlight></codeline>
<codeline lineno="814"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="815"><highlight class="normal">}</highlight></codeline>
<codeline lineno="816"><highlight class="normal"></highlight></codeline>
<codeline lineno="817"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>WdmGetPinPropertySimple(</highlight></codeline>
<codeline lineno="818"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/><sp/>handle,</highlight></codeline>
<codeline lineno="819"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>pinId,</highlight></codeline>
<codeline lineno="820"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>GUID*<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>guidPropertySet,</highlight></codeline>
<codeline lineno="821"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>property,</highlight></codeline>
<codeline lineno="822"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/><ref refid="lib_2expat_8h_1a4a30a13b813682e68c5b689b45c65971" kindref="member">value</ref>,</highlight></codeline>
<codeline lineno="823"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>valueCount,</highlight></codeline>
<codeline lineno="824"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>*byteCount)</highlight></codeline>
<codeline lineno="825"><highlight class="normal">{</highlight></codeline>
<codeline lineno="826"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result;</highlight></codeline>
<codeline lineno="827"><highlight class="normal"></highlight></codeline>
<codeline lineno="828"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_k_s_p___p_i_n" kindref="compound">KSP_PIN</ref><sp/>ksPProp;</highlight></codeline>
<codeline lineno="829"><highlight class="normal"><sp/><sp/><sp/><sp/>ksPProp.<ref refid="struct_k_s_p___p_i_n_1a69ef465f32c95fd3a8423710adcbe9bd" kindref="member">Property</ref>.Set<sp/>=<sp/>*guidPropertySet;</highlight></codeline>
<codeline lineno="830"><highlight class="normal"><sp/><sp/><sp/><sp/>ksPProp.<ref refid="struct_k_s_p___p_i_n_1a69ef465f32c95fd3a8423710adcbe9bd" kindref="member">Property</ref>.Id<sp/>=<sp/>property;</highlight></codeline>
<codeline lineno="831"><highlight class="normal"><sp/><sp/><sp/><sp/>ksPProp.<ref refid="struct_k_s_p___p_i_n_1a69ef465f32c95fd3a8423710adcbe9bd" kindref="member">Property</ref>.Flags<sp/>=<sp/><ref refid="ks_8h_1ae21fea32b5e7366daebb4ae7140fc9c9" kindref="member">KSPROPERTY_TYPE_GET</ref>;</highlight></codeline>
<codeline lineno="832"><highlight class="normal"><sp/><sp/><sp/><sp/>ksPProp.<ref refid="struct_k_s_p___p_i_n_1a7d30633c0a1e9de7dbadb526e89081d0" kindref="member">PinId</ref><sp/>=<sp/>pinId;</highlight></codeline>
<codeline lineno="833"><highlight class="normal"><sp/><sp/><sp/><sp/>ksPProp.<ref refid="struct_k_s_p___p_i_n_1a6823174c71751e5a1cb4a0020ddeed1d" kindref="member">Reserved</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="834"><highlight class="normal"></highlight></codeline>
<codeline lineno="835"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmSyncIoctl(</highlight></codeline>
<codeline lineno="836"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>handle,</highlight></codeline>
<codeline lineno="837"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a2b4dc8e207e8906a86897224c7676a8f" kindref="member">IOCTL_KS_PROPERTY</ref>,</highlight></codeline>
<codeline lineno="838"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;ksPProp,</highlight></codeline>
<codeline lineno="839"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_k_s_p___p_i_n" kindref="compound">KSP_PIN</ref>),</highlight></codeline>
<codeline lineno="840"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="lib_2expat_8h_1a4a30a13b813682e68c5b689b45c65971" kindref="member">value</ref>,</highlight></codeline>
<codeline lineno="841"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>valueCount,</highlight></codeline>
<codeline lineno="842"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>byteCount);</highlight></codeline>
<codeline lineno="843"><highlight class="normal"></highlight></codeline>
<codeline lineno="844"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="845"><highlight class="normal">}</highlight></codeline>
<codeline lineno="846"><highlight class="normal"></highlight></codeline>
<codeline lineno="847"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>WdmGetPinPropertyMulti(</highlight></codeline>
<codeline lineno="848"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/>handle,</highlight></codeline>
<codeline lineno="849"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>pinId,</highlight></codeline>
<codeline lineno="850"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>GUID*<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>guidPropertySet,</highlight></codeline>
<codeline lineno="851"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>property,</highlight></codeline>
<codeline lineno="852"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m" kindref="compound">KSMULTIPLE_ITEM</ref>**<sp/>ksMultipleItem)</highlight></codeline>
<codeline lineno="853"><highlight class="normal">{</highlight></codeline>
<codeline lineno="854"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result;</highlight></codeline>
<codeline lineno="855"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>multipleItemSize<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="856"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_k_s_p___p_i_n" kindref="compound">KSP_PIN</ref><sp/>ksPProp;</highlight></codeline>
<codeline lineno="857"><highlight class="normal"></highlight></codeline>
<codeline lineno="858"><highlight class="normal"><sp/><sp/><sp/><sp/>ksPProp.<ref refid="struct_k_s_p___p_i_n_1a69ef465f32c95fd3a8423710adcbe9bd" kindref="member">Property</ref>.Set<sp/>=<sp/>*guidPropertySet;</highlight></codeline>
<codeline lineno="859"><highlight class="normal"><sp/><sp/><sp/><sp/>ksPProp.<ref refid="struct_k_s_p___p_i_n_1a69ef465f32c95fd3a8423710adcbe9bd" kindref="member">Property</ref>.Id<sp/>=<sp/>property;</highlight></codeline>
<codeline lineno="860"><highlight class="normal"><sp/><sp/><sp/><sp/>ksPProp.<ref refid="struct_k_s_p___p_i_n_1a69ef465f32c95fd3a8423710adcbe9bd" kindref="member">Property</ref>.Flags<sp/>=<sp/><ref refid="ks_8h_1ae21fea32b5e7366daebb4ae7140fc9c9" kindref="member">KSPROPERTY_TYPE_GET</ref>;</highlight></codeline>
<codeline lineno="861"><highlight class="normal"><sp/><sp/><sp/><sp/>ksPProp.<ref refid="struct_k_s_p___p_i_n_1a7d30633c0a1e9de7dbadb526e89081d0" kindref="member">PinId</ref><sp/>=<sp/>pinId;</highlight></codeline>
<codeline lineno="862"><highlight class="normal"><sp/><sp/><sp/><sp/>ksPProp.<ref refid="struct_k_s_p___p_i_n_1a6823174c71751e5a1cb4a0020ddeed1d" kindref="member">Reserved</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="863"><highlight class="normal"></highlight></codeline>
<codeline lineno="864"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmSyncIoctl(</highlight></codeline>
<codeline lineno="865"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>handle,</highlight></codeline>
<codeline lineno="866"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a2b4dc8e207e8906a86897224c7676a8f" kindref="member">IOCTL_KS_PROPERTY</ref>,</highlight></codeline>
<codeline lineno="867"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;ksPProp.<ref refid="struct_k_s_p___p_i_n_1a69ef465f32c95fd3a8423710adcbe9bd" kindref="member">Property</ref>,</highlight></codeline>
<codeline lineno="868"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_k_s_p___p_i_n" kindref="compound">KSP_PIN</ref>),</highlight></codeline>
<codeline lineno="869"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,</highlight></codeline>
<codeline lineno="870"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0,</highlight></codeline>
<codeline lineno="871"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;multipleItemSize);</highlight></codeline>
<codeline lineno="872"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref><sp/>)</highlight></codeline>
<codeline lineno="873"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="874"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="875"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="876"><highlight class="normal"></highlight></codeline>
<codeline lineno="877"><highlight class="normal"><sp/><sp/><sp/><sp/>*ksMultipleItem<sp/>=<sp/>(<ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m" kindref="compound">KSMULTIPLE_ITEM</ref>*)<ref refid="pa__util_8h_1aa614f193aff12744a6ab90a9eb3128f0" kindref="member">PaUtil_AllocateMemory</ref>(<sp/>multipleItemSize<sp/>);</highlight></codeline>
<codeline lineno="878"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>!*ksMultipleItem<sp/>)</highlight></codeline>
<codeline lineno="879"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="880"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="881"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="882"><highlight class="normal"></highlight></codeline>
<codeline lineno="883"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmSyncIoctl(</highlight></codeline>
<codeline lineno="884"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>handle,</highlight></codeline>
<codeline lineno="885"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a2b4dc8e207e8906a86897224c7676a8f" kindref="member">IOCTL_KS_PROPERTY</ref>,</highlight></codeline>
<codeline lineno="886"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;ksPProp,</highlight></codeline>
<codeline lineno="887"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_k_s_p___p_i_n" kindref="compound">KSP_PIN</ref>),</highlight></codeline>
<codeline lineno="888"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*)*ksMultipleItem,</highlight></codeline>
<codeline lineno="889"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>multipleItemSize,</highlight></codeline>
<codeline lineno="890"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="891"><highlight class="normal"></highlight></codeline>
<codeline lineno="892"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref><sp/>)</highlight></codeline>
<codeline lineno="893"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="894"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__util_8h_1a27a8f85d109600ef246e5c642c5c3cad" kindref="member">PaUtil_FreeMemory</ref>(<sp/>ksMultipleItem<sp/>);</highlight></codeline>
<codeline lineno="895"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="896"><highlight class="normal"></highlight></codeline>
<codeline lineno="897"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="898"><highlight class="normal">}</highlight></codeline>
<codeline lineno="899"><highlight class="normal"></highlight></codeline>
<codeline lineno="900"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>WdmGetPropertyMulti(<ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/>handle,</highlight></codeline>
<codeline lineno="901"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>GUID*<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>guidPropertySet,</highlight></codeline>
<codeline lineno="902"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>property,</highlight></codeline>
<codeline lineno="903"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m" kindref="compound">KSMULTIPLE_ITEM</ref>**<sp/>ksMultipleItem)</highlight></codeline>
<codeline lineno="904"><highlight class="normal">{</highlight></codeline>
<codeline lineno="905"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result;</highlight></codeline>
<codeline lineno="906"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>multipleItemSize<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="907"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_k_s_i_d_e_n_t_i_f_i_e_r" kindref="compound">KSPROPERTY</ref><sp/>ksProp;</highlight></codeline>
<codeline lineno="908"><highlight class="normal"></highlight></codeline>
<codeline lineno="909"><highlight class="normal"><sp/><sp/><sp/><sp/>ksProp.Set<sp/>=<sp/>*guidPropertySet;</highlight></codeline>
<codeline lineno="910"><highlight class="normal"><sp/><sp/><sp/><sp/>ksProp.Id<sp/>=<sp/>property;</highlight></codeline>
<codeline lineno="911"><highlight class="normal"><sp/><sp/><sp/><sp/>ksProp.Flags<sp/>=<sp/><ref refid="ks_8h_1ae21fea32b5e7366daebb4ae7140fc9c9" kindref="member">KSPROPERTY_TYPE_GET</ref>;</highlight></codeline>
<codeline lineno="912"><highlight class="normal"></highlight></codeline>
<codeline lineno="913"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmSyncIoctl(</highlight></codeline>
<codeline lineno="914"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>handle,</highlight></codeline>
<codeline lineno="915"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a2b4dc8e207e8906a86897224c7676a8f" kindref="member">IOCTL_KS_PROPERTY</ref>,</highlight></codeline>
<codeline lineno="916"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;ksProp,</highlight></codeline>
<codeline lineno="917"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_k_s_i_d_e_n_t_i_f_i_e_r" kindref="compound">KSPROPERTY</ref>),</highlight></codeline>
<codeline lineno="918"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,</highlight></codeline>
<codeline lineno="919"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0,</highlight></codeline>
<codeline lineno="920"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;multipleItemSize);</highlight></codeline>
<codeline lineno="921"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref><sp/>)</highlight></codeline>
<codeline lineno="922"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="923"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="924"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="925"><highlight class="normal"></highlight></codeline>
<codeline lineno="926"><highlight class="normal"><sp/><sp/><sp/><sp/>*ksMultipleItem<sp/>=<sp/>(<ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m" kindref="compound">KSMULTIPLE_ITEM</ref>*)<ref refid="pa__util_8h_1aa614f193aff12744a6ab90a9eb3128f0" kindref="member">PaUtil_AllocateMemory</ref>(<sp/>multipleItemSize<sp/>);</highlight></codeline>
<codeline lineno="927"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>!*ksMultipleItem<sp/>)</highlight></codeline>
<codeline lineno="928"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="929"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="930"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="931"><highlight class="normal"></highlight></codeline>
<codeline lineno="932"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmSyncIoctl(</highlight></codeline>
<codeline lineno="933"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>handle,</highlight></codeline>
<codeline lineno="934"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a2b4dc8e207e8906a86897224c7676a8f" kindref="member">IOCTL_KS_PROPERTY</ref>,</highlight></codeline>
<codeline lineno="935"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;ksProp,</highlight></codeline>
<codeline lineno="936"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_k_s_i_d_e_n_t_i_f_i_e_r" kindref="compound">KSPROPERTY</ref>),</highlight></codeline>
<codeline lineno="937"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*)*ksMultipleItem,</highlight></codeline>
<codeline lineno="938"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>multipleItemSize,</highlight></codeline>
<codeline lineno="939"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="940"><highlight class="normal"></highlight></codeline>
<codeline lineno="941"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref><sp/>)</highlight></codeline>
<codeline lineno="942"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="943"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__util_8h_1a27a8f85d109600ef246e5c642c5c3cad" kindref="member">PaUtil_FreeMemory</ref>(<sp/>ksMultipleItem<sp/>);</highlight></codeline>
<codeline lineno="944"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="945"><highlight class="normal"></highlight></codeline>
<codeline lineno="946"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="947"><highlight class="normal">}</highlight></codeline>
<codeline lineno="948"><highlight class="normal"></highlight></codeline>
<codeline lineno="949"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>WdmSetMuxNodeProperty(<ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/>handle,</highlight></codeline>
<codeline lineno="950"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ULONG<sp/>nodeId,</highlight></codeline>
<codeline lineno="951"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ULONG<sp/>pinId)</highlight></codeline>
<codeline lineno="952"><highlight class="normal">{</highlight></codeline>
<codeline lineno="953"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="954"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_k_s_n_o_d_e_p_r_o_p_e_r_t_y" kindref="compound">KSNODEPROPERTY</ref><sp/>prop;</highlight></codeline>
<codeline lineno="955"><highlight class="normal"><sp/><sp/><sp/><sp/>prop.<ref refid="struct_k_s_n_o_d_e_p_r_o_p_e_r_t_y_1a26945962aee6c686cd0c6963c3a157b4" kindref="member">Property</ref>.Set<sp/>=<sp/><ref refid="ksmedia_8h_1ae64e614f58f7ca106d79313fd4d1de82" kindref="member">KSPROPSETID_Audio</ref>;</highlight></codeline>
<codeline lineno="956"><highlight class="normal"><sp/><sp/><sp/><sp/>prop.<ref refid="struct_k_s_n_o_d_e_p_r_o_p_e_r_t_y_1a26945962aee6c686cd0c6963c3a157b4" kindref="member">Property</ref>.Id<sp/>=<sp/><ref refid="ksmedia_8h_1a172208d10eb3ad100b12cb5002c027e7ae8cd9e1742c366d97c4d206c91019cb6" kindref="member">KSPROPERTY_AUDIO_MUX_SOURCE</ref>;</highlight></codeline>
<codeline lineno="957"><highlight class="normal"><sp/><sp/><sp/><sp/>prop.<ref refid="struct_k_s_n_o_d_e_p_r_o_p_e_r_t_y_1a26945962aee6c686cd0c6963c3a157b4" kindref="member">Property</ref>.Flags<sp/>=<sp/><ref refid="ks_8h_1a1ee40c236640d276d72babab6bf97925" kindref="member">KSPROPERTY_TYPE_SET</ref><sp/>|<sp/><ref refid="ks_8h_1a2ab221aa60a39947512362187cda2760" kindref="member">KSPROPERTY_TYPE_TOPOLOGY</ref>;</highlight></codeline>
<codeline lineno="958"><highlight class="normal"><sp/><sp/><sp/><sp/>prop.<ref refid="struct_k_s_n_o_d_e_p_r_o_p_e_r_t_y_1a1d726bf8fc108f42eac69b2e700a4a5e" kindref="member">NodeId</ref><sp/>=<sp/>nodeId;</highlight></codeline>
<codeline lineno="959"><highlight class="normal"><sp/><sp/><sp/><sp/>prop.<ref refid="struct_k_s_n_o_d_e_p_r_o_p_e_r_t_y_1aa4e8e25e0bebd3dfcb0d4a79524e33fd" kindref="member">Reserved</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="960"><highlight class="normal"></highlight></codeline>
<codeline lineno="961"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmSyncIoctl(handle,<sp/><ref refid="ks_8h_1a2b4dc8e207e8906a86897224c7676a8f" kindref="member">IOCTL_KS_PROPERTY</ref>,<sp/>&amp;prop,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_k_s_n_o_d_e_p_r_o_p_e_r_t_y" kindref="compound">KSNODEPROPERTY</ref>),<sp/>&amp;pinId,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(ULONG),<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="962"><highlight class="normal"></highlight></codeline>
<codeline lineno="963"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="964"><highlight class="normal">}</highlight></codeline>
<codeline lineno="965"><highlight class="normal"></highlight></codeline>
<codeline lineno="966"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Used<sp/>when<sp/>traversing<sp/>topology<sp/>for<sp/>outputs<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="967"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref>*<sp/>GetConnectionTo(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref>*<sp/>pFrom,<sp/><ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/>filter,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>muxIdx)</highlight></codeline>
<codeline lineno="968"><highlight class="normal">{</highlight></codeline>
<codeline lineno="969"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="970"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref>*<sp/>retval<sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="971"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref>*<sp/>connections<sp/>=<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref>*)(filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1acb2256419c942e072c17068bbe5dca8f" kindref="member">connections</ref><sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="972"><highlight class="normal"><sp/><sp/><sp/><sp/>(<ref refid="lib_2expat_8h_1a3980d15795c6349fecd06c1b035c1ae9" kindref="member">void</ref>)muxIdx;</highlight></codeline>
<codeline lineno="973"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;GetConnectionTo:<sp/>Checking<sp/>%u<sp/>connections...<sp/>(pFrom<sp/>=<sp/>%p)&quot;</highlight><highlight class="normal">,<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1acb2256419c942e072c17068bbe5dca8f" kindref="member">connections</ref>-&gt;<ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m_1a5e51604ca38ba7ce256dae4d28396c64" kindref="member">Count</ref>,<sp/>pFrom));</highlight></codeline>
<codeline lineno="974"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1acb2256419c942e072c17068bbe5dca8f" kindref="member">connections</ref>-&gt;<ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m_1a5e51604ca38ba7ce256dae4d28396c64" kindref="member">Count</ref>;<sp/>++<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>)</highlight></codeline>
<codeline lineno="975"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="976"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref>*<sp/>pConn<sp/>=<sp/>connections<sp/>+<sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="977"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pConn<sp/>==<sp/>pFrom)</highlight></codeline>
<codeline lineno="978"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="979"><highlight class="normal"></highlight></codeline>
<codeline lineno="980"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pConn-&gt;<ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n_1a75a208d59c66bf845c61558ec1ade1c0" kindref="member">FromNode</ref><sp/>==<sp/>pFrom-&gt;<ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n_1ab0678397d20a741ce251cc6922f7aacb" kindref="member">ToNode</ref>)</highlight></codeline>
<codeline lineno="981"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="982"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>retval<sp/>=<sp/>pConn;</highlight></codeline>
<codeline lineno="983"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="984"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="985"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="986"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;GetConnectionTo:<sp/>Returning<sp/>%p\n&quot;</highlight><highlight class="normal">,<sp/>retval));</highlight></codeline>
<codeline lineno="987"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>retval;</highlight></codeline>
<codeline lineno="988"><highlight class="normal">}</highlight></codeline>
<codeline lineno="989"><highlight class="normal"></highlight></codeline>
<codeline lineno="990"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Used<sp/>when<sp/>traversing<sp/>topology<sp/>for<sp/>inputs<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="991"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref>*<sp/>GetConnectionFrom(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref>*<sp/>pTo,<sp/><ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/>filter,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>muxIdx)</highlight></codeline>
<codeline lineno="992"><highlight class="normal">{</highlight></codeline>
<codeline lineno="993"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="994"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref>*<sp/>retval<sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="995"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref>*<sp/>connections<sp/>=<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref>*)(filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1acb2256419c942e072c17068bbe5dca8f" kindref="member">connections</ref><sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="996"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>muxCntr<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="997"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;GetConnectionFrom:<sp/>Checking<sp/>%u<sp/>connections...<sp/>(pTo<sp/>=<sp/>%p)\n&quot;</highlight><highlight class="normal">,<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1acb2256419c942e072c17068bbe5dca8f" kindref="member">connections</ref>-&gt;<ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m_1a5e51604ca38ba7ce256dae4d28396c64" kindref="member">Count</ref>,<sp/>pTo));</highlight></codeline>
<codeline lineno="998"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1acb2256419c942e072c17068bbe5dca8f" kindref="member">connections</ref>-&gt;<ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m_1a5e51604ca38ba7ce256dae4d28396c64" kindref="member">Count</ref>;<sp/>++<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>)</highlight></codeline>
<codeline lineno="999"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1000"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref>*<sp/>pConn<sp/>=<sp/>connections<sp/>+<sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="1001"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pConn<sp/>==<sp/>pTo)</highlight></codeline>
<codeline lineno="1002"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1003"><highlight class="normal"></highlight></codeline>
<codeline lineno="1004"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pConn-&gt;<ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n_1ab0678397d20a741ce251cc6922f7aacb" kindref="member">ToNode</ref><sp/>==<sp/>pTo-&gt;<ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n_1a75a208d59c66bf845c61558ec1ade1c0" kindref="member">FromNode</ref>)</highlight></codeline>
<codeline lineno="1005"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1006"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(muxIdx<sp/>&gt;=<sp/>0)</highlight></codeline>
<codeline lineno="1007"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1008"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(muxCntr<sp/>&lt;<sp/>muxIdx)</highlight></codeline>
<codeline lineno="1009"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1010"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++muxCntr;</highlight></codeline>
<codeline lineno="1011"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1012"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1013"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1014"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>retval<sp/>=<sp/>pConn;</highlight></codeline>
<codeline lineno="1015"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1016"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1017"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1018"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;GetConnectionFrom:<sp/>Returning<sp/>%p\n&quot;</highlight><highlight class="normal">,<sp/>retval));</highlight></codeline>
<codeline lineno="1019"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>retval;</highlight></codeline>
<codeline lineno="1020"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1021"><highlight class="normal"></highlight></codeline>
<codeline lineno="1022"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>ULONG<sp/>GetNumberOfConnectionsTo(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref>*<sp/>pTo,<sp/><ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/>filter)</highlight></codeline>
<codeline lineno="1023"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1024"><highlight class="normal"><sp/><sp/><sp/><sp/>ULONG<sp/>retval<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1025"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="1026"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref>*<sp/>connections<sp/>=<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref>*)(filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1acb2256419c942e072c17068bbe5dca8f" kindref="member">connections</ref><sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="1027"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;GetNumberOfConnectionsTo:<sp/>Checking<sp/>%u<sp/>connections...\n&quot;</highlight><highlight class="normal">,<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1acb2256419c942e072c17068bbe5dca8f" kindref="member">connections</ref>-&gt;<ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m_1a5e51604ca38ba7ce256dae4d28396c64" kindref="member">Count</ref>));</highlight></codeline>
<codeline lineno="1028"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1acb2256419c942e072c17068bbe5dca8f" kindref="member">connections</ref>-&gt;<ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m_1a5e51604ca38ba7ce256dae4d28396c64" kindref="member">Count</ref>;<sp/>++<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>)</highlight></codeline>
<codeline lineno="1029"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1030"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref>*<sp/>pConn<sp/>=<sp/>connections<sp/>+<sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="1031"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pConn-&gt;<ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n_1ab0678397d20a741ce251cc6922f7aacb" kindref="member">ToNode</ref><sp/>==<sp/>pTo-&gt;<ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n_1a75a208d59c66bf845c61558ec1ade1c0" kindref="member">FromNode</ref><sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1032"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(pTo-&gt;<ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n_1a75a208d59c66bf845c61558ec1ade1c0" kindref="member">FromNode</ref><sp/>!=<sp/><ref refid="ks_8h_1a0d9c4449ad3e02da9e76f24a7f01e306" kindref="member">KSFILTER_NODE</ref><sp/>||<sp/>pConn-&gt;<ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n_1a1ed3b50b7c388036d1eadb89e06d18a1" kindref="member">ToNodePin</ref><sp/>==<sp/>pTo-&gt;<ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n_1a9e22f65bb8f2db9b15707ef432f89a59" kindref="member">FromNodePin</ref>))</highlight></codeline>
<codeline lineno="1033"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1034"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++retval;</highlight></codeline>
<codeline lineno="1035"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1036"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1037"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;GetNumberOfConnectionsTo:<sp/>Returning<sp/>%d\n&quot;</highlight><highlight class="normal">,<sp/>retval));</highlight></codeline>
<codeline lineno="1038"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>retval;</highlight></codeline>
<codeline lineno="1039"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1040"><highlight class="normal"></highlight></codeline>
<codeline lineno="1041" refid="pa__win__wdmks_8c_1a6db15cab0555a8cd06485de4f8cd8852" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref><sp/>*(*TFnGetConnection)(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref>*,<sp/><ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*,<sp/><ref refid="lib_2expat_8h_1a14bb8924daea0b48c7803f281f66e390" kindref="member">int</ref>);</highlight></codeline>
<codeline lineno="1042"><highlight class="normal"></highlight></codeline>
<codeline lineno="1043"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref>*<sp/>FindStartConnectionFrom(ULONG<sp/>startPin,<sp/><ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/>filter)</highlight></codeline>
<codeline lineno="1044"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1045"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="1046"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref>*<sp/>connections<sp/>=<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref>*)(filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1acb2256419c942e072c17068bbe5dca8f" kindref="member">connections</ref><sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="1047"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;FindStartConnectionFrom:<sp/>Startpin<sp/>%u,<sp/>Checking<sp/>%u<sp/>connections...\n&quot;</highlight><highlight class="normal">,<sp/>startPin,<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1acb2256419c942e072c17068bbe5dca8f" kindref="member">connections</ref>-&gt;<ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m_1a5e51604ca38ba7ce256dae4d28396c64" kindref="member">Count</ref>));</highlight></codeline>
<codeline lineno="1048"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1acb2256419c942e072c17068bbe5dca8f" kindref="member">connections</ref>-&gt;<ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m_1a5e51604ca38ba7ce256dae4d28396c64" kindref="member">Count</ref>;<sp/>++<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>)</highlight></codeline>
<codeline lineno="1049"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1050"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref>*<sp/>pConn<sp/>=<sp/>connections<sp/>+<sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="1051"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pConn-&gt;<ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n_1ab0678397d20a741ce251cc6922f7aacb" kindref="member">ToNode</ref><sp/>==<sp/><ref refid="ks_8h_1a0d9c4449ad3e02da9e76f24a7f01e306" kindref="member">KSFILTER_NODE</ref><sp/>&amp;&amp;<sp/>pConn-&gt;<ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n_1a1ed3b50b7c388036d1eadb89e06d18a1" kindref="member">ToNodePin</ref><sp/>==<sp/>startPin)</highlight></codeline>
<codeline lineno="1052"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1053"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;FindStartConnectionFrom:<sp/>returning<sp/>%p\n&quot;</highlight><highlight class="normal">,<sp/>pConn));</highlight></codeline>
<codeline lineno="1054"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pConn;</highlight></codeline>
<codeline lineno="1055"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1056"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1057"><highlight class="normal"></highlight></codeline>
<codeline lineno="1058"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;FindStartConnectionFrom:<sp/>returning<sp/>NULL\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1059"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(<ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>);</highlight></codeline>
<codeline lineno="1060"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="1061"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1062"><highlight class="normal"></highlight></codeline>
<codeline lineno="1063"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref>*<sp/>FindStartConnectionTo(ULONG<sp/>startPin,<sp/><ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/>filter)</highlight></codeline>
<codeline lineno="1064"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1065"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="1066"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref>*<sp/>connections<sp/>=<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref>*)(filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1acb2256419c942e072c17068bbe5dca8f" kindref="member">connections</ref><sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="1067"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;FindStartConnectionTo:<sp/>Startpin<sp/>%u,<sp/>Checking<sp/>%u<sp/>connections...\n&quot;</highlight><highlight class="normal">,<sp/>startPin,<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1acb2256419c942e072c17068bbe5dca8f" kindref="member">connections</ref>-&gt;<ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m_1a5e51604ca38ba7ce256dae4d28396c64" kindref="member">Count</ref>));</highlight></codeline>
<codeline lineno="1068"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1acb2256419c942e072c17068bbe5dca8f" kindref="member">connections</ref>-&gt;<ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m_1a5e51604ca38ba7ce256dae4d28396c64" kindref="member">Count</ref>;<sp/>++<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>)</highlight></codeline>
<codeline lineno="1069"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1070"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref>*<sp/>pConn<sp/>=<sp/>connections<sp/>+<sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="1071"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pConn-&gt;<ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n_1a75a208d59c66bf845c61558ec1ade1c0" kindref="member">FromNode</ref><sp/>==<sp/><ref refid="ks_8h_1a0d9c4449ad3e02da9e76f24a7f01e306" kindref="member">KSFILTER_NODE</ref><sp/>&amp;&amp;<sp/>pConn-&gt;<ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n_1a9e22f65bb8f2db9b15707ef432f89a59" kindref="member">FromNodePin</ref><sp/>==<sp/>startPin)</highlight></codeline>
<codeline lineno="1072"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1073"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;FindStartConnectionTo:<sp/>returning<sp/>%p\n&quot;</highlight><highlight class="normal">,<sp/>pConn));</highlight></codeline>
<codeline lineno="1074"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pConn;</highlight></codeline>
<codeline lineno="1075"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1076"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1077"><highlight class="normal"></highlight></codeline>
<codeline lineno="1078"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;FindStartConnectionTo:<sp/>returning<sp/>NULL\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1079"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(<ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>);</highlight></codeline>
<codeline lineno="1080"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="1081"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1082"><highlight class="normal"></highlight></codeline>
<codeline lineno="1083"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>ULONG<sp/>GetConnectedPin(ULONG<sp/>startPin,<sp/><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref><sp/>forward,<sp/><ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/>filter,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>muxPosition,<sp/>ULONG<sp/>*muxInputPinId,<sp/>ULONG<sp/>*<ref refid="struct_____pa_win_wdm_muxed_input_1a0c99dd95a1181833c2f8758ce8e76331" kindref="member">muxNodeId</ref>)</highlight></codeline>
<codeline lineno="1084"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1085"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>limit=1000;</highlight></codeline>
<codeline lineno="1086"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref><sp/>*<ref refid="namespacemw2html_1a97cceba50a9da89b1bab3ff979d41a2b" kindref="member">conn</ref><sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;<sp/></highlight></codeline>
<codeline lineno="1087"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a6db15cab0555a8cd06485de4f8cd8852" kindref="member">TFnGetConnection</ref><sp/>fnGetConnection<sp/>=<sp/>forward<sp/>?<sp/>GetConnectionTo<sp/>:<sp/>GetConnectionFrom<sp/>;</highlight></codeline>
<codeline lineno="1088"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="1089"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(1)</highlight></codeline>
<codeline lineno="1090"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1091"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>limit--;</highlight></codeline>
<codeline lineno="1092"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(limit<sp/>==<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="1093"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;GetConnectedPin:<sp/>LOOP<sp/>LIMIT<sp/>REACHED\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1094"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1095"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1096"><highlight class="normal"></highlight></codeline>
<codeline lineno="1097"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(conn<sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="1098"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1099"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>conn<sp/>=<sp/>forward<sp/>?<sp/>FindStartConnectionTo(startPin,<sp/>filter)<sp/>:<sp/>FindStartConnectionFrom(startPin,<sp/>filter);</highlight></codeline>
<codeline lineno="1100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>conn<sp/>=<sp/>fnGetConnection(conn,<sp/>filter,<sp/>-1);</highlight></codeline>
<codeline lineno="1104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1105"><highlight class="normal"></highlight></codeline>
<codeline lineno="1106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Handling<sp/>case<sp/>of<sp/>erroneous<sp/>connection<sp/>list<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(conn<sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="1108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1111"><highlight class="normal"></highlight></codeline>
<codeline lineno="1112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(forward<sp/>?<sp/>conn-&gt;<ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n_1ab0678397d20a741ce251cc6922f7aacb" kindref="member">ToNode</ref><sp/>==<sp/><ref refid="ks_8h_1a0d9c4449ad3e02da9e76f24a7f01e306" kindref="member">KSFILTER_NODE</ref><sp/>:<sp/>conn-&gt;<ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n_1a75a208d59c66bf845c61558ec1ade1c0" kindref="member">FromNode</ref><sp/>==<sp/><ref refid="ks_8h_1a0d9c4449ad3e02da9e76f24a7f01e306" kindref="member">KSFILTER_NODE</ref>)</highlight></codeline>
<codeline lineno="1113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>forward<sp/>?<sp/>conn-&gt;<ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n_1a1ed3b50b7c388036d1eadb89e06d18a1" kindref="member">ToNodePin</ref><sp/>:<sp/>conn-&gt;<ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n_1a9e22f65bb8f2db9b15707ef432f89a59" kindref="member">FromNodePin</ref>;</highlight></codeline>
<codeline lineno="1115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;GetConnectedPin:<sp/>count=%d,<sp/>forward=%d,<sp/>muxPosition=%d\n&quot;</highlight><highlight class="normal">,<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a5e676e26c0e890e93bf501853e9b91fe" kindref="member">nodes</ref>-&gt;<ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m_1a5e51604ca38ba7ce256dae4d28396c64" kindref="member">Count</ref>,<sp/>forward,<sp/>muxPosition));</highlight></codeline>
<codeline lineno="1119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a5e676e26c0e890e93bf501853e9b91fe" kindref="member">nodes</ref>-&gt;<ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m_1a5e51604ca38ba7ce256dae4d28396c64" kindref="member">Count</ref><sp/>&gt;<sp/>0<sp/>&amp;&amp;<sp/>!forward<sp/>&amp;&amp;<sp/>muxPosition<sp/>&gt;=<sp/>0)</highlight></codeline>
<codeline lineno="1120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>GUID*<sp/>nodes<sp/>=<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>GUID*)(filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a5e676e26c0e890e93bf501853e9b91fe" kindref="member">nodes</ref><sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="1122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(IsEqualGUID(&amp;nodes[conn-&gt;<ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n_1a75a208d59c66bf845c61558ec1ade1c0" kindref="member">FromNode</ref>],<sp/>&amp;<ref refid="ksmedia_8h_1a34a922bffbc4f2f0c9527b1c770d1885" kindref="member">KSNODETYPE_MUX</ref>))</highlight></codeline>
<codeline lineno="1123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ULONG<sp/>nConn<sp/>=<sp/>GetNumberOfConnectionsTo(conn,<sp/>filter);</highlight></codeline>
<codeline lineno="1125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>conn<sp/>=<sp/>fnGetConnection(conn,<sp/>filter,<sp/>muxPosition);</highlight></codeline>
<codeline lineno="1126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(conn<sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="1127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(muxInputPinId<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="1131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*muxInputPinId<sp/>=<sp/>conn-&gt;<ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n_1a1ed3b50b7c388036d1eadb89e06d18a1" kindref="member">ToNodePin</ref>;</highlight></codeline>
<codeline lineno="1133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(muxNodeId<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="1135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*muxNodeId<sp/>=<sp/>conn-&gt;<ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n_1ab0678397d20a741ce251cc6922f7aacb" kindref="member">ToNode</ref>;</highlight></codeline>
<codeline lineno="1137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1141"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1142"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="1143"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="ks_8h_1a0d9c4449ad3e02da9e76f24a7f01e306" kindref="member">KSFILTER_NODE</ref>;</highlight></codeline>
<codeline lineno="1144"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1145"><highlight class="normal"></highlight></codeline>
<codeline lineno="1146"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>DumpConnectionsAndNodes(<ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/>filter)</highlight></codeline>
<codeline lineno="1147"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1148"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="1149"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref>*<sp/>connections<sp/>=<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref>*)(filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1acb2256419c942e072c17068bbe5dca8f" kindref="member">connections</ref><sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="1150"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>GUID*<sp/>nodes<sp/>=<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>GUID*)(filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a5e676e26c0e890e93bf501853e9b91fe" kindref="member">nodes</ref><sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="1151"><highlight class="normal"></highlight></codeline>
<codeline lineno="1152"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="1153"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;DumpConnectionsAndNodes:<sp/>connections=%d,<sp/>nodes=%d\n&quot;</highlight><highlight class="normal">,<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1acb2256419c942e072c17068bbe5dca8f" kindref="member">connections</ref>-&gt;<ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m_1a5e51604ca38ba7ce256dae4d28396c64" kindref="member">Count</ref>,<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a5e676e26c0e890e93bf501853e9b91fe" kindref="member">nodes</ref>-&gt;<ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m_1a5e51604ca38ba7ce256dae4d28396c64" kindref="member">Count</ref>));</highlight></codeline>
<codeline lineno="1154"><highlight class="normal"></highlight></codeline>
<codeline lineno="1155"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i=0;<sp/>i<sp/>&lt;<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1acb2256419c942e072c17068bbe5dca8f" kindref="member">connections</ref>-&gt;<ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m_1a5e51604ca38ba7ce256dae4d28396c64" kindref="member">Count</ref>;<sp/>++<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>)</highlight></codeline>
<codeline lineno="1156"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n" kindref="compound">KSTOPOLOGY_CONNECTION</ref>*<sp/>pConn<sp/>=<sp/>connections<sp/>+<sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="1158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;<sp/><sp/>Connection:<sp/>%u<sp/>-<sp/>FromNode=%u,FromPin=%u<sp/>-&gt;<sp/>ToNode=%u,ToPin=%u\n&quot;</highlight><highlight class="normal">,<sp/></highlight></codeline>
<codeline lineno="1159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i,</highlight></codeline>
<codeline lineno="1160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pConn-&gt;<ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n_1a75a208d59c66bf845c61558ec1ade1c0" kindref="member">FromNode</ref>,<sp/>pConn-&gt;<ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n_1a9e22f65bb8f2db9b15707ef432f89a59" kindref="member">FromNodePin</ref>,</highlight></codeline>
<codeline lineno="1161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pConn-&gt;<ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n_1ab0678397d20a741ce251cc6922f7aacb" kindref="member">ToNode</ref>,<sp/>pConn-&gt;<ref refid="struct_k_s_t_o_p_o_l_o_g_y___c_o_n_n_e_c_t_i_o_n_1a1ed3b50b7c388036d1eadb89e06d18a1" kindref="member">ToNodePin</ref></highlight></codeline>
<codeline lineno="1162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>));</highlight></codeline>
<codeline lineno="1163"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1164"><highlight class="normal"></highlight></codeline>
<codeline lineno="1165"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i=0;<sp/>i<sp/>&lt;<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a5e676e26c0e890e93bf501853e9b91fe" kindref="member">nodes</ref>-&gt;<ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m_1a5e51604ca38ba7ce256dae4d28396c64" kindref="member">Count</ref>;<sp/>++<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>)</highlight></codeline>
<codeline lineno="1166"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>GUID*<sp/>pConn<sp/>=<sp/>nodes<sp/>+<sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="1168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;<sp/><sp/>Node:<sp/>%d<sp/>-<sp/>{%08X-%04X-%04X-%02X%02X-%02X%02X%02X%02X%02X%02X}\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i,</highlight></codeline>
<codeline lineno="1170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pConn-&gt;Data1,<sp/>pConn-&gt;Data2,<sp/>pConn-&gt;Data3,</highlight></codeline>
<codeline lineno="1171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pConn-&gt;Data4[0],<sp/>pConn-&gt;Data4[1],</highlight></codeline>
<codeline lineno="1172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pConn-&gt;Data4[2],<sp/>pConn-&gt;Data4[3],</highlight></codeline>
<codeline lineno="1173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pConn-&gt;Data4[4],<sp/>pConn-&gt;Data4[5],</highlight></codeline>
<codeline lineno="1174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pConn-&gt;Data4[6],<sp/>pConn-&gt;Data4[7]</highlight></codeline>
<codeline lineno="1175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>));</highlight></codeline>
<codeline lineno="1176"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1177"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="1178"><highlight class="normal"></highlight></codeline>
<codeline lineno="1179"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1180"><highlight class="normal"></highlight></codeline>
<codeline lineno="1181" refid="struct_____pa_usb_terminal_g_u_i_d_to_name" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_____pa_usb_terminal_g_u_i_d_to_name" kindref="compound">__PaUsbTerminalGUIDToName</ref><sp/></highlight></codeline>
<codeline lineno="1182"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1183" refid="struct_____pa_usb_terminal_g_u_i_d_to_name_1afab660656e1e36e90d94c3e41cff7abc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>USHORT<sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_usb_terminal_g_u_i_d_to_name_1afab660656e1e36e90d94c3e41cff7abc" kindref="member">usbGUID</ref>;</highlight></codeline>
<codeline lineno="1184" refid="struct_____pa_usb_terminal_g_u_i_d_to_name_1afc7ab982a1c89a1ad640e40ad26d5f90" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">wchar_t</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="lib_2expat_8h_1a1b49b495b59f9e73205b69ad1a2965b0" kindref="member">name</ref>[64];</highlight></codeline>
<codeline lineno="1185"><highlight class="normal">}<sp/><ref refid="pa__win__wdmks_8c_1a5ab5100ea609d0ad5bf634112d7ada3d" kindref="member">PaUsbTerminalGUIDToName</ref>;</highlight></codeline>
<codeline lineno="1186"><highlight class="normal"></highlight></codeline>
<codeline lineno="1187"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_____pa_usb_terminal_g_u_i_d_to_name" kindref="compound">PaUsbTerminalGUIDToName</ref><sp/>kNames[]<sp/>=</highlight></codeline>
<codeline lineno="1188"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1189"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Types<sp/>copied<sp/>from:<sp/>http://msdn.microsoft.com/en-us/library/ff537742(v=vs.85).aspx<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1190"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Input<sp/>terminal<sp/>types<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1191"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>0x0201,<sp/>L</highlight><highlight class="stringliteral">&quot;Microphone&quot;</highlight><highlight class="normal"><sp/>},</highlight></codeline>
<codeline lineno="1192"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>0x0202,<sp/>L</highlight><highlight class="stringliteral">&quot;Desktop<sp/>Microphone&quot;</highlight><highlight class="normal"><sp/>},</highlight></codeline>
<codeline lineno="1193"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>0x0203,<sp/>L</highlight><highlight class="stringliteral">&quot;Personal<sp/>Microphone&quot;</highlight><highlight class="normal"><sp/>},</highlight></codeline>
<codeline lineno="1194"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>0x0204,<sp/>L</highlight><highlight class="stringliteral">&quot;Omni<sp/>Directional<sp/>Microphone&quot;</highlight><highlight class="normal"><sp/>},</highlight></codeline>
<codeline lineno="1195"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>0x0205,<sp/>L</highlight><highlight class="stringliteral">&quot;Microphone<sp/>Array&quot;</highlight><highlight class="normal"><sp/>},</highlight></codeline>
<codeline lineno="1196"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>0x0206,<sp/>L</highlight><highlight class="stringliteral">&quot;Processing<sp/>Microphone<sp/>Array&quot;</highlight><highlight class="normal"><sp/>},</highlight></codeline>
<codeline lineno="1197"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Output<sp/>terminal<sp/>types<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1198"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>0x0301,<sp/>L</highlight><highlight class="stringliteral">&quot;Speakers&quot;</highlight><highlight class="normal"><sp/>},</highlight></codeline>
<codeline lineno="1199"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>0x0302,<sp/>L</highlight><highlight class="stringliteral">&quot;Headphones&quot;</highlight><highlight class="normal"><sp/>},</highlight></codeline>
<codeline lineno="1200"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>0x0303,<sp/>L</highlight><highlight class="stringliteral">&quot;Head<sp/>Mounted<sp/>Display<sp/>Audio&quot;</highlight><highlight class="normal"><sp/>},</highlight></codeline>
<codeline lineno="1201"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>0x0304,<sp/>L</highlight><highlight class="stringliteral">&quot;Desktop<sp/>Speaker&quot;</highlight><highlight class="normal"><sp/>},</highlight></codeline>
<codeline lineno="1202"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>0x0305,<sp/>L</highlight><highlight class="stringliteral">&quot;Room<sp/>Speaker&quot;</highlight><highlight class="normal"><sp/>},</highlight></codeline>
<codeline lineno="1203"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>0x0306,<sp/>L</highlight><highlight class="stringliteral">&quot;Communication<sp/>Speaker&quot;</highlight><highlight class="normal"><sp/>},</highlight></codeline>
<codeline lineno="1204"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>0x0307,<sp/>L</highlight><highlight class="stringliteral">&quot;LFE<sp/>Speakers&quot;</highlight><highlight class="normal"><sp/>},</highlight></codeline>
<codeline lineno="1205"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>External<sp/>terminal<sp/>types<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1206"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>0x0601,<sp/>L</highlight><highlight class="stringliteral">&quot;Analog&quot;</highlight><highlight class="normal"><sp/>},</highlight></codeline>
<codeline lineno="1207"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>0x0602,<sp/>L</highlight><highlight class="stringliteral">&quot;Digital&quot;</highlight><highlight class="normal"><sp/>},</highlight></codeline>
<codeline lineno="1208"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>0x0603,<sp/>L</highlight><highlight class="stringliteral">&quot;Line&quot;</highlight><highlight class="normal"><sp/>},</highlight></codeline>
<codeline lineno="1209"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>0x0604,<sp/>L</highlight><highlight class="stringliteral">&quot;Audio&quot;</highlight><highlight class="normal"><sp/>},</highlight></codeline>
<codeline lineno="1210"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>0x0605,<sp/>L</highlight><highlight class="stringliteral">&quot;SPDIF&quot;</highlight><highlight class="normal"><sp/>},</highlight></codeline>
<codeline lineno="1211"><highlight class="normal">};</highlight></codeline>
<codeline lineno="1212"><highlight class="normal"></highlight></codeline>
<codeline lineno="1213"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>kNamesCnt<sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(kNames)/</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_____pa_usb_terminal_g_u_i_d_to_name" kindref="compound">PaUsbTerminalGUIDToName</ref>);</highlight></codeline>
<codeline lineno="1214"><highlight class="normal"></highlight></codeline>
<codeline lineno="1215"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>PaUsbTerminalGUIDToNameCmp(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>lhs,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>rhs)</highlight></codeline>
<codeline lineno="1216"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1217"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_____pa_usb_terminal_g_u_i_d_to_name" kindref="compound">PaUsbTerminalGUIDToName</ref>*<sp/>pL<sp/>=<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_____pa_usb_terminal_g_u_i_d_to_name" kindref="compound">PaUsbTerminalGUIDToName</ref>*)lhs;</highlight></codeline>
<codeline lineno="1218"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_____pa_usb_terminal_g_u_i_d_to_name" kindref="compound">PaUsbTerminalGUIDToName</ref>*<sp/>pR<sp/>=<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_____pa_usb_terminal_g_u_i_d_to_name" kindref="compound">PaUsbTerminalGUIDToName</ref>*)rhs;</highlight></codeline>
<codeline lineno="1219"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>((</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)(pL-&gt;<ref refid="struct_____pa_usb_terminal_g_u_i_d_to_name_1afab660656e1e36e90d94c3e41cff7abc" kindref="member">usbGUID</ref>)<sp/>-<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)(pR-&gt;<ref refid="struct_____pa_usb_terminal_g_u_i_d_to_name_1afab660656e1e36e90d94c3e41cff7abc" kindref="member">usbGUID</ref>));</highlight></codeline>
<codeline lineno="1220"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1221"><highlight class="normal"></highlight></codeline>
<codeline lineno="1222"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>GetNameFromCategory(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>GUID*<sp/>pGUID,<sp/><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref><sp/>input,<sp/></highlight><highlight class="keywordtype">wchar_t</highlight><highlight class="normal">*<sp/><ref refid="lib_2expat_8h_1a1b49b495b59f9e73205b69ad1a2965b0" kindref="member">name</ref>,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="test__lib_f_l_a_c_2format_8c_1ac94dc16b22556ba5fa815655f27442da" kindref="member">length</ref>)</highlight></codeline>
<codeline lineno="1223"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1224"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a47726071f5dccc656d5e3ff20bbfc5a0" kindref="member">paUnanticipatedHostError</ref>;</highlight></codeline>
<codeline lineno="1225"><highlight class="normal"><sp/><sp/><sp/><sp/>USHORT<sp/>usbTerminalGUID<sp/>=<sp/>(USHORT)(pGUID-&gt;Data1<sp/>-<sp/>0xDFF219E0);</highlight></codeline>
<codeline lineno="1226"><highlight class="normal"></highlight></codeline>
<codeline lineno="1227"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="1228"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(input<sp/>&amp;&amp;<sp/>usbTerminalGUID<sp/>&gt;=<sp/>0x301<sp/>&amp;&amp;<sp/>usbTerminalGUID<sp/>&lt;<sp/>0x400)</highlight></codeline>
<codeline lineno="1229"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Output<sp/>terminal<sp/>name<sp/>for<sp/>an<sp/>input<sp/>!?<sp/>Set<sp/>it<sp/>to<sp/>Line!<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>usbTerminalGUID<sp/>=<sp/>0x603;</highlight></codeline>
<codeline lineno="1232"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1233"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!input<sp/>&amp;&amp;<sp/>usbTerminalGUID<sp/>&gt;=<sp/>0x201<sp/>&amp;&amp;<sp/>usbTerminalGUID<sp/>&lt;<sp/>0x300)</highlight></codeline>
<codeline lineno="1234"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Input<sp/>terminal<sp/>name<sp/>for<sp/>an<sp/>output<sp/>!?<sp/>Set<sp/>it<sp/>to<sp/>Line!<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>usbTerminalGUID<sp/>=<sp/>0x603;</highlight></codeline>
<codeline lineno="1237"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1238"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(usbTerminalGUID<sp/>&gt;=<sp/>0x201<sp/>&amp;&amp;<sp/>usbTerminalGUID<sp/>&lt;<sp/>0x713)</highlight></codeline>
<codeline lineno="1239"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_usb_terminal_g_u_i_d_to_name" kindref="compound">PaUsbTerminalGUIDToName</ref><sp/><ref refid="lib_2expat_8h_1a755339d27872b13735c2cab829e47157" kindref="member">s</ref><sp/>=<sp/>{<sp/>usbTerminalGUID<sp/>};</highlight></codeline>
<codeline lineno="1241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_____pa_usb_terminal_g_u_i_d_to_name" kindref="compound">PaUsbTerminalGUIDToName</ref>*<sp/>ptr<sp/>=<sp/>bsearch(</highlight></codeline>
<codeline lineno="1242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;s,</highlight></codeline>
<codeline lineno="1243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kNames,</highlight></codeline>
<codeline lineno="1244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kNamesCnt,</highlight></codeline>
<codeline lineno="1245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_____pa_usb_terminal_g_u_i_d_to_name" kindref="compound">PaUsbTerminalGUIDToName</ref>),</highlight></codeline>
<codeline lineno="1246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaUsbTerminalGUIDToNameCmp</highlight></codeline>
<codeline lineno="1247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="1248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ptr<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="1249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;GetNameFromCategory:<sp/>USB<sp/>GUID<sp/>%04X<sp/>-&gt;<sp/>&apos;%S&apos;\n&quot;</highlight><highlight class="normal">,<sp/>usbTerminalGUID,<sp/>ptr-&gt;<ref refid="struct_____pa_usb_terminal_g_u_i_d_to_name_1afc7ab982a1c89a1ad640e40ad26d5f90" kindref="member">name</ref>));</highlight></codeline>
<codeline lineno="1251"><highlight class="normal"></highlight></codeline>
<codeline lineno="1252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="lib_2expat_8h_1a1b49b495b59f9e73205b69ad1a2965b0" kindref="member">name</ref><sp/>!=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>&amp;&amp;<sp/>length<sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="1253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n<sp/>=<sp/>_snwprintf(<ref refid="lib_2expat_8h_1a1b49b495b59f9e73205b69ad1a2965b0" kindref="member">name</ref>,<sp/>length,<sp/>L</highlight><highlight class="stringliteral">&quot;%s&quot;</highlight><highlight class="normal">,<sp/>ptr-&gt;<ref refid="struct_____pa_usb_terminal_g_u_i_d_to_name_1afc7ab982a1c89a1ad640e40ad26d5f90" kindref="member">name</ref>);</highlight></codeline>
<codeline lineno="1255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(usbTerminalGUID<sp/>&gt;=<sp/>0x601<sp/>&amp;&amp;<sp/>usbTerminalGUID<sp/>&lt;<sp/>0x700)</highlight></codeline>
<codeline lineno="1256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_snwprintf(<ref refid="lib_2expat_8h_1a1b49b495b59f9e73205b69ad1a2965b0" kindref="member">name</ref><sp/>+<sp/>n,<sp/>length<sp/>-<sp/>n,<sp/>L</highlight><highlight class="stringliteral">&quot;<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>(input<sp/>?<sp/>L</highlight><highlight class="stringliteral">&quot;In&quot;</highlight><highlight class="normal">:L</highlight><highlight class="stringliteral">&quot;Out&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="1261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1262"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1263"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1264"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(result,<sp/></highlight><highlight class="stringliteral">&quot;GetNameFromCategory:<sp/>usbTerminalGUID<sp/>=<sp/>%04X<sp/>&quot;</highlight><highlight class="normal">,<sp/>usbTerminalGUID);</highlight></codeline>
<codeline lineno="1266"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1267"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="1268"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="1269"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1270"><highlight class="normal"></highlight></codeline>
<codeline lineno="1271"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref><sp/>IsFrequencyWithinRange(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o" kindref="compound">KSDATARANGE_AUDIO</ref>*<sp/>range,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>frequency)</highlight></codeline>
<codeline lineno="1272"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1273"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(frequency<sp/>&lt;<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)range-&gt;<ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o_1aee794ef5401e207da52714156369073a" kindref="member">MinimumSampleFrequency</ref>)</highlight></codeline>
<codeline lineno="1274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;</highlight></codeline>
<codeline lineno="1275"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(frequency<sp/>&gt;<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)range-&gt;<ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o_1ab17b43eea8ed34632c193818125e7ca2" kindref="member">MaximumSampleFrequency</ref>)</highlight></codeline>
<codeline lineno="1276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;</highlight></codeline>
<codeline lineno="1277"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cext_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>;</highlight></codeline>
<codeline lineno="1278"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1279"><highlight class="normal"></highlight></codeline>
<codeline lineno="1280"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref><sp/>IsBitsWithinRange(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o" kindref="compound">KSDATARANGE_AUDIO</ref>*<sp/>range,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>noOfBits)</highlight></codeline>
<codeline lineno="1281"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1282"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(noOfBits<sp/>&lt;<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)range-&gt;<ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o_1a6da7ed494cfa0f11cfe1d91c664f0871" kindref="member">MinimumBitsPerSample</ref>)</highlight></codeline>
<codeline lineno="1283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;</highlight></codeline>
<codeline lineno="1284"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(noOfBits<sp/>&gt;<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)range-&gt;<ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o_1ab16363498207d22501834543f35c3afd" kindref="member">MaximumBitsPerSample</ref>)</highlight></codeline>
<codeline lineno="1285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;</highlight></codeline>
<codeline lineno="1286"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cext_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>;</highlight></codeline>
<codeline lineno="1287"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1288"><highlight class="normal"></highlight></codeline>
<codeline lineno="1289"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Note:<sp/>Somewhat<sp/>different<sp/>order<sp/>compared<sp/>to<sp/>WMME<sp/>implementation,<sp/>as<sp/>we<sp/>want<sp/>to<sp/>focus<sp/>on<sp/>fidelity<sp/>first<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1290"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>defaultSampleRateSearchOrder[]<sp/>=</highlight></codeline>
<codeline lineno="1291"><highlight class="normal">{<sp/>44100,<sp/>48000,<sp/>88200,<sp/>96000,<sp/>192000,<sp/>32000,<sp/>24000,<sp/>22050,<sp/>16000,<sp/>12000,<sp/>11025,<sp/>9600,<sp/>8000<sp/>};</highlight></codeline>
<codeline lineno="1292"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>defaultSampleRateSearchOrderCount<sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(defaultSampleRateSearchOrder)/</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(defaultSampleRateSearchOrder[0]);</highlight></codeline>
<codeline lineno="1293"><highlight class="normal"></highlight></codeline>
<codeline lineno="1294"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>DefaultSampleFrequencyIndex(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o" kindref="compound">KSDATARANGE_AUDIO</ref>*<sp/>range)</highlight></codeline>
<codeline lineno="1295"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1296"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="1297"><highlight class="normal"></highlight></codeline>
<codeline lineno="1298"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(i=0;<sp/>i<sp/>&lt;<sp/>defaultSampleRateSearchOrderCount;<sp/>++<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>)</highlight></codeline>
<codeline lineno="1299"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>currentFrequency<sp/>=<sp/>defaultSampleRateSearchOrder[<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>];</highlight></codeline>
<codeline lineno="1301"><highlight class="normal"></highlight></codeline>
<codeline lineno="1302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(IsFrequencyWithinRange(range,<sp/>currentFrequency))</highlight></codeline>
<codeline lineno="1303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="1305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1306"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1307"><highlight class="normal"></highlight></codeline>
<codeline lineno="1308"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="1309"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1310"><highlight class="normal"></highlight></codeline>
<codeline lineno="1311"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="1312"><highlight class="comment">Create<sp/>a<sp/>new<sp/>pin<sp/>object<sp/>belonging<sp/>to<sp/>a<sp/>filter</highlight></codeline>
<codeline lineno="1313"><highlight class="comment">The<sp/>pin<sp/>object<sp/>holds<sp/>all<sp/>the<sp/>configuration<sp/>information<sp/>about<sp/>the<sp/>pin</highlight></codeline>
<codeline lineno="1314"><highlight class="comment">before<sp/>it<sp/>is<sp/>opened,<sp/>and<sp/>then<sp/>the<sp/>handle<sp/>of<sp/>the<sp/>pin<sp/>after<sp/>is<sp/>opened</highlight></codeline>
<codeline lineno="1315"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1316"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>PinNew(<ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/>parentFilter,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>pinId,<sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref>*<sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>)</highlight></codeline>
<codeline lineno="1317"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1318"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pin;</highlight></codeline>
<codeline lineno="1319"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result;</highlight></codeline>
<codeline lineno="1320"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="1321"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m" kindref="compound">KSMULTIPLE_ITEM</ref>*<sp/>item<sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1322"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_k_s_i_d_e_n_t_i_f_i_e_r" kindref="compound">KSIDENTIFIER</ref>*<sp/>identifier;</highlight></codeline>
<codeline lineno="1323"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="union_k_s_d_a_t_a_f_o_r_m_a_t" kindref="compound">KSDATARANGE</ref>*<sp/>dataRange;</highlight></codeline>
<codeline lineno="1324"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>ULONG<sp/>streamingId<sp/>=<sp/>(parentFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1a65b71d52a0990fdb97201d0cea3f05f1" kindref="member">streamingType</ref><sp/>==<sp/><ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8a2af26020e0cc2ba29abf9235c1de3893" kindref="member">Type_kWaveRT</ref>)<sp/>?<sp/><ref refid="ks_8h_1ab6880e1b7e9973d5b8fecca34ef2b7e8aa4634287d7a98c18b3fdb31b3e449a03" kindref="member">KSINTERFACE_STANDARD_LOOPED_STREAMING</ref><sp/>:<sp/><ref refid="ks_8h_1ab6880e1b7e9973d5b8fecca34ef2b7e8a3a0e2c61a66b878ce829d39a1f06bdcc" kindref="member">KSINTERFACE_STANDARD_STREAMING</ref>;</highlight></codeline>
<codeline lineno="1325"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>defaultSampleRateIndex<sp/>=<sp/>defaultSampleRateSearchOrderCount;</highlight></codeline>
<codeline lineno="1326"><highlight class="normal"></highlight></codeline>
<codeline lineno="1327"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="1328"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Creating<sp/>pin<sp/>%d:\n&quot;</highlight><highlight class="normal">,pinId));</highlight></codeline>
<codeline lineno="1329"><highlight class="normal"></highlight></codeline>
<codeline lineno="1330"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Allocate<sp/>the<sp/>new<sp/>PIN<sp/>object<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1331"><highlight class="normal"><sp/><sp/><sp/><sp/>pin<sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*)<ref refid="pa__util_8h_1aa614f193aff12744a6ab90a9eb3128f0" kindref="member">PaUtil_AllocateMemory</ref>(<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>)<sp/>);</highlight></codeline>
<codeline lineno="1332"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>!pin<sp/>)</highlight></codeline>
<codeline lineno="1333"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="1335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>error;</highlight></codeline>
<codeline lineno="1336"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1337"><highlight class="normal"></highlight></codeline>
<codeline lineno="1338"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Zero<sp/>the<sp/>pin<sp/>object<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1339"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>memset(<sp/>(void*)pin,<sp/>0,<sp/>sizeof(PaWinWdmPin)<sp/>);<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1340"><highlight class="normal"></highlight></codeline>
<codeline lineno="1341"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref><sp/>=<sp/>parentFilter;</highlight></codeline>
<codeline lineno="1342"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a81ab014de4b698e66915fb28e01cb7c7" kindref="member">pinId</ref><sp/>=<sp/>pinId;</highlight></codeline>
<codeline lineno="1343"><highlight class="normal"></highlight></codeline>
<codeline lineno="1344"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Allocate<sp/>a<sp/>connect<sp/>structure<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1345"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a77f9537f17bc86095bfc5646de673da5" kindref="member">pinConnectSize</ref><sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_k_s_p_i_n___c_o_n_n_e_c_t" kindref="compound">KSPIN_CONNECT</ref>)<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(KSDATAFORMAT_WAVEFORMATEX);</highlight></codeline>
<codeline lineno="1346"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a2c0a3fa53ea7dbc62ef29f9ee4b5ff2c" kindref="member">pinConnect</ref><sp/>=<sp/>(<ref refid="struct_k_s_p_i_n___c_o_n_n_e_c_t" kindref="compound">KSPIN_CONNECT</ref>*)<ref refid="pa__util_8h_1aa614f193aff12744a6ab90a9eb3128f0" kindref="member">PaUtil_AllocateMemory</ref>(<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a77f9537f17bc86095bfc5646de673da5" kindref="member">pinConnectSize</ref><sp/>);</highlight></codeline>
<codeline lineno="1347"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>!pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a2c0a3fa53ea7dbc62ef29f9ee4b5ff2c" kindref="member">pinConnect</ref><sp/>)</highlight></codeline>
<codeline lineno="1348"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="1350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>error;</highlight></codeline>
<codeline lineno="1351"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1352"><highlight class="normal"></highlight></codeline>
<codeline lineno="1353"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Configure<sp/>the<sp/>connect<sp/>structure<sp/>with<sp/>default<sp/>values<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1354"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a2c0a3fa53ea7dbc62ef29f9ee4b5ff2c" kindref="member">pinConnect</ref>-&gt;<ref refid="struct_k_s_p_i_n___c_o_n_n_e_c_t_1aca90775277dde1fe8aaa75edc9765861" kindref="member">Interface</ref>.Set<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/><ref refid="ks_8h_1aeb46b86fc0141c343c24426df8e7f241" kindref="member">KSINTERFACESETID_Standard</ref>;</highlight></codeline>
<codeline lineno="1355"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a2c0a3fa53ea7dbc62ef29f9ee4b5ff2c" kindref="member">pinConnect</ref>-&gt;<ref refid="struct_k_s_p_i_n___c_o_n_n_e_c_t_1aca90775277dde1fe8aaa75edc9765861" kindref="member">Interface</ref>.Id<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>streamingId;</highlight></codeline>
<codeline lineno="1356"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a2c0a3fa53ea7dbc62ef29f9ee4b5ff2c" kindref="member">pinConnect</ref>-&gt;<ref refid="struct_k_s_p_i_n___c_o_n_n_e_c_t_1aca90775277dde1fe8aaa75edc9765861" kindref="member">Interface</ref>.Flags<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1357"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a2c0a3fa53ea7dbc62ef29f9ee4b5ff2c" kindref="member">pinConnect</ref>-&gt;<ref refid="struct_k_s_p_i_n___c_o_n_n_e_c_t_1abd088c63e52c5afd0540c87e5a4628f5" kindref="member">Medium</ref>.Set<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/><ref refid="ks_8h_1a200c79c09ce82445d00eb0545c2980b4" kindref="member">KSMEDIUMSETID_Standard</ref>;</highlight></codeline>
<codeline lineno="1358"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a2c0a3fa53ea7dbc62ef29f9ee4b5ff2c" kindref="member">pinConnect</ref>-&gt;<ref refid="struct_k_s_p_i_n___c_o_n_n_e_c_t_1abd088c63e52c5afd0540c87e5a4628f5" kindref="member">Medium</ref>.Id<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/><ref refid="ks_8h_1a0e985db6e2746c2d7f9613d8cec3bf80" kindref="member">KSMEDIUM_TYPE_ANYINSTANCE</ref>;</highlight></codeline>
<codeline lineno="1359"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a2c0a3fa53ea7dbc62ef29f9ee4b5ff2c" kindref="member">pinConnect</ref>-&gt;<ref refid="struct_k_s_p_i_n___c_o_n_n_e_c_t_1abd088c63e52c5afd0540c87e5a4628f5" kindref="member">Medium</ref>.Flags<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1360"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a2c0a3fa53ea7dbc62ef29f9ee4b5ff2c" kindref="member">pinConnect</ref>-&gt;<ref refid="struct_k_s_p_i_n___c_o_n_n_e_c_t_1a9852ce959cb95c7ced5fe0ed831835f2" kindref="member">PinId</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>pinId;</highlight></codeline>
<codeline lineno="1361"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a2c0a3fa53ea7dbc62ef29f9ee4b5ff2c" kindref="member">pinConnect</ref>-&gt;<ref refid="struct_k_s_p_i_n___c_o_n_n_e_c_t_1ad56938812e02c27dd423d4f31d1173eb" kindref="member">PinToHandle</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1362"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a2c0a3fa53ea7dbc62ef29f9ee4b5ff2c" kindref="member">pinConnect</ref>-&gt;<ref refid="struct_k_s_p_i_n___c_o_n_n_e_c_t_1ac1719e3d12053516b9a1920d7fb1ff36" kindref="member">Priority</ref>.<ref refid="struct_k_s_p_r_i_o_r_i_t_y_1a3c28c985e9d055cfacb901761311f75d" kindref="member">PriorityClass</ref><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/><ref refid="ks_8h_1a07be701e9f9c1b5495af2539d56f67a3" kindref="member">KSPRIORITY_NORMAL</ref>;</highlight></codeline>
<codeline lineno="1363"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a2c0a3fa53ea7dbc62ef29f9ee4b5ff2c" kindref="member">pinConnect</ref>-&gt;<ref refid="struct_k_s_p_i_n___c_o_n_n_e_c_t_1ac1719e3d12053516b9a1920d7fb1ff36" kindref="member">Priority</ref>.<ref refid="struct_k_s_p_r_i_o_r_i_t_y_1afa60e98100c79a97dd08096c2db0df76" kindref="member">PrioritySubClass</ref><sp/><sp/><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="1364"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ac22b41ab27423a1fe5b96d1b675d62cb" kindref="member">ksDataFormatWfx</ref><sp/>=<sp/>(KSDATAFORMAT_WAVEFORMATEX*)(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a2c0a3fa53ea7dbc62ef29f9ee4b5ff2c" kindref="member">pinConnect</ref><sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="1365"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ac22b41ab27423a1fe5b96d1b675d62cb" kindref="member">ksDataFormatWfx</ref>-&gt;DataFormat.FormatSize<sp/><sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(KSDATAFORMAT_WAVEFORMATEX);</highlight></codeline>
<codeline lineno="1366"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ac22b41ab27423a1fe5b96d1b675d62cb" kindref="member">ksDataFormatWfx</ref>-&gt;DataFormat.Flags<sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1367"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ac22b41ab27423a1fe5b96d1b675d62cb" kindref="member">ksDataFormatWfx</ref>-&gt;DataFormat.Reserved<sp/><sp/><sp/><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1368"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ac22b41ab27423a1fe5b96d1b675d62cb" kindref="member">ksDataFormatWfx</ref>-&gt;DataFormat.MajorFormat<sp/>=<sp/><ref refid="ksmedia_8h_1ac2df9c18dea71d4d0313dcd7c08b60c5" kindref="member">KSDATAFORMAT_TYPE_AUDIO</ref>;</highlight></codeline>
<codeline lineno="1369"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ac22b41ab27423a1fe5b96d1b675d62cb" kindref="member">ksDataFormatWfx</ref>-&gt;DataFormat.SubFormat<sp/><sp/><sp/>=<sp/><ref refid="ksmedia_8h_1a549f89a2358aff91fd489c6a2377319b" kindref="member">KSDATAFORMAT_SUBTYPE_PCM</ref>;</highlight></codeline>
<codeline lineno="1370"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ac22b41ab27423a1fe5b96d1b675d62cb" kindref="member">ksDataFormatWfx</ref>-&gt;DataFormat.Specifier<sp/><sp/><sp/>=<sp/><ref refid="ksmedia_8h_1af6fd5c81c7a9d3f8a9d59f98c4cfa3f8" kindref="member">KSDATAFORMAT_SPECIFIER_WAVEFORMATEX</ref>;</highlight></codeline>
<codeline lineno="1371"><highlight class="normal"></highlight></codeline>
<codeline lineno="1372"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6c12dcae31c4badecb8bb36ed5fd7381" kindref="member">frameSize</ref><sp/>=<sp/>0;<sp/></highlight><highlight class="comment">/*<sp/>Unknown<sp/>until<sp/>we<sp/>instantiate<sp/>pin<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1373"><highlight class="normal"></highlight></codeline>
<codeline lineno="1374"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>the<sp/>COMMUNICATION<sp/>property<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1375"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmGetPinPropertySimple(</highlight></codeline>
<codeline lineno="1376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parentFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref>,</highlight></codeline>
<codeline lineno="1377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pinId,</highlight></codeline>
<codeline lineno="1378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="ks_8h_1a30cf7609846e6ea4d90411a45dc4ad79" kindref="member">KSPROPSETID_Pin</ref>,</highlight></codeline>
<codeline lineno="1379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a4d938d8189326438b819a522979356e8a12fc6280a23ce2d01ad6c7391b47a993" kindref="member">KSPROPERTY_PIN_COMMUNICATION</ref>,</highlight></codeline>
<codeline lineno="1380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a3d1ada1784d7cecbf90b73b27b31d0a7" kindref="member">communication</ref>,</highlight></codeline>
<codeline lineno="1381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="ks_8h_1a6e14df6c0ef3b91a7aa83cac527c71ff" kindref="member">KSPIN_COMMUNICATION</ref>),</highlight></codeline>
<codeline lineno="1382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="1383"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref><sp/>)</highlight></codeline>
<codeline lineno="1384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>error;</highlight></codeline>
<codeline lineno="1385"><highlight class="normal"></highlight></codeline>
<codeline lineno="1386"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/></highlight><highlight class="comment">/*(pin-&gt;communication<sp/>!=<sp/>KSPIN_COMMUNICATION_SOURCE)<sp/>&amp;&amp;*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a3d1ada1784d7cecbf90b73b27b31d0a7" kindref="member">communication</ref><sp/>!=<sp/><ref refid="ks_8h_1a6e14df6c0ef3b91a7aa83cac527c71ffabff10eb79122f30090b48ce813acf295" kindref="member">KSPIN_COMMUNICATION_SINK</ref>)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="1388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a3d1ada1784d7cecbf90b73b27b31d0a7" kindref="member">communication</ref><sp/>!=<sp/><ref refid="ks_8h_1a6e14df6c0ef3b91a7aa83cac527c71ffa8e4d402b4ae2c2e9f842aa2089b6f708" kindref="member">KSPIN_COMMUNICATION_BOTH</ref>)<sp/>)</highlight></codeline>
<codeline lineno="1389"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Not<sp/>source/sink\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a3442d8018bfa4329847d87df68b564a3" kindref="member">paInvalidDevice</ref>;</highlight></codeline>
<codeline lineno="1392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>error;</highlight></codeline>
<codeline lineno="1393"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1394"><highlight class="normal"></highlight></codeline>
<codeline lineno="1395"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>dataflow<sp/>information<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1396"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmGetPinPropertySimple(</highlight></codeline>
<codeline lineno="1397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parentFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref>,</highlight></codeline>
<codeline lineno="1398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pinId,</highlight></codeline>
<codeline lineno="1399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="ks_8h_1a30cf7609846e6ea4d90411a45dc4ad79" kindref="member">KSPROPSETID_Pin</ref>,</highlight></codeline>
<codeline lineno="1400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a4d938d8189326438b819a522979356e8af430bc36d98b35b72da56b2c162ce01f" kindref="member">KSPROPERTY_PIN_DATAFLOW</ref>,</highlight></codeline>
<codeline lineno="1401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a8d798c1a1b09965996a5c29f3797dbff" kindref="member">dataFlow</ref>,</highlight></codeline>
<codeline lineno="1402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="ks_8h_1a56408dcd08fcb4080adbd109cf61c4aa" kindref="member">KSPIN_DATAFLOW</ref>),</highlight></codeline>
<codeline lineno="1403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="1404"><highlight class="normal"></highlight></codeline>
<codeline lineno="1405"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref><sp/>)</highlight></codeline>
<codeline lineno="1406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>error;</highlight></codeline>
<codeline lineno="1407"><highlight class="normal"></highlight></codeline>
<codeline lineno="1408"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>the<sp/>INTERFACE<sp/>property<sp/>list<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1409"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmGetPinPropertyMulti(</highlight></codeline>
<codeline lineno="1410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parentFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref>,</highlight></codeline>
<codeline lineno="1411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pinId,</highlight></codeline>
<codeline lineno="1412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="ks_8h_1a30cf7609846e6ea4d90411a45dc4ad79" kindref="member">KSPROPSETID_Pin</ref>,</highlight></codeline>
<codeline lineno="1413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a4d938d8189326438b819a522979356e8afba4eec925f64c93bb1af0c8e3a20bdc" kindref="member">KSPROPERTY_PIN_INTERFACES</ref>,</highlight></codeline>
<codeline lineno="1414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;item);</highlight></codeline>
<codeline lineno="1415"><highlight class="normal"></highlight></codeline>
<codeline lineno="1416"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref><sp/>)</highlight></codeline>
<codeline lineno="1417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>error;</highlight></codeline>
<codeline lineno="1418"><highlight class="normal"></highlight></codeline>
<codeline lineno="1419"><highlight class="normal"><sp/><sp/><sp/><sp/>identifier<sp/>=<sp/>(<ref refid="struct_k_s_i_d_e_n_t_i_f_i_e_r" kindref="compound">KSIDENTIFIER</ref>*)(item+1);</highlight></codeline>
<codeline lineno="1420"><highlight class="normal"></highlight></codeline>
<codeline lineno="1421"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>that<sp/>at<sp/>least<sp/>one<sp/>interface<sp/>is<sp/>STANDARD_STREAMING<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1422"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a47726071f5dccc656d5e3ff20bbfc5a0" kindref="member">paUnanticipatedHostError</ref>;</highlight></codeline>
<codeline lineno="1423"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(<sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>item-&gt;<ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m_1a5e51604ca38ba7ce256dae4d28396c64" kindref="member">Count</ref>;<sp/>i++<sp/>)</highlight></codeline>
<codeline lineno="1424"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>IsEqualGUID(&amp;identifier[i].Set,<sp/>&amp;<ref refid="ks_8h_1aeb46b86fc0141c343c24426df8e7f241" kindref="member">KSINTERFACESETID_Standard</ref>)<sp/>&amp;&amp;<sp/>(<sp/>identifier[<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>].Id<sp/>==<sp/>streamingId<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="1426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="1428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1430"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1431"><highlight class="normal"></highlight></codeline>
<codeline lineno="1432"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref><sp/>)</highlight></codeline>
<codeline lineno="1433"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>No<sp/>%s<sp/>streaming\n&quot;</highlight><highlight class="normal">,<sp/>streamingId==<ref refid="ks_8h_1ab6880e1b7e9973d5b8fecca34ef2b7e8aa4634287d7a98c18b3fdb31b3e449a03" kindref="member">KSINTERFACE_STANDARD_LOOPED_STREAMING</ref>?</highlight><highlight class="stringliteral">&quot;looped&quot;</highlight><highlight class="normal">:</highlight><highlight class="stringliteral">&quot;standard&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>error;</highlight></codeline>
<codeline lineno="1436"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1437"><highlight class="normal"></highlight></codeline>
<codeline lineno="1438"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Don&apos;t<sp/>need<sp/>interfaces<sp/>any<sp/>more<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1439"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__util_8h_1a27a8f85d109600ef246e5c642c5c3cad" kindref="member">PaUtil_FreeMemory</ref>(<sp/>item<sp/>);</highlight></codeline>
<codeline lineno="1440"><highlight class="normal"><sp/><sp/><sp/><sp/>item<sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1441"><highlight class="normal"></highlight></codeline>
<codeline lineno="1442"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>the<sp/>MEDIUM<sp/>properties<sp/>list<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1443"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmGetPinPropertyMulti(</highlight></codeline>
<codeline lineno="1444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parentFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref>,</highlight></codeline>
<codeline lineno="1445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pinId,</highlight></codeline>
<codeline lineno="1446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="ks_8h_1a30cf7609846e6ea4d90411a45dc4ad79" kindref="member">KSPROPSETID_Pin</ref>,</highlight></codeline>
<codeline lineno="1447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a4d938d8189326438b819a522979356e8a720101a309cafda5e34acd5586bd7e68" kindref="member">KSPROPERTY_PIN_MEDIUMS</ref>,</highlight></codeline>
<codeline lineno="1448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;item);</highlight></codeline>
<codeline lineno="1449"><highlight class="normal"></highlight></codeline>
<codeline lineno="1450"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref><sp/>)</highlight></codeline>
<codeline lineno="1451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>error;</highlight></codeline>
<codeline lineno="1452"><highlight class="normal"></highlight></codeline>
<codeline lineno="1453"><highlight class="normal"><sp/><sp/><sp/><sp/>identifier<sp/>=<sp/>(<ref refid="struct_k_s_i_d_e_n_t_i_f_i_e_r" kindref="compound">KSIDENTIFIER</ref>*)(item+1);<sp/></highlight><highlight class="comment">/*<sp/>Not<sp/>actually<sp/>necessary...<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1454"><highlight class="normal"></highlight></codeline>
<codeline lineno="1455"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>that<sp/>at<sp/>least<sp/>one<sp/>medium<sp/>is<sp/>STANDARD_DEVIO<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1456"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a47726071f5dccc656d5e3ff20bbfc5a0" kindref="member">paUnanticipatedHostError</ref>;</highlight></codeline>
<codeline lineno="1457"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(<sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>item-&gt;<ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m_1a5e51604ca38ba7ce256dae4d28396c64" kindref="member">Count</ref>;<sp/>i++<sp/>)</highlight></codeline>
<codeline lineno="1458"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>IsEqualGUID(&amp;identifier[i].Set,<sp/>&amp;<ref refid="ks_8h_1a200c79c09ce82445d00eb0545c2980b4" kindref="member">KSMEDIUMSETID_Standard</ref>)<sp/>&amp;&amp;<sp/>(<sp/>identifier[<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>].Id<sp/>==<sp/><ref refid="ks_8h_1a92dbf7b063d017da725388f0cc4ad861" kindref="member">KSMEDIUM_STANDARD_DEVIO</ref><sp/>)<sp/>)</highlight></codeline>
<codeline lineno="1460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="1462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1464"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1465"><highlight class="normal"></highlight></codeline>
<codeline lineno="1466"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref><sp/>)</highlight></codeline>
<codeline lineno="1467"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;No<sp/>standard<sp/>devio\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>error;</highlight></codeline>
<codeline lineno="1470"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1471"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Don&apos;t<sp/>need<sp/>mediums<sp/>any<sp/>more<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1472"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__util_8h_1a27a8f85d109600ef246e5c642c5c3cad" kindref="member">PaUtil_FreeMemory</ref>(<sp/>item<sp/>);</highlight></codeline>
<codeline lineno="1473"><highlight class="normal"><sp/><sp/><sp/><sp/>item<sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1474"><highlight class="normal"></highlight></codeline>
<codeline lineno="1475"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>DATARANGES<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1476"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmGetPinPropertyMulti(</highlight></codeline>
<codeline lineno="1477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parentFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref>,</highlight></codeline>
<codeline lineno="1478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pinId,</highlight></codeline>
<codeline lineno="1479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="ks_8h_1a30cf7609846e6ea4d90411a45dc4ad79" kindref="member">KSPROPSETID_Pin</ref>,</highlight></codeline>
<codeline lineno="1480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a4d938d8189326438b819a522979356e8ab7fae1db9de548d78494dfff9858ccb4" kindref="member">KSPROPERTY_PIN_DATARANGES</ref>,</highlight></codeline>
<codeline lineno="1481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ad7e5f835e21d79bb012d4a369e2437cd" kindref="member">dataRangesItem</ref>);</highlight></codeline>
<codeline lineno="1482"><highlight class="normal"></highlight></codeline>
<codeline lineno="1483"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref><sp/>)</highlight></codeline>
<codeline lineno="1484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>error;</highlight></codeline>
<codeline lineno="1485"><highlight class="normal"></highlight></codeline>
<codeline lineno="1486"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a70e5b9749552a4f4bbf76233c984d4e0" kindref="member">dataRanges</ref><sp/>=<sp/>(<ref refid="union_k_s_d_a_t_a_f_o_r_m_a_t" kindref="compound">KSDATARANGE</ref>*)(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ad7e5f835e21d79bb012d4a369e2437cd" kindref="member">dataRangesItem</ref><sp/>+1);</highlight></codeline>
<codeline lineno="1487"><highlight class="normal"></highlight></codeline>
<codeline lineno="1488"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>that<sp/>at<sp/>least<sp/>one<sp/>datarange<sp/>supports<sp/>audio<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1489"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a47726071f5dccc656d5e3ff20bbfc5a0" kindref="member">paUnanticipatedHostError</ref>;</highlight></codeline>
<codeline lineno="1490"><highlight class="normal"><sp/><sp/><sp/><sp/>dataRange<sp/>=<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a70e5b9749552a4f4bbf76233c984d4e0" kindref="member">dataRanges</ref>;</highlight></codeline>
<codeline lineno="1491"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a33c12a0dbd09db02923a4bd4e7d2fb17" kindref="member">maxChannels</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1492"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a690270ec5eb11c10a9a669edab5b5aa6" kindref="member">defaultSampleRate</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1493"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1aaa618474b3f5813e67f4ade59e6c9540" kindref="member">formats</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1494"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Checking<sp/>%u<sp/>no<sp/>of<sp/>dataranges...\n&quot;</highlight><highlight class="normal">,<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ad7e5f835e21d79bb012d4a369e2437cd" kindref="member">dataRangesItem</ref>-&gt;<ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m_1a5e51604ca38ba7ce256dae4d28396c64" kindref="member">Count</ref>));</highlight></codeline>
<codeline lineno="1495"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(<sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ad7e5f835e21d79bb012d4a369e2437cd" kindref="member">dataRangesItem</ref>-&gt;<ref refid="struct_k_s_m_u_l_t_i_p_l_e___i_t_e_m_1a5e51604ca38ba7ce256dae4d28396c64" kindref="member">Count</ref>;<sp/>i++)</highlight></codeline>
<codeline lineno="1496"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>DR<sp/>major<sp/>format<sp/>%x\n&quot;</highlight><highlight class="normal">,*(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal">*)(&amp;(dataRange-&gt;<ref refid="union_k_s_d_a_t_a_f_o_r_m_a_t_1a71601273fdfb0ceee3866f02187b517e" kindref="member">MajorFormat</ref>))));</highlight></codeline>
<codeline lineno="1498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>that<sp/>subformat<sp/>is<sp/>WAVEFORMATEX,<sp/>PCM<sp/>or<sp/>WILDCARD<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/><ref refid="ksmedia_8h_1afbee16e6d67a50c9cc54c9a45ed8f179" kindref="member">IS_VALID_WAVEFORMATEX_GUID</ref>(&amp;dataRange-&gt;<ref refid="union_k_s_d_a_t_a_f_o_r_m_a_t_1a58a48636b6942b0f4676ee0861ea6386" kindref="member">SubFormat</ref>)<sp/>||</highlight></codeline>
<codeline lineno="1500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>IsEqualGUID(&amp;dataRange-&gt;<ref refid="union_k_s_d_a_t_a_f_o_r_m_a_t_1a58a48636b6942b0f4676ee0861ea6386" kindref="member">SubFormat</ref>,<sp/>&amp;<ref refid="ksmedia_8h_1a549f89a2358aff91fd489c6a2377319b" kindref="member">KSDATAFORMAT_SUBTYPE_PCM</ref>)<sp/>||</highlight></codeline>
<codeline lineno="1501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>IsEqualGUID(&amp;dataRange-&gt;<ref refid="union_k_s_d_a_t_a_f_o_r_m_a_t_1a58a48636b6942b0f4676ee0861ea6386" kindref="member">SubFormat</ref>,<sp/>&amp;KSDATAFORMAT_SUBTYPE_IEEE_FLOAT)<sp/>||</highlight></codeline>
<codeline lineno="1502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>IsEqualGUID(&amp;dataRange-&gt;<ref refid="union_k_s_d_a_t_a_f_o_r_m_a_t_1a58a48636b6942b0f4676ee0861ea6386" kindref="member">SubFormat</ref>,<sp/>&amp;<ref refid="ks_8h_1aa64c9aa306e03e4bb1b9cbd9b5865a44" kindref="member">KSDATAFORMAT_SUBTYPE_WILDCARD</ref>)<sp/>||</highlight></codeline>
<codeline lineno="1503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>IsEqualGUID(&amp;dataRange-&gt;<ref refid="union_k_s_d_a_t_a_f_o_r_m_a_t_1a71601273fdfb0ceee3866f02187b517e" kindref="member">MajorFormat</ref>,<sp/>&amp;<ref refid="ksmedia_8h_1ac2df9c18dea71d4d0313dcd7c08b60c5" kindref="member">KSDATAFORMAT_TYPE_AUDIO</ref>)<sp/>)</highlight></codeline>
<codeline lineno="1504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>defaultIndex;</highlight></codeline>
<codeline lineno="1506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="1507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Record<sp/>the<sp/>maximum<sp/>possible<sp/>channels<sp/>with<sp/>this<sp/>pin<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1508"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>((<ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o" kindref="compound">KSDATARANGE_AUDIO</ref>*)dataRange)-&gt;MaximumChannels<sp/>==<sp/>(ULONG)<sp/>-1<sp/>)</highlight></codeline>
<codeline lineno="1509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a33c12a0dbd09db02923a4bd4e7d2fb17" kindref="member">maxChannels</ref><sp/>=<sp/><ref refid="pa__win__wdmks_8c_1a63e227993b75fd9a2658b34234bf3366" kindref="member">MAXIMUM_NUMBER_OF_CHANNELS</ref>;</highlight></codeline>
<codeline lineno="1511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<sp/>((<ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o" kindref="compound">KSDATARANGE_AUDIO</ref>*)dataRange)-&gt;MaximumChannels<sp/>&gt;<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a33c12a0dbd09db02923a4bd4e7d2fb17" kindref="member">maxChannels</ref><sp/>)</highlight></codeline>
<codeline lineno="1513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a33c12a0dbd09db02923a4bd4e7d2fb17" kindref="member">maxChannels</ref><sp/>=<sp/>(<ref refid="lib_2expat_8h_1a14bb8924daea0b48c7803f281f66e390" kindref="member">int</ref>)<sp/>((<ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o" kindref="compound">KSDATARANGE_AUDIO</ref>*)dataRange)-&gt;MaximumChannels;</highlight></codeline>
<codeline lineno="1515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>MaxChannel:<sp/>%d\n&quot;</highlight><highlight class="normal">,pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a33c12a0dbd09db02923a4bd4e7d2fb17" kindref="member">maxChannels</ref>));</highlight></codeline>
<codeline lineno="1517"><highlight class="normal"></highlight></codeline>
<codeline lineno="1518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Record<sp/>the<sp/>formats<sp/>(bit<sp/>depths)<sp/>that<sp/>are<sp/>supported<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>IsBitsWithinRange((<ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o" kindref="compound">KSDATARANGE_AUDIO</ref>*)dataRange,<sp/>8)<sp/>)</highlight></codeline>
<codeline lineno="1520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1aaa618474b3f5813e67f4ade59e6c9540" kindref="member">formats</ref><sp/>|=<sp/><ref refid="portaudio_8h_1a058ecfb48ac9f0efad7a7b0d446efe3e" kindref="member">paInt8</ref>;</highlight></codeline>
<codeline lineno="1522"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Format<sp/>PCM<sp/>8<sp/>bit<sp/>supported\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>IsBitsWithinRange((<ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o" kindref="compound">KSDATARANGE_AUDIO</ref>*)dataRange,<sp/>16)<sp/>)</highlight></codeline>
<codeline lineno="1525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1aaa618474b3f5813e67f4ade59e6c9540" kindref="member">formats</ref><sp/>|=<sp/><ref refid="portaudio_8h_1ab284f8e0a161d78ede863aec45461dbd" kindref="member">paInt16</ref>;</highlight></codeline>
<codeline lineno="1527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Format<sp/>PCM<sp/>16<sp/>bit<sp/>supported\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>IsBitsWithinRange((<ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o" kindref="compound">KSDATARANGE_AUDIO</ref>*)dataRange,<sp/>24)<sp/>)</highlight></codeline>
<codeline lineno="1530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1aaa618474b3f5813e67f4ade59e6c9540" kindref="member">formats</ref><sp/>|=<sp/><ref refid="portaudio_8h_1a7f891a0bd9e94a94a8f446c176b749e7" kindref="member">paInt24</ref>;</highlight></codeline>
<codeline lineno="1532"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Format<sp/>PCM<sp/>24<sp/>bit<sp/>supported\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>IsBitsWithinRange((<ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o" kindref="compound">KSDATARANGE_AUDIO</ref>*)dataRange,<sp/>32)<sp/>)</highlight></codeline>
<codeline lineno="1535"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(IsEqualGUID(&amp;dataRange-&gt;<ref refid="union_k_s_d_a_t_a_f_o_r_m_a_t_1a58a48636b6942b0f4676ee0861ea6386" kindref="member">SubFormat</ref>,<sp/>&amp;KSDATAFORMAT_SUBTYPE_IEEE_FLOAT))</highlight></codeline>
<codeline lineno="1537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1aaa618474b3f5813e67f4ade59e6c9540" kindref="member">formats</ref><sp/>|=<sp/><ref refid="portaudio_8h_1a2f16d29916725b8791eae60ab9e0b081" kindref="member">paFloat32</ref>;</highlight></codeline>
<codeline lineno="1539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Format<sp/>IEEE<sp/>float<sp/>32<sp/>bit<sp/>supported\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1aaa618474b3f5813e67f4ade59e6c9540" kindref="member">formats</ref><sp/>|=<sp/><ref refid="portaudio_8h_1a6fea69f3d81b628288325c06310b2fcf" kindref="member">paInt32</ref>;</highlight></codeline>
<codeline lineno="1544"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Format<sp/>PCM<sp/>32<sp/>bit<sp/>supported\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1547"><highlight class="normal"></highlight></codeline>
<codeline lineno="1548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>defaultIndex<sp/>=<sp/>DefaultSampleFrequencyIndex((<ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o" kindref="compound">KSDATARANGE_AUDIO</ref>*)dataRange);</highlight></codeline>
<codeline lineno="1549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(defaultIndex<sp/>&gt;=<sp/>0<sp/>&amp;&amp;<sp/>defaultIndex<sp/>&lt;<sp/>defaultSampleRateIndex)</highlight></codeline>
<codeline lineno="1550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>defaultSampleRateIndex<sp/>=<sp/>defaultIndex;</highlight></codeline>
<codeline lineno="1552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dataRange<sp/>=<sp/>(<ref refid="union_k_s_d_a_t_a_f_o_r_m_a_t" kindref="compound">KSDATARANGE</ref>*)(<sp/>((</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*)dataRange)<sp/>+<sp/>dataRange-&gt;<ref refid="union_k_s_d_a_t_a_f_o_r_m_a_t_1aa23bba961cb89d7c270b76c997bc82bd" kindref="member">FormatSize</ref>);</highlight></codeline>
<codeline lineno="1555"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1556"><highlight class="normal"></highlight></codeline>
<codeline lineno="1557"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref><sp/>)</highlight></codeline>
<codeline lineno="1558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>error;</highlight></codeline>
<codeline lineno="1559"><highlight class="normal"></highlight></codeline>
<codeline lineno="1560"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>none<sp/>of<sp/>the<sp/>frequencies<sp/>searched<sp/>for<sp/>are<sp/>present,<sp/>there&apos;s<sp/>something<sp/>seriously<sp/>wrong<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1561"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(defaultSampleRateIndex<sp/>==<sp/>defaultSampleRateSearchOrderCount)</highlight></codeline>
<codeline lineno="1562"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>No<sp/>default<sp/>sample<sp/>rate<sp/>found,<sp/>skipping<sp/>pin!\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(<ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a47726071f5dccc656d5e3ff20bbfc5a0" kindref="member">paUnanticipatedHostError</ref>,<sp/></highlight><highlight class="stringliteral">&quot;PinNew:<sp/>No<sp/>default<sp/>sample<sp/>rate<sp/>found&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a47726071f5dccc656d5e3ff20bbfc5a0" kindref="member">paUnanticipatedHostError</ref>;</highlight></codeline>
<codeline lineno="1566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>error;</highlight></codeline>
<codeline lineno="1567"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1568"><highlight class="normal"></highlight></codeline>
<codeline lineno="1569"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>the<sp/>default<sp/>sample<sp/>rate<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1570"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a690270ec5eb11c10a9a669edab5b5aa6" kindref="member">defaultSampleRate</ref><sp/>=<sp/>defaultSampleRateSearchOrder[defaultSampleRateIndex];</highlight></codeline>
<codeline lineno="1571"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Default<sp/>sample<sp/>rate<sp/>=<sp/>%d<sp/>Hz\n&quot;</highlight><highlight class="normal">,<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a690270ec5eb11c10a9a669edab5b5aa6" kindref="member">defaultSampleRate</ref>));</highlight></codeline>
<codeline lineno="1572"><highlight class="normal"></highlight></codeline>
<codeline lineno="1573"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>instance<sp/>information<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1574"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmGetPinPropertySimple(</highlight></codeline>
<codeline lineno="1575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parentFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref>,</highlight></codeline>
<codeline lineno="1576"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pinId,</highlight></codeline>
<codeline lineno="1577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="ks_8h_1a30cf7609846e6ea4d90411a45dc4ad79" kindref="member">KSPROPSETID_Pin</ref>,</highlight></codeline>
<codeline lineno="1578"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a4d938d8189326438b819a522979356e8a4fb2835aba120f4169e7a32dd8ddc830" kindref="member">KSPROPERTY_PIN_CINSTANCES</ref>,</highlight></codeline>
<codeline lineno="1579"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a72ae21ecfd85a9ef47d80f8d75e0aea4" kindref="member">instances</ref>,</highlight></codeline>
<codeline lineno="1580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_k_s_p_i_n___c_i_n_s_t_a_n_c_e_s" kindref="compound">KSPIN_CINSTANCES</ref>),</highlight></codeline>
<codeline lineno="1581"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="1582"><highlight class="normal"></highlight></codeline>
<codeline lineno="1583"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref><sp/>)</highlight></codeline>
<codeline lineno="1584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>error;</highlight></codeline>
<codeline lineno="1585"><highlight class="normal"></highlight></codeline>
<codeline lineno="1586"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>WaveRT,<sp/>check<sp/>if<sp/>pin<sp/>supports<sp/>notification<sp/>mode<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1587"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(parentFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1a65b71d52a0990fdb97201d0cea3f05f1" kindref="member">streamingType</ref><sp/>==<sp/><ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8a2af26020e0cc2ba29abf9235c1de3893" kindref="member">Type_kWaveRT</ref>)</highlight></codeline>
<codeline lineno="1588"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1589"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref><sp/>bSupportsNotification<sp/>=<sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;</highlight></codeline>
<codeline lineno="1590"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(PinQueryNotificationSupport(pin,<sp/>&amp;bSupportsNotification)<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="1591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a8f64c1157494c02e8be9d85d72f359fe" kindref="member">pinKsSubType</ref><sp/>=<sp/>bSupportsNotification<sp/>?<sp/><ref refid="pa__win__wdmks_8h_1ab1fecd3bd8c22ca5820fee46fc9d89c2a49c6ee27f3848a25e01bb7e7e9dd4ef5" kindref="member">SubType_kNotification</ref><sp/>:<sp/><ref refid="pa__win__wdmks_8h_1ab1fecd3bd8c22ca5820fee46fc9d89c2a3ef0fb75ff70c3292bd3d2174f5041a0" kindref="member">SubType_kPolled</ref>;</highlight></codeline>
<codeline lineno="1593"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1594"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1595"><highlight class="normal"></highlight></codeline>
<codeline lineno="1596"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Query<sp/>pin<sp/>name<sp/>(which<sp/>means<sp/>we<sp/>need<sp/>to<sp/>traverse<sp/>to<sp/>non<sp/>IRP<sp/>pin,<sp/>via<sp/>physical<sp/>connection<sp/>to<sp/>topology<sp/>filter<sp/>pin,<sp/>through</highlight></codeline>
<codeline lineno="1597"><highlight class="comment"><sp/><sp/><sp/><sp/>its<sp/>nodes<sp/>to<sp/>the<sp/>endpoint<sp/>pin,<sp/>and<sp/>get<sp/>that<sp/>ones<sp/>name...<sp/>phew...)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1598"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Finding<sp/>topology<sp/>pin...\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1599"><highlight class="normal"></highlight></codeline>
<codeline lineno="1600"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ULONG<sp/>topoPinId<sp/>=<sp/>GetConnectedPin(pinId,<sp/>(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a8d798c1a1b09965996a5c29f3797dbff" kindref="member">dataFlow</ref><sp/>==<sp/><ref refid="ks_8h_1a56408dcd08fcb4080adbd109cf61c4aaa2fc42f559db890d2123310170df2b6ac" kindref="member">KSPIN_DATAFLOW_IN</ref>),<sp/>parentFilter,<sp/>-1,<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="1602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">wchar_t</highlight><highlight class="normal"><sp/>kInputName[]<sp/>=<sp/>L</highlight><highlight class="stringliteral">&quot;Input&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">wchar_t</highlight><highlight class="normal"><sp/>kOutputName[]<sp/>=<sp/>L</highlight><highlight class="stringliteral">&quot;Output&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1604"><highlight class="normal"></highlight></codeline>
<codeline lineno="1605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(topoPinId<sp/>!=<sp/><ref refid="ks_8h_1a0d9c4449ad3e02da9e76f24a7f01e306" kindref="member">KSFILTER_NODE</ref>)</highlight></codeline>
<codeline lineno="1606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>physical<sp/>connection<sp/>for<sp/>topo<sp/>pin<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>cbBytes<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1609"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Getting<sp/>physical<sp/>connection...\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1610"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmGetPinPropertySimple(parentFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref>,</highlight></codeline>
<codeline lineno="1611"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>topoPinId,</highlight></codeline>
<codeline lineno="1612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="ks_8h_1a30cf7609846e6ea4d90411a45dc4ad79" kindref="member">KSPROPSETID_Pin</ref>,</highlight></codeline>
<codeline lineno="1613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a4d938d8189326438b819a522979356e8aba3c8ca87a41907f199620bcf00cf377" kindref="member">KSPROPERTY_PIN_PHYSICALCONNECTION</ref>,</highlight></codeline>
<codeline lineno="1614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0,</highlight></codeline>
<codeline lineno="1615"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0,</highlight></codeline>
<codeline lineno="1616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;cbBytes</highlight></codeline>
<codeline lineno="1617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="1618"><highlight class="normal"></highlight></codeline>
<codeline lineno="1619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="1620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1621"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>No<sp/>physical<sp/>connection<sp/>-&gt;<sp/>there<sp/>is<sp/>no<sp/>topology<sp/>filter!<sp/>So<sp/>we<sp/>get<sp/>the<sp/>name<sp/>of<sp/>the<sp/>pin!<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1622"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>No<sp/>physical<sp/>connection!<sp/>Getting<sp/>the<sp/>pin<sp/>name\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1623"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmGetPinPropertySimple(parentFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref>,</highlight></codeline>
<codeline lineno="1624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>topoPinId,</highlight></codeline>
<codeline lineno="1625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="ks_8h_1a30cf7609846e6ea4d90411a45dc4ad79" kindref="member">KSPROPSETID_Pin</ref>,</highlight></codeline>
<codeline lineno="1626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a4d938d8189326438b819a522979356e8a7f43e3c48f26eb156d556ac17a69381f" kindref="member">KSPROPERTY_PIN_NAME</ref>,</highlight></codeline>
<codeline lineno="1627"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ad20963ecc38fe667f890dd6939b324a2" kindref="member">friendlyName</ref>,</highlight></codeline>
<codeline lineno="1628"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MAX_PATH,</highlight></codeline>
<codeline lineno="1629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="1630"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="1631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GUID<sp/>category<sp/>=<sp/>{0};</highlight></codeline>
<codeline lineno="1633"><highlight class="normal"></highlight></codeline>
<codeline lineno="1634"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>pin<sp/>category<sp/>information<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmGetPinPropertySimple(parentFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref>,</highlight></codeline>
<codeline lineno="1636"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>topoPinId,</highlight></codeline>
<codeline lineno="1637"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="ks_8h_1a30cf7609846e6ea4d90411a45dc4ad79" kindref="member">KSPROPSETID_Pin</ref>,</highlight></codeline>
<codeline lineno="1638"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a4d938d8189326438b819a522979356e8a31829409be51df587a323ae71df10674" kindref="member">KSPROPERTY_PIN_CATEGORY</ref>,</highlight></codeline>
<codeline lineno="1639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;category,</highlight></codeline>
<codeline lineno="1640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(GUID),</highlight></codeline>
<codeline lineno="1641"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="1642"><highlight class="normal"></highlight></codeline>
<codeline lineno="1643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="1644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1645"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>GetNameFromCategory(&amp;category,<sp/>(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a8d798c1a1b09965996a5c29f3797dbff" kindref="member">dataFlow</ref><sp/>==<sp/><ref refid="ks_8h_1a56408dcd08fcb4080adbd109cf61c4aaafb3a66f4f94e91721f862409b885d7be" kindref="member">KSPIN_DATAFLOW_OUT</ref>),<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ad20963ecc38fe667f890dd6939b324a2" kindref="member">friendlyName</ref>,<sp/>MAX_PATH);</highlight></codeline>
<codeline lineno="1646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1648"><highlight class="normal"></highlight></codeline>
<codeline lineno="1649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Make<sp/>sure<sp/>pin<sp/>gets<sp/>a<sp/>name<sp/>here...<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(wcslen(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ad20963ecc38fe667f890dd6939b324a2" kindref="member">friendlyName</ref>)<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="1651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wcscpy(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ad20963ecc38fe667f890dd6939b324a2" kindref="member">friendlyName</ref>,<sp/>(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a8d798c1a1b09965996a5c29f3797dbff" kindref="member">dataFlow</ref><sp/>==<sp/><ref refid="ks_8h_1a56408dcd08fcb4080adbd109cf61c4aaa2fc42f559db890d2123310170df2b6ac" kindref="member">KSPIN_DATAFLOW_IN</ref>)<sp/>?<sp/>kOutputName<sp/>:<sp/>kInputName);</highlight></codeline>
<codeline lineno="1653"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>UNICODE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Setting<sp/>pin<sp/>friendly<sp/>name<sp/>to<sp/>&apos;%s&apos;\n&quot;</highlight><highlight class="normal">,<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ad20963ecc38fe667f890dd6939b324a2" kindref="member">friendlyName</ref>));</highlight></codeline>
<codeline lineno="1655"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1656"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Setting<sp/>pin<sp/>friendly<sp/>name<sp/>to<sp/>&apos;%S&apos;\n&quot;</highlight><highlight class="normal">,<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ad20963ecc38fe667f890dd6939b324a2" kindref="member">friendlyName</ref>));</highlight></codeline>
<codeline lineno="1657"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1659"><highlight class="normal"></highlight></codeline>
<codeline lineno="1660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>This<sp/>is<sp/>then<sp/>==<sp/>the<sp/>endpoint<sp/>pin<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a3f3942f6c97d908f03f559998a1daafb" kindref="member">endpointPinId</ref><sp/>=<sp/>(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a8d798c1a1b09965996a5c29f3797dbff" kindref="member">dataFlow</ref><sp/>==<sp/><ref refid="ks_8h_1a56408dcd08fcb4080adbd109cf61c4aaa2fc42f559db890d2123310170df2b6ac" kindref="member">KSPIN_DATAFLOW_IN</ref>)<sp/>?<sp/>pinId<sp/>:<sp/>topoPinId;</highlight></codeline>
<codeline lineno="1662"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_k_s_p_i_n___p_h_y_s_i_c_a_l_c_o_n_n_e_c_t_i_o_n" kindref="compound">KSPIN_PHYSICALCONNECTION</ref>*<sp/>pc<sp/>=<sp/>(<ref refid="struct_k_s_p_i_n___p_h_y_s_i_c_a_l_c_o_n_n_e_c_t_i_o_n" kindref="compound">KSPIN_PHYSICALCONNECTION</ref>*)<ref refid="pa__util_8h_1aa614f193aff12744a6ab90a9eb3128f0" kindref="member">PaUtil_AllocateMemory</ref>(cbBytes<sp/>+<sp/>2);</highlight></codeline>
<codeline lineno="1666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ULONG<sp/>pcPin;</highlight></codeline>
<codeline lineno="1667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">wchar_t</highlight><highlight class="normal"><sp/>symbLinkName[MAX_PATH];</highlight></codeline>
<codeline lineno="1668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Physical<sp/>connection<sp/>found!\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pc<sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="1670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="1672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>error;</highlight></codeline>
<codeline lineno="1673"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmGetPinPropertySimple(parentFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref>,</highlight></codeline>
<codeline lineno="1675"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>topoPinId,</highlight></codeline>
<codeline lineno="1676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="ks_8h_1a30cf7609846e6ea4d90411a45dc4ad79" kindref="member">KSPROPSETID_Pin</ref>,</highlight></codeline>
<codeline lineno="1677"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a4d938d8189326438b819a522979356e8aba3c8ca87a41907f199620bcf00cf377" kindref="member">KSPROPERTY_PIN_PHYSICALCONNECTION</ref>,</highlight></codeline>
<codeline lineno="1678"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pc,</highlight></codeline>
<codeline lineno="1679"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cbBytes,</highlight></codeline>
<codeline lineno="1680"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref></highlight></codeline>
<codeline lineno="1681"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="1682"><highlight class="normal"></highlight></codeline>
<codeline lineno="1683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pcPin<sp/>=<sp/>pc-&gt;<ref refid="struct_k_s_p_i_n___p_h_y_s_i_c_a_l_c_o_n_n_e_c_t_i_o_n_1adefc2838105d64b41dfd3fe524b2898c" kindref="member">Pin</ref>;</highlight></codeline>
<codeline lineno="1684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wcsncpy(symbLinkName,<sp/>pc-&gt;<ref refid="struct_k_s_p_i_n___p_h_y_s_i_c_a_l_c_o_n_n_e_c_t_i_o_n_1abfc0094a85674a0a8d6bfd943b83cbb7" kindref="member">SymbolicLinkName</ref>,<sp/>MAX_PATH);</highlight></codeline>
<codeline lineno="1685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__util_8h_1a27a8f85d109600ef246e5c642c5c3cad" kindref="member">PaUtil_FreeMemory</ref>(<sp/>pc<sp/>);</highlight></codeline>
<codeline lineno="1686"><highlight class="normal"></highlight></codeline>
<codeline lineno="1687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="1688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Shouldn&apos;t<sp/>happen,<sp/>but<sp/>fail<sp/>if<sp/>it<sp/>does<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>failed<sp/>to<sp/>retrieve<sp/>physical<sp/>connection!\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1691"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>error;</highlight></codeline>
<codeline lineno="1692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1693"><highlight class="normal"></highlight></codeline>
<codeline lineno="1694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(symbLinkName[1]<sp/>==<sp/>TEXT(</highlight><highlight class="charliteral">&apos;?&apos;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="1695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>symbLinkName[1]<sp/>=<sp/>TEXT(</highlight><highlight class="charliteral">&apos;\\&apos;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1698"><highlight class="normal"></highlight></codeline>
<codeline lineno="1699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref><sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="1700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1701"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Creating<sp/>topology<sp/>filter<sp/>&apos;%S&apos;\n&quot;</highlight><highlight class="normal">,<sp/>symbLinkName));</highlight></codeline>
<codeline lineno="1702"><highlight class="normal"></highlight></codeline>
<codeline lineno="1703"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref><sp/>=<sp/>FilterNew(<ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8ac2d5cb7ff54518b41af0cfca6da81be9" kindref="member">Type_kNotUsed</ref>,<sp/>0,<sp/>symbLinkName,<sp/>L</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">,<sp/>&amp;result);</highlight></codeline>
<codeline lineno="1704"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref><sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="1705"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1706"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Failed<sp/>creating<sp/>topology<sp/>filter\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1707"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a47726071f5dccc656d5e3ff20bbfc5a0" kindref="member">paUnanticipatedHostError</ref>;</highlight></codeline>
<codeline lineno="1708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(result,<sp/></highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>create<sp/>topology<sp/>filter<sp/>&apos;%S&apos;&quot;</highlight><highlight class="normal">,<sp/>symbLinkName);</highlight></codeline>
<codeline lineno="1709"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>error;</highlight></codeline>
<codeline lineno="1710"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1711"><highlight class="normal"></highlight></codeline>
<codeline lineno="1712"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Copy<sp/>info<sp/>so<sp/>we<sp/>have<sp/>it<sp/>in<sp/>device<sp/>info<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1713"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wcsncpy(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1a89df08f196f4bc367794e7d76e404a04" kindref="member">topologyPath</ref>,<sp/>symbLinkName,<sp/>MAX_PATH);</highlight></codeline>
<codeline lineno="1714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Must<sp/>be<sp/>the<sp/>same<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(wcscmp(symbLinkName,<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1aef789b50c6cf1e05c5c6e1e18e2a233c" kindref="member">filterPath</ref>)<sp/>==<sp/>0);</highlight></codeline>
<codeline lineno="1719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1720"><highlight class="normal"></highlight></codeline>
<codeline lineno="1721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Opening<sp/>topology<sp/>filter...&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1722"><highlight class="normal"></highlight></codeline>
<codeline lineno="1723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>FilterUse(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref>);</highlight></codeline>
<codeline lineno="1724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="1725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="struct_____pa_win_wdm_muxed_input_1a9c44ecfcd2a4b85db38793cf33017ba0" kindref="member">endpointPinId</ref>;</highlight></codeline>
<codeline lineno="1727"><highlight class="normal"></highlight></codeline>
<codeline lineno="1728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a8d798c1a1b09965996a5c29f3797dbff" kindref="member">dataFlow</ref><sp/>==<sp/><ref refid="ks_8h_1a56408dcd08fcb4080adbd109cf61c4aaa2fc42f559db890d2123310170df2b6ac" kindref="member">KSPIN_DATAFLOW_IN</ref>)</highlight></codeline>
<codeline lineno="1729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>The<sp/>&quot;endpointPinId&quot;<sp/>is<sp/>what<sp/>WASAPI<sp/>looks<sp/>at<sp/>for<sp/>pin<sp/>names<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1731"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GUID<sp/>category<sp/>=<sp/>{0};</highlight></codeline>
<codeline lineno="1732"><highlight class="normal"></highlight></codeline>
<codeline lineno="1733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Checking<sp/>for<sp/>output<sp/>endpoint<sp/>pin<sp/>id...\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1734"><highlight class="normal"></highlight></codeline>
<codeline lineno="1735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>endpointPinId<sp/>=<sp/>GetConnectedPin(pcPin,<sp/><ref refid="cext_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>,<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref>,<sp/>-1,<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="1736"><highlight class="normal"></highlight></codeline>
<codeline lineno="1737"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(endpointPinId<sp/>==<sp/><ref refid="ks_8h_1a0d9c4449ad3e02da9e76f24a7f01e306" kindref="member">KSFILTER_NODE</ref>)</highlight></codeline>
<codeline lineno="1738"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1739"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a47726071f5dccc656d5e3ff20bbfc5a0" kindref="member">paUnanticipatedHostError</ref>;</highlight></codeline>
<codeline lineno="1740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(result,<sp/></highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>get<sp/>endpoint<sp/>pin<sp/>ID<sp/>on<sp/>topology<sp/>filter!&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>error;</highlight></codeline>
<codeline lineno="1742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1743"><highlight class="normal"></highlight></codeline>
<codeline lineno="1744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Found<sp/>endpoint<sp/>pin<sp/>id<sp/>%u\n&quot;</highlight><highlight class="normal">,<sp/>endpointPinId));</highlight></codeline>
<codeline lineno="1745"><highlight class="normal"></highlight></codeline>
<codeline lineno="1746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>pin<sp/>category<sp/>information<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1747"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmGetPinPropertySimple(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref>,</highlight></codeline>
<codeline lineno="1748"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>endpointPinId,</highlight></codeline>
<codeline lineno="1749"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="ks_8h_1a30cf7609846e6ea4d90411a45dc4ad79" kindref="member">KSPROPSETID_Pin</ref>,</highlight></codeline>
<codeline lineno="1750"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a4d938d8189326438b819a522979356e8a31829409be51df587a323ae71df10674" kindref="member">KSPROPERTY_PIN_CATEGORY</ref>,</highlight></codeline>
<codeline lineno="1751"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;category,</highlight></codeline>
<codeline lineno="1752"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(GUID),</highlight></codeline>
<codeline lineno="1753"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="1754"><highlight class="normal"></highlight></codeline>
<codeline lineno="1755"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="1756"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1757"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>!PA_WDMKS_USE_CATEGORY_FOR_PIN_NAMES</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1758"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">wchar_t</highlight><highlight class="normal"><sp/>pinName[MAX_PATH];</highlight></codeline>
<codeline lineno="1759"><highlight class="normal"></highlight></codeline>
<codeline lineno="1760"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Getting<sp/>pin<sp/>name<sp/>property...&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1761"><highlight class="normal"></highlight></codeline>
<codeline lineno="1762"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Ok,<sp/>try<sp/>pin<sp/>name<sp/>also,<sp/>and<sp/>favor<sp/>that<sp/>if<sp/>available<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmGetPinPropertySimple(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref>,</highlight></codeline>
<codeline lineno="1764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>endpointPinId,</highlight></codeline>
<codeline lineno="1765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="ks_8h_1a30cf7609846e6ea4d90411a45dc4ad79" kindref="member">KSPROPSETID_Pin</ref>,</highlight></codeline>
<codeline lineno="1766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a4d938d8189326438b819a522979356e8a7f43e3c48f26eb156d556ac17a69381f" kindref="member">KSPROPERTY_PIN_NAME</ref>,</highlight></codeline>
<codeline lineno="1767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pinName,</highlight></codeline>
<codeline lineno="1768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MAX_PATH,</highlight></codeline>
<codeline lineno="1769"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="1770"><highlight class="normal"></highlight></codeline>
<codeline lineno="1771"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref><sp/>&amp;&amp;<sp/>wcslen(pinName)&gt;0)</highlight></codeline>
<codeline lineno="1772"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1773"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wcsncpy(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ad20963ecc38fe667f890dd6939b324a2" kindref="member">friendlyName</ref>,<sp/>pinName,<sp/>MAX_PATH);</highlight></codeline>
<codeline lineno="1774"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1775"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1776"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1777"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1778"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>GetNameFromCategory(&amp;category,<sp/>(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a8d798c1a1b09965996a5c29f3797dbff" kindref="member">dataFlow</ref><sp/>==<sp/><ref refid="ks_8h_1a56408dcd08fcb4080adbd109cf61c4aaafb3a66f4f94e91721f862409b885d7be" kindref="member">KSPIN_DATAFLOW_OUT</ref>),<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ad20963ecc38fe667f890dd6939b324a2" kindref="member">friendlyName</ref>,<sp/>MAX_PATH);</highlight></codeline>
<codeline lineno="1779"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1780"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1781"><highlight class="normal"></highlight></codeline>
<codeline lineno="1782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Make<sp/>sure<sp/>we<sp/>get<sp/>a<sp/>name<sp/>for<sp/>the<sp/>pin<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(wcslen(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ad20963ecc38fe667f890dd6939b324a2" kindref="member">friendlyName</ref>)<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="1784"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1785"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wcscpy(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ad20963ecc38fe667f890dd6939b324a2" kindref="member">friendlyName</ref>,<sp/>kOutputName);</highlight></codeline>
<codeline lineno="1786"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1787"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>UNICODE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1788"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Pin<sp/>name<sp/>&apos;%s&apos;\n&quot;</highlight><highlight class="normal">,<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ad20963ecc38fe667f890dd6939b324a2" kindref="member">friendlyName</ref>));</highlight></codeline>
<codeline lineno="1789"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1790"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Pin<sp/>name<sp/>&apos;%S&apos;\n&quot;</highlight><highlight class="normal">,<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ad20963ecc38fe667f890dd6939b324a2" kindref="member">friendlyName</ref>));</highlight></codeline>
<codeline lineno="1791"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1792"><highlight class="normal"></highlight></codeline>
<codeline lineno="1793"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>endpoint<sp/>pin<sp/>ID<sp/>(this<sp/>is<sp/>the<sp/>topology<sp/>INPUT<sp/>pin,<sp/>since<sp/>portmixer<sp/>will<sp/>always<sp/>traverse<sp/>the</highlight></codeline>
<codeline lineno="1794"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter<sp/>in<sp/>audio<sp/>streaming<sp/>direction,<sp/>see<sp/>http://msdn.microsoft.com/en-us/library/windows/hardware/ff536331(v=vs.85).aspx</highlight></codeline>
<codeline lineno="1795"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>more<sp/>information)</highlight></codeline>
<codeline lineno="1796"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1797"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a3f3942f6c97d908f03f559998a1daafb" kindref="member">endpointPinId</ref><sp/>=<sp/>pcPin;</highlight></codeline>
<codeline lineno="1798"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1799"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1800"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1801"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>muxCount<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1802"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>muxPos<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1803"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Max<sp/>64<sp/>multiplexer<sp/>inputs...<sp/>sanity<sp/>check<sp/>:)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1804"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>64;<sp/>++<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>)</highlight></codeline>
<codeline lineno="1805"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1806"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ULONG<sp/>muxNodeIdTest<sp/>=<sp/>(unsigned)-1;</highlight></codeline>
<codeline lineno="1807"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Checking<sp/>for<sp/>input<sp/>endpoint<sp/>pin<sp/>id<sp/>(%d)...\n&quot;</highlight><highlight class="normal">,<sp/>i));</highlight></codeline>
<codeline lineno="1808"><highlight class="normal"></highlight></codeline>
<codeline lineno="1809"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>endpointPinId<sp/>=<sp/>GetConnectedPin(pcPin,</highlight></codeline>
<codeline lineno="1810"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>,</highlight></codeline>
<codeline lineno="1811"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref>,</highlight></codeline>
<codeline lineno="1812"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)i,</highlight></codeline>
<codeline lineno="1813"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,</highlight></codeline>
<codeline lineno="1814"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;muxNodeIdTest);</highlight></codeline>
<codeline lineno="1815"><highlight class="normal"></highlight></codeline>
<codeline lineno="1816"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(endpointPinId<sp/>==<sp/><ref refid="ks_8h_1a0d9c4449ad3e02da9e76f24a7f01e306" kindref="member">KSFILTER_NODE</ref>)</highlight></codeline>
<codeline lineno="1817"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1818"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>We&apos;re<sp/>done<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1819"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Done<sp/>with<sp/>inputs.\n&quot;</highlight><highlight class="normal">,<sp/>endpointPinId));</highlight></codeline>
<codeline lineno="1820"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1821"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1822"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1823"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1824"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>The<sp/>&quot;endpointPinId&quot;<sp/>is<sp/>what<sp/>WASAPI<sp/>looks<sp/>at<sp/>for<sp/>pin<sp/>names<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1825"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GUID<sp/>category<sp/>=<sp/>{0};</highlight></codeline>
<codeline lineno="1826"><highlight class="normal"></highlight></codeline>
<codeline lineno="1827"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Found<sp/>endpoint<sp/>pin<sp/>id<sp/>%u\n&quot;</highlight><highlight class="normal">,<sp/>endpointPinId));</highlight></codeline>
<codeline lineno="1828"><highlight class="normal"></highlight></codeline>
<codeline lineno="1829"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>pin<sp/>category<sp/>information<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1830"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmGetPinPropertySimple(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref>,</highlight></codeline>
<codeline lineno="1831"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>endpointPinId,</highlight></codeline>
<codeline lineno="1832"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="ks_8h_1a30cf7609846e6ea4d90411a45dc4ad79" kindref="member">KSPROPSETID_Pin</ref>,</highlight></codeline>
<codeline lineno="1833"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a4d938d8189326438b819a522979356e8a31829409be51df587a323ae71df10674" kindref="member">KSPROPERTY_PIN_CATEGORY</ref>,</highlight></codeline>
<codeline lineno="1834"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;category,</highlight></codeline>
<codeline lineno="1835"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(GUID),</highlight></codeline>
<codeline lineno="1836"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="1837"><highlight class="normal"></highlight></codeline>
<codeline lineno="1838"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="1839"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1840"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(muxNodeIdTest<sp/>==<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal">)-1)</highlight></codeline>
<codeline lineno="1841"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1842"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Ok,<sp/>try<sp/>pin<sp/>name,<sp/>and<sp/>favor<sp/>that<sp/>if<sp/>available<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1843"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmGetPinPropertySimple(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref>,</highlight></codeline>
<codeline lineno="1844"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>endpointPinId,</highlight></codeline>
<codeline lineno="1845"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="ks_8h_1a30cf7609846e6ea4d90411a45dc4ad79" kindref="member">KSPROPSETID_Pin</ref>,</highlight></codeline>
<codeline lineno="1846"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a4d938d8189326438b819a522979356e8a7f43e3c48f26eb156d556ac17a69381f" kindref="member">KSPROPERTY_PIN_NAME</ref>,</highlight></codeline>
<codeline lineno="1847"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ad20963ecc38fe667f890dd6939b324a2" kindref="member">friendlyName</ref>,</highlight></codeline>
<codeline lineno="1848"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MAX_PATH,</highlight></codeline>
<codeline lineno="1849"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="1850"><highlight class="normal"></highlight></codeline>
<codeline lineno="1851"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="1852"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1853"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>GetNameFromCategory(&amp;category,<sp/><ref refid="cext_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>,<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ad20963ecc38fe667f890dd6939b324a2" kindref="member">friendlyName</ref>,<sp/>MAX_PATH);</highlight></codeline>
<codeline lineno="1854"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1855"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1856"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1857"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1858"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1859"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>GetNameFromCategory(&amp;category,<sp/><ref refid="cext_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>,<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/>0);</highlight></codeline>
<codeline lineno="1860"><highlight class="normal"></highlight></codeline>
<codeline lineno="1861"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="1862"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1863"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++muxCount;</highlight></codeline>
<codeline lineno="1864"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1865"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1866"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1867"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1868"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1869"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Failed<sp/>to<sp/>get<sp/>pin<sp/>category&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1870"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1871"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1872"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1873"><highlight class="normal"></highlight></codeline>
<codeline lineno="1874"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(muxCount<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="1875"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1876"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a3f3942f6c97d908f03f559998a1daafb" kindref="member">endpointPinId</ref><sp/>=<sp/><ref refid="struct_____pa_win_wdm_muxed_input_1a9c44ecfcd2a4b85db38793cf33017ba0" kindref="member">endpointPinId</ref>;</highlight></codeline>
<codeline lineno="1877"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Make<sp/>sure<sp/>we<sp/>get<sp/>a<sp/>name<sp/>for<sp/>the<sp/>pin<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1878"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(wcslen(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ad20963ecc38fe667f890dd6939b324a2" kindref="member">friendlyName</ref>)<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="1879"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1880"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wcscpy(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ad20963ecc38fe667f890dd6939b324a2" kindref="member">friendlyName</ref>,<sp/>kInputName);</highlight></codeline>
<codeline lineno="1881"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1882"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>UNICODE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1883"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Input<sp/>friendly<sp/>name<sp/>&apos;%s&apos;\n&quot;</highlight><highlight class="normal">,<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ad20963ecc38fe667f890dd6939b324a2" kindref="member">friendlyName</ref>));</highlight></codeline>
<codeline lineno="1884"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1885"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Input<sp/>friendly<sp/>name<sp/>&apos;%S&apos;\n&quot;</highlight><highlight class="normal">,<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ad20963ecc38fe667f890dd6939b324a2" kindref="member">friendlyName</ref>));</highlight></codeline>
<codeline lineno="1886"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1887"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1888"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">//<sp/>muxCount<sp/>&gt;<sp/>0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1889"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1890"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Setting<sp/>up<sp/>%u<sp/>inputs\n&quot;</highlight><highlight class="normal">,<sp/>muxCount));</highlight></codeline>
<codeline lineno="1891"><highlight class="normal"></highlight></codeline>
<codeline lineno="1892"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Now<sp/>we<sp/>redo<sp/>the<sp/>operation<sp/>once<sp/>known<sp/>how<sp/>many<sp/>multiplexer<sp/>positions<sp/>there<sp/>are<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1893"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ae08e82747f231ea0365211c5dbbc48a7" kindref="member">inputs</ref><sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_muxed_input" kindref="compound">PaWinWdmMuxedInput</ref>**)<ref refid="pa__util_8h_1aa614f193aff12744a6ab90a9eb3128f0" kindref="member">PaUtil_AllocateMemory</ref>(muxCount<sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_____pa_win_wdm_muxed_input" kindref="compound">PaWinWdmMuxedInput</ref>*));</highlight></codeline>
<codeline lineno="1894"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ae08e82747f231ea0365211c5dbbc48a7" kindref="member">inputs</ref><sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="1895"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1896"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FilterRelease(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref>);</highlight></codeline>
<codeline lineno="1897"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="1898"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>error;</highlight></codeline>
<codeline lineno="1899"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1900"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a4e8be021efbd43cf14cb3b40e501d4eb" kindref="member">inputCount</ref><sp/>=<sp/>muxCount;</highlight></codeline>
<codeline lineno="1901"><highlight class="normal"></highlight></codeline>
<codeline lineno="1902"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>muxCount;<sp/>++muxPos)</highlight></codeline>
<codeline lineno="1903"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1904"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Setting<sp/>up<sp/>input<sp/>%u...\n&quot;</highlight><highlight class="normal">,<sp/>i));</highlight></codeline>
<codeline lineno="1905"><highlight class="normal"></highlight></codeline>
<codeline lineno="1906"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ae08e82747f231ea0365211c5dbbc48a7" kindref="member">inputs</ref>[i]<sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="1907"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1908"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ae08e82747f231ea0365211c5dbbc48a7" kindref="member">inputs</ref>[<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>]<sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_muxed_input" kindref="compound">PaWinWdmMuxedInput</ref>*)<ref refid="pa__util_8h_1aa614f193aff12744a6ab90a9eb3128f0" kindref="member">PaUtil_AllocateMemory</ref>(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_____pa_win_wdm_muxed_input" kindref="compound">PaWinWdmMuxedInput</ref>));</highlight></codeline>
<codeline lineno="1909"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ae08e82747f231ea0365211c5dbbc48a7" kindref="member">inputs</ref>[i]<sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="1910"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1911"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FilterRelease(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref>);</highlight></codeline>
<codeline lineno="1912"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="1913"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>error;</highlight></codeline>
<codeline lineno="1914"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1915"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1916"><highlight class="normal"></highlight></codeline>
<codeline lineno="1917"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>endpointPinId<sp/>=<sp/>GetConnectedPin(pcPin,</highlight></codeline>
<codeline lineno="1918"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>,</highlight></codeline>
<codeline lineno="1919"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref>,</highlight></codeline>
<codeline lineno="1920"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>muxPos,</highlight></codeline>
<codeline lineno="1921"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ae08e82747f231ea0365211c5dbbc48a7" kindref="member">inputs</ref>[i]-&gt;<ref refid="struct_____pa_win_wdm_muxed_input_1a8fb0e8c234c7f14108aa2926e1142d20" kindref="member">muxPinId</ref>,<sp/></highlight></codeline>
<codeline lineno="1922"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ae08e82747f231ea0365211c5dbbc48a7" kindref="member">inputs</ref>[i]-&gt;<ref refid="struct_____pa_win_wdm_muxed_input_1a0c99dd95a1181833c2f8758ce8e76331" kindref="member">muxNodeId</ref>);</highlight></codeline>
<codeline lineno="1923"><highlight class="normal"></highlight></codeline>
<codeline lineno="1924"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(endpointPinId<sp/>!=<sp/><ref refid="ks_8h_1a0d9c4449ad3e02da9e76f24a7f01e306" kindref="member">KSFILTER_NODE</ref>)</highlight></codeline>
<codeline lineno="1925"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1926"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>The<sp/>&quot;endpointPinId&quot;<sp/>is<sp/>what<sp/>WASAPI<sp/>looks<sp/>at<sp/>for<sp/>pin<sp/>names<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1927"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GUID<sp/>category<sp/>=<sp/>{0};</highlight></codeline>
<codeline lineno="1928"><highlight class="normal"></highlight></codeline>
<codeline lineno="1929"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>input<sp/>endpoint<sp/>ID<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1930"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ae08e82747f231ea0365211c5dbbc48a7" kindref="member">inputs</ref>[<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>]-&gt;<ref refid="struct_____pa_win_wdm_muxed_input_1a9c44ecfcd2a4b85db38793cf33017ba0" kindref="member">endpointPinId</ref><sp/>=<sp/><ref refid="struct_____pa_win_wdm_muxed_input_1a9c44ecfcd2a4b85db38793cf33017ba0" kindref="member">endpointPinId</ref>;</highlight></codeline>
<codeline lineno="1931"><highlight class="normal"></highlight></codeline>
<codeline lineno="1932"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>pin<sp/>category<sp/>information<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1933"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmGetPinPropertySimple(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref>,</highlight></codeline>
<codeline lineno="1934"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>endpointPinId,</highlight></codeline>
<codeline lineno="1935"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="ks_8h_1a30cf7609846e6ea4d90411a45dc4ad79" kindref="member">KSPROPSETID_Pin</ref>,</highlight></codeline>
<codeline lineno="1936"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a4d938d8189326438b819a522979356e8a31829409be51df587a323ae71df10674" kindref="member">KSPROPERTY_PIN_CATEGORY</ref>,</highlight></codeline>
<codeline lineno="1937"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;category,</highlight></codeline>
<codeline lineno="1938"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(GUID),</highlight></codeline>
<codeline lineno="1939"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="1940"><highlight class="normal"></highlight></codeline>
<codeline lineno="1941"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="1942"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1943"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Try<sp/>pin<sp/>name<sp/>first,<sp/>and<sp/>if<sp/>that<sp/>is<sp/>not<sp/>defined,<sp/>use<sp/>category<sp/>instead<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1944"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmGetPinPropertySimple(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref>,</highlight></codeline>
<codeline lineno="1945"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>endpointPinId,</highlight></codeline>
<codeline lineno="1946"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="ks_8h_1a30cf7609846e6ea4d90411a45dc4ad79" kindref="member">KSPROPSETID_Pin</ref>,</highlight></codeline>
<codeline lineno="1947"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a4d938d8189326438b819a522979356e8a7f43e3c48f26eb156d556ac17a69381f" kindref="member">KSPROPERTY_PIN_NAME</ref>,</highlight></codeline>
<codeline lineno="1948"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ae08e82747f231ea0365211c5dbbc48a7" kindref="member">inputs</ref>[i]-&gt;<ref refid="struct_____pa_win_wdm_muxed_input_1a07079d0c8604c5a64fc338263c5e2468" kindref="member">friendlyName</ref>,</highlight></codeline>
<codeline lineno="1949"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MAX_PATH,</highlight></codeline>
<codeline lineno="1950"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="1951"><highlight class="normal"></highlight></codeline>
<codeline lineno="1952"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="1953"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1954"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>GetNameFromCategory(&amp;category,<sp/><ref refid="cext_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>,<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ae08e82747f231ea0365211c5dbbc48a7" kindref="member">inputs</ref>[i]-&gt;<ref refid="struct_____pa_win_wdm_muxed_input_1a07079d0c8604c5a64fc338263c5e2468" kindref="member">friendlyName</ref>,<sp/>MAX_PATH);</highlight></codeline>
<codeline lineno="1955"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="1956"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1957"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Only<sp/>specify<sp/>name,<sp/>let<sp/>name<sp/>hash<sp/>in<sp/>ScanDeviceInfos<sp/>fix<sp/>postfix<sp/>enumerators<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1958"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wcscpy(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ae08e82747f231ea0365211c5dbbc48a7" kindref="member">inputs</ref>[i]-&gt;<ref refid="struct_____pa_win_wdm_muxed_input_1a07079d0c8604c5a64fc338263c5e2468" kindref="member">friendlyName</ref>,<sp/>kInputName);</highlight></codeline>
<codeline lineno="1959"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1960"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1961"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>UNICODE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1962"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Input<sp/>(%u)<sp/>friendly<sp/>name<sp/>&apos;%s&apos;\n&quot;</highlight><highlight class="normal">,<sp/>i,<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ae08e82747f231ea0365211c5dbbc48a7" kindref="member">inputs</ref>[i]-&gt;<ref refid="struct_____pa_win_wdm_muxed_input_1a07079d0c8604c5a64fc338263c5e2468" kindref="member">friendlyName</ref>));</highlight></codeline>
<codeline lineno="1963"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1964"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Input<sp/>(%u)<sp/>friendly<sp/>name<sp/>&apos;%S&apos;\n&quot;</highlight><highlight class="normal">,<sp/>i,<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ae08e82747f231ea0365211c5dbbc48a7" kindref="member">inputs</ref>[i]-&gt;<ref refid="struct_____pa_win_wdm_muxed_input_1a07079d0c8604c5a64fc338263c5e2468" kindref="member">friendlyName</ref>));</highlight></codeline>
<codeline lineno="1965"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1966"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="1967"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1968"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1969"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1970"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1971"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Should<sp/>never<sp/>come<sp/>here!<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1972"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(<ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>);</highlight></codeline>
<codeline lineno="1973"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1974"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1975"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1976"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1977"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1978"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1979"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1980"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1981"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1982"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>No<sp/>topology<sp/>pin<sp/>id<sp/>found.<sp/>Bad...\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1983"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>No<sp/>TOPO<sp/>pin<sp/>id<sp/>???<sp/>This<sp/>is<sp/>bad.<sp/>Ok,<sp/>so<sp/>we<sp/>just<sp/>say<sp/>it<sp/>is<sp/>an<sp/>input<sp/>or<sp/>output...<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1984"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wcscpy(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ad20963ecc38fe667f890dd6939b324a2" kindref="member">friendlyName</ref>,<sp/>(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a8d798c1a1b09965996a5c29f3797dbff" kindref="member">dataFlow</ref><sp/>==<sp/><ref refid="ks_8h_1a56408dcd08fcb4080adbd109cf61c4aaa2fc42f559db890d2123310170df2b6ac" kindref="member">KSPIN_DATAFLOW_IN</ref>)<sp/>?<sp/>kOutputName<sp/>:<sp/>kInputName);</highlight></codeline>
<codeline lineno="1985"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1986"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1987"><highlight class="normal"></highlight></codeline>
<codeline lineno="1988"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Release<sp/>topology<sp/>filter<sp/>if<sp/>it<sp/>has<sp/>been<sp/>used<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1989"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref><sp/>&amp;&amp;<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref><sp/>!=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="1990"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1991"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Releasing<sp/>topology<sp/>filter...\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1992"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FilterRelease(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref>);</highlight></codeline>
<codeline lineno="1993"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1994"><highlight class="normal"></highlight></codeline>
<codeline lineno="1995"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Success<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1996"><highlight class="normal"><sp/><sp/><sp/><sp/>*error<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="1997"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Pin<sp/>created<sp/>successfully\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1998"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="1999"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pin;</highlight></codeline>
<codeline lineno="2000"><highlight class="normal"></highlight></codeline>
<codeline lineno="2001"><highlight class="normal">error:</highlight></codeline>
<codeline lineno="2002"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinNew:<sp/>Error<sp/>%d\n&quot;</highlight><highlight class="normal">,<sp/>result));</highlight></codeline>
<codeline lineno="2003"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="2004"><highlight class="comment"><sp/><sp/><sp/><sp/>Error<sp/>cleanup</highlight></codeline>
<codeline lineno="2005"><highlight class="comment"><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2006"><highlight class="normal"></highlight></codeline>
<codeline lineno="2007"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref><sp/>&amp;&amp;<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref><sp/>!=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="2008"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2009"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FilterRelease(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref>);</highlight></codeline>
<codeline lineno="2010"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2011"><highlight class="normal"></highlight></codeline>
<codeline lineno="2012"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__util_8h_1a27a8f85d109600ef246e5c642c5c3cad" kindref="member">PaUtil_FreeMemory</ref>(<sp/>item<sp/>);</highlight></codeline>
<codeline lineno="2013"><highlight class="normal"><sp/><sp/><sp/><sp/>PinFree(pin);</highlight></codeline>
<codeline lineno="2014"><highlight class="normal"></highlight></codeline>
<codeline lineno="2015"><highlight class="normal"><sp/><sp/><sp/><sp/>*error<sp/>=<sp/>result;</highlight></codeline>
<codeline lineno="2016"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="2017"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="2018"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2019"><highlight class="normal"></highlight></codeline>
<codeline lineno="2020"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="2021"><highlight class="comment">Safely<sp/>free<sp/>all<sp/>resources<sp/>associated<sp/>with<sp/>the<sp/>pin</highlight></codeline>
<codeline lineno="2022"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2023"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>PinFree(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pin)</highlight></codeline>
<codeline lineno="2024"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2025"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="2026"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="2027"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>pin<sp/>)</highlight></codeline>
<codeline lineno="2028"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2029"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PinClose(pin);</highlight></codeline>
<codeline lineno="2030"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a2c0a3fa53ea7dbc62ef29f9ee4b5ff2c" kindref="member">pinConnect</ref><sp/>)</highlight></codeline>
<codeline lineno="2031"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2032"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__util_8h_1a27a8f85d109600ef246e5c642c5c3cad" kindref="member">PaUtil_FreeMemory</ref>(<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a2c0a3fa53ea7dbc62ef29f9ee4b5ff2c" kindref="member">pinConnect</ref><sp/>);</highlight></codeline>
<codeline lineno="2033"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2034"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ad7e5f835e21d79bb012d4a369e2437cd" kindref="member">dataRangesItem</ref><sp/>)</highlight></codeline>
<codeline lineno="2035"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2036"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__util_8h_1a27a8f85d109600ef246e5c642c5c3cad" kindref="member">PaUtil_FreeMemory</ref>(<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ad7e5f835e21d79bb012d4a369e2437cd" kindref="member">dataRangesItem</ref><sp/>);</highlight></codeline>
<codeline lineno="2037"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2038"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ae08e82747f231ea0365211c5dbbc48a7" kindref="member">inputs</ref><sp/>)</highlight></codeline>
<codeline lineno="2039"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2040"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a4e8be021efbd43cf14cb3b40e501d4eb" kindref="member">inputCount</ref>;<sp/>++<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>)</highlight></codeline>
<codeline lineno="2041"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2042"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__util_8h_1a27a8f85d109600ef246e5c642c5c3cad" kindref="member">PaUtil_FreeMemory</ref>(<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ae08e82747f231ea0365211c5dbbc48a7" kindref="member">inputs</ref>[i]<sp/>);</highlight></codeline>
<codeline lineno="2043"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2044"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__util_8h_1a27a8f85d109600ef246e5c642c5c3cad" kindref="member">PaUtil_FreeMemory</ref>(<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ae08e82747f231ea0365211c5dbbc48a7" kindref="member">inputs</ref><sp/>);</highlight></codeline>
<codeline lineno="2045"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2046"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__util_8h_1a27a8f85d109600ef246e5c642c5c3cad" kindref="member">PaUtil_FreeMemory</ref>(<sp/>pin<sp/>);</highlight></codeline>
<codeline lineno="2047"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2048"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="2049"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2050"><highlight class="normal"></highlight></codeline>
<codeline lineno="2051"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="2052"><highlight class="comment">If<sp/>the<sp/>pin<sp/>handle<sp/>is<sp/>open,<sp/>close<sp/>it</highlight></codeline>
<codeline lineno="2053"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2054"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>PinClose(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pin)</highlight></codeline>
<codeline lineno="2055"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2056"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="2057"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>pin<sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>)</highlight></codeline>
<codeline lineno="2058"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2059"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Closing<sp/>NULL<sp/>pin!&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="2060"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="2061"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2062"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2063"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a60e3d7a05346b1ce3e8e910e9d1c4fb8" kindref="member">handle</ref><sp/>!=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>)</highlight></codeline>
<codeline lineno="2064"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2065"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PinSetState(<sp/>pin,<sp/><ref refid="ks_8h_1a4f0d9baddd3d96a7541645f20c7e28d7a72df7d04fa2a4b85b334f2f81f9fea4a" kindref="member">KSSTATE_PAUSE</ref><sp/>);</highlight></codeline>
<codeline lineno="2066"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PinSetState(<sp/>pin,<sp/><ref refid="ks_8h_1a4f0d9baddd3d96a7541645f20c7e28d7ad2ea8c442849c2f56178209afa825957" kindref="member">KSSTATE_STOP</ref><sp/>);</highlight></codeline>
<codeline lineno="2067"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CloseHandle(<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a60e3d7a05346b1ce3e8e910e9d1c4fb8" kindref="member">handle</ref><sp/>);</highlight></codeline>
<codeline lineno="2068"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a60e3d7a05346b1ce3e8e910e9d1c4fb8" kindref="member">handle</ref><sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="2069"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FilterRelease(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>);</highlight></codeline>
<codeline lineno="2070"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2071"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="2072"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2073"><highlight class="normal"></highlight></codeline>
<codeline lineno="2074"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="2075"><highlight class="comment">Set<sp/>the<sp/>state<sp/>of<sp/>this<sp/>(instantiated)<sp/>pin</highlight></codeline>
<codeline lineno="2076"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2077"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PinSetState(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pin,<sp/><ref refid="ks_8h_1a4f0d9baddd3d96a7541645f20c7e28d7" kindref="member">KSSTATE</ref><sp/>state)</highlight></codeline>
<codeline lineno="2078"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2079"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="2080"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_k_s_i_d_e_n_t_i_f_i_e_r" kindref="compound">KSPROPERTY</ref><sp/>prop;</highlight></codeline>
<codeline lineno="2081"><highlight class="normal"></highlight></codeline>
<codeline lineno="2082"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="2083"><highlight class="normal"><sp/><sp/><sp/><sp/>prop.Set<sp/>=<sp/><ref refid="ks_8h_1a62eeb3b8ebe7fab6ac89cf6afe019667" kindref="member">KSPROPSETID_Connection</ref>;</highlight></codeline>
<codeline lineno="2084"><highlight class="normal"><sp/><sp/><sp/><sp/>prop.Id<sp/><sp/>=<sp/><ref refid="ks_8h_1a150b07abc250483e7e49961c45b25414a914f7486915453ebee2e6ac3dd07dcfb" kindref="member">KSPROPERTY_CONNECTION_STATE</ref>;</highlight></codeline>
<codeline lineno="2085"><highlight class="normal"><sp/><sp/><sp/><sp/>prop.Flags<sp/>=<sp/><ref refid="ks_8h_1a1ee40c236640d276d72babab6bf97925" kindref="member">KSPROPERTY_TYPE_SET</ref>;</highlight></codeline>
<codeline lineno="2086"><highlight class="normal"></highlight></codeline>
<codeline lineno="2087"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>pin<sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>)</highlight></codeline>
<codeline lineno="2088"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a4851f9f753cdad3e7a89380d6589816c" kindref="member">paInternalError</ref>;</highlight></codeline>
<codeline lineno="2089"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a60e3d7a05346b1ce3e8e910e9d1c4fb8" kindref="member">handle</ref><sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>)</highlight></codeline>
<codeline lineno="2090"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a4851f9f753cdad3e7a89380d6589816c" kindref="member">paInternalError</ref>;</highlight></codeline>
<codeline lineno="2091"><highlight class="normal"></highlight></codeline>
<codeline lineno="2092"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmSyncIoctl(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a60e3d7a05346b1ce3e8e910e9d1c4fb8" kindref="member">handle</ref>,<sp/><ref refid="ks_8h_1a2b4dc8e207e8906a86897224c7676a8f" kindref="member">IOCTL_KS_PROPERTY</ref>,<sp/>&amp;prop,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_k_s_i_d_e_n_t_i_f_i_e_r" kindref="compound">KSPROPERTY</ref>),<sp/>&amp;state,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="ks_8h_1a4f0d9baddd3d96a7541645f20c7e28d7" kindref="member">KSSTATE</ref>),<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="2093"><highlight class="normal"></highlight></codeline>
<codeline lineno="2094"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="2095"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="2096"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2097"><highlight class="normal"></highlight></codeline>
<codeline lineno="2098"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PinInstantiate(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pin)</highlight></codeline>
<codeline lineno="2099"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2100"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result;</highlight></codeline>
<codeline lineno="2101"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>createResult;</highlight></codeline>
<codeline lineno="2102"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_k_s_a_l_l_o_c_a_t_o_r___f_r_a_m_i_n_g" kindref="compound">KSALLOCATOR_FRAMING</ref><sp/>ksaf;</highlight></codeline>
<codeline lineno="2103"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_k_s_a_l_l_o_c_a_t_o_r___f_r_a_m_i_n_g___e_x" kindref="compound">KSALLOCATOR_FRAMING_EX</ref><sp/>ksafex;</highlight></codeline>
<codeline lineno="2104"><highlight class="normal"></highlight></codeline>
<codeline lineno="2105"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="2106"><highlight class="normal"></highlight></codeline>
<codeline lineno="2107"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>pin<sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>)</highlight></codeline>
<codeline lineno="2108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a4851f9f753cdad3e7a89380d6589816c" kindref="member">paInternalError</ref>;</highlight></codeline>
<codeline lineno="2109"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a2c0a3fa53ea7dbc62ef29f9ee4b5ff2c" kindref="member">pinConnect</ref>)</highlight></codeline>
<codeline lineno="2110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a4851f9f753cdad3e7a89380d6589816c" kindref="member">paInternalError</ref>;</highlight></codeline>
<codeline lineno="2111"><highlight class="normal"></highlight></codeline>
<codeline lineno="2112"><highlight class="normal"><sp/><sp/><sp/><sp/>FilterUse(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>);</highlight></codeline>
<codeline lineno="2113"><highlight class="normal"></highlight></codeline>
<codeline lineno="2114"><highlight class="normal"><sp/><sp/><sp/><sp/>createResult<sp/>=<sp/><ref refid="pa__win__wdmks_8c_1a6d5e1e7c5625b65ea3efb5169e7320ac" kindref="member">FunctionKsCreatePin</ref>(</highlight></codeline>
<codeline lineno="2115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref>,</highlight></codeline>
<codeline lineno="2116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a2c0a3fa53ea7dbc62ef29f9ee4b5ff2c" kindref="member">pinConnect</ref>,</highlight></codeline>
<codeline lineno="2117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GENERIC_WRITE<sp/>|<sp/>GENERIC_READ,</highlight></codeline>
<codeline lineno="2118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a60e3d7a05346b1ce3e8e910e9d1c4fb8" kindref="member">handle</ref></highlight></codeline>
<codeline lineno="2119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="2120"><highlight class="normal"></highlight></codeline>
<codeline lineno="2121"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Pin<sp/>create<sp/>result<sp/>=<sp/>0x%08x\n&quot;</highlight><highlight class="normal">,createResult));</highlight></codeline>
<codeline lineno="2122"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>createResult<sp/>!=<sp/>ERROR_SUCCESS<sp/>)</highlight></codeline>
<codeline lineno="2123"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FilterRelease(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>);</highlight></codeline>
<codeline lineno="2125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a60e3d7a05346b1ce3e8e910e9d1c4fb8" kindref="member">handle</ref><sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="2126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(createResult)</highlight></codeline>
<codeline lineno="2127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>ERROR_INVALID_PARAMETER:</highlight></codeline>
<codeline lineno="2129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>First<sp/>case<sp/>when<sp/>pin<sp/>actually<sp/>don&apos;t<sp/>support<sp/>the<sp/>format<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a69660cd762aec2672fd3393e0971e99c" kindref="member">paSampleFormatNotSupported</ref>;</highlight></codeline>
<codeline lineno="2131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>ERROR_BAD_COMMAND:</highlight></codeline>
<codeline lineno="2132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Case<sp/>when<sp/>pin<sp/>is<sp/>occupied<sp/>(by<sp/>another<sp/>application)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a467dac712e45745d8b0d8cd429fd1a01" kindref="member">paDeviceUnavailable</ref>;</highlight></codeline>
<codeline lineno="2134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>All<sp/>other<sp/>cases<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a3442d8018bfa4329847d87df68b564a3" kindref="member">paInvalidDevice</ref>;</highlight></codeline>
<codeline lineno="2137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2138"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2139"><highlight class="normal"></highlight></codeline>
<codeline lineno="2140"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1a65b71d52a0990fdb97201d0cea3f05f1" kindref="member">streamingType</ref><sp/>==<sp/><ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8ae39673a93d503c16300f190ed31bb349" kindref="member">Type_kWaveCyclic</ref>)</highlight></codeline>
<codeline lineno="2141"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Framing<sp/>size<sp/>query<sp/>only<sp/>valid<sp/>for<sp/>WaveCyclic<sp/>devices<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmGetPropertySimple(</highlight></codeline>
<codeline lineno="2144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a60e3d7a05346b1ce3e8e910e9d1c4fb8" kindref="member">handle</ref>,</highlight></codeline>
<codeline lineno="2145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="ks_8h_1a62eeb3b8ebe7fab6ac89cf6afe019667" kindref="member">KSPROPSETID_Connection</ref>,</highlight></codeline>
<codeline lineno="2146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a150b07abc250483e7e49961c45b25414a516ff64a1a6fbd2e8087e46192e2bdbf" kindref="member">KSPROPERTY_CONNECTION_ALLOCATORFRAMING</ref>,</highlight></codeline>
<codeline lineno="2147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;ksaf,</highlight></codeline>
<codeline lineno="2148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(ksaf));</highlight></codeline>
<codeline lineno="2149"><highlight class="normal"></highlight></codeline>
<codeline lineno="2150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref><sp/>)</highlight></codeline>
<codeline lineno="2151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmGetPropertySimple(</highlight></codeline>
<codeline lineno="2153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a60e3d7a05346b1ce3e8e910e9d1c4fb8" kindref="member">handle</ref>,</highlight></codeline>
<codeline lineno="2154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="ks_8h_1a62eeb3b8ebe7fab6ac89cf6afe019667" kindref="member">KSPROPSETID_Connection</ref>,</highlight></codeline>
<codeline lineno="2155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a150b07abc250483e7e49961c45b25414a9332aa41add9770e754570a8a1c08a55" kindref="member">KSPROPERTY_CONNECTION_ALLOCATORFRAMING_EX</ref>,</highlight></codeline>
<codeline lineno="2156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;ksafex,</highlight></codeline>
<codeline lineno="2157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(ksafex));</highlight></codeline>
<codeline lineno="2158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>result<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref><sp/>)</highlight></codeline>
<codeline lineno="2159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6c12dcae31c4badecb8bb36ed5fd7381" kindref="member">frameSize</ref><sp/>=<sp/>ksafex.<ref refid="struct_k_s_a_l_l_o_c_a_t_o_r___f_r_a_m_i_n_g___e_x_1a9662357d782ff687285cdc1e628ae290" kindref="member">FramingItem</ref>[0].<ref refid="struct_k_s___f_r_a_m_i_n_g___i_t_e_m_1afead0f728d577cc7ddb6d18666d4090c" kindref="member">FramingRange</ref>.<ref refid="struct_k_s___f_r_a_m_i_n_g___r_a_n_g_e___w_e_i_g_h_t_e_d_1a55d3e79af39381b05c100b5627cf31eb" kindref="member">Range</ref>.<ref refid="struct_k_s___f_r_a_m_i_n_g___r_a_n_g_e_1ac7091ebd791a42498b4694e0dba4456f" kindref="member">MinFrameSize</ref>;</highlight></codeline>
<codeline lineno="2161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6c12dcae31c4badecb8bb36ed5fd7381" kindref="member">frameSize</ref><sp/>=<sp/>ksaf.<ref refid="struct_k_s_a_l_l_o_c_a_t_o_r___f_r_a_m_i_n_g_1afdba87342998933c95bde99a49d44766" kindref="member">FrameSize</ref>;</highlight></codeline>
<codeline lineno="2166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2167"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2168"><highlight class="normal"></highlight></codeline>
<codeline lineno="2169"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="2170"><highlight class="normal"></highlight></codeline>
<codeline lineno="2171"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="2172"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2173"><highlight class="normal"></highlight></codeline>
<codeline lineno="2174"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PinSetFormat(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pin,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>WAVEFORMATEX*<sp/><ref refid="_export_p_c_m_8cpp_1a317afff57d87a89158c2b038d37b2b08" kindref="member">format</ref>)</highlight></codeline>
<codeline lineno="2175"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2176"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="group__lavu__mem_1ga854352f53b148adc24983a58a1866d66" kindref="member">size</ref>;</highlight></codeline>
<codeline lineno="2177"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>newConnect;</highlight></codeline>
<codeline lineno="2178"><highlight class="normal"></highlight></codeline>
<codeline lineno="2179"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="2180"><highlight class="normal"></highlight></codeline>
<codeline lineno="2181"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>pin<sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>)</highlight></codeline>
<codeline lineno="2182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a4851f9f753cdad3e7a89380d6589816c" kindref="member">paInternalError</ref>;</highlight></codeline>
<codeline lineno="2183"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>format<sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>)</highlight></codeline>
<codeline lineno="2184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a4851f9f753cdad3e7a89380d6589816c" kindref="member">paInternalError</ref>;</highlight></codeline>
<codeline lineno="2185"><highlight class="normal"></highlight></codeline>
<codeline lineno="2186"><highlight class="normal"><sp/><sp/><sp/><sp/>size<sp/>=<sp/>GetWfexSize(format)<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_k_s_p_i_n___c_o_n_n_e_c_t" kindref="compound">KSPIN_CONNECT</ref>)<sp/>+<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(KSDATAFORMAT_WAVEFORMATEX)<sp/>-<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(WAVEFORMATEX);</highlight></codeline>
<codeline lineno="2187"><highlight class="normal"></highlight></codeline>
<codeline lineno="2188"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a77f9537f17bc86095bfc5646de673da5" kindref="member">pinConnectSize</ref><sp/>!=<sp/>size<sp/>)</highlight></codeline>
<codeline lineno="2189"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newConnect<sp/>=<sp/><ref refid="pa__util_8h_1aa614f193aff12744a6ab90a9eb3128f0" kindref="member">PaUtil_AllocateMemory</ref>(<sp/>size<sp/>);</highlight></codeline>
<codeline lineno="2191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>newConnect<sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>)</highlight></codeline>
<codeline lineno="2192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="2193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy(<sp/>newConnect,<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*)pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a2c0a3fa53ea7dbc62ef29f9ee4b5ff2c" kindref="member">pinConnect</ref>,<sp/><ref refid="_compare_audio_command_8cpp_1abd8bbcfabb3ddef2ccaafb9928a37b95" kindref="member">min</ref>(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a77f9537f17bc86095bfc5646de673da5" kindref="member">pinConnectSize</ref>,size)<sp/>);</highlight></codeline>
<codeline lineno="2194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__util_8h_1a27a8f85d109600ef246e5c642c5c3cad" kindref="member">PaUtil_FreeMemory</ref>(<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a2c0a3fa53ea7dbc62ef29f9ee4b5ff2c" kindref="member">pinConnect</ref><sp/>);</highlight></codeline>
<codeline lineno="2195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a2c0a3fa53ea7dbc62ef29f9ee4b5ff2c" kindref="member">pinConnect</ref><sp/>=<sp/>(<ref refid="struct_k_s_p_i_n___c_o_n_n_e_c_t" kindref="compound">KSPIN_CONNECT</ref>*)newConnect;</highlight></codeline>
<codeline lineno="2196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a77f9537f17bc86095bfc5646de673da5" kindref="member">pinConnectSize</ref><sp/>=<sp/><ref refid="group__lavu__mem_1ga854352f53b148adc24983a58a1866d66" kindref="member">size</ref>;</highlight></codeline>
<codeline lineno="2197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ac22b41ab27423a1fe5b96d1b675d62cb" kindref="member">ksDataFormatWfx</ref><sp/>=<sp/>(KSDATAFORMAT_WAVEFORMATEX*)((<ref refid="struct_k_s_p_i_n___c_o_n_n_e_c_t" kindref="compound">KSPIN_CONNECT</ref>*)newConnect<sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="2198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ac22b41ab27423a1fe5b96d1b675d62cb" kindref="member">ksDataFormatWfx</ref>-&gt;DataFormat.FormatSize<sp/>=<sp/>size<sp/>-<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_k_s_p_i_n___c_o_n_n_e_c_t" kindref="compound">KSPIN_CONNECT</ref>);</highlight></codeline>
<codeline lineno="2199"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2200"><highlight class="normal"></highlight></codeline>
<codeline lineno="2201"><highlight class="normal"><sp/><sp/><sp/><sp/>memcpy(<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*)&amp;(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ac22b41ab27423a1fe5b96d1b675d62cb" kindref="member">ksDataFormatWfx</ref>-&gt;WaveFormatEx),<sp/>format,<sp/>GetWfexSize(format)<sp/>);</highlight></codeline>
<codeline lineno="2202"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ac22b41ab27423a1fe5b96d1b675d62cb" kindref="member">ksDataFormatWfx</ref>-&gt;DataFormat.SampleSize<sp/>=<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>short)(format-&gt;nChannels<sp/>*<sp/>(format-&gt;wBitsPerSample<sp/>/<sp/>8));</highlight></codeline>
<codeline lineno="2203"><highlight class="normal"></highlight></codeline>
<codeline lineno="2204"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="2205"><highlight class="normal"></highlight></codeline>
<codeline lineno="2206"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="2207"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2208"><highlight class="normal"></highlight></codeline>
<codeline lineno="2209"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PinIsFormatSupported(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pin,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>WAVEFORMATEX*<sp/><ref refid="_export_p_c_m_8cpp_1a317afff57d87a89158c2b038d37b2b08" kindref="member">format</ref>)</highlight></codeline>
<codeline lineno="2210"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2211"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o" kindref="compound">KSDATARANGE_AUDIO</ref>*<sp/>dataRange;</highlight></codeline>
<codeline lineno="2212"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="cascade_8c_1afea6e77db19a2f8c91419904fe665a3a" kindref="member">count</ref>;</highlight></codeline>
<codeline lineno="2213"><highlight class="normal"><sp/><sp/><sp/><sp/>GUID<sp/>guid<sp/>=<sp/>DYNAMIC_GUID(<sp/><ref refid="ksguid_8h_1a6e883a85559b6413b02c9e3374d67961" kindref="member">DEFINE_WAVEFORMATEX_GUID</ref>(format-&gt;wFormatTag)<sp/>);</highlight></codeline>
<codeline lineno="2214"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a3442d8018bfa4329847d87df68b564a3" kindref="member">paInvalidDevice</ref>;</highlight></codeline>
<codeline lineno="2215"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>WAVEFORMATEXTENSIBLE*<sp/>pFormatExt<sp/>=<sp/>(format-&gt;wFormatTag<sp/>==<sp/><ref refid="wav__w64_8h_1ac6bfa7273251ec8fc11ef21ca645ad90a8845fd4ea11ad20253cb9008e1192c96" kindref="member">WAVE_FORMAT_EXTENSIBLE</ref>)<sp/>?<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>WAVEFORMATEXTENSIBLE*)format<sp/>:<sp/>0;</highlight></codeline>
<codeline lineno="2216"><highlight class="normal"></highlight></codeline>
<codeline lineno="2217"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="2218"><highlight class="normal"></highlight></codeline>
<codeline lineno="2219"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>pFormatExt<sp/>!=<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="2220"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>guid<sp/>=<sp/>pFormatExt-&gt;SubFormat;</highlight></codeline>
<codeline lineno="2222"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2223"><highlight class="normal"><sp/><sp/><sp/><sp/>dataRange<sp/>=<sp/>(<ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o" kindref="compound">KSDATARANGE_AUDIO</ref>*)pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a70e5b9749552a4f4bbf76233c984d4e0" kindref="member">dataRanges</ref>;</highlight></codeline>
<codeline lineno="2224"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(count<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>count&lt;pin-&gt;dataRangesItem-&gt;Count;</highlight></codeline>
<codeline lineno="2226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>count++,<sp/></highlight></codeline>
<codeline lineno="2227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dataRange<sp/>=<sp/>(<ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o" kindref="compound">KSDATARANGE_AUDIO</ref>*)(<sp/>((</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*)dataRange)<sp/>+<sp/>dataRange-&gt;<ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o_1ac813d951cb63f7de6b5e0cc7c18c136d" kindref="member">DataRange</ref>.<ref refid="union_k_s_d_a_t_a_f_o_r_m_a_t_1aa23bba961cb89d7c270b76c997bc82bd" kindref="member">FormatSize</ref>))<sp/></highlight><highlight class="comment">/*<sp/>Need<sp/>to<sp/>update<sp/>dataRange<sp/>here,<sp/>due<sp/>to<sp/>&apos;continue&apos;<sp/>!!<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2228"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>major<sp/>format*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!(IsEqualGUID(&amp;(dataRange-&gt;<ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o_1ac813d951cb63f7de6b5e0cc7c18c136d" kindref="member">DataRange</ref>.<ref refid="union_k_s_d_a_t_a_f_o_r_m_a_t_1a71601273fdfb0ceee3866f02187b517e" kindref="member">MajorFormat</ref>),<sp/>&amp;<ref refid="ksmedia_8h_1ac2df9c18dea71d4d0313dcd7c08b60c5" kindref="member">KSDATAFORMAT_TYPE_AUDIO</ref>)<sp/>||</highlight></codeline>
<codeline lineno="2231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>IsEqualGUID(&amp;(dataRange-&gt;<ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o_1ac813d951cb63f7de6b5e0cc7c18c136d" kindref="member">DataRange</ref>.<ref refid="union_k_s_d_a_t_a_f_o_r_m_a_t_1a71601273fdfb0ceee3866f02187b517e" kindref="member">MajorFormat</ref>),<sp/>&amp;<ref refid="ks_8h_1a2cc55bacaaf03859b5e5c2aa19d35ad5" kindref="member">KSDATAFORMAT_TYPE_WILDCARD</ref>)))</highlight></codeline>
<codeline lineno="2232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2235"><highlight class="normal"></highlight></codeline>
<codeline lineno="2236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>This<sp/>is<sp/>an<sp/>audio<sp/>or<sp/>wildcard<sp/>datarange...<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<sp/>(IsEqualGUID(&amp;(dataRange-&gt;<ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o_1ac813d951cb63f7de6b5e0cc7c18c136d" kindref="member">DataRange</ref>.<ref refid="union_k_s_d_a_t_a_f_o_r_m_a_t_1a58a48636b6942b0f4676ee0861ea6386" kindref="member">SubFormat</ref>),<sp/>&amp;<ref refid="ks_8h_1aa64c9aa306e03e4bb1b9cbd9b5865a44" kindref="member">KSDATAFORMAT_SUBTYPE_WILDCARD</ref>)<sp/>||</highlight></codeline>
<codeline lineno="2238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>IsEqualGUID(&amp;(dataRange-&gt;<ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o_1ac813d951cb63f7de6b5e0cc7c18c136d" kindref="member">DataRange</ref>.<ref refid="union_k_s_d_a_t_a_f_o_r_m_a_t_1a58a48636b6942b0f4676ee0861ea6386" kindref="member">SubFormat</ref>),<sp/>&amp;<ref refid="ksmedia_8h_1a549f89a2358aff91fd489c6a2377319b" kindref="member">KSDATAFORMAT_SUBTYPE_PCM</ref>)<sp/>||</highlight></codeline>
<codeline lineno="2239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>IsEqualGUID(&amp;(dataRange-&gt;<ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o_1ac813d951cb63f7de6b5e0cc7c18c136d" kindref="member">DataRange</ref>.<ref refid="union_k_s_d_a_t_a_f_o_r_m_a_t_1a58a48636b6942b0f4676ee0861ea6386" kindref="member">SubFormat</ref>),<sp/>&amp;guid)<sp/>))</highlight></codeline>
<codeline lineno="2240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2243"><highlight class="normal"></highlight></codeline>
<codeline lineno="2244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>specifier...<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<sp/>(IsEqualGUID(&amp;(dataRange-&gt;<ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o_1ac813d951cb63f7de6b5e0cc7c18c136d" kindref="member">DataRange</ref>.<ref refid="union_k_s_d_a_t_a_f_o_r_m_a_t_1a05a04e431afcc9d5a007bce301156c8c" kindref="member">Specifier</ref>),<sp/>&amp;<ref refid="ks_8h_1aa773a058040c51f257d2df37c5795362" kindref="member">KSDATAFORMAT_SPECIFIER_WILDCARD</ref>)<sp/>||</highlight></codeline>
<codeline lineno="2246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>IsEqualGUID(&amp;(dataRange-&gt;<ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o_1ac813d951cb63f7de6b5e0cc7c18c136d" kindref="member">DataRange</ref>.<ref refid="union_k_s_d_a_t_a_f_o_r_m_a_t_1a05a04e431afcc9d5a007bce301156c8c" kindref="member">Specifier</ref>),<sp/>&amp;<ref refid="ksmedia_8h_1af6fd5c81c7a9d3f8a9d59f98c4cfa3f8" kindref="member">KSDATAFORMAT_SPECIFIER_WAVEFORMATEX</ref>))<sp/>)</highlight></codeline>
<codeline lineno="2247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2250"><highlight class="normal"></highlight></codeline>
<codeline lineno="2251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Pin:%x,<sp/>DataRange:%d\n&quot;</highlight><highlight class="normal">,(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*)pin,count));</highlight></codeline>
<codeline lineno="2252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;\tFormatSize:%d,<sp/>SampleSize:%d\n&quot;</highlight><highlight class="normal">,dataRange-&gt;<ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o_1ac813d951cb63f7de6b5e0cc7c18c136d" kindref="member">DataRange</ref>.<ref refid="union_k_s_d_a_t_a_f_o_r_m_a_t_1aa23bba961cb89d7c270b76c997bc82bd" kindref="member">FormatSize</ref>,dataRange-&gt;<ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o_1ac813d951cb63f7de6b5e0cc7c18c136d" kindref="member">DataRange</ref>.<ref refid="union_k_s_d_a_t_a_f_o_r_m_a_t_1afcc41adbaf122f7345b49bc4e2554a6f" kindref="member">SampleSize</ref>));</highlight></codeline>
<codeline lineno="2253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;\tMaxChannels:%d\n&quot;</highlight><highlight class="normal">,dataRange-&gt;<ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o_1a0833265b8f9cc420f2321b9bbe8aa6ae" kindref="member">MaximumChannels</ref>));</highlight></codeline>
<codeline lineno="2254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;\tBits:%d-%d\n&quot;</highlight><highlight class="normal">,dataRange-&gt;<ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o_1a6da7ed494cfa0f11cfe1d91c664f0871" kindref="member">MinimumBitsPerSample</ref>,dataRange-&gt;<ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o_1ab16363498207d22501834543f35c3afd" kindref="member">MaximumBitsPerSample</ref>));</highlight></codeline>
<codeline lineno="2255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;\tSampleRate:%d-%d\n&quot;</highlight><highlight class="normal">,dataRange-&gt;<ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o_1aee794ef5401e207da52714156369073a" kindref="member">MinimumSampleFrequency</ref>,dataRange-&gt;<ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o_1ab17b43eea8ed34632c193818125e7ca2" kindref="member">MaximumSampleFrequency</ref>));</highlight></codeline>
<codeline lineno="2256"><highlight class="normal"></highlight></codeline>
<codeline lineno="2257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>dataRange-&gt;<ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o_1a0833265b8f9cc420f2321b9bbe8aa6ae" kindref="member">MaximumChannels</ref><sp/>!=<sp/>(ULONG)-1<sp/>&amp;&amp;<sp/></highlight></codeline>
<codeline lineno="2258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dataRange-&gt;<ref refid="struct_k_s_d_a_t_a_r_a_n_g_e___a_u_d_i_o_1a0833265b8f9cc420f2321b9bbe8aa6ae" kindref="member">MaximumChannels</ref><sp/>&lt;<sp/>format-&gt;nChannels<sp/>)</highlight></codeline>
<codeline lineno="2259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a46c51714378540c67c46895e726fb787" kindref="member">paInvalidChannelCount</ref>;</highlight></codeline>
<codeline lineno="2261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2263"><highlight class="normal"></highlight></codeline>
<codeline lineno="2264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pFormatExt<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="2265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!IsBitsWithinRange(dataRange,<sp/>pFormatExt-&gt;Samples.wValidBitsPerSample))</highlight></codeline>
<codeline lineno="2267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a69660cd762aec2672fd3393e0971e99c" kindref="member">paSampleFormatNotSupported</ref>;</highlight></codeline>
<codeline lineno="2269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!IsBitsWithinRange(dataRange,<sp/>format-&gt;wBitsPerSample))</highlight></codeline>
<codeline lineno="2275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a69660cd762aec2672fd3393e0971e99c" kindref="member">paSampleFormatNotSupported</ref>;</highlight></codeline>
<codeline lineno="2277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2280"><highlight class="normal"></highlight></codeline>
<codeline lineno="2281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!IsFrequencyWithinRange(dataRange,<sp/>format-&gt;nSamplesPerSec))</highlight></codeline>
<codeline lineno="2282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a30a98097c3b6d9789077b72c26ae7c24" kindref="member">paInvalidSampleRate</ref>;</highlight></codeline>
<codeline lineno="2284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2286"><highlight class="normal"></highlight></codeline>
<codeline lineno="2287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Success!<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="2289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2290"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2291"><highlight class="normal"></highlight></codeline>
<codeline lineno="2292"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="2293"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="2294"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2295"><highlight class="normal"></highlight></codeline>
<codeline lineno="2296"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PinQueryNotificationSupport(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pPin,<sp/><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref>*<sp/>pbResult)</highlight></codeline>
<codeline lineno="2297"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2298"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="2299"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_k_s_i_d_e_n_t_i_f_i_e_r" kindref="compound">KSPROPERTY</ref><sp/>propIn;</highlight></codeline>
<codeline lineno="2300"><highlight class="normal"></highlight></codeline>
<codeline lineno="2301"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="2302"><highlight class="normal"></highlight></codeline>
<codeline lineno="2303"><highlight class="normal"><sp/><sp/><sp/><sp/>propIn.Set<sp/>=<sp/><ref refid="ksmedia_8h_1a7270cda4fa303aa4ccf65e1447b1a4ae" kindref="member">KSPROPSETID_RtAudio</ref>;</highlight></codeline>
<codeline lineno="2304"><highlight class="normal"><sp/><sp/><sp/><sp/>propIn.Id<sp/>=<sp/>8;<sp/></highlight><highlight class="comment">/*<sp/>=<sp/>KSPROPERTY_RTAUDIO_QUERY_NOTIFICATION_SUPPORT<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2305"><highlight class="normal"><sp/><sp/><sp/><sp/>propIn.Flags<sp/>=<sp/><ref refid="ks_8h_1ae21fea32b5e7366daebb4ae7140fc9c9" kindref="member">KSPROPERTY_TYPE_GET</ref>;</highlight></codeline>
<codeline lineno="2306"><highlight class="normal"></highlight></codeline>
<codeline lineno="2307"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmSyncIoctl(pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a60e3d7a05346b1ce3e8e910e9d1c4fb8" kindref="member">handle</ref>,<sp/><ref refid="ks_8h_1a2b4dc8e207e8906a86897224c7676a8f" kindref="member">IOCTL_KS_PROPERTY</ref>,</highlight></codeline>
<codeline lineno="2308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;propIn,</highlight></codeline>
<codeline lineno="2309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_k_s_i_d_e_n_t_i_f_i_e_r" kindref="compound">KSPROPERTY</ref>),</highlight></codeline>
<codeline lineno="2310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pbResult,</highlight></codeline>
<codeline lineno="2311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref>),</highlight></codeline>
<codeline lineno="2312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="2313"><highlight class="normal"></highlight></codeline>
<codeline lineno="2314"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)<sp/></highlight></codeline>
<codeline lineno="2315"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Failed<sp/>PinQueryNotificationSupport\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="2317"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2318"><highlight class="normal"></highlight></codeline>
<codeline lineno="2319"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="2320"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="2321"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2322"><highlight class="normal"></highlight></codeline>
<codeline lineno="2323"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PinGetBufferWithNotification(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pPin,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">**<sp/>pBuffer,<sp/><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref>*<sp/>pRequestedBufSize,<sp/><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref>*<sp/>pbCallMemBarrier)</highlight></codeline>
<codeline lineno="2324"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2325"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="2326"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct__tag_k_s_r_t_a_u_d_i_o___b_u_f_f_e_r___p_r_o_p_e_r_t_y___w_i_t_h___n_o_t_i_f_i_c_a_t_i_o_n" kindref="compound">KSRTAUDIO_BUFFER_PROPERTY_WITH_NOTIFICATION</ref><sp/>propIn;</highlight></codeline>
<codeline lineno="2327"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct__tag_k_s_r_t_a_u_d_i_o___b_u_f_f_e_r" kindref="compound">KSRTAUDIO_BUFFER</ref><sp/>propOut;</highlight></codeline>
<codeline lineno="2328"><highlight class="normal"></highlight></codeline>
<codeline lineno="2329"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="2330"><highlight class="normal"></highlight></codeline>
<codeline lineno="2331"><highlight class="normal"><sp/><sp/><sp/><sp/>propIn.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___b_u_f_f_e_r___p_r_o_p_e_r_t_y___w_i_t_h___n_o_t_i_f_i_c_a_t_i_o_n_1a3eb50cb5f646c01f967b720d5b7097ff" kindref="member">BaseAddress</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2332"><highlight class="normal"><sp/><sp/><sp/><sp/>propIn.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___b_u_f_f_e_r___p_r_o_p_e_r_t_y___w_i_t_h___n_o_t_i_f_i_c_a_t_i_o_n_1ac0b89f5dda3266eaeac251620e30ed41" kindref="member">NotificationCount</ref><sp/>=<sp/>2;</highlight></codeline>
<codeline lineno="2333"><highlight class="normal"><sp/><sp/><sp/><sp/>propIn.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___b_u_f_f_e_r___p_r_o_p_e_r_t_y___w_i_t_h___n_o_t_i_f_i_c_a_t_i_o_n_1aa185c1f2a36433ec06cdde2d7cc0cb67" kindref="member">RequestedBufferSize</ref><sp/>=<sp/>*pRequestedBufSize;</highlight></codeline>
<codeline lineno="2334"><highlight class="normal"><sp/><sp/><sp/><sp/>propIn.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___b_u_f_f_e_r___p_r_o_p_e_r_t_y___w_i_t_h___n_o_t_i_f_i_c_a_t_i_o_n_1a8a97b23de4e4019f094e30b002cde207" kindref="member">Property</ref>.Set<sp/>=<sp/><ref refid="ksmedia_8h_1a7270cda4fa303aa4ccf65e1447b1a4ae" kindref="member">KSPROPSETID_RtAudio</ref>;</highlight></codeline>
<codeline lineno="2335"><highlight class="normal"><sp/><sp/><sp/><sp/>propIn.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___b_u_f_f_e_r___p_r_o_p_e_r_t_y___w_i_t_h___n_o_t_i_f_i_c_a_t_i_o_n_1a8a97b23de4e4019f094e30b002cde207" kindref="member">Property</ref>.Id<sp/>=<sp/><ref refid="ksmedia_8h_1a1f01c983202b09dcfd3913e134935892a8674ffd7a96cc324e5c91ceba7bc55b6" kindref="member">KSPROPERTY_RTAUDIO_BUFFER_WITH_NOTIFICATION</ref>;</highlight></codeline>
<codeline lineno="2336"><highlight class="normal"><sp/><sp/><sp/><sp/>propIn.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___b_u_f_f_e_r___p_r_o_p_e_r_t_y___w_i_t_h___n_o_t_i_f_i_c_a_t_i_o_n_1a8a97b23de4e4019f094e30b002cde207" kindref="member">Property</ref>.Flags<sp/>=<sp/><ref refid="ks_8h_1ae21fea32b5e7366daebb4ae7140fc9c9" kindref="member">KSPROPERTY_TYPE_GET</ref>;</highlight></codeline>
<codeline lineno="2337"><highlight class="normal"></highlight></codeline>
<codeline lineno="2338"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmSyncIoctl(pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a60e3d7a05346b1ce3e8e910e9d1c4fb8" kindref="member">handle</ref>,<sp/><ref refid="ks_8h_1a2b4dc8e207e8906a86897224c7676a8f" kindref="member">IOCTL_KS_PROPERTY</ref>,</highlight></codeline>
<codeline lineno="2339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;propIn,</highlight></codeline>
<codeline lineno="2340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___b_u_f_f_e_r___p_r_o_p_e_r_t_y___w_i_t_h___n_o_t_i_f_i_c_a_t_i_o_n" kindref="compound">KSRTAUDIO_BUFFER_PROPERTY_WITH_NOTIFICATION</ref>),</highlight></codeline>
<codeline lineno="2341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;propOut,</highlight></codeline>
<codeline lineno="2342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___b_u_f_f_e_r" kindref="compound">KSRTAUDIO_BUFFER</ref>),</highlight></codeline>
<codeline lineno="2343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="2344"><highlight class="normal"></highlight></codeline>
<codeline lineno="2345"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)<sp/></highlight></codeline>
<codeline lineno="2346"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pBuffer<sp/>=<sp/>propOut.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___b_u_f_f_e_r_1aa5e3cc1a7269df0a451e6d087991098c" kindref="member">BufferAddress</ref>;</highlight></codeline>
<codeline lineno="2348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pRequestedBufSize<sp/>=<sp/>propOut.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___b_u_f_f_e_r_1accae71f3b524b811c72163fc3e9db8d6" kindref="member">ActualBufferSize</ref>;</highlight></codeline>
<codeline lineno="2349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pbCallMemBarrier<sp/>=<sp/>propOut.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___b_u_f_f_e_r_1a4594c680b1a921fe13e37bf2d278f703" kindref="member">CallMemoryBarrier</ref>;</highlight></codeline>
<codeline lineno="2350"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2351"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="2352"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>get<sp/>buffer<sp/>with<sp/>notification\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="2354"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2355"><highlight class="normal"></highlight></codeline>
<codeline lineno="2356"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="2357"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="2358"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2359"><highlight class="normal"></highlight></codeline>
<codeline lineno="2360"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PinGetBufferWithoutNotification(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pPin,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">**<sp/>pBuffer,<sp/><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref>*<sp/>pRequestedBufSize,<sp/><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref>*<sp/>pbCallMemBarrier)</highlight></codeline>
<codeline lineno="2361"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2362"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="2363"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct__tag_k_s_r_t_a_u_d_i_o___b_u_f_f_e_r___p_r_o_p_e_r_t_y" kindref="compound">KSRTAUDIO_BUFFER_PROPERTY</ref><sp/>propIn;</highlight></codeline>
<codeline lineno="2364"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct__tag_k_s_r_t_a_u_d_i_o___b_u_f_f_e_r" kindref="compound">KSRTAUDIO_BUFFER</ref><sp/>propOut;</highlight></codeline>
<codeline lineno="2365"><highlight class="normal"></highlight></codeline>
<codeline lineno="2366"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="2367"><highlight class="normal"></highlight></codeline>
<codeline lineno="2368"><highlight class="normal"><sp/><sp/><sp/><sp/>propIn.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___b_u_f_f_e_r___p_r_o_p_e_r_t_y_1a10af10450a1ef0ce358bf309f6994422" kindref="member">BaseAddress</ref><sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="2369"><highlight class="normal"><sp/><sp/><sp/><sp/>propIn.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___b_u_f_f_e_r___p_r_o_p_e_r_t_y_1a5c070ce4bebde4a5126cbe327a6e479e" kindref="member">RequestedBufferSize</ref><sp/>=<sp/>*pRequestedBufSize;</highlight></codeline>
<codeline lineno="2370"><highlight class="normal"><sp/><sp/><sp/><sp/>propIn.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___b_u_f_f_e_r___p_r_o_p_e_r_t_y_1af0961b1625dd12950ac3bbdcf6f26009" kindref="member">Property</ref>.Set<sp/>=<sp/><ref refid="ksmedia_8h_1a7270cda4fa303aa4ccf65e1447b1a4ae" kindref="member">KSPROPSETID_RtAudio</ref>;</highlight></codeline>
<codeline lineno="2371"><highlight class="normal"><sp/><sp/><sp/><sp/>propIn.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___b_u_f_f_e_r___p_r_o_p_e_r_t_y_1af0961b1625dd12950ac3bbdcf6f26009" kindref="member">Property</ref>.Id<sp/>=<sp/><ref refid="ksmedia_8h_1a1f01c983202b09dcfd3913e134935892ae1e069dd050ae333e85fd85dbc5f8dca" kindref="member">KSPROPERTY_RTAUDIO_BUFFER</ref>;</highlight></codeline>
<codeline lineno="2372"><highlight class="normal"><sp/><sp/><sp/><sp/>propIn.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___b_u_f_f_e_r___p_r_o_p_e_r_t_y_1af0961b1625dd12950ac3bbdcf6f26009" kindref="member">Property</ref>.Flags<sp/>=<sp/><ref refid="ks_8h_1ae21fea32b5e7366daebb4ae7140fc9c9" kindref="member">KSPROPERTY_TYPE_GET</ref>;</highlight></codeline>
<codeline lineno="2373"><highlight class="normal"></highlight></codeline>
<codeline lineno="2374"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmSyncIoctl(pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a60e3d7a05346b1ce3e8e910e9d1c4fb8" kindref="member">handle</ref>,<sp/><ref refid="ks_8h_1a2b4dc8e207e8906a86897224c7676a8f" kindref="member">IOCTL_KS_PROPERTY</ref>,</highlight></codeline>
<codeline lineno="2375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;propIn,</highlight></codeline>
<codeline lineno="2376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___b_u_f_f_e_r___p_r_o_p_e_r_t_y" kindref="compound">KSRTAUDIO_BUFFER_PROPERTY</ref>),</highlight></codeline>
<codeline lineno="2377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;propOut,</highlight></codeline>
<codeline lineno="2378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___b_u_f_f_e_r" kindref="compound">KSRTAUDIO_BUFFER</ref>),</highlight></codeline>
<codeline lineno="2379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="2380"><highlight class="normal"></highlight></codeline>
<codeline lineno="2381"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="2382"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pBuffer<sp/>=<sp/>propOut.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___b_u_f_f_e_r_1aa5e3cc1a7269df0a451e6d087991098c" kindref="member">BufferAddress</ref>;</highlight></codeline>
<codeline lineno="2384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pRequestedBufSize<sp/>=<sp/>propOut.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___b_u_f_f_e_r_1accae71f3b524b811c72163fc3e9db8d6" kindref="member">ActualBufferSize</ref>;</highlight></codeline>
<codeline lineno="2385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pbCallMemBarrier<sp/>=<sp/>propOut.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___b_u_f_f_e_r_1a4594c680b1a921fe13e37bf2d278f703" kindref="member">CallMemoryBarrier</ref>;</highlight></codeline>
<codeline lineno="2386"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2387"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="2388"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>get<sp/>buffer<sp/>without<sp/>notification\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="2390"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2391"><highlight class="normal"></highlight></codeline>
<codeline lineno="2392"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="2393"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="2394"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2395"><highlight class="normal"></highlight></codeline>
<codeline lineno="2396"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>greatest<sp/>common<sp/>divisor<sp/>-<sp/>PGCD<sp/>in<sp/>French<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2397"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>PaWinWDMGCD(<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="poly-fir_8h_1a8d3c3518d793541417a4845125da1ae1" kindref="member">a</ref>,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="poly-fir_8h_1ab2d05693952610f937e5acb3c4a8fa1b" kindref="member">b</ref><sp/>)</highlight></codeline>
<codeline lineno="2398"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2399"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(b==0)<sp/>?<sp/><ref refid="poly-fir_8h_1a8d3c3518d793541417a4845125da1ae1" kindref="member">a</ref><sp/>:<sp/>PaWinWDMGCD(<sp/>b,<sp/><ref refid="poly-fir_8h_1a8d3c3518d793541417a4845125da1ae1" kindref="member">a</ref>%b);</highlight></codeline>
<codeline lineno="2400"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2401"><highlight class="normal"></highlight></codeline>
<codeline lineno="2402"><highlight class="normal"></highlight></codeline>
<codeline lineno="2403"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>This<sp/>function<sp/>will<sp/>handle<sp/>getting<sp/>the<sp/>cyclic<sp/>buffer<sp/>from<sp/>a<sp/>WaveRT<sp/>driver.<sp/>Certain<sp/>WaveRT<sp/>drivers<sp/>needs<sp/>to<sp/>have</highlight></codeline>
<codeline lineno="2404"><highlight class="comment">requested<sp/>buffer<sp/>size<sp/>on<sp/>multiples<sp/>of<sp/>128<sp/>bytes:</highlight></codeline>
<codeline lineno="2405"><highlight class="comment"></highlight></codeline>
<codeline lineno="2406"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2407"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PinGetBuffer(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pPin,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">**<sp/>pBuffer,<sp/><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref>*<sp/>pRequestedBufSize,<sp/><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref>*<sp/>pbCallMemBarrier)</highlight></codeline>
<codeline lineno="2408"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2409"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="2410"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>limit<sp/>=<sp/>1000;</highlight></codeline>
<codeline lineno="2411"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="2412"><highlight class="normal"></highlight></codeline>
<codeline lineno="2413"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(1)</highlight></codeline>
<codeline lineno="2414"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>limit--;</highlight></codeline>
<codeline lineno="2416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(limit<sp/>==<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="2417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinGetBuffer:<sp/>LOOP<sp/>LIMIT<sp/>REACHED\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="2418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2420"><highlight class="normal"></highlight></codeline>
<codeline lineno="2421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a8f64c1157494c02e8be9d85d72f359fe" kindref="member">pinKsSubType</ref><sp/>!=<sp/><ref refid="pa__win__wdmks_8h_1ab1fecd3bd8c22ca5820fee46fc9d89c2a3ef0fb75ff70c3292bd3d2174f5041a0" kindref="member">SubType_kPolled</ref>)</highlight></codeline>
<codeline lineno="2422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>In<sp/>case<sp/>of<sp/>unknown<sp/>(or<sp/>notification),<sp/>we<sp/>try<sp/>both<sp/>modes<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>PinGetBufferWithNotification(pPin,<sp/>pBuffer,<sp/>pRequestedBufSize,<sp/>pbCallMemBarrier);</highlight></codeline>
<codeline lineno="2425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="2426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinGetBuffer:<sp/>SubType_kNotification\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="2428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a8f64c1157494c02e8be9d85d72f359fe" kindref="member">pinKsSubType</ref><sp/>=<sp/><ref refid="pa__win__wdmks_8h_1ab1fecd3bd8c22ca5820fee46fc9d89c2a49c6ee27f3848a25e01bb7e7e9dd4ef5" kindref="member">SubType_kNotification</ref>;</highlight></codeline>
<codeline lineno="2429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2432"><highlight class="normal"></highlight></codeline>
<codeline lineno="2433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>PinGetBufferWithoutNotification(pPin,<sp/>pBuffer,<sp/>pRequestedBufSize,<sp/>pbCallMemBarrier);</highlight></codeline>
<codeline lineno="2434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="2435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PinGetBuffer:<sp/>SubType_kPolled\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="2437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a8f64c1157494c02e8be9d85d72f359fe" kindref="member">pinKsSubType</ref><sp/>=<sp/><ref refid="pa__win__wdmks_8h_1ab1fecd3bd8c22ca5820fee46fc9d89c2a3ef0fb75ff70c3292bd3d2174f5041a0" kindref="member">SubType_kPolled</ref>;</highlight></codeline>
<codeline lineno="2438"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2440"><highlight class="normal"></highlight></codeline>
<codeline lineno="2441"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>if<sp/>requested<sp/>size<sp/>is<sp/>on<sp/>a<sp/>128<sp/>byte<sp/>boundary<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(((*pRequestedBufSize)<sp/>%<sp/>128UL)<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="2443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Buffer<sp/>size<sp/>on<sp/>128<sp/>byte<sp/>boundary,<sp/>still<sp/>fails<sp/>:(\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="2445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Ok,<sp/>can&apos;t<sp/>do<sp/>much<sp/>more<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Compute<sp/>LCM<sp/>so<sp/>we<sp/>know<sp/>which<sp/>sizes<sp/>are<sp/>on<sp/>a<sp/>128<sp/>byte<sp/>boundary<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>gcd<sp/>=<sp/>PaWinWDMGCD(128UL,<sp/>pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ac22b41ab27423a1fe5b96d1b675d62cb" kindref="member">ksDataFormatWfx</ref>-&gt;WaveFormatEx.nBlockAlign);</highlight></codeline>
<codeline lineno="2452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>lcm<sp/>=<sp/>(128UL<sp/>*<sp/>pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ac22b41ab27423a1fe5b96d1b675d62cb" kindref="member">ksDataFormatWfx</ref>-&gt;WaveFormatEx.nBlockAlign)<sp/>/<sp/>gcd;</highlight></codeline>
<codeline lineno="2453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref><sp/>dwOldSize<sp/>=<sp/>*pRequestedBufSize;</highlight></codeline>
<codeline lineno="2454"><highlight class="normal"></highlight></codeline>
<codeline lineno="2455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Align<sp/>size<sp/>to<sp/>(next<sp/>larger)<sp/>LCM<sp/>byte<sp/>boundary,<sp/>and<sp/>then<sp/>we<sp/>try<sp/>again.<sp/>Note<sp/>that<sp/>LCM<sp/>is<sp/>not<sp/>necessarily<sp/>a</highlight></codeline>
<codeline lineno="2456"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>power<sp/>of<sp/>2.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pRequestedBufSize<sp/>=<sp/>((*pRequestedBufSize<sp/>+<sp/>lcm<sp/>-<sp/>1)<sp/>/<sp/>lcm)<sp/>*<sp/>lcm;</highlight></codeline>
<codeline lineno="2458"><highlight class="normal"></highlight></codeline>
<codeline lineno="2459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Adjusting<sp/>buffer<sp/>size<sp/>from<sp/>%u<sp/>to<sp/>%u<sp/>bytes<sp/>(128<sp/>byte<sp/>boundary,<sp/>LCM=%u)\n&quot;</highlight><highlight class="normal">,<sp/>dwOldSize,<sp/>*pRequestedBufSize,<sp/>lcm));</highlight></codeline>
<codeline lineno="2460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2461"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2462"><highlight class="normal"></highlight></codeline>
<codeline lineno="2463"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="2464"><highlight class="normal"></highlight></codeline>
<codeline lineno="2465"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="2466"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2467"><highlight class="normal"></highlight></codeline>
<codeline lineno="2468"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PinRegisterPositionRegister(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pPin)<sp/></highlight></codeline>
<codeline lineno="2469"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2470"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="2471"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct__tag_k_s_r_t_a_u_d_i_o___h_w_r_e_g_i_s_t_e_r___p_r_o_p_e_r_t_y" kindref="compound">KSRTAUDIO_HWREGISTER_PROPERTY</ref><sp/>propIn;</highlight></codeline>
<codeline lineno="2472"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct__tag_k_s_r_t_a_u_d_i_o___h_w_r_e_g_i_s_t_e_r" kindref="compound">KSRTAUDIO_HWREGISTER</ref><sp/>propOut;</highlight></codeline>
<codeline lineno="2473"><highlight class="normal"></highlight></codeline>
<codeline lineno="2474"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="2475"><highlight class="normal"></highlight></codeline>
<codeline lineno="2476"><highlight class="normal"><sp/><sp/><sp/><sp/>propIn.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___h_w_r_e_g_i_s_t_e_r___p_r_o_p_e_r_t_y_1a081ac2f01b0a458e5e0de4c68d1946d8" kindref="member">BaseAddress</ref><sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="2477"><highlight class="normal"><sp/><sp/><sp/><sp/>propIn.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___h_w_r_e_g_i_s_t_e_r___p_r_o_p_e_r_t_y_1af134b9234979a3547f1e6609991546ad" kindref="member">Property</ref>.Set<sp/>=<sp/><ref refid="ksmedia_8h_1a7270cda4fa303aa4ccf65e1447b1a4ae" kindref="member">KSPROPSETID_RtAudio</ref>;</highlight></codeline>
<codeline lineno="2478"><highlight class="normal"><sp/><sp/><sp/><sp/>propIn.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___h_w_r_e_g_i_s_t_e_r___p_r_o_p_e_r_t_y_1af134b9234979a3547f1e6609991546ad" kindref="member">Property</ref>.Id<sp/>=<sp/><ref refid="ksmedia_8h_1a1f01c983202b09dcfd3913e134935892a7a99016a3bad69e12573e249db84c64f" kindref="member">KSPROPERTY_RTAUDIO_POSITIONREGISTER</ref>;</highlight></codeline>
<codeline lineno="2479"><highlight class="normal"><sp/><sp/><sp/><sp/>propIn.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___h_w_r_e_g_i_s_t_e_r___p_r_o_p_e_r_t_y_1af134b9234979a3547f1e6609991546ad" kindref="member">Property</ref>.Flags<sp/>=<sp/><ref refid="ks_8h_1a1ee40c236640d276d72babab6bf97925" kindref="member">KSPROPERTY_TYPE_SET</ref>;</highlight></codeline>
<codeline lineno="2480"><highlight class="normal"></highlight></codeline>
<codeline lineno="2481"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmSyncIoctl(pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a60e3d7a05346b1ce3e8e910e9d1c4fb8" kindref="member">handle</ref>,<sp/><ref refid="ks_8h_1a2b4dc8e207e8906a86897224c7676a8f" kindref="member">IOCTL_KS_PROPERTY</ref>,</highlight></codeline>
<codeline lineno="2482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;propIn,</highlight></codeline>
<codeline lineno="2483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___h_w_r_e_g_i_s_t_e_r___p_r_o_p_e_r_t_y" kindref="compound">KSRTAUDIO_HWREGISTER_PROPERTY</ref>),</highlight></codeline>
<codeline lineno="2484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;propOut,</highlight></codeline>
<codeline lineno="2485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___h_w_r_e_g_i_s_t_e_r" kindref="compound">KSRTAUDIO_HWREGISTER</ref>),</highlight></codeline>
<codeline lineno="2486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="2487"><highlight class="normal"></highlight></codeline>
<codeline lineno="2488"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)<sp/></highlight></codeline>
<codeline lineno="2489"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a24343f8f122ae703ef0864843868ef6f" kindref="member">positionRegister</ref><sp/>=<sp/>(ULONG*)propOut.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___h_w_r_e_g_i_s_t_e_r_1aedadadf95f257c1804bbf7d21d66a22e" kindref="member">Register</ref>;</highlight></codeline>
<codeline lineno="2491"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2492"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2493"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>register<sp/>position<sp/>register\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="2495"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2496"><highlight class="normal"></highlight></codeline>
<codeline lineno="2497"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="2498"><highlight class="normal"></highlight></codeline>
<codeline lineno="2499"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="2500"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2501"><highlight class="normal"></highlight></codeline>
<codeline lineno="2502"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PinRegisterNotificationHandle(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pPin,<sp/><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/>handle)<sp/></highlight></codeline>
<codeline lineno="2503"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2504"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="2505"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct__tag_k_s_r_t_a_u_d_i_o___n_o_t_i_f_i_c_a_t_i_o_n___e_v_e_n_t___p_r_o_p_e_r_t_y" kindref="compound">KSRTAUDIO_NOTIFICATION_EVENT_PROPERTY</ref><sp/>prop;</highlight></codeline>
<codeline lineno="2506"><highlight class="normal"></highlight></codeline>
<codeline lineno="2507"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="2508"><highlight class="normal"></highlight></codeline>
<codeline lineno="2509"><highlight class="normal"><sp/><sp/><sp/><sp/>prop.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___n_o_t_i_f_i_c_a_t_i_o_n___e_v_e_n_t___p_r_o_p_e_r_t_y_1a97f285b125a57090b52ac2b767f612a6" kindref="member">NotificationEvent</ref><sp/>=<sp/>handle;</highlight></codeline>
<codeline lineno="2510"><highlight class="normal"><sp/><sp/><sp/><sp/>prop.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___n_o_t_i_f_i_c_a_t_i_o_n___e_v_e_n_t___p_r_o_p_e_r_t_y_1acab8142aad03c3ad718684eb5c363797" kindref="member">Property</ref>.Set<sp/>=<sp/><ref refid="ksmedia_8h_1a7270cda4fa303aa4ccf65e1447b1a4ae" kindref="member">KSPROPSETID_RtAudio</ref>;</highlight></codeline>
<codeline lineno="2511"><highlight class="normal"><sp/><sp/><sp/><sp/>prop.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___n_o_t_i_f_i_c_a_t_i_o_n___e_v_e_n_t___p_r_o_p_e_r_t_y_1acab8142aad03c3ad718684eb5c363797" kindref="member">Property</ref>.Id<sp/>=<sp/><ref refid="ksmedia_8h_1a1f01c983202b09dcfd3913e134935892ac0b43f9c19623c4e2849921d64758852" kindref="member">KSPROPERTY_RTAUDIO_REGISTER_NOTIFICATION_EVENT</ref>;</highlight></codeline>
<codeline lineno="2512"><highlight class="normal"><sp/><sp/><sp/><sp/>prop.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___n_o_t_i_f_i_c_a_t_i_o_n___e_v_e_n_t___p_r_o_p_e_r_t_y_1acab8142aad03c3ad718684eb5c363797" kindref="member">Property</ref>.Flags<sp/>=<sp/><ref refid="ks_8h_1a1ee40c236640d276d72babab6bf97925" kindref="member">KSPROPERTY_TYPE_SET</ref>;</highlight></codeline>
<codeline lineno="2513"><highlight class="normal"></highlight></codeline>
<codeline lineno="2514"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmSyncIoctl(pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a60e3d7a05346b1ce3e8e910e9d1c4fb8" kindref="member">handle</ref>,</highlight></codeline>
<codeline lineno="2515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a2b4dc8e207e8906a86897224c7676a8f" kindref="member">IOCTL_KS_PROPERTY</ref>,</highlight></codeline>
<codeline lineno="2516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;prop,</highlight></codeline>
<codeline lineno="2517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___n_o_t_i_f_i_c_a_t_i_o_n___e_v_e_n_t___p_r_o_p_e_r_t_y" kindref="compound">KSRTAUDIO_NOTIFICATION_EVENT_PROPERTY</ref>),</highlight></codeline>
<codeline lineno="2518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;prop,</highlight></codeline>
<codeline lineno="2519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___n_o_t_i_f_i_c_a_t_i_o_n___e_v_e_n_t___p_r_o_p_e_r_t_y" kindref="compound">KSRTAUDIO_NOTIFICATION_EVENT_PROPERTY</ref>),</highlight></codeline>
<codeline lineno="2520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="2521"><highlight class="normal"></highlight></codeline>
<codeline lineno="2522"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)<sp/>{</highlight></codeline>
<codeline lineno="2523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>register<sp/>notification<sp/>handle<sp/>0x%08X\n&quot;</highlight><highlight class="normal">,<sp/>handle));</highlight></codeline>
<codeline lineno="2524"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2525"><highlight class="normal"></highlight></codeline>
<codeline lineno="2526"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="2527"><highlight class="normal"></highlight></codeline>
<codeline lineno="2528"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="2529"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2530"><highlight class="normal"></highlight></codeline>
<codeline lineno="2531"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PinUnregisterNotificationHandle(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pPin,<sp/><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/>handle)<sp/></highlight></codeline>
<codeline lineno="2532"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2533"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="2534"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct__tag_k_s_r_t_a_u_d_i_o___n_o_t_i_f_i_c_a_t_i_o_n___e_v_e_n_t___p_r_o_p_e_r_t_y" kindref="compound">KSRTAUDIO_NOTIFICATION_EVENT_PROPERTY</ref><sp/>prop;</highlight></codeline>
<codeline lineno="2535"><highlight class="normal"></highlight></codeline>
<codeline lineno="2536"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="2537"><highlight class="normal"></highlight></codeline>
<codeline lineno="2538"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(handle<sp/>!=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="2539"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>prop.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___n_o_t_i_f_i_c_a_t_i_o_n___e_v_e_n_t___p_r_o_p_e_r_t_y_1a97f285b125a57090b52ac2b767f612a6" kindref="member">NotificationEvent</ref><sp/>=<sp/>handle;</highlight></codeline>
<codeline lineno="2541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>prop.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___n_o_t_i_f_i_c_a_t_i_o_n___e_v_e_n_t___p_r_o_p_e_r_t_y_1acab8142aad03c3ad718684eb5c363797" kindref="member">Property</ref>.Set<sp/>=<sp/><ref refid="ksmedia_8h_1a7270cda4fa303aa4ccf65e1447b1a4ae" kindref="member">KSPROPSETID_RtAudio</ref>;</highlight></codeline>
<codeline lineno="2542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>prop.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___n_o_t_i_f_i_c_a_t_i_o_n___e_v_e_n_t___p_r_o_p_e_r_t_y_1acab8142aad03c3ad718684eb5c363797" kindref="member">Property</ref>.Id<sp/>=<sp/><ref refid="ksmedia_8h_1a1f01c983202b09dcfd3913e134935892a0e8833d2cfbdb4de6d59cb3ac220bb3a" kindref="member">KSPROPERTY_RTAUDIO_UNREGISTER_NOTIFICATION_EVENT</ref>;</highlight></codeline>
<codeline lineno="2543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>prop.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___n_o_t_i_f_i_c_a_t_i_o_n___e_v_e_n_t___p_r_o_p_e_r_t_y_1acab8142aad03c3ad718684eb5c363797" kindref="member">Property</ref>.Flags<sp/>=<sp/><ref refid="ks_8h_1a1ee40c236640d276d72babab6bf97925" kindref="member">KSPROPERTY_TYPE_SET</ref>;</highlight></codeline>
<codeline lineno="2544"><highlight class="normal"></highlight></codeline>
<codeline lineno="2545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmSyncIoctl(pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a60e3d7a05346b1ce3e8e910e9d1c4fb8" kindref="member">handle</ref>,</highlight></codeline>
<codeline lineno="2546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a2b4dc8e207e8906a86897224c7676a8f" kindref="member">IOCTL_KS_PROPERTY</ref>,</highlight></codeline>
<codeline lineno="2547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;prop,</highlight></codeline>
<codeline lineno="2548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___n_o_t_i_f_i_c_a_t_i_o_n___e_v_e_n_t___p_r_o_p_e_r_t_y" kindref="compound">KSRTAUDIO_NOTIFICATION_EVENT_PROPERTY</ref>),</highlight></codeline>
<codeline lineno="2549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;prop,</highlight></codeline>
<codeline lineno="2550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___n_o_t_i_f_i_c_a_t_i_o_n___e_v_e_n_t___p_r_o_p_e_r_t_y" kindref="compound">KSRTAUDIO_NOTIFICATION_EVENT_PROPERTY</ref>),</highlight></codeline>
<codeline lineno="2551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="2552"><highlight class="normal"></highlight></codeline>
<codeline lineno="2553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)<sp/>{</highlight></codeline>
<codeline lineno="2554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>unregister<sp/>notification<sp/>handle<sp/>0x%08X\n&quot;</highlight><highlight class="normal">,<sp/>handle));</highlight></codeline>
<codeline lineno="2555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2556"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2557"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="2558"><highlight class="normal"></highlight></codeline>
<codeline lineno="2559"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="2560"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2561"><highlight class="normal"></highlight></codeline>
<codeline lineno="2562"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PinGetHwLatency(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pPin,<sp/>ULONG*<sp/>pFifoSize,<sp/>ULONG*<sp/>pChipsetDelay,<sp/>ULONG*<sp/>pCodecDelay)</highlight></codeline>
<codeline lineno="2563"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2564"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="2565"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_k_s_i_d_e_n_t_i_f_i_e_r" kindref="compound">KSPROPERTY</ref><sp/>propIn;</highlight></codeline>
<codeline lineno="2566"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct__tag_k_s_r_t_a_u_d_i_o___h_w_l_a_t_e_n_c_y" kindref="compound">KSRTAUDIO_HWLATENCY</ref><sp/>propOut;</highlight></codeline>
<codeline lineno="2567"><highlight class="normal"></highlight></codeline>
<codeline lineno="2568"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="2569"><highlight class="normal"></highlight></codeline>
<codeline lineno="2570"><highlight class="normal"><sp/><sp/><sp/><sp/>propIn.Set<sp/>=<sp/><ref refid="ksmedia_8h_1a7270cda4fa303aa4ccf65e1447b1a4ae" kindref="member">KSPROPSETID_RtAudio</ref>;</highlight></codeline>
<codeline lineno="2571"><highlight class="normal"><sp/><sp/><sp/><sp/>propIn.Id<sp/>=<sp/><ref refid="ksmedia_8h_1a1f01c983202b09dcfd3913e134935892adb23cdbf6f56d66dae9dcd7a29a5ba5e" kindref="member">KSPROPERTY_RTAUDIO_HWLATENCY</ref>;</highlight></codeline>
<codeline lineno="2572"><highlight class="normal"><sp/><sp/><sp/><sp/>propIn.Flags<sp/>=<sp/><ref refid="ks_8h_1ae21fea32b5e7366daebb4ae7140fc9c9" kindref="member">KSPROPERTY_TYPE_GET</ref>;</highlight></codeline>
<codeline lineno="2573"><highlight class="normal"></highlight></codeline>
<codeline lineno="2574"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmSyncIoctl(pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a60e3d7a05346b1ce3e8e910e9d1c4fb8" kindref="member">handle</ref>,<sp/><ref refid="ks_8h_1a2b4dc8e207e8906a86897224c7676a8f" kindref="member">IOCTL_KS_PROPERTY</ref>,</highlight></codeline>
<codeline lineno="2575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;propIn,</highlight></codeline>
<codeline lineno="2576"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_k_s_i_d_e_n_t_i_f_i_e_r" kindref="compound">KSPROPERTY</ref>),</highlight></codeline>
<codeline lineno="2577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;propOut,</highlight></codeline>
<codeline lineno="2578"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___h_w_l_a_t_e_n_c_y" kindref="compound">KSRTAUDIO_HWLATENCY</ref>),</highlight></codeline>
<codeline lineno="2579"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="2580"><highlight class="normal"></highlight></codeline>
<codeline lineno="2581"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="2582"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2583"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pFifoSize<sp/>=<sp/>propOut.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___h_w_l_a_t_e_n_c_y_1a1270423fb3d0b206b98c0514bbfaa01b" kindref="member">FifoSize</ref>;</highlight></codeline>
<codeline lineno="2584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pChipsetDelay<sp/>=<sp/>propOut.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___h_w_l_a_t_e_n_c_y_1a7dcbb63676244690cc76faa8278f79b6" kindref="member">ChipsetDelay</ref>;</highlight></codeline>
<codeline lineno="2585"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pCodecDelay<sp/>=<sp/>propOut.<ref refid="struct__tag_k_s_r_t_a_u_d_i_o___h_w_l_a_t_e_n_c_y_1ab3fb71ad1e0dbf27f01505cabbd16ad3" kindref="member">CodecDelay</ref>;</highlight></codeline>
<codeline lineno="2586"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2587"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2588"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2589"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>retrieve<sp/>hardware<sp/>FIFO<sp/>size!\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="2590"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2591"><highlight class="normal"></highlight></codeline>
<codeline lineno="2592"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="2593"><highlight class="normal"></highlight></codeline>
<codeline lineno="2594"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="2595"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2596"><highlight class="normal"></highlight></codeline>
<codeline lineno="2597"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>This<sp/>one<sp/>is<sp/>used<sp/>for<sp/>WaveRT<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2598"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PinGetAudioPositionMemoryMapped(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pPin,<sp/>ULONG*<sp/>pPosition)</highlight></codeline>
<codeline lineno="2599"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2600"><highlight class="normal"><sp/><sp/><sp/><sp/>*pPosition<sp/>=<sp/>(*pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a24343f8f122ae703ef0864843868ef6f" kindref="member">positionRegister</ref>);</highlight></codeline>
<codeline lineno="2601"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="2602"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2603"><highlight class="normal"></highlight></codeline>
<codeline lineno="2604"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>This<sp/>one<sp/>also,<sp/>but<sp/>in<sp/>case<sp/>the<sp/>driver<sp/>hasn&apos;t<sp/>implemented<sp/>memory<sp/>mapped<sp/>access<sp/>to<sp/>the<sp/>position<sp/>register<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2605"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PinGetAudioPositionViaIOCTLRead(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pPin,<sp/>ULONG*<sp/>pPosition)</highlight></codeline>
<codeline lineno="2606"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2607"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="2608"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_k_s_i_d_e_n_t_i_f_i_e_r" kindref="compound">KSPROPERTY</ref><sp/>propIn;</highlight></codeline>
<codeline lineno="2609"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_k_s_a_u_d_i_o___p_o_s_i_t_i_o_n" kindref="compound">KSAUDIO_POSITION</ref><sp/>propOut;</highlight></codeline>
<codeline lineno="2610"><highlight class="normal"></highlight></codeline>
<codeline lineno="2611"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="2612"><highlight class="normal"></highlight></codeline>
<codeline lineno="2613"><highlight class="normal"><sp/><sp/><sp/><sp/>propIn.Set<sp/>=<sp/><ref refid="ksmedia_8h_1ae64e614f58f7ca106d79313fd4d1de82" kindref="member">KSPROPSETID_Audio</ref>;</highlight></codeline>
<codeline lineno="2614"><highlight class="normal"><sp/><sp/><sp/><sp/>propIn.Id<sp/>=<sp/><ref refid="ksmedia_8h_1a172208d10eb3ad100b12cb5002c027e7a8197450ef324f337bb5050c6eaf29301" kindref="member">KSPROPERTY_AUDIO_POSITION</ref>;</highlight></codeline>
<codeline lineno="2615"><highlight class="normal"><sp/><sp/><sp/><sp/>propIn.Flags<sp/>=<sp/><ref refid="ks_8h_1ae21fea32b5e7366daebb4ae7140fc9c9" kindref="member">KSPROPERTY_TYPE_GET</ref>;</highlight></codeline>
<codeline lineno="2616"><highlight class="normal"></highlight></codeline>
<codeline lineno="2617"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmSyncIoctl(pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a60e3d7a05346b1ce3e8e910e9d1c4fb8" kindref="member">handle</ref>,</highlight></codeline>
<codeline lineno="2618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a2b4dc8e207e8906a86897224c7676a8f" kindref="member">IOCTL_KS_PROPERTY</ref>,</highlight></codeline>
<codeline lineno="2619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;propIn,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_k_s_i_d_e_n_t_i_f_i_e_r" kindref="compound">KSPROPERTY</ref>),</highlight></codeline>
<codeline lineno="2620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;propOut,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_k_s_a_u_d_i_o___p_o_s_i_t_i_o_n" kindref="compound">KSAUDIO_POSITION</ref>),</highlight></codeline>
<codeline lineno="2621"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="2622"><highlight class="normal"></highlight></codeline>
<codeline lineno="2623"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="2624"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pPosition<sp/>=<sp/>(ULONG)(propOut.<ref refid="struct_k_s_a_u_d_i_o___p_o_s_i_t_i_o_n_1ab8d1aec9b5d92cadb62351c578cfb391" kindref="member">PlayOffset</ref>);</highlight></codeline>
<codeline lineno="2626"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2627"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2628"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>get<sp/>audio<sp/>play<sp/>position!\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="2630"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2631"><highlight class="normal"></highlight></codeline>
<codeline lineno="2632"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="2633"><highlight class="normal"></highlight></codeline>
<codeline lineno="2634"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="2635"><highlight class="normal"></highlight></codeline>
<codeline lineno="2636"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2637"><highlight class="normal"></highlight></codeline>
<codeline lineno="2638"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>This<sp/>one<sp/>also,<sp/>but<sp/>in<sp/>case<sp/>the<sp/>driver<sp/>hasn&apos;t<sp/>implemented<sp/>memory<sp/>mapped<sp/>access<sp/>to<sp/>the<sp/>position<sp/>register<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2639"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PinGetAudioPositionViaIOCTLWrite(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pPin,<sp/>ULONG*<sp/>pPosition)</highlight></codeline>
<codeline lineno="2640"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2641"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="2642"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_k_s_i_d_e_n_t_i_f_i_e_r" kindref="compound">KSPROPERTY</ref><sp/>propIn;</highlight></codeline>
<codeline lineno="2643"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_k_s_a_u_d_i_o___p_o_s_i_t_i_o_n" kindref="compound">KSAUDIO_POSITION</ref><sp/>propOut;</highlight></codeline>
<codeline lineno="2644"><highlight class="normal"></highlight></codeline>
<codeline lineno="2645"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="2646"><highlight class="normal"></highlight></codeline>
<codeline lineno="2647"><highlight class="normal"><sp/><sp/><sp/><sp/>propIn.Set<sp/>=<sp/><ref refid="ksmedia_8h_1ae64e614f58f7ca106d79313fd4d1de82" kindref="member">KSPROPSETID_Audio</ref>;</highlight></codeline>
<codeline lineno="2648"><highlight class="normal"><sp/><sp/><sp/><sp/>propIn.Id<sp/>=<sp/><ref refid="ksmedia_8h_1a172208d10eb3ad100b12cb5002c027e7a8197450ef324f337bb5050c6eaf29301" kindref="member">KSPROPERTY_AUDIO_POSITION</ref>;</highlight></codeline>
<codeline lineno="2649"><highlight class="normal"><sp/><sp/><sp/><sp/>propIn.Flags<sp/>=<sp/><ref refid="ks_8h_1ae21fea32b5e7366daebb4ae7140fc9c9" kindref="member">KSPROPERTY_TYPE_GET</ref>;</highlight></codeline>
<codeline lineno="2650"><highlight class="normal"></highlight></codeline>
<codeline lineno="2651"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmSyncIoctl(pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a60e3d7a05346b1ce3e8e910e9d1c4fb8" kindref="member">handle</ref>,</highlight></codeline>
<codeline lineno="2652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a2b4dc8e207e8906a86897224c7676a8f" kindref="member">IOCTL_KS_PROPERTY</ref>,</highlight></codeline>
<codeline lineno="2653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;propIn,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_k_s_i_d_e_n_t_i_f_i_e_r" kindref="compound">KSPROPERTY</ref>),</highlight></codeline>
<codeline lineno="2654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;propOut,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_k_s_a_u_d_i_o___p_o_s_i_t_i_o_n" kindref="compound">KSAUDIO_POSITION</ref>),</highlight></codeline>
<codeline lineno="2655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="2656"><highlight class="normal"></highlight></codeline>
<codeline lineno="2657"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="2658"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pPosition<sp/>=<sp/>(ULONG)(propOut.<ref refid="struct_k_s_a_u_d_i_o___p_o_s_i_t_i_o_n_1a47768664ecfd962c7e926e5fdee573c1" kindref="member">WriteOffset</ref>);</highlight></codeline>
<codeline lineno="2660"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2661"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2662"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>get<sp/>audio<sp/>write<sp/>position!\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="2664"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2665"><highlight class="normal"></highlight></codeline>
<codeline lineno="2666"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="2667"><highlight class="normal"></highlight></codeline>
<codeline lineno="2668"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="2669"><highlight class="normal"></highlight></codeline>
<codeline lineno="2670"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2671"><highlight class="normal"></highlight></codeline>
<codeline lineno="2672"><highlight class="normal"></highlight><highlight class="comment">/***********************************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2673"><highlight class="normal"></highlight></codeline>
<codeline lineno="2677"><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/>FilterNew(<sp/><ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8" kindref="member">PaWDMKSType</ref><sp/><ref refid="namespacewaflib_1_1_tools_1_1tex_1a7638d43e3ce55594540ea118202a9a40" kindref="member">type</ref>,<sp/><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref><sp/>devNode,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">wchar_t</highlight><highlight class="normal">*<sp/>filterName,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">wchar_t</highlight><highlight class="normal">*<sp/><ref refid="struct_____pa_win_wdm_muxed_input_1a07079d0c8604c5a64fc338263c5e2468" kindref="member">friendlyName</ref>,<sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref>*<sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref><sp/>)</highlight></codeline>
<codeline lineno="2678"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2679"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/>filter<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2680"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result;</highlight></codeline>
<codeline lineno="2681"><highlight class="normal"></highlight></codeline>
<codeline lineno="2682"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Allocate<sp/>the<sp/>new<sp/>filter<sp/>object<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2683"><highlight class="normal"><sp/><sp/><sp/><sp/>filter<sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*)<ref refid="pa__util_8h_1aa614f193aff12744a6ab90a9eb3128f0" kindref="member">PaUtil_AllocateMemory</ref>(<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>)<sp/>);</highlight></codeline>
<codeline lineno="2684"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>!filter<sp/>)</highlight></codeline>
<codeline lineno="2685"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="2687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>error;</highlight></codeline>
<codeline lineno="2688"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2689"><highlight class="normal"></highlight></codeline>
<codeline lineno="2690"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;FilterNew:<sp/>Creating<sp/>filter<sp/>&apos;%S&apos;\n&quot;</highlight><highlight class="normal">,<sp/><ref refid="struct_____pa_win_wdm_muxed_input_1a07079d0c8604c5a64fc338263c5e2468" kindref="member">friendlyName</ref>));</highlight></codeline>
<codeline lineno="2691"><highlight class="normal"></highlight></codeline>
<codeline lineno="2692"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>type<sp/>flag<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2693"><highlight class="normal"><sp/><sp/><sp/><sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1a65b71d52a0990fdb97201d0cea3f05f1" kindref="member">streamingType</ref><sp/>=<sp/><ref refid="namespacewaflib_1_1_tools_1_1tex_1a7638d43e3ce55594540ea118202a9a40" kindref="member">type</ref>;</highlight></codeline>
<codeline lineno="2694"><highlight class="normal"></highlight></codeline>
<codeline lineno="2695"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Store<sp/>device<sp/>node<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2696"><highlight class="normal"><sp/><sp/><sp/><sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a105c3a8f9cc3b7be4c7c0441c02dfa88" kindref="member">deviceNode</ref><sp/>=<sp/>devNode;</highlight></codeline>
<codeline lineno="2697"><highlight class="normal"></highlight></codeline>
<codeline lineno="2698"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Zero<sp/>the<sp/>filter<sp/>object<sp/>-<sp/>done<sp/>by<sp/>AllocateMemory<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2699"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>memset(<sp/>(void*)filter,<sp/>0,<sp/>sizeof(PaWinWdmFilter)<sp/>);<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2700"><highlight class="normal"></highlight></codeline>
<codeline lineno="2701"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Copy<sp/>the<sp/>filter<sp/>name<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2702"><highlight class="normal"><sp/><sp/><sp/><sp/>wcsncpy(filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1aef789b50c6cf1e05c5c6e1e18e2a233c" kindref="member">filterPath</ref>,<sp/>filterName,<sp/>MAX_PATH);</highlight></codeline>
<codeline lineno="2703"><highlight class="normal"></highlight></codeline>
<codeline lineno="2704"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Copy<sp/>the<sp/>friendly<sp/>name<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2705"><highlight class="normal"><sp/><sp/><sp/><sp/>wcsncpy(filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1ad1b53f3170d7cb538e61642f3321ad81" kindref="member">friendlyName</ref>,<sp/><ref refid="struct_____pa_win_wdm_muxed_input_1a07079d0c8604c5a64fc338263c5e2468" kindref="member">friendlyName</ref>,<sp/>MAX_PATH);</highlight></codeline>
<codeline lineno="2706"><highlight class="normal"></highlight></codeline>
<codeline lineno="2707"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;FilterNew:<sp/>Opening<sp/>filter...\n&quot;</highlight><highlight class="normal">,<sp/><ref refid="struct_____pa_win_wdm_muxed_input_1a07079d0c8604c5a64fc338263c5e2468" kindref="member">friendlyName</ref>));</highlight></codeline>
<codeline lineno="2708"><highlight class="normal"></highlight></codeline>
<codeline lineno="2709"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Open<sp/>the<sp/>filter<sp/>handle<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2710"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>FilterUse(filter);</highlight></codeline>
<codeline lineno="2711"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref><sp/>)</highlight></codeline>
<codeline lineno="2712"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2713"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>error;</highlight></codeline>
<codeline lineno="2714"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2715"><highlight class="normal"></highlight></codeline>
<codeline lineno="2716"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>pin<sp/>count<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2717"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmGetPinPropertySimple</highlight></codeline>
<codeline lineno="2718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight></codeline>
<codeline lineno="2719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref>,</highlight></codeline>
<codeline lineno="2720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0,</highlight></codeline>
<codeline lineno="2721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="ks_8h_1a30cf7609846e6ea4d90411a45dc4ad79" kindref="member">KSPROPSETID_Pin</ref>,</highlight></codeline>
<codeline lineno="2722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a4d938d8189326438b819a522979356e8ad502ce7ebb929779b2d6dcd35797a6c5" kindref="member">KSPROPERTY_PIN_CTYPES</ref>,</highlight></codeline>
<codeline lineno="2723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1afd1955556211487bb56538d548778e23" kindref="member">pinCount</ref>,</highlight></codeline>
<codeline lineno="2724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1afd1955556211487bb56538d548778e23" kindref="member">pinCount</ref>),</highlight></codeline>
<codeline lineno="2725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="2726"><highlight class="normal"></highlight></codeline>
<codeline lineno="2727"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="2728"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>error;</highlight></codeline>
<codeline lineno="2730"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2731"><highlight class="normal"></highlight></codeline>
<codeline lineno="2732"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>connections<sp/>&amp;<sp/>nodes<sp/>for<sp/>filter<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2733"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmGetPropertyMulti(</highlight></codeline>
<codeline lineno="2734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref>,</highlight></codeline>
<codeline lineno="2735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="ks_8h_1acbb33d5ee96c86c0efe126e6f9d4d31f" kindref="member">KSPROPSETID_Topology</ref>,</highlight></codeline>
<codeline lineno="2736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a4acbe6856735ffaade194e8edfeade04ab3be820360af0f26718c887be088bc25" kindref="member">KSPROPERTY_TOPOLOGY_CONNECTIONS</ref>,</highlight></codeline>
<codeline lineno="2737"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1acb2256419c942e072c17068bbe5dca8f" kindref="member">connections</ref>);</highlight></codeline>
<codeline lineno="2738"><highlight class="normal"></highlight></codeline>
<codeline lineno="2739"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="2740"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>error;</highlight></codeline>
<codeline lineno="2742"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2743"><highlight class="normal"></highlight></codeline>
<codeline lineno="2744"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmGetPropertyMulti(</highlight></codeline>
<codeline lineno="2745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref>,</highlight></codeline>
<codeline lineno="2746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="ks_8h_1acbb33d5ee96c86c0efe126e6f9d4d31f" kindref="member">KSPROPSETID_Topology</ref>,</highlight></codeline>
<codeline lineno="2747"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1a4acbe6856735ffaade194e8edfeade04aa2abc099460a95918889599ef3fc61f1" kindref="member">KSPROPERTY_TOPOLOGY_NODES</ref>,</highlight></codeline>
<codeline lineno="2748"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a5e676e26c0e890e93bf501853e9b91fe" kindref="member">nodes</ref>);</highlight></codeline>
<codeline lineno="2749"><highlight class="normal"></highlight></codeline>
<codeline lineno="2750"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="2751"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2752"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>error;</highlight></codeline>
<codeline lineno="2753"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2754"><highlight class="normal"></highlight></codeline>
<codeline lineno="2755"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>For<sp/>debugging<sp/>purposes<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2756"><highlight class="normal"><sp/><sp/><sp/><sp/>DumpConnectionsAndNodes(filter);</highlight></codeline>
<codeline lineno="2757"><highlight class="normal"></highlight></codeline>
<codeline lineno="2758"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>product<sp/>GUID<sp/>(it<sp/>might<sp/>not<sp/>be<sp/>supported)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2759"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2760"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_k_s_c_o_m_p_o_n_e_n_t_i_d" kindref="compound">KSCOMPONENTID</ref><sp/>compId;</highlight></codeline>
<codeline lineno="2761"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(WdmGetPropertySimple(filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref>,<sp/>&amp;<ref refid="ks_8h_1af328dcd239482db2af0d80b2562604b4" kindref="member">KSPROPSETID_General</ref>,<sp/><ref refid="ks_8h_1afba0dd643631de2df29239ae76005125a813a9ae786fbd56be88237c907d1d513" kindref="member">KSPROPERTY_GENERAL_COMPONENTID</ref>,<sp/>&amp;compId,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_k_s_c_o_m_p_o_n_e_n_t_i_d" kindref="compound">KSCOMPONENTID</ref>))<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="2762"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1a183f5caf8ae9c7e62bcf6e19c8d2e4ad" kindref="member">deviceProductGuid</ref><sp/>=<sp/>compId.<ref refid="struct_k_s_c_o_m_p_o_n_e_n_t_i_d_1a253cb1a45b797697c3ceb0cba32caed5" kindref="member">Product</ref>;</highlight></codeline>
<codeline lineno="2764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2765"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2766"><highlight class="normal"></highlight></codeline>
<codeline lineno="2767"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>This<sp/>section<sp/>is<sp/>not<sp/>executed<sp/>for<sp/>topology<sp/>filters<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2768"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespacewaflib_1_1_tools_1_1tex_1a7638d43e3ce55594540ea118202a9a40" kindref="member">type</ref><sp/>!=<sp/><ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8ac2d5cb7ff54518b41af0cfca6da81be9" kindref="member">Type_kNotUsed</ref>)</highlight></codeline>
<codeline lineno="2769"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2770"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Initialize<sp/>the<sp/>pins<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2771"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>FilterInitializePins(filter);</highlight></codeline>
<codeline lineno="2772"><highlight class="normal"></highlight></codeline>
<codeline lineno="2773"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="2774"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2775"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>error;</highlight></codeline>
<codeline lineno="2776"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2777"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2778"><highlight class="normal"></highlight></codeline>
<codeline lineno="2779"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Close<sp/>the<sp/>filter<sp/>handle<sp/>for<sp/>now</highlight></codeline>
<codeline lineno="2780"><highlight class="comment"><sp/><sp/><sp/><sp/>*<sp/>It<sp/>will<sp/>be<sp/>opened<sp/>later<sp/>when<sp/>needed<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2781"><highlight class="normal"><sp/><sp/><sp/><sp/>FilterRelease(filter);</highlight></codeline>
<codeline lineno="2782"><highlight class="normal"></highlight></codeline>
<codeline lineno="2783"><highlight class="normal"><sp/><sp/><sp/><sp/>*error<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="2784"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="mm_8c_1a2719b8cbe8dc1a5064a418269c72e528" kindref="member">filter</ref>;</highlight></codeline>
<codeline lineno="2785"><highlight class="normal"></highlight></codeline>
<codeline lineno="2786"><highlight class="normal">error:</highlight></codeline>
<codeline lineno="2787"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;FilterNew:<sp/>Error<sp/>%d\n&quot;</highlight><highlight class="normal">,<sp/>result));</highlight></codeline>
<codeline lineno="2788"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="2789"><highlight class="comment"><sp/><sp/><sp/><sp/>Error<sp/>cleanup</highlight></codeline>
<codeline lineno="2790"><highlight class="comment"><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2791"><highlight class="normal"><sp/><sp/><sp/><sp/>FilterFree(filter);</highlight></codeline>
<codeline lineno="2792"><highlight class="normal"></highlight></codeline>
<codeline lineno="2793"><highlight class="normal"><sp/><sp/><sp/><sp/>*error<sp/>=<sp/>result;</highlight></codeline>
<codeline lineno="2794"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="2795"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2796"><highlight class="normal"></highlight></codeline>
<codeline lineno="2800"><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>FilterAddRef(<sp/><ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/>filter<sp/>)</highlight></codeline>
<codeline lineno="2801"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2802"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(filter<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="2803"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2804"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a7d9dcc84bbd2a8220c4e4ed6dae36181" kindref="member">filterRefCount</ref>++;</highlight></codeline>
<codeline lineno="2805"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2806"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2807"><highlight class="normal"></highlight></codeline>
<codeline lineno="2808"><highlight class="normal"></highlight></codeline>
<codeline lineno="2813"><highlight class="normal"><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>FilterInitializePins(<sp/><ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/>filter<sp/>)</highlight></codeline>
<codeline lineno="2814"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2815"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="2816"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>pinId;</highlight></codeline>
<codeline lineno="2817"><highlight class="normal"></highlight></codeline>
<codeline lineno="2818"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1a65b71d52a0990fdb97201d0cea3f05f1" kindref="member">streamingType</ref><sp/>==<sp/><ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8ac2d5cb7ff54518b41af0cfca6da81be9" kindref="member">Type_kNotUsed</ref>)</highlight></codeline>
<codeline lineno="2819"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="2820"><highlight class="normal"></highlight></codeline>
<codeline lineno="2821"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1abe74b1bbe62a54025b7c05bd8519d19f" kindref="member">pins</ref><sp/>!=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="2822"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="2823"><highlight class="normal"></highlight></codeline>
<codeline lineno="2824"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Allocate<sp/>pointer<sp/>array<sp/>to<sp/>hold<sp/>the<sp/>pins<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2825"><highlight class="normal"><sp/><sp/><sp/><sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1abe74b1bbe62a54025b7c05bd8519d19f" kindref="member">pins</ref><sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>**)<ref refid="pa__util_8h_1aa614f193aff12744a6ab90a9eb3128f0" kindref="member">PaUtil_AllocateMemory</ref>(<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*)<sp/>*<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1afd1955556211487bb56538d548778e23" kindref="member">pinCount</ref><sp/>);</highlight></codeline>
<codeline lineno="2826"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>!filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1abe74b1bbe62a54025b7c05bd8519d19f" kindref="member">pins</ref><sp/>)</highlight></codeline>
<codeline lineno="2827"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2828"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="2829"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="2830"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2831"><highlight class="normal"></highlight></codeline>
<codeline lineno="2832"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Create<sp/>all<sp/>the<sp/>pins<sp/>we<sp/>can<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2833"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(pinId<sp/>=<sp/>0;<sp/>pinId<sp/>&lt;<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1afd1955556211487bb56538d548778e23" kindref="member">pinCount</ref>;<sp/>pinId++)</highlight></codeline>
<codeline lineno="2834"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2835"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Create<sp/>the<sp/>pin<sp/>with<sp/>this<sp/>Id<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2836"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>newPin;</highlight></codeline>
<codeline lineno="2837"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newPin<sp/>=<sp/>PinNew(filter,<sp/>pinId,<sp/>&amp;result);</highlight></codeline>
<codeline lineno="2838"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>result<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref><sp/>)</highlight></codeline>
<codeline lineno="2839"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="2840"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>newPin<sp/>!=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>)</highlight></codeline>
<codeline lineno="2841"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2842"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1abe74b1bbe62a54025b7c05bd8519d19f" kindref="member">pins</ref>[pinId]<sp/>=<sp/>newPin;</highlight></codeline>
<codeline lineno="2843"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a5c441f64352697c820c2b296979e984b" kindref="member">validPinCount</ref>;</highlight></codeline>
<codeline lineno="2844"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2845"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2846"><highlight class="normal"></highlight></codeline>
<codeline lineno="2847"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a5c441f64352697c820c2b296979e984b" kindref="member">validPinCount</ref><sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="2848"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2849"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a467dac712e45745d8b0d8cd429fd1a01" kindref="member">paDeviceUnavailable</ref>;</highlight></codeline>
<codeline lineno="2850"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="2851"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2852"><highlight class="normal"></highlight></codeline>
<codeline lineno="2853"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="2854"><highlight class="normal"></highlight></codeline>
<codeline lineno="2855"><highlight class="normal"><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>:</highlight></codeline>
<codeline lineno="2856"><highlight class="normal"></highlight></codeline>
<codeline lineno="2857"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1abe74b1bbe62a54025b7c05bd8519d19f" kindref="member">pins</ref>)</highlight></codeline>
<codeline lineno="2858"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2859"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(pinId<sp/>=<sp/>0;<sp/>pinId<sp/>&lt;<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1afd1955556211487bb56538d548778e23" kindref="member">pinCount</ref>;<sp/>++pinId)</highlight></codeline>
<codeline lineno="2860"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2861"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1abe74b1bbe62a54025b7c05bd8519d19f" kindref="member">pins</ref>[pinId])</highlight></codeline>
<codeline lineno="2862"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2863"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PinFree(filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1abe74b1bbe62a54025b7c05bd8519d19f" kindref="member">pins</ref>[pinId]);</highlight></codeline>
<codeline lineno="2864"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1abe74b1bbe62a54025b7c05bd8519d19f" kindref="member">pins</ref>[pinId]<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2865"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2866"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2867"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__util_8h_1a27a8f85d109600ef246e5c642c5c3cad" kindref="member">PaUtil_FreeMemory</ref>(<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1abe74b1bbe62a54025b7c05bd8519d19f" kindref="member">pins</ref><sp/>);</highlight></codeline>
<codeline lineno="2868"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1abe74b1bbe62a54025b7c05bd8519d19f" kindref="member">pins</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2869"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2870"><highlight class="normal"></highlight></codeline>
<codeline lineno="2871"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="2872"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2873"><highlight class="normal"></highlight></codeline>
<codeline lineno="2874"><highlight class="normal"></highlight></codeline>
<codeline lineno="2878"><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>FilterFree(<ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/>filter)</highlight></codeline>
<codeline lineno="2879"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2880"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="2881"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>filter<sp/>)</highlight></codeline>
<codeline lineno="2882"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2883"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(--filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a7d9dcc84bbd2a8220c4e4ed6dae36181" kindref="member">filterRefCount</ref><sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="2884"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2885"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Ok,<sp/>a<sp/>stream<sp/>has<sp/>a<sp/>ref<sp/>count<sp/>to<sp/>this<sp/>filter<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2886"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2887"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2888"><highlight class="normal"></highlight></codeline>
<codeline lineno="2889"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref><sp/>)</highlight></codeline>
<codeline lineno="2890"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2891"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FilterFree(filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref>);</highlight></codeline>
<codeline lineno="2892"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2893"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2894"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1abe74b1bbe62a54025b7c05bd8519d19f" kindref="member">pins</ref><sp/>)</highlight></codeline>
<codeline lineno="2895"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2896"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>pinId;</highlight></codeline>
<codeline lineno="2897"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(<sp/>pinId<sp/>=<sp/>0;<sp/>pinId<sp/>&lt;<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1afd1955556211487bb56538d548778e23" kindref="member">pinCount</ref>;<sp/>pinId++<sp/>)</highlight></codeline>
<codeline lineno="2898"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PinFree(filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1abe74b1bbe62a54025b7c05bd8519d19f" kindref="member">pins</ref>[pinId]);</highlight></codeline>
<codeline lineno="2899"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__util_8h_1a27a8f85d109600ef246e5c642c5c3cad" kindref="member">PaUtil_FreeMemory</ref>(<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1abe74b1bbe62a54025b7c05bd8519d19f" kindref="member">pins</ref><sp/>);</highlight></codeline>
<codeline lineno="2900"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1abe74b1bbe62a54025b7c05bd8519d19f" kindref="member">pins</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2901"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2902"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1acb2256419c942e072c17068bbe5dca8f" kindref="member">connections</ref><sp/>)</highlight></codeline>
<codeline lineno="2903"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2904"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__util_8h_1a27a8f85d109600ef246e5c642c5c3cad" kindref="member">PaUtil_FreeMemory</ref>(filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1acb2256419c942e072c17068bbe5dca8f" kindref="member">connections</ref>);</highlight></codeline>
<codeline lineno="2905"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1acb2256419c942e072c17068bbe5dca8f" kindref="member">connections</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2906"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2907"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a5e676e26c0e890e93bf501853e9b91fe" kindref="member">nodes</ref><sp/>)</highlight></codeline>
<codeline lineno="2908"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2909"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__util_8h_1a27a8f85d109600ef246e5c642c5c3cad" kindref="member">PaUtil_FreeMemory</ref>(filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a5e676e26c0e890e93bf501853e9b91fe" kindref="member">nodes</ref>);</highlight></codeline>
<codeline lineno="2910"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a5e676e26c0e890e93bf501853e9b91fe" kindref="member">nodes</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="2911"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2912"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref><sp/>)</highlight></codeline>
<codeline lineno="2913"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CloseHandle(<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref><sp/>);</highlight></codeline>
<codeline lineno="2914"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__util_8h_1a27a8f85d109600ef246e5c642c5c3cad" kindref="member">PaUtil_FreeMemory</ref>(<sp/>filter<sp/>);</highlight></codeline>
<codeline lineno="2915"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2916"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="2917"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2918"><highlight class="normal"></highlight></codeline>
<codeline lineno="2922"><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>FilterUse(<ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/>filter)</highlight></codeline>
<codeline lineno="2923"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2924"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(<sp/>filter<sp/>);</highlight></codeline>
<codeline lineno="2925"><highlight class="normal"></highlight></codeline>
<codeline lineno="2926"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="2927"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref><sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>)</highlight></codeline>
<codeline lineno="2928"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2929"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Open<sp/>the<sp/>filter<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2930"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref><sp/>=<sp/>CreateFileW(</highlight></codeline>
<codeline lineno="2931"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1aef789b50c6cf1e05c5c6e1e18e2a233c" kindref="member">filterPath</ref>,</highlight></codeline>
<codeline lineno="2932"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GENERIC_READ<sp/>|<sp/>GENERIC_WRITE,</highlight></codeline>
<codeline lineno="2933"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0,</highlight></codeline>
<codeline lineno="2934"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,</highlight></codeline>
<codeline lineno="2935"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>OPEN_EXISTING,</highlight></codeline>
<codeline lineno="2936"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FILE_ATTRIBUTE_NORMAL<sp/>|<sp/>FILE_FLAG_OVERLAPPED,</highlight></codeline>
<codeline lineno="2937"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="2938"><highlight class="normal"></highlight></codeline>
<codeline lineno="2939"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref><sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>)</highlight></codeline>
<codeline lineno="2940"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2941"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a467dac712e45745d8b0d8cd429fd1a01" kindref="member">paDeviceUnavailable</ref>;</highlight></codeline>
<codeline lineno="2942"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2943"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2944"><highlight class="normal"><sp/><sp/><sp/><sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a044b9a83d9af60246e4f1696182ef1b8" kindref="member">usageCount</ref>++;</highlight></codeline>
<codeline lineno="2945"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="2946"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="2947"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2948"><highlight class="normal"></highlight></codeline>
<codeline lineno="2952"><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>FilterRelease(<ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/>filter)</highlight></codeline>
<codeline lineno="2953"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2954"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(<sp/>filter<sp/>);</highlight></codeline>
<codeline lineno="2955"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a044b9a83d9af60246e4f1696182ef1b8" kindref="member">usageCount</ref><sp/>&gt;<sp/>0<sp/>);</highlight></codeline>
<codeline lineno="2956"><highlight class="normal"></highlight></codeline>
<codeline lineno="2957"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="2958"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>first<sp/>topology<sp/>filter,<sp/>if<sp/>used<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2959"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref><sp/>!=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>&amp;&amp;<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref><sp/>!=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="2960"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2961"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FilterRelease(filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref>);</highlight></codeline>
<codeline lineno="2962"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2963"><highlight class="normal"></highlight></codeline>
<codeline lineno="2964"><highlight class="normal"><sp/><sp/><sp/><sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a044b9a83d9af60246e4f1696182ef1b8" kindref="member">usageCount</ref>--;</highlight></codeline>
<codeline lineno="2965"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a044b9a83d9af60246e4f1696182ef1b8" kindref="member">usageCount</ref><sp/>==<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="2966"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2967"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref><sp/>!=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>)</highlight></codeline>
<codeline lineno="2968"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2969"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CloseHandle(<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref><sp/>);</highlight></codeline>
<codeline lineno="2970"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref><sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="2971"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2972"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2973"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="2974"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2975"><highlight class="normal"></highlight></codeline>
<codeline lineno="2979"><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>FilterCreatePin(<ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/>filter,</highlight></codeline>
<codeline lineno="2980"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>pinId,</highlight></codeline>
<codeline lineno="2981"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>WAVEFORMATEX*<sp/>wfex,</highlight></codeline>
<codeline lineno="2982"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref>*<sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>)</highlight></codeline>
<codeline lineno="2983"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2984"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="2985"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pin<sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="2986"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(<sp/>filter<sp/>);</highlight></codeline>
<codeline lineno="2987"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(<sp/>pinId<sp/>&lt;<sp/>filter-&gt;pinCount<sp/>);</highlight></codeline>
<codeline lineno="2988"><highlight class="normal"><sp/><sp/><sp/><sp/>pin<sp/>=<sp/>filter-&gt;<ref refid="struct_____pa_win_wdm_filter_1abe74b1bbe62a54025b7c05bd8519d19f" kindref="member">pins</ref>[pinId];</highlight></codeline>
<codeline lineno="2989"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(<sp/>pin<sp/>);</highlight></codeline>
<codeline lineno="2990"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>PinSetFormat(pin,wfex);</highlight></codeline>
<codeline lineno="2991"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>result<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref><sp/>)</highlight></codeline>
<codeline lineno="2992"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2993"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>PinInstantiate(pin);</highlight></codeline>
<codeline lineno="2994"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2995"><highlight class="normal"><sp/><sp/><sp/><sp/>*error<sp/>=<sp/>result;</highlight></codeline>
<codeline lineno="2996"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref><sp/>?<sp/>pin<sp/>:<sp/>0;</highlight></codeline>
<codeline lineno="2997"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2998"><highlight class="normal"></highlight></codeline>
<codeline lineno="2999"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">wchar_t</highlight><highlight class="normal"><sp/>kUsbPrefix[]<sp/>=<sp/>L</highlight><highlight class="stringliteral">&quot;\\\\?\\USB&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3000"><highlight class="normal"></highlight></codeline>
<codeline lineno="3001"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref><sp/>IsUSBDevice(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">wchar_t</highlight><highlight class="normal">*<sp/>devicePath)</highlight></codeline>
<codeline lineno="3002"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3003"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Alex<sp/>Lessard<sp/>pointed<sp/>out<sp/>that<sp/>different<sp/>devices<sp/>might<sp/>present<sp/>the<sp/>device<sp/>path<sp/>with</highlight></codeline>
<codeline lineno="3004"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lower<sp/>case<sp/>letters.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3005"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(_wcsnicmp(devicePath,<sp/>kUsbPrefix,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(kUsbPrefix)/</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(kUsbPrefix[0])<sp/>)<sp/>==<sp/>0);</highlight></codeline>
<codeline lineno="3006"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3007"><highlight class="normal"></highlight></codeline>
<codeline lineno="3008"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>This<sp/>should<sp/>make<sp/>it<sp/>more<sp/>language<sp/>tolerant,<sp/>I<sp/>hope...<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3009"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">wchar_t</highlight><highlight class="normal"><sp/>kUsbNamePrefix[]<sp/>=<sp/>L</highlight><highlight class="stringliteral">&quot;USB<sp/>Audio&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3010"><highlight class="normal"></highlight></codeline>
<codeline lineno="3011"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref><sp/>IsNameUSBAudioDevice(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">wchar_t</highlight><highlight class="normal">*<sp/><ref refid="struct_____pa_win_wdm_muxed_input_1a07079d0c8604c5a64fc338263c5e2468" kindref="member">friendlyName</ref>)</highlight></codeline>
<codeline lineno="3012"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3013"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(_wcsnicmp(friendlyName,<sp/>kUsbNamePrefix,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(kUsbNamePrefix)/</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(kUsbNamePrefix[0]))<sp/>==<sp/>0);</highlight></codeline>
<codeline lineno="3014"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3015"><highlight class="normal"></highlight></codeline>
<codeline lineno="3016" refid="pa__win__wdmks_8c_1a05a5c67ee1c75fcecd2e93c969ac3fcb" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">enum</highlight><highlight class="normal"><sp/><ref refid="pa__win__wdmks_8c_1a05a5c67ee1c75fcecd2e93c969ac3fcb" kindref="member">_tag_EAlias</ref></highlight></codeline>
<codeline lineno="3017"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3018" refid="pa__win__wdmks_8c_1a05a5c67ee1c75fcecd2e93c969ac3fcbae12bf2522f9b69283147ea566401be2b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a05a5c67ee1c75fcecd2e93c969ac3fcbae12bf2522f9b69283147ea566401be2b" kindref="member">Alias_kRender</ref><sp/><sp/><sp/>=<sp/>(1&lt;&lt;0),</highlight></codeline>
<codeline lineno="3019" refid="pa__win__wdmks_8c_1a05a5c67ee1c75fcecd2e93c969ac3fcba45df6c4cd301906a68e4ec8ff6b023ac" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a05a5c67ee1c75fcecd2e93c969ac3fcba45df6c4cd301906a68e4ec8ff6b023ac" kindref="member">Alias_kCapture</ref><sp/><sp/>=<sp/>(1&lt;&lt;1),</highlight></codeline>
<codeline lineno="3020" refid="pa__win__wdmks_8c_1a05a5c67ee1c75fcecd2e93c969ac3fcba2cb0d7e662be977a49066c7167073fdb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a05a5c67ee1c75fcecd2e93c969ac3fcba2cb0d7e662be977a49066c7167073fdb" kindref="member">Alias_kRealtime</ref><sp/>=<sp/>(1&lt;&lt;2),</highlight></codeline>
<codeline lineno="3021"><highlight class="normal">}<sp/><ref refid="pa__win__wdmks_8c_1a07fb727c6849d06bc5c21d7cfc050f6e" kindref="member">EAlias</ref>;</highlight></codeline>
<codeline lineno="3022"><highlight class="normal"></highlight></codeline>
<codeline lineno="3023"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Trim<sp/>whitespace<sp/>from<sp/>string<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3024"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>TrimString(</highlight><highlight class="keywordtype">wchar_t</highlight><highlight class="normal">*<sp/><ref refid="sndfile__save_8m_1a4b99ff73a8a869319570237b5c57ab03" kindref="member">str</ref>,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="test__lib_f_l_a_c_2format_8c_1ac94dc16b22556ba5fa815655f27442da" kindref="member">length</ref>)</highlight></codeline>
<codeline lineno="3025"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3026"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">wchar_t</highlight><highlight class="normal">*<sp/><ref refid="lib_2expat_8h_1a755339d27872b13735c2cab829e47157" kindref="member">s</ref><sp/>=<sp/><ref refid="sndfile__save_8m_1a4b99ff73a8a869319570237b5c57ab03" kindref="member">str</ref>;</highlight></codeline>
<codeline lineno="3027"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">wchar_t</highlight><highlight class="normal">*<sp/><ref refid="namespacelv2docgen_1a4405dc5a2509537b9ff3b4de10bc28d6" kindref="member">e</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3028"><highlight class="normal"></highlight></codeline>
<codeline lineno="3029"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Find<sp/>start<sp/>of<sp/>string<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3030"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(iswspace(*s))<sp/>++<ref refid="lib_2expat_8h_1a755339d27872b13735c2cab829e47157" kindref="member">s</ref>;</highlight></codeline>
<codeline lineno="3031"><highlight class="normal"><sp/><sp/><sp/><sp/>e=s+<ref refid="_compare_audio_command_8cpp_1abd8bbcfabb3ddef2ccaafb9928a37b95" kindref="member">min</ref>(length,wcslen(s))-1;</highlight></codeline>
<codeline lineno="3032"><highlight class="normal"></highlight></codeline>
<codeline lineno="3033"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Find<sp/>end<sp/>of<sp/>string<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3034"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(e&gt;s<sp/>&amp;&amp;<sp/>iswspace(*e))<sp/>--<ref refid="namespacelv2docgen_1a4405dc5a2509537b9ff3b4de10bc28d6" kindref="member">e</ref>;</highlight></codeline>
<codeline lineno="3035"><highlight class="normal"><sp/><sp/><sp/><sp/>++<ref refid="namespacelv2docgen_1a4405dc5a2509537b9ff3b4de10bc28d6" kindref="member">e</ref>;</highlight></codeline>
<codeline lineno="3036"><highlight class="normal"></highlight></codeline>
<codeline lineno="3037"><highlight class="normal"><sp/><sp/><sp/><sp/>length<sp/>=<sp/>e<sp/>-<sp/><ref refid="lib_2expat_8h_1a755339d27872b13735c2cab829e47157" kindref="member">s</ref>;</highlight></codeline>
<codeline lineno="3038"><highlight class="normal"><sp/><sp/><sp/><sp/>memmove(str,<sp/>s,<sp/>length<sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">wchar_t</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="3039"><highlight class="normal"><sp/><sp/><sp/><sp/>str[<ref refid="test__lib_f_l_a_c_2format_8c_1ac94dc16b22556ba5fa815655f27442da" kindref="member">length</ref>]<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3040"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3041"><highlight class="normal"></highlight></codeline>
<codeline lineno="3052"><highlight class="comment">//PaError<sp/>BuildFilterList(<sp/>PaWinWdmHostApiRepresentation*<sp/>wdmHostApi,<sp/>int*<sp/>noOfPaDevices<sp/>)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3053"><highlight class="normal"><ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>**<sp/>BuildFilterList(<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">*<sp/>pFilterCount,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">*<sp/>pNoOfPaDevices,<sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref>*<sp/>pResult<sp/>)</highlight></codeline>
<codeline lineno="3054"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3055"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>**<sp/>ppFilters<sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="3056"><highlight class="normal"><sp/><sp/><sp/><sp/>HDEVINFO<sp/>handle<sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="3057"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>device;</highlight></codeline>
<codeline lineno="3058"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>invalidDevices;</highlight></codeline>
<codeline lineno="3059"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>slot;</highlight></codeline>
<codeline lineno="3060"><highlight class="normal"><sp/><sp/><sp/><sp/>SP_DEVICE_INTERFACE_DATA<sp/>interfaceData;</highlight></codeline>
<codeline lineno="3061"><highlight class="normal"><sp/><sp/><sp/><sp/>SP_DEVICE_INTERFACE_DATA<sp/>aliasData;</highlight></codeline>
<codeline lineno="3062"><highlight class="normal"><sp/><sp/><sp/><sp/>SP_DEVINFO_DATA<sp/>devInfoData;</highlight></codeline>
<codeline lineno="3063"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>noError;</highlight></codeline>
<codeline lineno="3064"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>sizeInterface<sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(SP_DEVICE_INTERFACE_DETAIL_DATA)<sp/>+<sp/>(MAX_PATH<sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(WCHAR));</highlight></codeline>
<codeline lineno="3065"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>interfaceDetailsArray[</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(SP_DEVICE_INTERFACE_DETAIL_DATA)<sp/>+<sp/>(MAX_PATH<sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(WCHAR))];</highlight></codeline>
<codeline lineno="3066"><highlight class="normal"><sp/><sp/><sp/><sp/>SP_DEVICE_INTERFACE_DETAIL_DATA_W*<sp/>devInterfaceDetails<sp/>=<sp/>(SP_DEVICE_INTERFACE_DETAIL_DATA_W*)interfaceDetailsArray;</highlight></codeline>
<codeline lineno="3067"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>GUID*<sp/>category<sp/>=<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>GUID*)&amp;<ref refid="ksmedia_8h_1ad787615e81b2bbd8e6943c94068450c9" kindref="member">KSCATEGORY_AUDIO</ref>;</highlight></codeline>
<codeline lineno="3068"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>GUID*<sp/>alias_render<sp/>=<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>GUID*)&amp;<ref refid="ks_8h_1a99d788bb4164073d64031167c806baa9" kindref="member">KSCATEGORY_RENDER</ref>;</highlight></codeline>
<codeline lineno="3069"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>GUID*<sp/>alias_capture<sp/>=<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>GUID*)&amp;<ref refid="ks_8h_1a88209900617a0ed0ccdc20bec2b22780" kindref="member">KSCATEGORY_CAPTURE</ref>;</highlight></codeline>
<codeline lineno="3070"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>GUID*<sp/>category_realtime<sp/>=<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>GUID*)&amp;<ref refid="ksmedia_8h_1a3358a37bda9bd8dcc511e1510a03d14b" kindref="member">KSCATEGORY_REALTIME</ref>;</highlight></codeline>
<codeline lineno="3071"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref><sp/>aliasFlags;</highlight></codeline>
<codeline lineno="3072"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8" kindref="member">PaWDMKSType</ref><sp/>streamingType;</highlight></codeline>
<codeline lineno="3073"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>filterCount<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3074"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>noOfPaDevices<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3075"><highlight class="normal"></highlight></codeline>
<codeline lineno="3076"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="3077"><highlight class="normal"></highlight></codeline>
<codeline lineno="3078"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(pFilterCount<sp/>!=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="3079"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(pNoOfPaDevices<sp/>!=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="3080"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(pResult<sp/>!=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="3081"><highlight class="normal"></highlight></codeline>
<codeline lineno="3082"><highlight class="normal"><sp/><sp/><sp/><sp/>devInterfaceDetails-&gt;cbSize<sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(SP_DEVICE_INTERFACE_DETAIL_DATA_W);</highlight></codeline>
<codeline lineno="3083"><highlight class="normal"><sp/><sp/><sp/><sp/>*pFilterCount<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3084"><highlight class="normal"><sp/><sp/><sp/><sp/>*pNoOfPaDevices<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3085"><highlight class="normal"></highlight></codeline>
<codeline lineno="3086"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Open<sp/>a<sp/>handle<sp/>to<sp/>search<sp/>for<sp/>devices<sp/>(filters)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3087"><highlight class="normal"><sp/><sp/><sp/><sp/>handle<sp/>=<sp/>SetupDiGetClassDevs(category,<ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,DIGCF_PRESENT<sp/>|<sp/>DIGCF_DEVICEINTERFACE);</highlight></codeline>
<codeline lineno="3088"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>handle<sp/>==<sp/>INVALID_HANDLE_VALUE<sp/>)</highlight></codeline>
<codeline lineno="3089"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3090"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pResult<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a47726071f5dccc656d5e3ff20bbfc5a0" kindref="member">paUnanticipatedHostError</ref>;</highlight></codeline>
<codeline lineno="3091"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="3092"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3093"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Setup<sp/>called\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="3094"><highlight class="normal"></highlight></codeline>
<codeline lineno="3095"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>First<sp/>let&apos;s<sp/>count<sp/>the<sp/>number<sp/>of<sp/>devices<sp/>so<sp/>we<sp/>can<sp/>allocate<sp/>a<sp/>list<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3096"><highlight class="normal"><sp/><sp/><sp/><sp/>invalidDevices<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3097"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(<sp/>device<sp/>=<sp/>0;;device++<sp/>)</highlight></codeline>
<codeline lineno="3098"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3099"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>interfaceData.cbSize<sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(SP_DEVICE_INTERFACE_DATA);</highlight></codeline>
<codeline lineno="3100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>interfaceData.Reserved<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>aliasData.cbSize<sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(SP_DEVICE_INTERFACE_DATA);</highlight></codeline>
<codeline lineno="3102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>aliasData.Reserved<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>noError<sp/>=<sp/>SetupDiEnumDeviceInterfaces(handle,<ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,category,device,&amp;interfaceData);</highlight></codeline>
<codeline lineno="3104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Enum<sp/>called\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="3105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>!noError<sp/>)</highlight></codeline>
<codeline lineno="3106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;<sp/></highlight><highlight class="comment">/*<sp/>No<sp/>more<sp/>devices<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3107"><highlight class="normal"></highlight></codeline>
<codeline lineno="3108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>this<sp/>one<sp/>has<sp/>the<sp/>render<sp/>or<sp/>capture<sp/>alias<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>aliasFlags<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>noError<sp/>=<sp/>SetupDiGetDeviceInterfaceAlias(handle,&amp;interfaceData,alias_render,&amp;aliasData);</highlight></codeline>
<codeline lineno="3111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;noError<sp/>=<sp/>%d\n&quot;</highlight><highlight class="normal">,noError));</highlight></codeline>
<codeline lineno="3112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(noError)</highlight></codeline>
<codeline lineno="3113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(aliasData.Flags<sp/>&amp;&amp;<sp/>(!(aliasData.Flags<sp/>&amp;<sp/>SPINT_REMOVED)))</highlight></codeline>
<codeline lineno="3115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Device<sp/>%d<sp/>has<sp/>render<sp/>alias\n&quot;</highlight><highlight class="normal">,device));</highlight></codeline>
<codeline lineno="3117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>aliasFlags<sp/>|=<sp/><ref refid="pa__win__wdmks_8c_1a05a5c67ee1c75fcecd2e93c969ac3fcbae12bf2522f9b69283147ea566401be2b" kindref="member">Alias_kRender</ref>;<sp/></highlight><highlight class="comment">/*<sp/>Has<sp/>render<sp/>alias<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Device<sp/>%d<sp/>has<sp/>no<sp/>render<sp/>alias\n&quot;</highlight><highlight class="normal">,device));</highlight></codeline>
<codeline lineno="3122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>noError<sp/>=<sp/>SetupDiGetDeviceInterfaceAlias(handle,&amp;interfaceData,alias_capture,&amp;aliasData);</highlight></codeline>
<codeline lineno="3125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(noError)</highlight></codeline>
<codeline lineno="3126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(aliasData.Flags<sp/>&amp;&amp;<sp/>(!(aliasData.Flags<sp/>&amp;<sp/>SPINT_REMOVED)))</highlight></codeline>
<codeline lineno="3128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Device<sp/>%d<sp/>has<sp/>capture<sp/>alias\n&quot;</highlight><highlight class="normal">,device));</highlight></codeline>
<codeline lineno="3130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>aliasFlags<sp/>|=<sp/><ref refid="pa__win__wdmks_8c_1a05a5c67ee1c75fcecd2e93c969ac3fcba45df6c4cd301906a68e4ec8ff6b023ac" kindref="member">Alias_kCapture</ref>;<sp/></highlight><highlight class="comment">/*<sp/>Has<sp/>capture<sp/>alias<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Device<sp/>%d<sp/>has<sp/>no<sp/>capture<sp/>alias\n&quot;</highlight><highlight class="normal">,device));</highlight></codeline>
<codeline lineno="3135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!aliasFlags)</highlight></codeline>
<codeline lineno="3138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>invalidDevices++;<sp/></highlight><highlight class="comment">/*<sp/>This<sp/>was<sp/>not<sp/>a<sp/>valid<sp/>capture<sp/>or<sp/>render<sp/>audio<sp/>device<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3139"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3140"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Remember<sp/>how<sp/>many<sp/>there<sp/>are<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3141"><highlight class="normal"><sp/><sp/><sp/><sp/>filterCount<sp/>=<sp/>device-invalidDevices;</highlight></codeline>
<codeline lineno="3142"><highlight class="normal"></highlight></codeline>
<codeline lineno="3143"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Interfaces<sp/>found:<sp/>%d\n&quot;</highlight><highlight class="normal">,device-invalidDevices));</highlight></codeline>
<codeline lineno="3144"><highlight class="normal"></highlight></codeline>
<codeline lineno="3145"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Now<sp/>allocate<sp/>the<sp/>list<sp/>of<sp/>pointers<sp/>to<sp/>devices<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3146"><highlight class="normal"><sp/><sp/><sp/><sp/>ppFilters<sp/><sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>**)<ref refid="pa__util_8h_1aa614f193aff12744a6ab90a9eb3128f0" kindref="member">PaUtil_AllocateMemory</ref>(<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*)<sp/>*<sp/>filterCount);</highlight></codeline>
<codeline lineno="3147"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>ppFilters<sp/>==<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="3148"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(handle<sp/>!=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="3150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SetupDiDestroyDeviceInfoList(handle);</highlight></codeline>
<codeline lineno="3151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pResult<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="3152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="3153"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3154"><highlight class="normal"></highlight></codeline>
<codeline lineno="3155"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Now<sp/>create<sp/>filter<sp/>objects<sp/>for<sp/>each<sp/>interface<sp/>found<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3156"><highlight class="normal"><sp/><sp/><sp/><sp/>slot<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3157"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(<sp/>device<sp/>=<sp/>0;;device++<sp/>)</highlight></codeline>
<codeline lineno="3158"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>interfaceData.cbSize<sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(SP_DEVICE_INTERFACE_DATA);</highlight></codeline>
<codeline lineno="3160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>interfaceData.Reserved<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>aliasData.cbSize<sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(SP_DEVICE_INTERFACE_DATA);</highlight></codeline>
<codeline lineno="3162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>aliasData.Reserved<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>devInfoData.cbSize<sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(SP_DEVINFO_DATA);</highlight></codeline>
<codeline lineno="3164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>devInfoData.Reserved<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>streamingType<sp/>=<sp/><ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8ae39673a93d503c16300f190ed31bb349" kindref="member">Type_kWaveCyclic</ref>;</highlight></codeline>
<codeline lineno="3166"><highlight class="normal"></highlight></codeline>
<codeline lineno="3167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>noError<sp/>=<sp/>SetupDiEnumDeviceInterfaces(handle,<ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,category,device,&amp;interfaceData);</highlight></codeline>
<codeline lineno="3168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>!noError<sp/>)</highlight></codeline>
<codeline lineno="3169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;<sp/></highlight><highlight class="comment">/*<sp/>No<sp/>more<sp/>devices<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3170"><highlight class="normal"></highlight></codeline>
<codeline lineno="3171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>this<sp/>one<sp/>has<sp/>the<sp/>render<sp/>or<sp/>capture<sp/>alias<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>aliasFlags<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>noError<sp/>=<sp/>SetupDiGetDeviceInterfaceAlias(handle,&amp;interfaceData,alias_render,&amp;aliasData);</highlight></codeline>
<codeline lineno="3174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(noError)</highlight></codeline>
<codeline lineno="3175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(aliasData.Flags<sp/>&amp;&amp;<sp/>(!(aliasData.Flags<sp/>&amp;<sp/>SPINT_REMOVED)))</highlight></codeline>
<codeline lineno="3177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Device<sp/>%d<sp/>has<sp/>render<sp/>alias\n&quot;</highlight><highlight class="normal">,device));</highlight></codeline>
<codeline lineno="3179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>aliasFlags<sp/>|=<sp/><ref refid="pa__win__wdmks_8c_1a05a5c67ee1c75fcecd2e93c969ac3fcbae12bf2522f9b69283147ea566401be2b" kindref="member">Alias_kRender</ref>;<sp/></highlight><highlight class="comment">/*<sp/>Has<sp/>render<sp/>alias<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>noError<sp/>=<sp/>SetupDiGetDeviceInterfaceAlias(handle,&amp;interfaceData,alias_capture,&amp;aliasData);</highlight></codeline>
<codeline lineno="3183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(noError)</highlight></codeline>
<codeline lineno="3184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(aliasData.Flags<sp/>&amp;&amp;<sp/>(!(aliasData.Flags<sp/>&amp;<sp/>SPINT_REMOVED)))</highlight></codeline>
<codeline lineno="3186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Device<sp/>%d<sp/>has<sp/>capture<sp/>alias\n&quot;</highlight><highlight class="normal">,device));</highlight></codeline>
<codeline lineno="3188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>aliasFlags<sp/>|=<sp/><ref refid="pa__win__wdmks_8c_1a05a5c67ee1c75fcecd2e93c969ac3fcba45df6c4cd301906a68e4ec8ff6b023ac" kindref="member">Alias_kCapture</ref>;<sp/></highlight><highlight class="comment">/*<sp/>Has<sp/>capture<sp/>alias<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!aliasFlags)</highlight></codeline>
<codeline lineno="3192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;<sp/></highlight><highlight class="comment">/*<sp/>This<sp/>was<sp/>not<sp/>a<sp/>valid<sp/>capture<sp/>or<sp/>render<sp/>audio<sp/>device<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>if<sp/>filter<sp/>is<sp/>WaveRT,<sp/>if<sp/>not<sp/>it<sp/>is<sp/>a<sp/>WaveCyclic<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>noError<sp/>=<sp/>SetupDiGetDeviceInterfaceAlias(handle,&amp;interfaceData,category_realtime,&amp;aliasData);</highlight></codeline>
<codeline lineno="3199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(noError)</highlight></codeline>
<codeline lineno="3200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Device<sp/>%d<sp/>has<sp/>realtime<sp/>alias\n&quot;</highlight><highlight class="normal">,device));</highlight></codeline>
<codeline lineno="3202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>aliasFlags<sp/>|=<sp/><ref refid="pa__win__wdmks_8c_1a05a5c67ee1c75fcecd2e93c969ac3fcba2cb0d7e662be977a49066c7167073fdb" kindref="member">Alias_kRealtime</ref>;</highlight></codeline>
<codeline lineno="3203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>streamingType<sp/>=<sp/><ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8a2af26020e0cc2ba29abf9235c1de3893" kindref="member">Type_kWaveRT</ref>;</highlight></codeline>
<codeline lineno="3204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3206"><highlight class="normal"></highlight></codeline>
<codeline lineno="3207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>noError<sp/>=<sp/>SetupDiGetDeviceInterfaceDetailW(handle,&amp;interfaceData,devInterfaceDetails,sizeInterface,<ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,&amp;devInfoData);</highlight></codeline>
<codeline lineno="3208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>noError<sp/>)</highlight></codeline>
<codeline lineno="3209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref><sp/><ref refid="namespacewaflib_1_1_tools_1_1tex_1a7638d43e3ce55594540ea118202a9a40" kindref="member">type</ref>;</highlight></codeline>
<codeline lineno="3211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>WCHAR<sp/><ref refid="struct_____pa_win_wdm_muxed_input_1a07079d0c8604c5a64fc338263c5e2468" kindref="member">friendlyName</ref>[MAX_PATH]<sp/>=<sp/>{0};</highlight></codeline>
<codeline lineno="3212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref><sp/>sizeFriendlyName;</highlight></codeline>
<codeline lineno="3213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/>newFilter<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3214"><highlight class="normal"></highlight></codeline>
<codeline lineno="3215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="3216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Try<sp/>to<sp/>get<sp/>the<sp/>&quot;friendly<sp/>name&quot;<sp/>for<sp/>this<sp/>interface<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sizeFriendlyName<sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_____pa_win_wdm_muxed_input_1a07079d0c8604c5a64fc338263c5e2468" kindref="member">friendlyName</ref>);</highlight></codeline>
<codeline lineno="3218"><highlight class="normal"></highlight></codeline>
<codeline lineno="3219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(IsEarlierThanVista()<sp/>&amp;&amp;<sp/>IsUSBDevice(devInterfaceDetails-&gt;DevicePath))</highlight></codeline>
<codeline lineno="3220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>XP<sp/>and<sp/>USB<sp/>audio<sp/>device<sp/>needs<sp/>to<sp/>look<sp/>elsewhere,<sp/>otherwise<sp/>it&apos;ll<sp/>only<sp/>be<sp/>a<sp/>&quot;USB<sp/>Audio<sp/>Device&quot;.<sp/>Not</highlight></codeline>
<codeline lineno="3222"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>very<sp/>literate.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!SetupDiGetDeviceRegistryPropertyW(handle,</highlight></codeline>
<codeline lineno="3224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;devInfoData,</highlight></codeline>
<codeline lineno="3225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SPDRP_LOCATION_INFORMATION,<sp/></highlight></codeline>
<codeline lineno="3226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;type,</highlight></codeline>
<codeline lineno="3227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="mapinls_8h_1a4ae1dab0fb4b072a66584546209e7d58" kindref="member">BYTE</ref>*)friendlyName,</highlight></codeline>
<codeline lineno="3228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(friendlyName),</highlight></codeline>
<codeline lineno="3229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>))</highlight></codeline>
<codeline lineno="3230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>friendlyName[0]<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3234"><highlight class="normal"></highlight></codeline>
<codeline lineno="3235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(friendlyName[0]<sp/>==<sp/>0<sp/>||<sp/>IsNameUSBAudioDevice(friendlyName))</highlight></codeline>
<codeline lineno="3236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Fix<sp/>contributed<sp/>by<sp/>Ben<sp/>Allison</highlight></codeline>
<codeline lineno="3238"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>Removed<sp/>KEY_SET_VALUE<sp/>from<sp/>flags<sp/>on<sp/>following<sp/>call</highlight></codeline>
<codeline lineno="3239"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>as<sp/>its<sp/>causes<sp/>failure<sp/>when<sp/>running<sp/>without<sp/>admin<sp/>rights</highlight></codeline>
<codeline lineno="3240"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>and<sp/>it<sp/>was<sp/>not<sp/>required<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>HKEY<sp/>hkey=SetupDiOpenDeviceInterfaceRegKey(handle,&amp;interfaceData,0,KEY_QUERY_VALUE);</highlight></codeline>
<codeline lineno="3242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(hkey!=INVALID_HANDLE_VALUE)</highlight></codeline>
<codeline lineno="3243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>noError<sp/>=<sp/>RegQueryValueExW(hkey,L</highlight><highlight class="stringliteral">&quot;FriendlyName&quot;</highlight><highlight class="normal">,0,&amp;type,(<ref refid="mapinls_8h_1a4ae1dab0fb4b072a66584546209e7d58" kindref="member">BYTE</ref>*)friendlyName,&amp;sizeFriendlyName);</highlight></codeline>
<codeline lineno="3245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>noError<sp/>==<sp/>ERROR_SUCCESS<sp/>)</highlight></codeline>
<codeline lineno="3246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Interface<sp/>%d,<sp/>Name:<sp/>%s\n&quot;</highlight><highlight class="normal">,device,friendlyName));</highlight></codeline>
<codeline lineno="3248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>RegCloseKey(hkey);</highlight></codeline>
<codeline lineno="3249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>friendlyName[0]<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3256"><highlight class="normal"></highlight></codeline>
<codeline lineno="3257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TrimString(friendlyName,<sp/>sizeFriendlyName);</highlight></codeline>
<codeline lineno="3258"><highlight class="normal"></highlight></codeline>
<codeline lineno="3259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newFilter<sp/>=<sp/>FilterNew(streamingType,<sp/></highlight></codeline>
<codeline lineno="3260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>devInfoData.DevInst,</highlight></codeline>
<codeline lineno="3261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>devInterfaceDetails-&gt;DevicePath,</highlight></codeline>
<codeline lineno="3262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>friendlyName,</highlight></codeline>
<codeline lineno="3263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;result);</highlight></codeline>
<codeline lineno="3264"><highlight class="normal"></highlight></codeline>
<codeline lineno="3265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>result<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref><sp/>)</highlight></codeline>
<codeline lineno="3266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>pin;</highlight></codeline>
<codeline lineno="3268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>filterIOs<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3269"><highlight class="normal"></highlight></codeline>
<codeline lineno="3270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Increment<sp/>number<sp/>of<sp/>&quot;devices&quot;<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(pin<sp/>=<sp/>0;<sp/>pin<sp/>&lt;<sp/>newFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1afd1955556211487bb56538d548778e23" kindref="member">pinCount</ref>;<sp/>++pin)</highlight></codeline>
<codeline lineno="3272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pPin<sp/>=<sp/>newFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1abe74b1bbe62a54025b7c05bd8519d19f" kindref="member">pins</ref>[pin];</highlight></codeline>
<codeline lineno="3274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pPin<sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="3275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3276"><highlight class="normal"></highlight></codeline>
<codeline lineno="3277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filterIOs<sp/>+=<sp/><ref refid="libflac_2src_2flac_2encode_8c_1ac39d9cef6a5e030ba8d9e11121054268" kindref="member">max</ref>(1,<sp/>pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a4e8be021efbd43cf14cb3b40e501d4eb" kindref="member">inputCount</ref>);</highlight></codeline>
<codeline lineno="3278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3279"><highlight class="normal"></highlight></codeline>
<codeline lineno="3280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>noOfPaDevices<sp/>+=<sp/>filterIOs;</highlight></codeline>
<codeline lineno="3281"><highlight class="normal"></highlight></codeline>
<codeline lineno="3282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Filter<sp/>(%s)<sp/>created<sp/>with<sp/>%d<sp/>valid<sp/>pins<sp/>(total<sp/>I/Os:<sp/>%u)\n&quot;</highlight><highlight class="normal">,<sp/>((newFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1a65b71d52a0990fdb97201d0cea3f05f1" kindref="member">streamingType</ref>==<ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8a2af26020e0cc2ba29abf9235c1de3893" kindref="member">Type_kWaveRT</ref>)?</highlight><highlight class="stringliteral">&quot;WaveRT&quot;</highlight><highlight class="normal">:</highlight><highlight class="stringliteral">&quot;WaveCyclic&quot;</highlight><highlight class="normal">),<sp/>newFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a5c441f64352697c820c2b296979e984b" kindref="member">validPinCount</ref>,<sp/>filterIOs));</highlight></codeline>
<codeline lineno="3283"><highlight class="normal"></highlight></codeline>
<codeline lineno="3284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(slot<sp/>&lt;<sp/>filterCount);</highlight></codeline>
<codeline lineno="3285"><highlight class="normal"></highlight></codeline>
<codeline lineno="3286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ppFilters[slot]<sp/>=<sp/>newFilter;</highlight></codeline>
<codeline lineno="3287"><highlight class="normal"></highlight></codeline>
<codeline lineno="3288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>slot++;</highlight></codeline>
<codeline lineno="3289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Filter<sp/>NOT<sp/>created\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="3293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>As<sp/>there<sp/>are<sp/>now<sp/>less<sp/>filters<sp/>than<sp/>we<sp/>initially<sp/>thought</highlight></codeline>
<codeline lineno="3294"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>we<sp/>must<sp/>reduce<sp/>the<sp/>count<sp/>by<sp/>one<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filterCount--;</highlight></codeline>
<codeline lineno="3296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3298"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3299"><highlight class="normal"></highlight></codeline>
<codeline lineno="3300"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Clean<sp/>up<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3301"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(handle<sp/>!=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="3302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SetupDiDestroyDeviceInfoList(handle);</highlight></codeline>
<codeline lineno="3303"><highlight class="normal"></highlight></codeline>
<codeline lineno="3304"><highlight class="normal"><sp/><sp/><sp/><sp/>*pFilterCount<sp/>=<sp/>filterCount;</highlight></codeline>
<codeline lineno="3305"><highlight class="normal"><sp/><sp/><sp/><sp/>*pNoOfPaDevices<sp/>=<sp/>noOfPaDevices;</highlight></codeline>
<codeline lineno="3306"><highlight class="normal"></highlight></codeline>
<codeline lineno="3307"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ppFilters;</highlight></codeline>
<codeline lineno="3308"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3309"><highlight class="normal"></highlight></codeline>
<codeline lineno="3310" refid="struct_pa_name_hash_index" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_pa_name_hash_index" kindref="compound">PaNameHashIndex</ref></highlight></codeline>
<codeline lineno="3311"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3312" refid="struct_pa_name_hash_index_1a50ce2b35427378c04b50ec6d2fb214bf" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="struct_pa_name_hash_index_1a50ce2b35427378c04b50ec6d2fb214bf" kindref="member">index</ref>;</highlight></codeline>
<codeline lineno="3313" refid="struct_pa_name_hash_index_1a6724f5c6a1814cd7ccc024d079222b89" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="struct_pa_name_hash_index_1a6724f5c6a1814cd7ccc024d079222b89" kindref="member">count</ref>;</highlight></codeline>
<codeline lineno="3314" refid="struct_pa_name_hash_index_1a6895320b6d2e45ee368d72704a3ee334" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>ULONG<sp/><sp/><sp/><sp/><ref refid="struct_pa_name_hash_index_1a6895320b6d2e45ee368d72704a3ee334" kindref="member">hash</ref>;</highlight></codeline>
<codeline lineno="3315" refid="struct_pa_name_hash_index_1aff49b9db6ce618e8bc7f43ad863e37fd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_pa_name_hash_index" kindref="compound">PaNameHashIndex</ref><sp/>*<ref refid="struct_pa_name_hash_index_1aff49b9db6ce618e8bc7f43ad863e37fd" kindref="member">next</ref>;</highlight></codeline>
<codeline lineno="3316"><highlight class="normal">}<sp/><ref refid="pa__win__wdmks_8c_1ae9c8fd380cec2f97fc52982add00105a" kindref="member">PaNameHashIndex</ref>;</highlight></codeline>
<codeline lineno="3317"><highlight class="normal"></highlight></codeline>
<codeline lineno="3318" refid="struct_pa_name_hash_object" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_pa_name_hash_object" kindref="compound">PaNameHashObject</ref></highlight></codeline>
<codeline lineno="3319"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3320" refid="struct_pa_name_hash_object_1ada1bf0a5ecdb49c678e1c4bbd1c83ffb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_pa_name_hash_index" kindref="compound">PaNameHashIndex</ref>*<sp/><ref refid="struct_pa_name_hash_object_1ada1bf0a5ecdb49c678e1c4bbd1c83ffb" kindref="member">list</ref>;</highlight></codeline>
<codeline lineno="3321" refid="struct_pa_name_hash_object_1a53ffe8caece1284f03f9be7a0124cccf" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_pa_util_allocation_group" kindref="compound">PaUtilAllocationGroup</ref>*<sp/><ref refid="struct_pa_name_hash_object_1a53ffe8caece1284f03f9be7a0124cccf" kindref="member">allocGroup</ref>;</highlight></codeline>
<codeline lineno="3322"><highlight class="normal">}<sp/><ref refid="pa__win__wdmks_8c_1a9e59824058f2d1a36cd295d3e6259a2c" kindref="member">PaNameHashObject</ref>;</highlight></codeline>
<codeline lineno="3323"><highlight class="normal"></highlight></codeline>
<codeline lineno="3324"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>ULONG<sp/>GetNameHash(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">wchar_t</highlight><highlight class="normal">*<sp/><ref refid="sndfile__save_8m_1a4b99ff73a8a869319570237b5c57ab03" kindref="member">str</ref>,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref><sp/>input)</highlight></codeline>
<codeline lineno="3325"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3326"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>This<sp/>is<sp/>to<sp/>make<sp/>sure<sp/>that<sp/>a<sp/>name<sp/>that<sp/>exists<sp/>as<sp/>both<sp/>input<sp/>&amp;<sp/>output<sp/>won&apos;t<sp/>get<sp/>the<sp/>same<sp/>hash<sp/>value<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3327"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>ULONG<sp/>fnv_prime<sp/>=<sp/>(input<sp/>?<sp/>0x811C9DD7<sp/>:<sp/>0x811FEB0B);</highlight></codeline>
<codeline lineno="3328"><highlight class="normal"><sp/><sp/><sp/><sp/>ULONG<sp/><ref refid="hashrout_8h_1a28b5828ac3b16e22c26077eedf5674ff" kindref="member">hash</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3329"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(;<sp/>*str<sp/>!=<sp/>0;<sp/>str++)</highlight></codeline>
<codeline lineno="3330"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hash<sp/>*=<sp/>fnv_prime;</highlight></codeline>
<codeline lineno="3332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hash<sp/>^=<sp/>(*str);</highlight></codeline>
<codeline lineno="3333"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3334"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(hash<sp/>!=<sp/>0);</highlight></codeline>
<codeline lineno="3335"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="hashrout_8h_1a28b5828ac3b16e22c26077eedf5674ff" kindref="member">hash</ref>;</highlight></codeline>
<codeline lineno="3336"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3337"><highlight class="normal"></highlight></codeline>
<codeline lineno="3338"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>CreateHashEntry(<ref refid="struct_pa_name_hash_object" kindref="compound">PaNameHashObject</ref>*<sp/>obj,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">wchar_t</highlight><highlight class="normal">*<sp/><ref refid="lib_2expat_8h_1a1b49b495b59f9e73205b69ad1a2965b0" kindref="member">name</ref>,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref><sp/>input)</highlight></codeline>
<codeline lineno="3339"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3340"><highlight class="normal"><sp/><sp/><sp/><sp/>ULONG<sp/><ref refid="hashrout_8h_1a28b5828ac3b16e22c26077eedf5674ff" kindref="member">hash</ref><sp/>=<sp/>GetNameHash(name,<sp/>input);<sp/></highlight></codeline>
<codeline lineno="3341"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_pa_name_hash_index" kindref="compound">PaNameHashIndex</ref><sp/>*<sp/>pLast<sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="3342"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_pa_name_hash_index" kindref="compound">PaNameHashIndex</ref><sp/>*<sp/>p<sp/>=<sp/>obj-&gt;<ref refid="struct_pa_name_hash_object_1ada1bf0a5ecdb49c678e1c4bbd1c83ffb" kindref="member">list</ref>;</highlight></codeline>
<codeline lineno="3343"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(p<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="3344"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(p-&gt;<ref refid="struct_pa_name_hash_index_1a6895320b6d2e45ee368d72704a3ee334" kindref="member">hash</ref><sp/>==<sp/>hash)</highlight></codeline>
<codeline lineno="3346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pLast<sp/>=<sp/><ref refid="xmltok_8h_1a94b60f3beb36ae85555d36dc9816769c" kindref="member">p</ref>;</highlight></codeline>
<codeline lineno="3350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p<sp/>=<sp/>p-&gt;<ref refid="struct_pa_name_hash_index_1aff49b9db6ce618e8bc7f43ad863e37fd" kindref="member">next</ref>;</highlight></codeline>
<codeline lineno="3351"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3352"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(p<sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="3353"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p<sp/>=<sp/>(<ref refid="struct_pa_name_hash_index" kindref="compound">PaNameHashIndex</ref>*)<ref refid="pa__allocation_8c_1ace88f0110da3a26cb8d8ed00758accf3" kindref="member">PaUtil_GroupAllocateMemory</ref>(obj-&gt;<ref refid="struct_pa_name_hash_object_1a53ffe8caece1284f03f9be7a0124cccf" kindref="member">allocGroup</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_pa_name_hash_index" kindref="compound">PaNameHashIndex</ref>));</highlight></codeline>
<codeline lineno="3355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(p<sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="3356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="3358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_pa_name_hash_index_1a6895320b6d2e45ee368d72704a3ee334" kindref="member">hash</ref><sp/>=<sp/><ref refid="hashrout_8h_1a28b5828ac3b16e22c26077eedf5674ff" kindref="member">hash</ref>;</highlight></codeline>
<codeline lineno="3360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_pa_name_hash_index_1a6724f5c6a1814cd7ccc024d079222b89" kindref="member">count</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="3361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pLast<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="3362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(pLast-&gt;<ref refid="struct_pa_name_hash_index_1aff49b9db6ce618e8bc7f43ad863e37fd" kindref="member">next</ref><sp/>==<sp/>0);</highlight></codeline>
<codeline lineno="3364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pLast-&gt;<ref refid="struct_pa_name_hash_index_1aff49b9db6ce618e8bc7f43ad863e37fd" kindref="member">next</ref><sp/>=<sp/><ref refid="xmltok_8h_1a94b60f3beb36ae85555d36dc9816769c" kindref="member">p</ref>;</highlight></codeline>
<codeline lineno="3365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(obj-&gt;<ref refid="struct_pa_name_hash_object_1ada1bf0a5ecdb49c678e1c4bbd1c83ffb" kindref="member">list</ref><sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="3367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>obj-&gt;<ref refid="struct_pa_name_hash_object_1ada1bf0a5ecdb49c678e1c4bbd1c83ffb" kindref="member">list</ref><sp/>=<sp/><ref refid="xmltok_8h_1a94b60f3beb36ae85555d36dc9816769c" kindref="member">p</ref>;</highlight></codeline>
<codeline lineno="3369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3370"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3371"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3372"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++p-&gt;<ref refid="struct_pa_name_hash_index_1a6724f5c6a1814cd7ccc024d079222b89" kindref="member">count</ref>;</highlight></codeline>
<codeline lineno="3374"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3375"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="3376"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3377"><highlight class="normal"></highlight></codeline>
<codeline lineno="3378"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>InitNameHashObject(<ref refid="struct_pa_name_hash_object" kindref="compound">PaNameHashObject</ref>*<sp/>obj,<sp/><ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/>pFilter)</highlight></codeline>
<codeline lineno="3379"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3380"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="3381"><highlight class="normal"></highlight></codeline>
<codeline lineno="3382"><highlight class="normal"><sp/><sp/><sp/><sp/>obj-&gt;<ref refid="struct_pa_name_hash_object_1a53ffe8caece1284f03f9be7a0124cccf" kindref="member">allocGroup</ref><sp/>=<sp/><ref refid="pa__allocation_8c_1a9cc7370b73e75f690ab0a0360e7fffee" kindref="member">PaUtil_CreateAllocationGroup</ref>();</highlight></codeline>
<codeline lineno="3383"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(obj-&gt;<ref refid="struct_pa_name_hash_object_1a53ffe8caece1284f03f9be7a0124cccf" kindref="member">allocGroup</ref><sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="3384"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="3386"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3387"><highlight class="normal"></highlight></codeline>
<codeline lineno="3388"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>pFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1afd1955556211487bb56538d548778e23" kindref="member">pinCount</ref>;<sp/>++<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>)</highlight></codeline>
<codeline lineno="3389"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="layer3_8c_1a4b8bfe70f28d6faddcb10d6ecf8c1989" kindref="member">m</ref>;</highlight></codeline>
<codeline lineno="3391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pin<sp/>=<sp/>pFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1abe74b1bbe62a54025b7c05bd8519d19f" kindref="member">pins</ref>[<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>];</highlight></codeline>
<codeline lineno="3392"><highlight class="normal"></highlight></codeline>
<codeline lineno="3393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pin<sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="3394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3395"><highlight class="normal"></highlight></codeline>
<codeline lineno="3396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(m<sp/>=<sp/>0;<sp/>m<sp/>&lt;<sp/><ref refid="libflac_2src_2flac_2encode_8c_1ac39d9cef6a5e030ba8d9e11121054268" kindref="member">max</ref>(1,<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a4e8be021efbd43cf14cb3b40e501d4eb" kindref="member">inputCount</ref>);<sp/>++<ref refid="layer3_8c_1a4b8bfe70f28d6faddcb10d6ecf8c1989" kindref="member">m</ref>)</highlight></codeline>
<codeline lineno="3397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref><sp/>isInput<sp/>=<sp/>(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a8d798c1a1b09965996a5c29f3797dbff" kindref="member">dataFlow</ref><sp/>==<sp/><ref refid="ks_8h_1a56408dcd08fcb4080adbd109cf61c4aaafb3a66f4f94e91721f862409b885d7be" kindref="member">KSPIN_DATAFLOW_OUT</ref>);</highlight></codeline>
<codeline lineno="3399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">wchar_t</highlight><highlight class="normal">*<sp/>name<sp/>=<sp/>(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ae08e82747f231ea0365211c5dbbc48a7" kindref="member">inputs</ref><sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>?<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ad20963ecc38fe667f890dd6939b324a2" kindref="member">friendlyName</ref><sp/>:<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ae08e82747f231ea0365211c5dbbc48a7" kindref="member">inputs</ref>[m]-&gt;<ref refid="struct_____pa_win_wdm_muxed_input_1a07079d0c8604c5a64fc338263c5e2468" kindref="member">friendlyName</ref>;</highlight></codeline>
<codeline lineno="3400"><highlight class="normal"></highlight></codeline>
<codeline lineno="3401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/>CreateHashEntry(obj,<sp/>name,<sp/>isInput);</highlight></codeline>
<codeline lineno="3402"><highlight class="normal"></highlight></codeline>
<codeline lineno="3403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="3404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="3406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3408"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3409"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="3410"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3411"><highlight class="normal"></highlight></codeline>
<codeline lineno="3412"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>DeinitNameHashObject(<ref refid="struct_pa_name_hash_object" kindref="compound">PaNameHashObject</ref>*<sp/>obj)</highlight></codeline>
<codeline lineno="3413"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3414"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(obj<sp/>!=<sp/>0);</highlight></codeline>
<codeline lineno="3415"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__allocation_8c_1aa83a07899e8db63d415d03f68b1f8a3d" kindref="member">PaUtil_FreeAllAllocations</ref>(obj-&gt;<ref refid="struct_pa_name_hash_object_1a53ffe8caece1284f03f9be7a0124cccf" kindref="member">allocGroup</ref>);</highlight></codeline>
<codeline lineno="3416"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__allocation_8c_1aefcb1143eaa768c2b555bd203f1c9deb" kindref="member">PaUtil_DestroyAllocationGroup</ref>(obj-&gt;<ref refid="struct_pa_name_hash_object_1a53ffe8caece1284f03f9be7a0124cccf" kindref="member">allocGroup</ref>);</highlight></codeline>
<codeline lineno="3417"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(obj,<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_pa_name_hash_object" kindref="compound">PaNameHashObject</ref>));</highlight></codeline>
<codeline lineno="3418"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3419"><highlight class="normal"></highlight></codeline>
<codeline lineno="3420"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>GetNameIndex(<ref refid="struct_pa_name_hash_object" kindref="compound">PaNameHashObject</ref>*<sp/>obj,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">wchar_t</highlight><highlight class="normal">*<sp/>name,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref><sp/>input)</highlight></codeline>
<codeline lineno="3421"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3422"><highlight class="normal"><sp/><sp/><sp/><sp/>ULONG<sp/><ref refid="hashrout_8h_1a28b5828ac3b16e22c26077eedf5674ff" kindref="member">hash</ref><sp/>=<sp/>GetNameHash(name,<sp/>input);<sp/></highlight></codeline>
<codeline lineno="3423"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_pa_name_hash_index" kindref="compound">PaNameHashIndex</ref>*<sp/>p<sp/>=<sp/>obj-&gt;<ref refid="struct_pa_name_hash_object_1ada1bf0a5ecdb49c678e1c4bbd1c83ffb" kindref="member">list</ref>;</highlight></codeline>
<codeline lineno="3424"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(p<sp/>!=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="3425"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(p-&gt;<ref refid="struct_pa_name_hash_index_1a6895320b6d2e45ee368d72704a3ee334" kindref="member">hash</ref><sp/>==<sp/>hash)</highlight></codeline>
<codeline lineno="3427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(p-&gt;<ref refid="struct_pa_name_hash_index_1a6724f5c6a1814cd7ccc024d079222b89" kindref="member">count</ref><sp/>&gt;<sp/>1)</highlight></codeline>
<codeline lineno="3429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(++p-&gt;<ref refid="struct_pa_name_hash_index_1a50ce2b35427378c04b50ec6d2fb214bf" kindref="member">index</ref>);</highlight></codeline>
<codeline lineno="3431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="3435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3437"><highlight class="normal"></highlight></codeline>
<codeline lineno="3438"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p<sp/>=<sp/>p-&gt;<ref refid="struct_pa_name_hash_index_1aff49b9db6ce618e8bc7f43ad863e37fd" kindref="member">next</ref>;</highlight></codeline>
<codeline lineno="3439"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3440"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Should<sp/>never<sp/>get<sp/>here!!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3441"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(<ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>);</highlight></codeline>
<codeline lineno="3442"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="3443"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3444"><highlight class="normal"></highlight></codeline>
<codeline lineno="3445"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>ScanDeviceInfos(<sp/></highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/><ref refid="struct_pa_util_host_api_representation" kindref="compound">PaUtilHostApiRepresentation</ref><sp/>*hostApi,<sp/><ref refid="portaudio_8h_1aeef6da084c57c70aa94be97411e19930" kindref="member">PaHostApiIndex</ref><sp/>hostApiIndex,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>**scanResults,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>*newDeviceCount<sp/>)</highlight></codeline>
<codeline lineno="3446"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3447"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_host_api_representation" kindref="compound">PaWinWdmHostApiRepresentation</ref><sp/>*wdmHostApi<sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_host_api_representation" kindref="compound">PaWinWdmHostApiRepresentation</ref>*)hostApi;</highlight></codeline>
<codeline lineno="3448"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="3449"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>**<sp/>ppFilters<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3450"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_w_d_m_scan_device_infos_results" kindref="compound">PaWinWDMScanDeviceInfosResults</ref><sp/>*outArgument<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3451"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>filterCount<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3452"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>totalDeviceCount<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3453"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>idxDevice<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3454"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref><sp/>defaultInDevPathSize<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3455"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref><sp/>defaultOutDevPathSize<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3456"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">wchar_t</highlight><highlight class="normal">*<sp/>defaultInDevPath<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3457"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">wchar_t</highlight><highlight class="normal">*<sp/>defaultOutDevPath<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3458"><highlight class="normal"></highlight></codeline>
<codeline lineno="3459"><highlight class="normal"><sp/><sp/><sp/><sp/>ppFilters<sp/>=<sp/>BuildFilterList(<sp/>&amp;filterCount,<sp/>&amp;totalDeviceCount,<sp/>&amp;result<sp/>);</highlight></codeline>
<codeline lineno="3460"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref><sp/>)</highlight></codeline>
<codeline lineno="3461"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="3463"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3464"><highlight class="normal"></highlight></codeline>
<codeline lineno="3465"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Get<sp/>hold<sp/>of<sp/>default<sp/>device<sp/>paths<sp/>for<sp/>capture<sp/>&amp;<sp/>playback</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3466"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>waveInMessage(0,<sp/><ref refid="pa__win__wdmks_8c_1a12fe28580c2caabf3c97130411605dd4" kindref="member">DRV_QUERYDEVICEINTERFACESIZE</ref>,<sp/>(<ref refid="pa__win__ds_8c_1ac42e964219ea4889a963d264ccb84ac6" kindref="member">DWORD_PTR</ref>)&amp;defaultInDevPathSize,<sp/>0<sp/>)<sp/>==<sp/>MMSYSERR_NOERROR<sp/>)</highlight></codeline>
<codeline lineno="3467"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>defaultInDevPath<sp/>=<sp/>(</highlight><highlight class="keywordtype">wchar_t</highlight><highlight class="normal"><sp/>*)<ref refid="pa__util_8h_1aa614f193aff12744a6ab90a9eb3128f0" kindref="member">PaUtil_AllocateMemory</ref>((defaultInDevPathSize<sp/>+<sp/>1)<sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(wchar_t));</highlight></codeline>
<codeline lineno="3469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>waveInMessage(0,<sp/><ref refid="pa__win__wdmks_8c_1adad5f0b12993256d88ee25ebee3e0bca" kindref="member">DRV_QUERYDEVICEINTERFACE</ref>,<sp/>(<ref refid="pa__win__ds_8c_1ac42e964219ea4889a963d264ccb84ac6" kindref="member">DWORD_PTR</ref>)defaultInDevPath,<sp/>defaultInDevPathSize);</highlight></codeline>
<codeline lineno="3470"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3471"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>waveOutMessage(0,<sp/><ref refid="pa__win__wdmks_8c_1a12fe28580c2caabf3c97130411605dd4" kindref="member">DRV_QUERYDEVICEINTERFACESIZE</ref>,<sp/>(<ref refid="pa__win__ds_8c_1ac42e964219ea4889a963d264ccb84ac6" kindref="member">DWORD_PTR</ref>)&amp;defaultOutDevPathSize,<sp/>0<sp/>)<sp/>==<sp/>MMSYSERR_NOERROR<sp/>)</highlight></codeline>
<codeline lineno="3472"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>defaultOutDevPath<sp/>=<sp/>(</highlight><highlight class="keywordtype">wchar_t</highlight><highlight class="normal"><sp/>*)<ref refid="pa__util_8h_1aa614f193aff12744a6ab90a9eb3128f0" kindref="member">PaUtil_AllocateMemory</ref>((defaultOutDevPathSize<sp/>+<sp/>1)<sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(wchar_t));</highlight></codeline>
<codeline lineno="3474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>waveOutMessage(0,<sp/><ref refid="pa__win__wdmks_8c_1adad5f0b12993256d88ee25ebee3e0bca" kindref="member">DRV_QUERYDEVICEINTERFACE</ref>,<sp/>(<ref refid="pa__win__ds_8c_1ac42e964219ea4889a963d264ccb84ac6" kindref="member">DWORD_PTR</ref>)defaultOutDevPath,<sp/>defaultOutDevPathSize);</highlight></codeline>
<codeline lineno="3475"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3476"><highlight class="normal"></highlight></codeline>
<codeline lineno="3477"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>totalDeviceCount<sp/>&gt;<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="3478"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_device_info" kindref="compound">PaWinWdmDeviceInfo</ref><sp/>*deviceInfoArray<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>idxFilter;</highlight></codeline>
<codeline lineno="3481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="3482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>devIsDefaultIn<sp/>=<sp/>0,<sp/>devIsDefaultOut<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3483"><highlight class="normal"></highlight></codeline>
<codeline lineno="3484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Allocate<sp/>the<sp/>out<sp/>param<sp/>for<sp/>all<sp/>the<sp/>info<sp/>we<sp/>need<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>outArgument<sp/>=<sp/>(<ref refid="struct_____pa_win_w_d_m_scan_device_infos_results" kindref="compound">PaWinWDMScanDeviceInfosResults</ref><sp/>*)<sp/><ref refid="pa__allocation_8c_1ace88f0110da3a26cb8d8ed00758accf3" kindref="member">PaUtil_GroupAllocateMemory</ref>(</highlight></codeline>
<codeline lineno="3486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wdmHostApi-&gt;<ref refid="struct_____pa_win_wdm_host_api_representation_1aefaac80ee7c20f6ab43463d2a153d64c" kindref="member">allocations</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_____pa_win_w_d_m_scan_device_infos_results" kindref="compound">PaWinWDMScanDeviceInfosResults</ref>)<sp/>);</highlight></codeline>
<codeline lineno="3487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>!outArgument<sp/>)</highlight></codeline>
<codeline lineno="3488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="3490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="3491"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3492"><highlight class="normal"></highlight></codeline>
<codeline lineno="3493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>outArgument-&gt;<ref refid="struct_____pa_win_w_d_m_scan_device_infos_results_1ada9f50c629190a27cff9479fc24fc3fa" kindref="member">defaultInputDevice</ref><sp/><sp/>=<sp/><ref refid="portaudio_8h_1a8c26dd5e6f28bb4cda7a1f5460282297" kindref="member">paNoDevice</ref>;</highlight></codeline>
<codeline lineno="3494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>outArgument-&gt;<ref refid="struct_____pa_win_w_d_m_scan_device_infos_results_1ae035601f901c22bee7f4d4fb456e6f27" kindref="member">defaultOutputDevice</ref><sp/>=<sp/><ref refid="portaudio_8h_1a8c26dd5e6f28bb4cda7a1f5460282297" kindref="member">paNoDevice</ref>;</highlight></codeline>
<codeline lineno="3495"><highlight class="normal"></highlight></codeline>
<codeline lineno="3496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>outArgument-&gt;<ref refid="struct_____pa_win_w_d_m_scan_device_infos_results_1a2fe91f3f6605d7624f4b47f4b43aa5c1" kindref="member">deviceInfos</ref><sp/>=<sp/>(<ref refid="struct_pa_device_info" kindref="compound">PaDeviceInfo</ref>**)<ref refid="pa__allocation_8c_1ace88f0110da3a26cb8d8ed00758accf3" kindref="member">PaUtil_GroupAllocateMemory</ref>(</highlight></codeline>
<codeline lineno="3497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wdmHostApi-&gt;<ref refid="struct_____pa_win_wdm_host_api_representation_1aefaac80ee7c20f6ab43463d2a153d64c" kindref="member">allocations</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_pa_device_info" kindref="compound">PaDeviceInfo</ref>*)<sp/>*<sp/>totalDeviceCount<sp/>);</highlight></codeline>
<codeline lineno="3498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>!outArgument-&gt;<ref refid="struct_____pa_win_w_d_m_scan_device_infos_results_1a2fe91f3f6605d7624f4b47f4b43aa5c1" kindref="member">deviceInfos</ref><sp/>)</highlight></codeline>
<codeline lineno="3499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="3501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="3502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3503"><highlight class="normal"></highlight></codeline>
<codeline lineno="3504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>allocate<sp/>all<sp/>device<sp/>info<sp/>structs<sp/>in<sp/>a<sp/>contiguous<sp/>block<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>deviceInfoArray<sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_device_info" kindref="compound">PaWinWdmDeviceInfo</ref>*)<ref refid="pa__allocation_8c_1ace88f0110da3a26cb8d8ed00758accf3" kindref="member">PaUtil_GroupAllocateMemory</ref>(</highlight></codeline>
<codeline lineno="3506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wdmHostApi-&gt;<ref refid="struct_____pa_win_wdm_host_api_representation_1aefaac80ee7c20f6ab43463d2a153d64c" kindref="member">allocations</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_____pa_win_wdm_device_info" kindref="compound">PaWinWdmDeviceInfo</ref>)<sp/>*<sp/>totalDeviceCount<sp/>);</highlight></codeline>
<codeline lineno="3507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>!deviceInfoArray<sp/>)</highlight></codeline>
<codeline lineno="3508"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="3510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="3511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3512"><highlight class="normal"></highlight></codeline>
<codeline lineno="3513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Make<sp/>sure<sp/>all<sp/>items<sp/>in<sp/>array<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(<sp/>i<sp/>=<sp/>0<sp/>;<sp/>i<sp/>&lt;<sp/>totalDeviceCount;<sp/>++<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref><sp/>)</highlight></codeline>
<codeline lineno="3515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_pa_device_info" kindref="compound">PaDeviceInfo</ref><sp/>*deviceInfo<sp/><sp/>=<sp/>&amp;deviceInfoArray[<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>].<ref refid="struct_____pa_win_wdm_device_info_1a529bc0e5844539996188948f28fd6bcd" kindref="member">inheritedDeviceInfo</ref>;</highlight></codeline>
<codeline lineno="3517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>deviceInfo-&gt;<ref refid="struct_pa_device_info_1a2d726add4cd2af78a94c052b3a7df568" kindref="member">structVersion</ref><sp/>=<sp/>2;</highlight></codeline>
<codeline lineno="3518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>deviceInfo-&gt;<ref refid="struct_pa_device_info_1afe741e4d185069577f7e74b78fdef5a4" kindref="member">hostApi</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>hostApiIndex;</highlight></codeline>
<codeline lineno="3519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>deviceInfo-&gt;<ref refid="struct_pa_device_info_1a1bc26d68f1d89472ae67eaa49a542aea" kindref="member">name</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>outArgument-&gt;<ref refid="struct_____pa_win_w_d_m_scan_device_infos_results_1a2fe91f3f6605d7624f4b47f4b43aa5c1" kindref="member">deviceInfos</ref>[<sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref><sp/>]<sp/>=<sp/>deviceInfo;</highlight></codeline>
<codeline lineno="3521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3522"><highlight class="normal"></highlight></codeline>
<codeline lineno="3523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>idxDevice<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(idxFilter<sp/>=<sp/>0;<sp/>idxFilter<sp/>&lt;<sp/>filterCount;<sp/>++idxFilter)</highlight></codeline>
<codeline lineno="3525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_pa_name_hash_object" kindref="compound">PaNameHashObject</ref><sp/>nameHash<sp/>=<sp/>{0};</highlight></codeline>
<codeline lineno="3527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/>pFilter<sp/>=<sp/>ppFilters[idxFilter];</highlight></codeline>
<codeline lineno="3528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>pFilter<sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>)</highlight></codeline>
<codeline lineno="3529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3530"><highlight class="normal"></highlight></codeline>
<codeline lineno="3531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(InitNameHashObject(&amp;nameHash,<sp/>pFilter)<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="3532"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DeinitNameHashObject(&amp;nameHash);</highlight></codeline>
<codeline lineno="3534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3535"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3536"><highlight class="normal"></highlight></codeline>
<codeline lineno="3537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>devIsDefaultIn<sp/>=<sp/>(defaultInDevPath<sp/>&amp;&amp;<sp/>(_wcsicmp(pFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1aef789b50c6cf1e05c5c6e1e18e2a233c" kindref="member">filterPath</ref>,<sp/>defaultInDevPath)<sp/>==<sp/>0));</highlight></codeline>
<codeline lineno="3538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>devIsDefaultOut<sp/>=<sp/>(defaultOutDevPath<sp/>&amp;&amp;<sp/>(_wcsicmp(pFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1aef789b50c6cf1e05c5c6e1e18e2a233c" kindref="member">filterPath</ref>,<sp/>defaultOutDevPath)<sp/>==<sp/>0));</highlight></codeline>
<codeline lineno="3539"><highlight class="normal"></highlight></codeline>
<codeline lineno="3540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>pFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1afd1955556211487bb56538d548778e23" kindref="member">pinCount</ref>;<sp/>++<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>)</highlight></codeline>
<codeline lineno="3541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="layer3_8c_1a4b8bfe70f28d6faddcb10d6ecf8c1989" kindref="member">m</ref>;</highlight></codeline>
<codeline lineno="3543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ULONG<sp/>nameIndex<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3544"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ULONG<sp/>nameIndexHash<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pin<sp/>=<sp/>pFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1abe74b1bbe62a54025b7c05bd8519d19f" kindref="member">pins</ref>[<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>];</highlight></codeline>
<codeline lineno="3546"><highlight class="normal"></highlight></codeline>
<codeline lineno="3547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pin<sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="3548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3549"><highlight class="normal"></highlight></codeline>
<codeline lineno="3550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(m<sp/>=<sp/>0;<sp/>m<sp/>&lt;<sp/><ref refid="libflac_2src_2flac_2encode_8c_1ac39d9cef6a5e030ba8d9e11121054268" kindref="member">max</ref>(1,<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a4e8be021efbd43cf14cb3b40e501d4eb" kindref="member">inputCount</ref>);<sp/>++<ref refid="layer3_8c_1a4b8bfe70f28d6faddcb10d6ecf8c1989" kindref="member">m</ref>)</highlight></codeline>
<codeline lineno="3551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_device_info" kindref="compound">PaWinWdmDeviceInfo</ref><sp/>*wdmDeviceInfo<sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_device_info" kindref="compound">PaWinWdmDeviceInfo</ref><sp/>*)outArgument-&gt;<ref refid="struct_____pa_win_w_d_m_scan_device_infos_results_1a2fe91f3f6605d7624f4b47f4b43aa5c1" kindref="member">deviceInfos</ref>[idxDevice];</highlight></codeline>
<codeline lineno="3553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_pa_device_info" kindref="compound">PaDeviceInfo</ref><sp/>*deviceInfo<sp/>=<sp/>&amp;wdmDeviceInfo-&gt;<ref refid="struct_____pa_win_wdm_device_info_1a529bc0e5844539996188948f28fd6bcd" kindref="member">inheritedDeviceInfo</ref>;</highlight></codeline>
<codeline lineno="3554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">wchar_t</highlight><highlight class="normal"><sp/>localCompositeName[MAX_PATH];</highlight></codeline>
<codeline lineno="3555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>nameIndex<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref><sp/>isInput<sp/>=<sp/>(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a8d798c1a1b09965996a5c29f3797dbff" kindref="member">dataFlow</ref><sp/>==<sp/><ref refid="ks_8h_1a56408dcd08fcb4080adbd109cf61c4aaafb3a66f4f94e91721f862409b885d7be" kindref="member">KSPIN_DATAFLOW_OUT</ref>);</highlight></codeline>
<codeline lineno="3557"><highlight class="normal"></highlight></codeline>
<codeline lineno="3558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wdmDeviceInfo-&gt;<ref refid="struct_____pa_win_wdm_device_info_1a6bb59c9cdcc8861941e589cf0558dfc4" kindref="member">filter</ref><sp/>=<sp/>pFilter;</highlight></codeline>
<codeline lineno="3559"><highlight class="normal"></highlight></codeline>
<codeline lineno="3560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>deviceInfo-&gt;structVersion<sp/>=<sp/>2;</highlight></codeline>
<codeline lineno="3561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>deviceInfo-&gt;hostApi<sp/>=<sp/>hostApiIndex;</highlight></codeline>
<codeline lineno="3562"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>deviceInfo-&gt;name<sp/>=<sp/>wdmDeviceInfo-&gt;<ref refid="struct_____pa_win_wdm_device_info_1a078805bd1a8e163820775d76673d0813" kindref="member">compositeName</ref>;</highlight></codeline>
<codeline lineno="3563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>deviceInfo-&gt;hostApiSpecificDeviceInfo<sp/>=<sp/>&amp;pFilter-&gt;devInfo;<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3564"><highlight class="normal"></highlight></codeline>
<codeline lineno="3565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wdmDeviceInfo-&gt;<ref refid="struct_____pa_win_wdm_device_info_1ad47a164d9d771b528bb67bb8da07c839" kindref="member">pin</ref><sp/>=<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a81ab014de4b698e66915fb28e01cb7c7" kindref="member">pinId</ref>;</highlight></codeline>
<codeline lineno="3566"><highlight class="normal"></highlight></codeline>
<codeline lineno="3567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>the<sp/>name<sp/>of<sp/>the<sp/>&quot;device&quot;<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ae08e82747f231ea0365211c5dbbc48a7" kindref="member">inputs</ref><sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="3569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wcsncpy(localCompositeName,<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ad20963ecc38fe667f890dd6939b324a2" kindref="member">friendlyName</ref>,<sp/>MAX_PATH);</highlight></codeline>
<codeline lineno="3571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wdmDeviceInfo-&gt;<ref refid="struct_____pa_win_wdm_device_info_1ac4769a798b0d43861e1ce362afe729b2" kindref="member">muxPosition</ref><sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="3572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wdmDeviceInfo-&gt;<ref refid="struct_____pa_win_wdm_device_info_1ad338338f56666dd11ecc1da66602fa5f" kindref="member">endpointPinId</ref><sp/>=<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a3f3942f6c97d908f03f559998a1daafb" kindref="member">endpointPinId</ref>;</highlight></codeline>
<codeline lineno="3573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3574"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3576"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_muxed_input" kindref="compound">PaWinWdmMuxedInput</ref>*<sp/>input<sp/>=<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ae08e82747f231ea0365211c5dbbc48a7" kindref="member">inputs</ref>[<ref refid="layer3_8c_1a4b8bfe70f28d6faddcb10d6ecf8c1989" kindref="member">m</ref>];</highlight></codeline>
<codeline lineno="3577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wcsncpy(localCompositeName,<sp/>input-&gt;<ref refid="struct_____pa_win_wdm_muxed_input_1a07079d0c8604c5a64fc338263c5e2468" kindref="member">friendlyName</ref>,<sp/>MAX_PATH);</highlight></codeline>
<codeline lineno="3578"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wdmDeviceInfo-&gt;<ref refid="struct_____pa_win_wdm_device_info_1ac4769a798b0d43861e1ce362afe729b2" kindref="member">muxPosition</ref><sp/>=<sp/>(<ref refid="lib_2expat_8h_1a14bb8924daea0b48c7803f281f66e390" kindref="member">int</ref>)m;</highlight></codeline>
<codeline lineno="3579"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wdmDeviceInfo-&gt;<ref refid="struct_____pa_win_wdm_device_info_1ad338338f56666dd11ecc1da66602fa5f" kindref="member">endpointPinId</ref><sp/>=<sp/>input-&gt;<ref refid="struct_____pa_win_wdm_muxed_input_1a9c44ecfcd2a4b85db38793cf33017ba0" kindref="member">endpointPinId</ref>;</highlight></codeline>
<codeline lineno="3580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3581"><highlight class="normal"></highlight></codeline>
<codeline lineno="3582"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3583"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>base<sp/>length<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>n<sp/>=<sp/>wcslen(localCompositeName);</highlight></codeline>
<codeline lineno="3585"><highlight class="normal"></highlight></codeline>
<codeline lineno="3586"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>if<sp/>there<sp/>are<sp/>more<sp/>entries<sp/>with<sp/>same<sp/>name<sp/>(which<sp/>might<sp/>very<sp/>well<sp/>be<sp/>the<sp/>case),<sp/>if<sp/>there</highlight></codeline>
<codeline lineno="3587"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>are,<sp/>the<sp/>name<sp/>will<sp/>be<sp/>postfixed<sp/>with<sp/>an<sp/>index.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nameIndex<sp/>=<sp/>GetNameIndex(&amp;nameHash,<sp/>localCompositeName,<sp/>isInput);</highlight></codeline>
<codeline lineno="3589"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nameIndex<sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="3590"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>This<sp/>name<sp/>has<sp/>multiple<sp/>instances,<sp/>so<sp/>we<sp/>post<sp/>fix<sp/>with<sp/>a<sp/>number<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n<sp/>+=<sp/>_snwprintf(localCompositeName<sp/>+<sp/>n,<sp/>MAX_PATH<sp/>-<sp/>n,<sp/>L</highlight><highlight class="stringliteral">&quot;<sp/>%u&quot;</highlight><highlight class="normal">,<sp/>nameIndex);</highlight></codeline>
<codeline lineno="3593"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Postfix<sp/>with<sp/>filter<sp/>name<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3595"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_snwprintf(localCompositeName<sp/>+<sp/>n,<sp/>MAX_PATH<sp/>-<sp/>n,<sp/>L</highlight><highlight class="stringliteral">&quot;<sp/>(%s)&quot;</highlight><highlight class="normal">,<sp/>pFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1ad1b53f3170d7cb538e61642f3321ad81" kindref="member">friendlyName</ref>);</highlight></codeline>
<codeline lineno="3596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3597"><highlight class="normal"></highlight></codeline>
<codeline lineno="3598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Convert<sp/>wide<sp/>char<sp/>string<sp/>to<sp/>utf-8<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mapinls_8h_1ad956dca1b4a4a170040564514e0bbb8f" kindref="member">WideCharToMultiByte</ref>(CP_UTF8,<sp/>0,<sp/>localCompositeName,<sp/>-1,<sp/>wdmDeviceInfo-&gt;<ref refid="struct_____pa_win_wdm_device_info_1a078805bd1a8e163820775d76673d0813" kindref="member">compositeName</ref>,<sp/>MAX_PATH,<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="3600"><highlight class="normal"></highlight></codeline>
<codeline lineno="3601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>NB!<sp/>WDM/KS<sp/>has<sp/>no<sp/>concept<sp/>of<sp/>a<sp/>full-duplex<sp/>device,<sp/>each<sp/>pin<sp/>is<sp/>either<sp/>an<sp/>input<sp/>or<sp/>an<sp/>output<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(isInput)</highlight></codeline>
<codeline lineno="3603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>INPUT<sp/>!<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>deviceInfo-&gt;maxInputChannels<sp/><sp/>=<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a33c12a0dbd09db02923a4bd4e7d2fb17" kindref="member">maxChannels</ref>;</highlight></codeline>
<codeline lineno="3606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>deviceInfo-&gt;maxOutputChannels<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3607"><highlight class="normal"></highlight></codeline>
<codeline lineno="3608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>RoBi<sp/>NB:<sp/>Due<sp/>to<sp/>the<sp/>fact<sp/>that<sp/>input<sp/>audio<sp/>endpoints<sp/>in<sp/>Vista<sp/>(&amp;<sp/>later<sp/>OSs)<sp/>can<sp/>be<sp/>the<sp/>same<sp/>device,<sp/>but<sp/>with</highlight></codeline>
<codeline lineno="3609"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>different<sp/>input<sp/>mux<sp/>settings,<sp/>there<sp/>might<sp/>be<sp/>a<sp/>discrepancy<sp/>between<sp/>the<sp/>default<sp/>input<sp/>device<sp/>chosen,<sp/>and</highlight></codeline>
<codeline lineno="3610"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>that<sp/>which<sp/>will<sp/>be<sp/>used<sp/>by<sp/>Portaudio.<sp/>Not<sp/>much<sp/>to<sp/>do<sp/>about<sp/>that<sp/>unfortunately.</highlight></codeline>
<codeline lineno="3611"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((defaultInDevPath<sp/>==<sp/>0<sp/>||<sp/>devIsDefaultIn)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="3613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>outArgument-&gt;<ref refid="struct_____pa_win_w_d_m_scan_device_infos_results_1ada9f50c629190a27cff9479fc24fc3fa" kindref="member">defaultInputDevice</ref><sp/>==<sp/><ref refid="portaudio_8h_1a8c26dd5e6f28bb4cda7a1f5460282297" kindref="member">paNoDevice</ref>)</highlight></codeline>
<codeline lineno="3614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3615"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>outArgument-&gt;<ref refid="struct_____pa_win_w_d_m_scan_device_infos_results_1ada9f50c629190a27cff9479fc24fc3fa" kindref="member">defaultInputDevice</ref><sp/>=<sp/>idxDevice;</highlight></codeline>
<codeline lineno="3616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>OUTPUT<sp/>!<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3621"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>deviceInfo-&gt;maxInputChannels<sp/><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3622"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>deviceInfo-&gt;maxOutputChannels<sp/>=<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a33c12a0dbd09db02923a4bd4e7d2fb17" kindref="member">maxChannels</ref>;</highlight></codeline>
<codeline lineno="3623"><highlight class="normal"></highlight></codeline>
<codeline lineno="3624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((defaultOutDevPath<sp/>==<sp/>0<sp/>||<sp/>devIsDefaultOut)<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="3625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>outArgument-&gt;<ref refid="struct_____pa_win_w_d_m_scan_device_infos_results_1ae035601f901c22bee7f4d4fb456e6f27" kindref="member">defaultOutputDevice</ref><sp/>==<sp/><ref refid="portaudio_8h_1a8c26dd5e6f28bb4cda7a1f5460282297" kindref="member">paNoDevice</ref>)</highlight></codeline>
<codeline lineno="3626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3627"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>outArgument-&gt;<ref refid="struct_____pa_win_w_d_m_scan_device_infos_results_1ae035601f901c22bee7f4d4fb456e6f27" kindref="member">defaultOutputDevice</ref><sp/>=<sp/>idxDevice;</highlight></codeline>
<codeline lineno="3628"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3630"><highlight class="normal"></highlight></codeline>
<codeline lineno="3631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>These<sp/>low<sp/>values<sp/>are<sp/>not<sp/>very<sp/>useful<sp/>because</highlight></codeline>
<codeline lineno="3632"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>a)<sp/>The<sp/>lowest<sp/>latency<sp/>we<sp/>end<sp/>up<sp/>with<sp/>can<sp/>depend<sp/>on<sp/>many<sp/>factors<sp/>such</highlight></codeline>
<codeline lineno="3633"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/>as<sp/>the<sp/>device<sp/>buffer<sp/>sizes/granularities,<sp/>sample<sp/>rate,<sp/>channels<sp/>and<sp/>format</highlight></codeline>
<codeline lineno="3634"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>b)<sp/>We<sp/>cannot<sp/>know<sp/>the<sp/>device<sp/>buffer<sp/>sizes<sp/>until<sp/>we<sp/>try<sp/>to<sp/>open/use<sp/>it<sp/>at</highlight></codeline>
<codeline lineno="3635"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/>a<sp/>particular<sp/>setting</highlight></codeline>
<codeline lineno="3636"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>So:<sp/>we<sp/>give<sp/>512x48000Hz<sp/>frames<sp/>as<sp/>the<sp/>default<sp/>low<sp/>input<sp/>latency</highlight></codeline>
<codeline lineno="3637"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3638"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(pFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1a65b71d52a0990fdb97201d0cea3f05f1" kindref="member">streamingType</ref>)</highlight></codeline>
<codeline lineno="3639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8ae39673a93d503c16300f190ed31bb349" kindref="member">Type_kWaveCyclic</ref>:</highlight></codeline>
<codeline lineno="3641"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(IsEarlierThanVista())</highlight></codeline>
<codeline lineno="3642"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>XP<sp/>doesn&apos;t<sp/>tolerate<sp/>low<sp/>latency,<sp/>unless<sp/>the<sp/>Process<sp/>Priority<sp/>Class<sp/>is<sp/>set<sp/>to<sp/>REALTIME_PRIORITY_CLASS<sp/></highlight></codeline>
<codeline lineno="3644"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>through<sp/>SetPriorityClass,<sp/>then<sp/>10<sp/>ms<sp/>is<sp/>quite<sp/>feasible.<sp/>However,<sp/>one<sp/>should<sp/>then<sp/>bear<sp/>in<sp/>mind<sp/>that<sp/>ALL<sp/>of</highlight></codeline>
<codeline lineno="3645"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>process<sp/>is<sp/>running<sp/>in<sp/>REALTIME_PRIORITY_CLASS,<sp/>which<sp/>might<sp/>not<sp/>be<sp/>appropriate<sp/>for<sp/>an<sp/>application<sp/>with</highlight></codeline>
<codeline lineno="3646"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>a<sp/>GUI<sp/>.<sp/>In<sp/>this<sp/>case<sp/>it<sp/>is<sp/>advisable<sp/>to<sp/>separate<sp/>the<sp/>audio<sp/>engine<sp/>in<sp/>another<sp/>process<sp/>and<sp/>use<sp/>IPC<sp/>to<sp/>communicate</highlight></codeline>
<codeline lineno="3647"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>with<sp/>it.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>deviceInfo-&gt;defaultLowInputLatency<sp/>=<sp/>0.02;</highlight></codeline>
<codeline lineno="3649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>deviceInfo-&gt;defaultLowOutputLatency<sp/>=<sp/>0.02;</highlight></codeline>
<codeline lineno="3650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>This<sp/>is<sp/>a<sp/>conservative<sp/>estimate.<sp/>Most<sp/>WaveCyclic<sp/>drivers<sp/>will<sp/>limit<sp/>the<sp/>available<sp/>latency,<sp/>but<sp/>f.i.<sp/>my<sp/>Edirol</highlight></codeline>
<codeline lineno="3654"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PCR-A30<sp/>can<sp/>reach<sp/>3<sp/>ms<sp/>latency<sp/>easily...<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>deviceInfo-&gt;defaultLowInputLatency<sp/>=<sp/>0.01;</highlight></codeline>
<codeline lineno="3656"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>deviceInfo-&gt;defaultLowOutputLatency<sp/>=<sp/>0.01;</highlight></codeline>
<codeline lineno="3657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>deviceInfo-&gt;defaultHighInputLatency<sp/>=<sp/>(4096.0/48000.0);</highlight></codeline>
<codeline lineno="3659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>deviceInfo-&gt;defaultHighOutputLatency<sp/>=<sp/>(4096.0/48000.0);</highlight></codeline>
<codeline lineno="3660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>deviceInfo-&gt;defaultSampleRate<sp/>=<sp/>(double)(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a690270ec5eb11c10a9a669edab5b5aa6" kindref="member">defaultSampleRate</ref>);</highlight></codeline>
<codeline lineno="3661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3662"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8a2af26020e0cc2ba29abf9235c1de3893" kindref="member">Type_kWaveRT</ref>:</highlight></codeline>
<codeline lineno="3663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>This<sp/>is<sp/>also<sp/>a<sp/>conservative<sp/>estimate,<sp/>based<sp/>on<sp/>WaveRT<sp/>polled<sp/>mode.<sp/>In<sp/>polled<sp/>mode,<sp/>the<sp/>latency<sp/>will<sp/>be<sp/>dictated</highlight></codeline>
<codeline lineno="3664"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>by<sp/>the<sp/>buffer<sp/>size<sp/>given<sp/>by<sp/>the<sp/>driver.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>deviceInfo-&gt;defaultLowInputLatency<sp/>=<sp/>0.01;</highlight></codeline>
<codeline lineno="3666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>deviceInfo-&gt;defaultLowOutputLatency<sp/>=<sp/>0.01;</highlight></codeline>
<codeline lineno="3667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>deviceInfo-&gt;defaultHighInputLatency<sp/>=<sp/>0.04;</highlight></codeline>
<codeline lineno="3668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>deviceInfo-&gt;defaultHighOutputLatency<sp/>=<sp/>0.04;</highlight></codeline>
<codeline lineno="3669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>deviceInfo-&gt;defaultSampleRate<sp/>=<sp/>(double)(pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a690270ec5eb11c10a9a669edab5b5aa6" kindref="member">defaultSampleRate</ref>);</highlight></codeline>
<codeline lineno="3670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="3672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(0);</highlight></codeline>
<codeline lineno="3673"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3675"><highlight class="normal"></highlight></codeline>
<codeline lineno="3676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Add<sp/>reference<sp/>to<sp/>filter<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3677"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FilterAddRef(wdmDeviceInfo-&gt;<ref refid="struct_____pa_win_wdm_device_info_1a6bb59c9cdcc8861941e589cf0558dfc4" kindref="member">filter</ref>);</highlight></codeline>
<codeline lineno="3678"><highlight class="normal"></highlight></codeline>
<codeline lineno="3679"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(idxDevice<sp/>&lt;<sp/>totalDeviceCount);</highlight></codeline>
<codeline lineno="3680"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++idxDevice;</highlight></codeline>
<codeline lineno="3681"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3682"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3683"><highlight class="normal"></highlight></codeline>
<codeline lineno="3684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>no<sp/>one<sp/>has<sp/>add<sp/>ref&apos;d<sp/>the<sp/>filter,<sp/>drop<sp/>it<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a7d9dcc84bbd2a8220c4e4ed6dae36181" kindref="member">filterRefCount</ref><sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="3686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FilterFree(pFilter);</highlight></codeline>
<codeline lineno="3688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3689"><highlight class="normal"></highlight></codeline>
<codeline lineno="3690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Deinitialize<sp/>name<sp/>hash<sp/>object<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3691"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DeinitNameHashObject(&amp;nameHash);</highlight></codeline>
<codeline lineno="3692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3693"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3694"><highlight class="normal"></highlight></codeline>
<codeline lineno="3695"><highlight class="normal"><sp/><sp/><sp/><sp/>*scanResults<sp/>=<sp/>outArgument;</highlight></codeline>
<codeline lineno="3696"><highlight class="normal"><sp/><sp/><sp/><sp/>*newDeviceCount<sp/>=<sp/>idxDevice;</highlight></codeline>
<codeline lineno="3697"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="3698"><highlight class="normal"></highlight></codeline>
<codeline lineno="3699"><highlight class="normal"><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>:</highlight></codeline>
<codeline lineno="3700"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>DisposeDeviceInfos(hostApi,<sp/>outArgument,<sp/>totalDeviceCount);</highlight></codeline>
<codeline lineno="3701"><highlight class="normal"></highlight></codeline>
<codeline lineno="3702"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="3703"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3704"><highlight class="normal"></highlight></codeline>
<codeline lineno="3705"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>CommitDeviceInfos(<sp/></highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/><ref refid="struct_pa_util_host_api_representation" kindref="compound">PaUtilHostApiRepresentation</ref><sp/>*hostApi,<sp/><ref refid="portaudio_8h_1aeef6da084c57c70aa94be97411e19930" kindref="member">PaHostApiIndex</ref><sp/>index,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*scanResults,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>deviceCount<sp/>)</highlight></codeline>
<codeline lineno="3706"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3707"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_host_api_representation" kindref="compound">PaWinWdmHostApiRepresentation</ref><sp/>*wdmHostApi<sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_host_api_representation" kindref="compound">PaWinWdmHostApiRepresentation</ref>*)hostApi;</highlight></codeline>
<codeline lineno="3708"><highlight class="normal"></highlight></codeline>
<codeline lineno="3709"><highlight class="normal"><sp/><sp/><sp/><sp/>hostApi-&gt;<ref refid="struct_pa_util_host_api_representation_1a9c443aa6cf07d3c46167a91b274a9e94" kindref="member">info</ref>.<ref refid="struct_pa_host_api_info_1a44e3adfaba0117a6780e2493468c96b1" kindref="member">deviceCount</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3710"><highlight class="normal"><sp/><sp/><sp/><sp/>hostApi-&gt;<ref refid="struct_pa_util_host_api_representation_1a9c443aa6cf07d3c46167a91b274a9e94" kindref="member">info</ref>.<ref refid="struct_pa_host_api_info_1a85a62057c3479d3efaa477d8562cf21d" kindref="member">defaultInputDevice</ref><sp/>=<sp/><ref refid="portaudio_8h_1a8c26dd5e6f28bb4cda7a1f5460282297" kindref="member">paNoDevice</ref>;</highlight></codeline>
<codeline lineno="3711"><highlight class="normal"><sp/><sp/><sp/><sp/>hostApi-&gt;<ref refid="struct_pa_util_host_api_representation_1a9c443aa6cf07d3c46167a91b274a9e94" kindref="member">info</ref>.<ref refid="struct_pa_host_api_info_1a62632690b5f7906d3c9bfdab91e7f4b2" kindref="member">defaultOutputDevice</ref><sp/>=<sp/><ref refid="portaudio_8h_1a8c26dd5e6f28bb4cda7a1f5460282297" kindref="member">paNoDevice</ref>;</highlight></codeline>
<codeline lineno="3712"><highlight class="normal"></highlight></codeline>
<codeline lineno="3713"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Free<sp/>any<sp/>old<sp/>memory<sp/>which<sp/>might<sp/>be<sp/>in<sp/>the<sp/>device<sp/>info<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3714"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>hostApi-&gt;<ref refid="struct_pa_util_host_api_representation_1a48dcfdf57e6d12d33314929ac213ae28" kindref="member">deviceInfos</ref><sp/>)</highlight></codeline>
<codeline lineno="3715"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_w_d_m_scan_device_infos_results" kindref="compound">PaWinWDMScanDeviceInfosResults</ref>*<sp/>localScanResults<sp/>=<sp/>(<ref refid="struct_____pa_win_w_d_m_scan_device_infos_results" kindref="compound">PaWinWDMScanDeviceInfosResults</ref>*)<ref refid="pa__allocation_8c_1ace88f0110da3a26cb8d8ed00758accf3" kindref="member">PaUtil_GroupAllocateMemory</ref>(</highlight></codeline>
<codeline lineno="3717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wdmHostApi-&gt;<ref refid="struct_____pa_win_wdm_host_api_representation_1aefaac80ee7c20f6ab43463d2a153d64c" kindref="member">allocations</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_____pa_win_w_d_m_scan_device_infos_results" kindref="compound">PaWinWDMScanDeviceInfosResults</ref>));</highlight></codeline>
<codeline lineno="3718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>localScanResults-&gt;<ref refid="struct_____pa_win_w_d_m_scan_device_infos_results_1a2fe91f3f6605d7624f4b47f4b43aa5c1" kindref="member">deviceInfos</ref><sp/>=<sp/>hostApi-&gt;<ref refid="struct_pa_util_host_api_representation_1a48dcfdf57e6d12d33314929ac213ae28" kindref="member">deviceInfos</ref>;</highlight></codeline>
<codeline lineno="3719"><highlight class="normal"></highlight></codeline>
<codeline lineno="3720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DisposeDeviceInfos(hostApi,<sp/>&amp;localScanResults,<sp/>hostApi-&gt;<ref refid="struct_pa_util_host_api_representation_1a9c443aa6cf07d3c46167a91b274a9e94" kindref="member">info</ref>.<ref refid="struct_pa_host_api_info_1a44e3adfaba0117a6780e2493468c96b1" kindref="member">deviceCount</ref>);</highlight></codeline>
<codeline lineno="3721"><highlight class="normal"></highlight></codeline>
<codeline lineno="3722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hostApi-&gt;<ref refid="struct_pa_util_host_api_representation_1a48dcfdf57e6d12d33314929ac213ae28" kindref="member">deviceInfos</ref><sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="3723"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3724"><highlight class="normal"></highlight></codeline>
<codeline lineno="3725"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>scanResults<sp/>!=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>)</highlight></codeline>
<codeline lineno="3726"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3727"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_w_d_m_scan_device_infos_results" kindref="compound">PaWinWDMScanDeviceInfosResults</ref><sp/>*scanDeviceInfosResults<sp/>=<sp/>(<sp/><ref refid="struct_____pa_win_w_d_m_scan_device_infos_results" kindref="compound">PaWinWDMScanDeviceInfosResults</ref><sp/>*<sp/>)<sp/>scanResults;</highlight></codeline>
<codeline lineno="3728"><highlight class="normal"></highlight></codeline>
<codeline lineno="3729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>deviceCount<sp/>&gt;<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="3730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3731"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>use<sp/>the<sp/>array<sp/>allocated<sp/>in<sp/>ScanDeviceInfos()<sp/>as<sp/>our<sp/>deviceInfos<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3732"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hostApi-&gt;<ref refid="struct_pa_util_host_api_representation_1a48dcfdf57e6d12d33314929ac213ae28" kindref="member">deviceInfos</ref><sp/>=<sp/>scanDeviceInfosResults-&gt;<ref refid="struct_____pa_win_w_d_m_scan_device_infos_results_1a2fe91f3f6605d7624f4b47f4b43aa5c1" kindref="member">deviceInfos</ref>;</highlight></codeline>
<codeline lineno="3733"><highlight class="normal"></highlight></codeline>
<codeline lineno="3734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hostApi-&gt;<ref refid="struct_pa_util_host_api_representation_1a9c443aa6cf07d3c46167a91b274a9e94" kindref="member">info</ref>.<ref refid="struct_pa_host_api_info_1a85a62057c3479d3efaa477d8562cf21d" kindref="member">defaultInputDevice</ref><sp/>=<sp/>scanDeviceInfosResults-&gt;<ref refid="struct_____pa_win_w_d_m_scan_device_infos_results_1ada9f50c629190a27cff9479fc24fc3fa" kindref="member">defaultInputDevice</ref>;</highlight></codeline>
<codeline lineno="3735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hostApi-&gt;<ref refid="struct_pa_util_host_api_representation_1a9c443aa6cf07d3c46167a91b274a9e94" kindref="member">info</ref>.<ref refid="struct_pa_host_api_info_1a62632690b5f7906d3c9bfdab91e7f4b2" kindref="member">defaultOutputDevice</ref><sp/>=<sp/>scanDeviceInfosResults-&gt;<ref refid="struct_____pa_win_w_d_m_scan_device_infos_results_1ae035601f901c22bee7f4d4fb456e6f27" kindref="member">defaultOutputDevice</ref>;</highlight></codeline>
<codeline lineno="3736"><highlight class="normal"></highlight></codeline>
<codeline lineno="3737"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hostApi-&gt;<ref refid="struct_pa_util_host_api_representation_1a9c443aa6cf07d3c46167a91b274a9e94" kindref="member">info</ref>.<ref refid="struct_pa_host_api_info_1a44e3adfaba0117a6780e2493468c96b1" kindref="member">deviceCount</ref><sp/>=<sp/>deviceCount;</highlight></codeline>
<codeline lineno="3738"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3739"><highlight class="normal"></highlight></codeline>
<codeline lineno="3740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__allocation_8c_1a9a53cc44b24fb0d201ee0ae9b7b6b64d" kindref="member">PaUtil_GroupFreeMemory</ref>(<sp/>wdmHostApi-&gt;<ref refid="struct_____pa_win_wdm_host_api_representation_1aefaac80ee7c20f6ab43463d2a153d64c" kindref="member">allocations</ref>,<sp/>scanDeviceInfosResults<sp/>);</highlight></codeline>
<codeline lineno="3741"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3742"><highlight class="normal"></highlight></codeline>
<codeline lineno="3743"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="3744"><highlight class="normal"></highlight></codeline>
<codeline lineno="3745"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3746"><highlight class="normal"></highlight></codeline>
<codeline lineno="3747"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>DisposeDeviceInfos(<sp/></highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/><ref refid="struct_pa_util_host_api_representation" kindref="compound">PaUtilHostApiRepresentation</ref><sp/>*hostApi,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*scanResults,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>deviceCount<sp/>)</highlight></codeline>
<codeline lineno="3748"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3749"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_host_api_representation" kindref="compound">PaWinWdmHostApiRepresentation</ref><sp/>*winDsHostApi<sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_host_api_representation" kindref="compound">PaWinWdmHostApiRepresentation</ref>*)hostApi;</highlight></codeline>
<codeline lineno="3750"><highlight class="normal"></highlight></codeline>
<codeline lineno="3751"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>scanResults<sp/>!=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>)</highlight></codeline>
<codeline lineno="3752"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3753"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_w_d_m_scan_device_infos_results" kindref="compound">PaWinWDMScanDeviceInfosResults</ref><sp/>*scanDeviceInfosResults<sp/>=<sp/>(<sp/><ref refid="struct_____pa_win_w_d_m_scan_device_infos_results" kindref="compound">PaWinWDMScanDeviceInfosResults</ref><sp/>*<sp/>)<sp/>scanResults;</highlight></codeline>
<codeline lineno="3754"><highlight class="normal"></highlight></codeline>
<codeline lineno="3755"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>scanDeviceInfosResults-&gt;<ref refid="struct_____pa_win_w_d_m_scan_device_infos_results_1a2fe91f3f6605d7624f4b47f4b43aa5c1" kindref="member">deviceInfos</ref><sp/>)</highlight></codeline>
<codeline lineno="3756"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3757"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="3758"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>deviceCount;<sp/>++<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>)</highlight></codeline>
<codeline lineno="3759"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3760"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_device_info" kindref="compound">PaWinWdmDeviceInfo</ref>*<sp/>pDevice<sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_device_info" kindref="compound">PaWinWdmDeviceInfo</ref>*)scanDeviceInfosResults-&gt;<ref refid="struct_____pa_win_w_d_m_scan_device_infos_results_1a2fe91f3f6605d7624f4b47f4b43aa5c1" kindref="member">deviceInfos</ref>[i];</highlight></codeline>
<codeline lineno="3761"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="winfun_8c_1ab24f32995c1d94525943b4568cce20cb" kindref="member">if</ref><sp/>(pDevice-&gt;<ref refid="struct_____pa_win_wdm_device_info_1a6bb59c9cdcc8861941e589cf0558dfc4" kindref="member">filter</ref><sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="3762"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FilterFree(pDevice-&gt;<ref refid="struct_____pa_win_wdm_device_info_1a6bb59c9cdcc8861941e589cf0558dfc4" kindref="member">filter</ref>);</highlight></codeline>
<codeline lineno="3764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3766"><highlight class="normal"></highlight></codeline>
<codeline lineno="3767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__allocation_8c_1a9a53cc44b24fb0d201ee0ae9b7b6b64d" kindref="member">PaUtil_GroupFreeMemory</ref>(<sp/>winDsHostApi-&gt;<ref refid="struct_____pa_win_wdm_host_api_representation_1aefaac80ee7c20f6ab43463d2a153d64c" kindref="member">allocations</ref>,<sp/>scanDeviceInfosResults-&gt;<ref refid="struct_____pa_win_w_d_m_scan_device_infos_results_1a2fe91f3f6605d7624f4b47f4b43aa5c1" kindref="member">deviceInfos</ref>[0]<sp/>);<sp/></highlight><highlight class="comment">/*<sp/>all<sp/>device<sp/>info<sp/>structs<sp/>are<sp/>allocated<sp/>in<sp/>a<sp/>block<sp/>so<sp/>we<sp/>can<sp/>destroy<sp/>them<sp/>here<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__allocation_8c_1a9a53cc44b24fb0d201ee0ae9b7b6b64d" kindref="member">PaUtil_GroupFreeMemory</ref>(<sp/>winDsHostApi-&gt;<ref refid="struct_____pa_win_wdm_host_api_representation_1aefaac80ee7c20f6ab43463d2a153d64c" kindref="member">allocations</ref>,<sp/>scanDeviceInfosResults-&gt;<ref refid="struct_____pa_win_w_d_m_scan_device_infos_results_1a2fe91f3f6605d7624f4b47f4b43aa5c1" kindref="member">deviceInfos</ref><sp/>);</highlight></codeline>
<codeline lineno="3769"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3770"><highlight class="normal"></highlight></codeline>
<codeline lineno="3771"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__allocation_8c_1a9a53cc44b24fb0d201ee0ae9b7b6b64d" kindref="member">PaUtil_GroupFreeMemory</ref>(<sp/>winDsHostApi-&gt;<ref refid="struct_____pa_win_wdm_host_api_representation_1aefaac80ee7c20f6ab43463d2a153d64c" kindref="member">allocations</ref>,<sp/>scanDeviceInfosResults<sp/>);</highlight></codeline>
<codeline lineno="3772"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3773"><highlight class="normal"></highlight></codeline>
<codeline lineno="3774"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="3775"><highlight class="normal"></highlight></codeline>
<codeline lineno="3776"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3777"><highlight class="normal"></highlight></codeline>
<codeline lineno="3778" refid="pa__win__hostapis_8c_1a69eb4c041d72171b7053264130e50a46" refkind="member"><highlight class="normal"><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/><ref refid="pa__win__wdmks_8c_1a69eb4c041d72171b7053264130e50a46" kindref="member">PaWinWdm_Initialize</ref>(<sp/><ref refid="struct_pa_util_host_api_representation" kindref="compound">PaUtilHostApiRepresentation</ref><sp/>**hostApi,<sp/><ref refid="portaudio_8h_1aeef6da084c57c70aa94be97411e19930" kindref="member">PaHostApiIndex</ref><sp/>hostApiIndex<sp/>)</highlight></codeline>
<codeline lineno="3779"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3780"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="3781"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>deviceCount<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3782"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*scanResults<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3783"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_host_api_representation" kindref="compound">PaWinWdmHostApiRepresentation</ref><sp/>*wdmHostApi<sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="3784"><highlight class="normal"></highlight></codeline>
<codeline lineno="3785"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="3786"><highlight class="normal"></highlight></codeline>
<codeline lineno="3787"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>PA_WDMKS_SET_TREF</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3788"><highlight class="normal"><sp/><sp/><sp/><sp/>tRef<sp/>=<sp/><ref refid="pa__util_8h_1a9598384d28d22d589f607ca1069cc04c" kindref="member">PaUtil_GetTime</ref>();</highlight></codeline>
<codeline lineno="3789"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3790"><highlight class="normal"></highlight></codeline>
<codeline lineno="3791"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="3792"><highlight class="comment"><sp/><sp/><sp/><sp/>Attempt<sp/>to<sp/>load<sp/>the<sp/>KSUSER.DLL<sp/>without<sp/>which<sp/>we<sp/>cannot<sp/>create<sp/>pins</highlight></codeline>
<codeline lineno="3793"><highlight class="comment"><sp/><sp/><sp/><sp/>We<sp/>will<sp/>unload<sp/>this<sp/>on<sp/>termination</highlight></codeline>
<codeline lineno="3794"><highlight class="comment"><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3795"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="pa__win__wdmks_8c_1a899ecd269a5995deeb6433a13297e6e7" kindref="member">DllKsUser</ref><sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="3796"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3797"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a899ecd269a5995deeb6433a13297e6e7" kindref="member">DllKsUser</ref><sp/>=<sp/>LoadLibrary(TEXT(</highlight><highlight class="stringliteral">&quot;ksuser.dll&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="3798"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="pa__win__wdmks_8c_1a899ecd269a5995deeb6433a13297e6e7" kindref="member">DllKsUser</ref><sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="3799"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="3800"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3801"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a6d5e1e7c5625b65ea3efb5169e7320ac" kindref="member">FunctionKsCreatePin</ref><sp/>=<sp/>(<ref refid="pa__win__wdmks_8c_1a055163a2257c29ab3084cd304d1ffb92" kindref="member">KSCREATEPIN</ref>*)GetProcAddress(<ref refid="pa__win__wdmks_8c_1a899ecd269a5995deeb6433a13297e6e7" kindref="member">DllKsUser</ref>,<sp/></highlight><highlight class="stringliteral">&quot;KsCreatePin&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="3802"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="pa__win__wdmks_8c_1a6d5e1e7c5625b65ea3efb5169e7320ac" kindref="member">FunctionKsCreatePin</ref><sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="3803"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="3804"><highlight class="normal"></highlight></codeline>
<codeline lineno="3805"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Attempt<sp/>to<sp/>load<sp/>AVRT.DLL,<sp/>if<sp/>we<sp/>can&apos;t,<sp/>then<sp/>we&apos;ll<sp/>just<sp/>use<sp/>time<sp/>critical<sp/>prio<sp/>instead...<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3806"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(paWinWDMKSAvRtEntryPoints.<ref refid="struct_pa_win_w_d_m_k_s_av_rt_entry_points_1a01e8bf87daf173079d8cc9eab3bb91ea" kindref="member">hInstance</ref><sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="3807"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3808"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>paWinWDMKSAvRtEntryPoints.<ref refid="struct_pa_win_w_d_m_k_s_av_rt_entry_points_1a01e8bf87daf173079d8cc9eab3bb91ea" kindref="member">hInstance</ref><sp/>=<sp/>LoadLibrary(TEXT(</highlight><highlight class="stringliteral">&quot;avrt.dll&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="3809"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(paWinWDMKSAvRtEntryPoints.<ref refid="struct_pa_win_w_d_m_k_s_av_rt_entry_points_1a01e8bf87daf173079d8cc9eab3bb91ea" kindref="member">hInstance</ref><sp/>!=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="3810"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3811"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>paWinWDMKSAvRtEntryPoints.AvSetMmThreadCharacteristics<sp/>=</highlight></codeline>
<codeline lineno="3812"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref>(<ref refid="mapinls_8h_1a9aa60e1ead64be77ad551e745cbfd4d3" kindref="member">WINAPI</ref>*)(<ref refid="mapinls_8h_1a866fd74f5159bb4d319261005a5e85e0" kindref="member">LPCSTR</ref>,<ref refid="pa__win__wasapi_8c_1ad025b87f212fcc6085a0b88ed1acd0e2" kindref="member">LPDWORD</ref>))GetProcAddress(paWinWDMKSAvRtEntryPoints.<ref refid="struct_pa_win_w_d_m_k_s_av_rt_entry_points_1a01e8bf87daf173079d8cc9eab3bb91ea" kindref="member">hInstance</ref>,</highlight><highlight class="stringliteral">&quot;AvSetMmThreadCharacteristicsA&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="3813"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>paWinWDMKSAvRtEntryPoints.AvRevertMmThreadCharacteristics<sp/>=</highlight></codeline>
<codeline lineno="3814"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="readbinaryplist_8c_1ae4cc35dcc70810fa972cc8a5185a28fa" kindref="member">BOOL</ref>(<ref refid="mapinls_8h_1a9aa60e1ead64be77ad551e745cbfd4d3" kindref="member">WINAPI</ref>*)(<ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref>))GetProcAddress(paWinWDMKSAvRtEntryPoints.<ref refid="struct_pa_win_w_d_m_k_s_av_rt_entry_points_1a01e8bf87daf173079d8cc9eab3bb91ea" kindref="member">hInstance</ref>,<sp/></highlight><highlight class="stringliteral">&quot;AvRevertMmThreadCharacteristics&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="3815"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>paWinWDMKSAvRtEntryPoints.AvSetMmThreadPriority<sp/>=</highlight></codeline>
<codeline lineno="3816"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(<ref refid="readbinaryplist_8c_1ae4cc35dcc70810fa972cc8a5185a28fa" kindref="member">BOOL</ref>(<ref refid="mapinls_8h_1a9aa60e1ead64be77ad551e745cbfd4d3" kindref="member">WINAPI</ref>*)(<ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref>,<ref refid="pa__win__wdmks_8c_1a3c538d73971d3be18d19d6cc57e02602" kindref="member">PA_AVRT_PRIORITY</ref>))GetProcAddress(paWinWDMKSAvRtEntryPoints.<ref refid="struct_pa_win_w_d_m_k_s_av_rt_entry_points_1a01e8bf87daf173079d8cc9eab3bb91ea" kindref="member">hInstance</ref>,<sp/></highlight><highlight class="stringliteral">&quot;AvSetMmThreadPriority&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="3817"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3818"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3819"><highlight class="normal"></highlight></codeline>
<codeline lineno="3820"><highlight class="normal"><sp/><sp/><sp/><sp/>wdmHostApi<sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_host_api_representation" kindref="compound">PaWinWdmHostApiRepresentation</ref>*)<ref refid="pa__util_8h_1aa614f193aff12744a6ab90a9eb3128f0" kindref="member">PaUtil_AllocateMemory</ref>(<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_____pa_win_wdm_host_api_representation" kindref="compound">PaWinWdmHostApiRepresentation</ref>)<sp/>);</highlight></codeline>
<codeline lineno="3821"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>!wdmHostApi<sp/>)</highlight></codeline>
<codeline lineno="3822"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3823"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="3824"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="3825"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3826"><highlight class="normal"></highlight></codeline>
<codeline lineno="3827"><highlight class="normal"><sp/><sp/><sp/><sp/>wdmHostApi-&gt;<ref refid="struct_____pa_win_wdm_host_api_representation_1aefaac80ee7c20f6ab43463d2a153d64c" kindref="member">allocations</ref><sp/>=<sp/><ref refid="pa__allocation_8c_1a9cc7370b73e75f690ab0a0360e7fffee" kindref="member">PaUtil_CreateAllocationGroup</ref>();</highlight></codeline>
<codeline lineno="3828"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>!wdmHostApi-&gt;<ref refid="struct_____pa_win_wdm_host_api_representation_1aefaac80ee7c20f6ab43463d2a153d64c" kindref="member">allocations</ref><sp/>)</highlight></codeline>
<codeline lineno="3829"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3830"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="3831"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="3832"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3833"><highlight class="normal"></highlight></codeline>
<codeline lineno="3834"><highlight class="normal"><sp/><sp/><sp/><sp/>*hostApi<sp/>=<sp/>&amp;wdmHostApi-&gt;<ref refid="struct_____pa_win_wdm_host_api_representation_1a73b6839eeeedfad62406b6929c26d3ad" kindref="member">inheritedHostApiRep</ref>;</highlight></codeline>
<codeline lineno="3835"><highlight class="normal"><sp/><sp/><sp/><sp/>(*hostApi)-&gt;<ref refid="struct_pa_util_host_api_representation_1a9c443aa6cf07d3c46167a91b274a9e94" kindref="member">info</ref>.<ref refid="struct_pa_host_api_info_1a1f3a8c465488e7af8024237256d80c14" kindref="member">structVersion</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="3836"><highlight class="normal"><sp/><sp/><sp/><sp/>(*hostApi)-&gt;info.type<sp/>=<sp/><ref refid="portaudio_8h_1a8eaebe3d39c5ea45598da8f86dc2e5aeacb4ba221afe42867d96ab345ee13d78d" kindref="member">paWDMKS</ref>;</highlight></codeline>
<codeline lineno="3837"><highlight class="normal"><sp/><sp/><sp/><sp/>(*hostApi)-&gt;info.name<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Windows<sp/>WDM-KS&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3838"><highlight class="normal"></highlight></codeline>
<codeline lineno="3839"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>these<sp/>are<sp/>all<sp/>updated<sp/>by<sp/>CommitDeviceInfos()<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3840"><highlight class="normal"><sp/><sp/><sp/><sp/>(*hostApi)-&gt;info.deviceCount<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3841"><highlight class="normal"><sp/><sp/><sp/><sp/>(*hostApi)-&gt;info.defaultInputDevice<sp/>=<sp/><ref refid="portaudio_8h_1a8c26dd5e6f28bb4cda7a1f5460282297" kindref="member">paNoDevice</ref>;</highlight></codeline>
<codeline lineno="3842"><highlight class="normal"><sp/><sp/><sp/><sp/>(*hostApi)-&gt;info.defaultOutputDevice<sp/>=<sp/><ref refid="portaudio_8h_1a8c26dd5e6f28bb4cda7a1f5460282297" kindref="member">paNoDevice</ref>;</highlight></codeline>
<codeline lineno="3843"><highlight class="normal"><sp/><sp/><sp/><sp/>(*hostApi)-&gt;deviceInfos<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3844"><highlight class="normal"></highlight></codeline>
<codeline lineno="3845"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>ScanDeviceInfos(&amp;wdmHostApi-&gt;<ref refid="struct_____pa_win_wdm_host_api_representation_1a73b6839eeeedfad62406b6929c26d3ad" kindref="member">inheritedHostApiRep</ref>,<sp/>hostApiIndex,<sp/>&amp;scanResults,<sp/>&amp;deviceCount);</highlight></codeline>
<codeline lineno="3846"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="3847"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3848"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="3849"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3850"><highlight class="normal"></highlight></codeline>
<codeline lineno="3851"><highlight class="normal"><sp/><sp/><sp/><sp/>CommitDeviceInfos(&amp;wdmHostApi-&gt;<ref refid="struct_____pa_win_wdm_host_api_representation_1a73b6839eeeedfad62406b6929c26d3ad" kindref="member">inheritedHostApiRep</ref>,<sp/>hostApiIndex,<sp/>scanResults,<sp/>deviceCount);</highlight></codeline>
<codeline lineno="3852"><highlight class="normal"></highlight></codeline>
<codeline lineno="3853"><highlight class="normal"><sp/><sp/><sp/><sp/>(*hostApi)-&gt;Terminate<sp/>=<sp/>Terminate;</highlight></codeline>
<codeline lineno="3854"><highlight class="normal"><sp/><sp/><sp/><sp/>(*hostApi)-&gt;OpenStream<sp/>=<sp/>OpenStream;</highlight></codeline>
<codeline lineno="3855"><highlight class="normal"><sp/><sp/><sp/><sp/>(*hostApi)-&gt;IsFormatSupported<sp/>=<sp/>IsFormatSupported;</highlight></codeline>
<codeline lineno="3856"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>In<sp/>preparation<sp/>for<sp/>hotplug</highlight></codeline>
<codeline lineno="3857"><highlight class="comment"><sp/><sp/><sp/><sp/>(*hostApi)-&gt;ScanDeviceInfos<sp/>=<sp/>ScanDeviceInfos;</highlight></codeline>
<codeline lineno="3858"><highlight class="comment"><sp/><sp/><sp/><sp/>(*hostApi)-&gt;CommitDeviceInfos<sp/>=<sp/>CommitDeviceInfos;</highlight></codeline>
<codeline lineno="3859"><highlight class="comment"><sp/><sp/><sp/><sp/>(*hostApi)-&gt;DisposeDeviceInfos<sp/>=<sp/>DisposeDeviceInfos;</highlight></codeline>
<codeline lineno="3860"><highlight class="comment"><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3861"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__stream_8c_1a7ae912708e0bb060028f25e6f95333b7" kindref="member">PaUtil_InitializeStreamInterface</ref>(<sp/>&amp;wdmHostApi-&gt;<ref refid="struct_____pa_win_wdm_host_api_representation_1af4dec3b34a520b1b2aa393fbca9e2c9e" kindref="member">callbackStreamInterface</ref>,<sp/>CloseStream,<sp/>StartStream,</highlight></codeline>
<codeline lineno="3862"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>StopStream,<sp/>AbortStream,<sp/>IsStreamStopped,<sp/>IsStreamActive,</highlight></codeline>
<codeline lineno="3863"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GetStreamTime,<sp/>GetStreamCpuLoad,</highlight></codeline>
<codeline lineno="3864"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__stream_8c_1ae7a66186864e1f27f9e274e1de562219" kindref="member">PaUtil_DummyRead</ref>,<sp/><ref refid="pa__stream_8c_1a827035da5bb7141143595519b0c0edc7" kindref="member">PaUtil_DummyWrite</ref>,</highlight></codeline>
<codeline lineno="3865"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__stream_8c_1aa43032a8fcb0d7b271f6049e4dc69e5c" kindref="member">PaUtil_DummyGetReadAvailable</ref>,<sp/><ref refid="pa__stream_8c_1aa4742249759bc11f31590db47cd19c2b" kindref="member">PaUtil_DummyGetWriteAvailable</ref><sp/>);</highlight></codeline>
<codeline lineno="3866"><highlight class="normal"></highlight></codeline>
<codeline lineno="3867"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__stream_8c_1a7ae912708e0bb060028f25e6f95333b7" kindref="member">PaUtil_InitializeStreamInterface</ref>(<sp/>&amp;wdmHostApi-&gt;<ref refid="struct_____pa_win_wdm_host_api_representation_1a040a7b4993995b26c9128826a8644050" kindref="member">blockingStreamInterface</ref>,<sp/>CloseStream,<sp/>StartStream,</highlight></codeline>
<codeline lineno="3868"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>StopStream,<sp/>AbortStream,<sp/>IsStreamStopped,<sp/>IsStreamActive,</highlight></codeline>
<codeline lineno="3869"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GetStreamTime,<sp/><ref refid="pa__stream_8c_1aba19e5ce44bb3621b6ca257959c30b43" kindref="member">PaUtil_DummyGetCpuLoad</ref>,</highlight></codeline>
<codeline lineno="3870"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__mac__core__blocking_8c_1a9e7f111c33d1e80f40473846864e84fa" kindref="member">ReadStream</ref>,<sp/><ref refid="pa__mac__core__blocking_8c_1a0cfb7772846808945bd521d23d5626eb" kindref="member">WriteStream</ref>,<sp/><ref refid="pa__mac__core__blocking_8c_1a82aa1e30985c7924247e8f45fc356d46" kindref="member">GetStreamReadAvailable</ref>,<sp/><ref refid="pa__mac__core__blocking_8c_1ad7ee6bd74b3109101f1eb4ca0514c8b0" kindref="member">GetStreamWriteAvailable</ref><sp/>);</highlight></codeline>
<codeline lineno="3871"><highlight class="normal"></highlight></codeline>
<codeline lineno="3872"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="3873"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="3874"><highlight class="normal"></highlight></codeline>
<codeline lineno="3875"><highlight class="normal"><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>:</highlight></codeline>
<codeline lineno="3876"><highlight class="normal"><sp/><sp/><sp/><sp/>Terminate(<sp/>(<ref refid="struct_pa_util_host_api_representation" kindref="compound">PaUtilHostApiRepresentation</ref>*)wdmHostApi<sp/>);</highlight></codeline>
<codeline lineno="3877"><highlight class="normal"></highlight></codeline>
<codeline lineno="3878"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="3879"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="3880"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3881"><highlight class="normal"></highlight></codeline>
<codeline lineno="3882"><highlight class="normal"></highlight></codeline>
<codeline lineno="3883"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Terminate(<sp/></highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/><ref refid="struct_pa_util_host_api_representation" kindref="compound">PaUtilHostApiRepresentation</ref><sp/>*hostApi<sp/>)</highlight></codeline>
<codeline lineno="3884"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3885"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_host_api_representation" kindref="compound">PaWinWdmHostApiRepresentation</ref><sp/>*wdmHostApi<sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_host_api_representation" kindref="compound">PaWinWdmHostApiRepresentation</ref>*)hostApi;</highlight></codeline>
<codeline lineno="3886"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="3887"><highlight class="normal"></highlight></codeline>
<codeline lineno="3888"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Do<sp/>not<sp/>unload<sp/>the<sp/>libraries<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3889"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/><ref refid="pa__win__wdmks_8c_1a899ecd269a5995deeb6433a13297e6e7" kindref="member">DllKsUser</ref><sp/>!=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>)</highlight></codeline>
<codeline lineno="3890"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3891"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FreeLibrary(<sp/><ref refid="pa__win__wdmks_8c_1a899ecd269a5995deeb6433a13297e6e7" kindref="member">DllKsUser</ref><sp/>);</highlight></codeline>
<codeline lineno="3892"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a899ecd269a5995deeb6433a13297e6e7" kindref="member">DllKsUser</ref><sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="3893"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3894"><highlight class="normal"></highlight></codeline>
<codeline lineno="3895"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>paWinWDMKSAvRtEntryPoints.<ref refid="struct_pa_win_w_d_m_k_s_av_rt_entry_points_1a01e8bf87daf173079d8cc9eab3bb91ea" kindref="member">hInstance</ref><sp/>!=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>)</highlight></codeline>
<codeline lineno="3896"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3897"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FreeLibrary(<sp/>paWinWDMKSAvRtEntryPoints.<ref refid="struct_pa_win_w_d_m_k_s_av_rt_entry_points_1a01e8bf87daf173079d8cc9eab3bb91ea" kindref="member">hInstance</ref><sp/>);</highlight></codeline>
<codeline lineno="3898"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>paWinWDMKSAvRtEntryPoints.<ref refid="struct_pa_win_w_d_m_k_s_av_rt_entry_points_1a01e8bf87daf173079d8cc9eab3bb91ea" kindref="member">hInstance</ref><sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="3899"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3900"><highlight class="normal"></highlight></codeline>
<codeline lineno="3901"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>wdmHostApi)</highlight></codeline>
<codeline lineno="3902"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3903"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_w_d_m_scan_device_infos_results" kindref="compound">PaWinWDMScanDeviceInfosResults</ref>*<sp/>localScanResults<sp/>=<sp/>(<ref refid="struct_____pa_win_w_d_m_scan_device_infos_results" kindref="compound">PaWinWDMScanDeviceInfosResults</ref>*)<ref refid="pa__allocation_8c_1ace88f0110da3a26cb8d8ed00758accf3" kindref="member">PaUtil_GroupAllocateMemory</ref>(</highlight></codeline>
<codeline lineno="3904"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wdmHostApi-&gt;<ref refid="struct_____pa_win_wdm_host_api_representation_1aefaac80ee7c20f6ab43463d2a153d64c" kindref="member">allocations</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_____pa_win_w_d_m_scan_device_infos_results" kindref="compound">PaWinWDMScanDeviceInfosResults</ref>));</highlight></codeline>
<codeline lineno="3905"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>localScanResults-&gt;<ref refid="struct_____pa_win_w_d_m_scan_device_infos_results_1a2fe91f3f6605d7624f4b47f4b43aa5c1" kindref="member">deviceInfos</ref><sp/>=<sp/>hostApi-&gt;<ref refid="struct_pa_util_host_api_representation_1a48dcfdf57e6d12d33314929ac213ae28" kindref="member">deviceInfos</ref>;</highlight></codeline>
<codeline lineno="3906"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DisposeDeviceInfos(hostApi,<sp/>localScanResults,<sp/>hostApi-&gt;<ref refid="struct_pa_util_host_api_representation_1a9c443aa6cf07d3c46167a91b274a9e94" kindref="member">info</ref>.<ref refid="struct_pa_host_api_info_1a44e3adfaba0117a6780e2493468c96b1" kindref="member">deviceCount</ref>);</highlight></codeline>
<codeline lineno="3907"><highlight class="normal"></highlight></codeline>
<codeline lineno="3908"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>wdmHostApi-&gt;<ref refid="struct_____pa_win_wdm_host_api_representation_1aefaac80ee7c20f6ab43463d2a153d64c" kindref="member">allocations</ref><sp/>)</highlight></codeline>
<codeline lineno="3909"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3910"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__allocation_8c_1aa83a07899e8db63d415d03f68b1f8a3d" kindref="member">PaUtil_FreeAllAllocations</ref>(<sp/>wdmHostApi-&gt;<ref refid="struct_____pa_win_wdm_host_api_representation_1aefaac80ee7c20f6ab43463d2a153d64c" kindref="member">allocations</ref><sp/>);</highlight></codeline>
<codeline lineno="3911"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__allocation_8c_1aefcb1143eaa768c2b555bd203f1c9deb" kindref="member">PaUtil_DestroyAllocationGroup</ref>(<sp/>wdmHostApi-&gt;<ref refid="struct_____pa_win_wdm_host_api_representation_1aefaac80ee7c20f6ab43463d2a153d64c" kindref="member">allocations</ref><sp/>);</highlight></codeline>
<codeline lineno="3912"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3913"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__util_8h_1a27a8f85d109600ef246e5c642c5c3cad" kindref="member">PaUtil_FreeMemory</ref>(<sp/>wdmHostApi<sp/>);</highlight></codeline>
<codeline lineno="3914"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3915"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="3916"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3917"><highlight class="normal"></highlight></codeline>
<codeline lineno="3918"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>IsFormatSupported(<sp/></highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/><ref refid="struct_pa_util_host_api_representation" kindref="compound">PaUtilHostApiRepresentation</ref><sp/>*hostApi,</highlight></codeline>
<codeline lineno="3919"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_pa_stream_parameters" kindref="compound">PaStreamParameters</ref><sp/>*inputParameters,</highlight></codeline>
<codeline lineno="3920"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_pa_stream_parameters" kindref="compound">PaStreamParameters</ref><sp/>*outputParameters,</highlight></codeline>
<codeline lineno="3921"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="namespacepatest__suggested__vs__streaminfo__latency_1a14f2ecd6f756d329f6df4096833062d0" kindref="member">sampleRate</ref><sp/>)</highlight></codeline>
<codeline lineno="3922"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3923"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>inputChannelCount,<sp/>outputChannelCount;</highlight></codeline>
<codeline lineno="3924"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4582d93c2c2e60e12be3d74c5fe00b96" kindref="member">PaSampleFormat</ref><sp/>inputSampleFormat,<sp/>outputSampleFormat;</highlight></codeline>
<codeline lineno="3925"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_host_api_representation" kindref="compound">PaWinWdmHostApiRepresentation</ref><sp/>*wdmHostApi<sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_host_api_representation" kindref="compound">PaWinWdmHostApiRepresentation</ref>*)hostApi;</highlight></codeline>
<codeline lineno="3926"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/>pFilter;</highlight></codeline>
<codeline lineno="3927"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a400df642339bf4112333060af6a43c0f" kindref="member">paFormatIsSupported</ref>;</highlight></codeline>
<codeline lineno="3928"><highlight class="normal"><sp/><sp/><sp/><sp/>WAVEFORMATEXTENSIBLE<sp/>wfx;</highlight></codeline>
<codeline lineno="3929"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__waveformat_8h_1ad7a5a909f82e3f45d4c690d09d53a3f4" kindref="member">PaWinWaveFormatChannelMask</ref><sp/>channelMask;</highlight></codeline>
<codeline lineno="3930"><highlight class="normal"></highlight></codeline>
<codeline lineno="3931"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="3932"><highlight class="normal"></highlight></codeline>
<codeline lineno="3933"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>inputParameters<sp/>)</highlight></codeline>
<codeline lineno="3934"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3935"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_device_info" kindref="compound">PaWinWdmDeviceInfo</ref>*<sp/>pDeviceInfo<sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_device_info" kindref="compound">PaWinWdmDeviceInfo</ref>*)wdmHostApi-&gt;<ref refid="struct_____pa_win_wdm_host_api_representation_1a73b6839eeeedfad62406b6929c26d3ad" kindref="member">inheritedHostApiRep</ref>.<ref refid="struct_pa_util_host_api_representation_1a48dcfdf57e6d12d33314929ac213ae28" kindref="member">deviceInfos</ref>[inputParameters-&gt;<ref refid="struct_pa_stream_parameters_1aebaf648b4d11dd1252a747b76b8da084" kindref="member">device</ref>];</highlight></codeline>
<codeline lineno="3936"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pin;</highlight></codeline>
<codeline lineno="3937"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>fmt;</highlight></codeline>
<codeline lineno="3938"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>testFormat<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3939"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>validBits<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="3940"><highlight class="normal"></highlight></codeline>
<codeline lineno="3941"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>inputChannelCount<sp/>=<sp/>inputParameters-&gt;<ref refid="struct_pa_stream_parameters_1a861ff361da71fc2572dd356c9c9878ca" kindref="member">channelCount</ref>;</highlight></codeline>
<codeline lineno="3942"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>inputSampleFormat<sp/>=<sp/>inputParameters-&gt;<ref refid="struct_pa_stream_parameters_1ad8d2d3063757b812f9e5f8709f41052b" kindref="member">sampleFormat</ref>;</highlight></codeline>
<codeline lineno="3943"><highlight class="normal"></highlight></codeline>
<codeline lineno="3944"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>all<sp/>standard<sp/>sample<sp/>formats<sp/>are<sp/>supported<sp/>by<sp/>the<sp/>buffer<sp/>adapter,</highlight></codeline>
<codeline lineno="3945"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this<sp/>implementation<sp/>doesn&apos;t<sp/>support<sp/>any<sp/>custom<sp/>sample<sp/>formats<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3946"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>inputSampleFormat<sp/>&amp;<sp/><ref refid="portaudio_8h_1aba595f6b645c8134a8ac3004957b9ff7" kindref="member">paCustomFormat</ref><sp/>)</highlight></codeline>
<codeline lineno="3947"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3948"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(<ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a69660cd762aec2672fd3393e0971e99c" kindref="member">paSampleFormatNotSupported</ref>,<sp/></highlight><highlight class="stringliteral">&quot;IsFormatSupported:<sp/>Custom<sp/>input<sp/>format<sp/>not<sp/>supported&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="3949"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a69660cd762aec2672fd3393e0971e99c" kindref="member">paSampleFormatNotSupported</ref>;</highlight></codeline>
<codeline lineno="3950"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3951"><highlight class="normal"></highlight></codeline>
<codeline lineno="3952"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>unless<sp/>alternate<sp/>device<sp/>specification<sp/>is<sp/>supported,<sp/>reject<sp/>the<sp/>use<sp/>of</highlight></codeline>
<codeline lineno="3953"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>paUseHostApiSpecificDeviceSpecification<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3954"><highlight class="normal"></highlight></codeline>
<codeline lineno="3955"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>inputParameters-&gt;<ref refid="struct_pa_stream_parameters_1aebaf648b4d11dd1252a747b76b8da084" kindref="member">device</ref><sp/>==<sp/><ref refid="portaudio_8h_1a14795fe3377c3b037025a61e550d44b5" kindref="member">paUseHostApiSpecificDeviceSpecification</ref><sp/>)</highlight></codeline>
<codeline lineno="3956"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3957"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(<ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a3442d8018bfa4329847d87df68b564a3" kindref="member">paInvalidDevice</ref>,<sp/></highlight><highlight class="stringliteral">&quot;IsFormatSupported:<sp/>paUseHostApiSpecificDeviceSpecification<sp/>not<sp/>supported&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="3958"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a3442d8018bfa4329847d87df68b564a3" kindref="member">paInvalidDevice</ref>;</highlight></codeline>
<codeline lineno="3959"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3960"><highlight class="normal"></highlight></codeline>
<codeline lineno="3961"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>check<sp/>that<sp/>input<sp/>device<sp/>can<sp/>support<sp/>inputChannelCount<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3962"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>inputChannelCount<sp/>&gt;<sp/>hostApi-&gt;<ref refid="struct_pa_util_host_api_representation_1a48dcfdf57e6d12d33314929ac213ae28" kindref="member">deviceInfos</ref>[<sp/>inputParameters-&gt;<ref refid="struct_pa_stream_parameters_1aebaf648b4d11dd1252a747b76b8da084" kindref="member">device</ref><sp/>]-&gt;<ref refid="struct_pa_device_info_1ad0baeeb2b6ceaf7fc9bb76109a7555e9" kindref="member">maxInputChannels</ref><sp/>)</highlight></codeline>
<codeline lineno="3963"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3964"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(<ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a46c51714378540c67c46895e726fb787" kindref="member">paInvalidChannelCount</ref>,<sp/></highlight><highlight class="stringliteral">&quot;IsFormatSupported:<sp/>Invalid<sp/>input<sp/>channel<sp/>count&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="3965"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a46c51714378540c67c46895e726fb787" kindref="member">paInvalidChannelCount</ref>;</highlight></codeline>
<codeline lineno="3966"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3967"><highlight class="normal"></highlight></codeline>
<codeline lineno="3968"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>validate<sp/>inputStreamInfo<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3969"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>inputParameters-&gt;<ref refid="struct_pa_stream_parameters_1aff01b9fa0710ad1654471e97665c06a9" kindref="member">hostApiSpecificStreamInfo</ref><sp/>)</highlight></codeline>
<codeline lineno="3970"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3971"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(<ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a44f6cce375a3d38af28652179a400403" kindref="member">paIncompatibleHostApiSpecificStreamInfo</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Host<sp/>API<sp/>stream<sp/>info<sp/>not<sp/>supported&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="3972"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a44f6cce375a3d38af28652179a400403" kindref="member">paIncompatibleHostApiSpecificStreamInfo</ref>;<sp/></highlight><highlight class="comment">/*<sp/>this<sp/>implementation<sp/>doesn&apos;t<sp/>use<sp/>custom<sp/>stream<sp/>info<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3973"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3974"><highlight class="normal"></highlight></codeline>
<codeline lineno="3975"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pFilter<sp/>=<sp/>pDeviceInfo-&gt;<ref refid="struct_____pa_win_wdm_device_info_1a6bb59c9cdcc8861941e589cf0558dfc4" kindref="member">filter</ref>;</highlight></codeline>
<codeline lineno="3976"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin<sp/>=<sp/>pFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1abe74b1bbe62a54025b7c05bd8519d19f" kindref="member">pins</ref>[pDeviceInfo-&gt;<ref refid="struct_____pa_win_wdm_device_info_1ad47a164d9d771b528bb67bb8da07c839" kindref="member">pin</ref>];</highlight></codeline>
<codeline lineno="3977"><highlight class="normal"></highlight></codeline>
<codeline lineno="3978"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Find<sp/>out<sp/>the<sp/>testing<sp/>format<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3979"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(fmt<sp/>=<sp/><ref refid="portaudio_8h_1a2f16d29916725b8791eae60ab9e0b081" kindref="member">paFloat32</ref>;<sp/>fmt<sp/>&lt;=<sp/><ref refid="portaudio_8h_1ad826044e4ffe7b16bf990803ab77df37" kindref="member">paUInt8</ref>;<sp/>fmt<sp/>&lt;&lt;=<sp/>1)</highlight></codeline>
<codeline lineno="3980"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3981"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((fmt<sp/>&amp;<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1aaa618474b3f5813e67f4ade59e6c9540" kindref="member">formats</ref>)<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="3982"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3983"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Found<sp/>a<sp/>matching<sp/>format!<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3984"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>testFormat<sp/>=<sp/>fmt;</highlight></codeline>
<codeline lineno="3985"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3986"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3987"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3988"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(testFormat<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="3989"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3990"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(result,<sp/></highlight><highlight class="stringliteral">&quot;IsFormatSupported(capture)<sp/>failed:<sp/>no<sp/>testformat<sp/>found!&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="3991"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a47726071f5dccc656d5e3ff20bbfc5a0" kindref="member">paUnanticipatedHostError</ref>;</highlight></codeline>
<codeline lineno="3992"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3993"><highlight class="normal"></highlight></codeline>
<codeline lineno="3994"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Due<sp/>to<sp/>special<sp/>considerations,<sp/>WaveRT<sp/>devices<sp/>with<sp/>paInt24<sp/>should<sp/>be<sp/>tested<sp/>with<sp/>paInt32<sp/>and</highlight></codeline>
<codeline lineno="3995"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>valid<sp/>bits<sp/>=<sp/>24<sp/>(instead<sp/>of<sp/>24<sp/>bit<sp/>samples)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3996"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1a65b71d52a0990fdb97201d0cea3f05f1" kindref="member">streamingType</ref><sp/>==<sp/><ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8a2af26020e0cc2ba29abf9235c1de3893" kindref="member">Type_kWaveRT</ref><sp/>&amp;&amp;<sp/>testFormat<sp/>==<sp/><ref refid="portaudio_8h_1a7f891a0bd9e94a94a8f446c176b749e7" kindref="member">paInt24</ref>)</highlight></codeline>
<codeline lineno="3997"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="3998"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;IsFormatSupported<sp/>(capture):<sp/>WaveRT<sp/>overriding<sp/>testFormat<sp/>paInt24<sp/>with<sp/>paInt32<sp/>(24<sp/>valid<sp/>bits)&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="3999"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>testFormat<sp/>=<sp/><ref refid="portaudio_8h_1a6fea69f3d81b628288325c06310b2fcf" kindref="member">paInt32</ref>;</highlight></codeline>
<codeline lineno="4000"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>validBits<sp/>=<sp/>24;</highlight></codeline>
<codeline lineno="4001"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4002"><highlight class="normal"></highlight></codeline>
<codeline lineno="4003"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>that<sp/>the<sp/>input<sp/>format<sp/>is<sp/>supported<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4004"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>channelMask<sp/>=<sp/><ref refid="pa__win__waveformat_8h_1a896ca4135770c9fcaa5ae16f7a51a703" kindref="member">PaWin_DefaultChannelMask</ref>(inputChannelCount);</highlight></codeline>
<codeline lineno="4005"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__waveformat_8h_1ac3391f1ab413c0cebd9be096e6092667" kindref="member">PaWin_InitializeWaveFormatExtensible</ref>((<ref refid="struct_pa_win_wave_format" kindref="compound">PaWinWaveFormat</ref>*)&amp;wfx,</highlight></codeline>
<codeline lineno="4006"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>inputChannelCount,<sp/></highlight></codeline>
<codeline lineno="4007"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>testFormat,</highlight></codeline>
<codeline lineno="4008"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__waveformat_8h_1ab26e932e222866ce6d1590e2d7e33896" kindref="member">PaWin_SampleFormatToLinearWaveFormatTag</ref>(testFormat),</highlight></codeline>
<codeline lineno="4009"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sampleRate,</highlight></codeline>
<codeline lineno="4010"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>channelMask<sp/>);</highlight></codeline>
<codeline lineno="4011"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(validBits<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="4012"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4013"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wfx.Samples.wValidBitsPerSample<sp/>=<sp/>validBits;</highlight></codeline>
<codeline lineno="4014"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4015"><highlight class="normal"></highlight></codeline>
<codeline lineno="4016"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>PinIsFormatSupported(pin,<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>WAVEFORMATEX*)&amp;wfx);</highlight></codeline>
<codeline lineno="4017"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref><sp/>)</highlight></codeline>
<codeline lineno="4018"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4019"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Try<sp/>a<sp/>WAVE_FORMAT_PCM<sp/>instead<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4020"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__waveformat_8h_1a0d39d3ba4a04ea6c0274544ebeb2f33b" kindref="member">PaWin_InitializeWaveFormatEx</ref>((<ref refid="struct_pa_win_wave_format" kindref="compound">PaWinWaveFormat</ref>*)&amp;wfx,</highlight></codeline>
<codeline lineno="4021"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>inputChannelCount,<sp/></highlight></codeline>
<codeline lineno="4022"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>testFormat,</highlight></codeline>
<codeline lineno="4023"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__waveformat_8h_1ab26e932e222866ce6d1590e2d7e33896" kindref="member">PaWin_SampleFormatToLinearWaveFormatTag</ref>(testFormat),</highlight></codeline>
<codeline lineno="4024"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sampleRate);</highlight></codeline>
<codeline lineno="4025"><highlight class="normal"></highlight></codeline>
<codeline lineno="4026"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(validBits<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="4027"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4028"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wfx.Samples.wValidBitsPerSample<sp/>=<sp/>validBits;</highlight></codeline>
<codeline lineno="4029"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4030"><highlight class="normal"></highlight></codeline>
<codeline lineno="4031"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>PinIsFormatSupported(pin,<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>WAVEFORMATEX*)&amp;wfx);</highlight></codeline>
<codeline lineno="4032"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref><sp/>)</highlight></codeline>
<codeline lineno="4033"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4034"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(result,<sp/></highlight><highlight class="stringliteral">&quot;IsFormatSupported(capture)<sp/>failed:<sp/>sr=%u,ch=%u,bits=%u&quot;</highlight><highlight class="normal">,<sp/>wfx.Format.nSamplesPerSec,<sp/>wfx.Format.nChannels,<sp/>wfx.Format.wBitsPerSample);</highlight></codeline>
<codeline lineno="4035"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="4036"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4037"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4038"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4039"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4040"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4041"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>inputChannelCount<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4042"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4043"><highlight class="normal"></highlight></codeline>
<codeline lineno="4044"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>outputParameters<sp/>)</highlight></codeline>
<codeline lineno="4045"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4046"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_device_info" kindref="compound">PaWinWdmDeviceInfo</ref>*<sp/>pDeviceInfo<sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_device_info" kindref="compound">PaWinWdmDeviceInfo</ref>*)wdmHostApi-&gt;<ref refid="struct_____pa_win_wdm_host_api_representation_1a73b6839eeeedfad62406b6929c26d3ad" kindref="member">inheritedHostApiRep</ref>.<ref refid="struct_pa_util_host_api_representation_1a48dcfdf57e6d12d33314929ac213ae28" kindref="member">deviceInfos</ref>[outputParameters-&gt;<ref refid="struct_pa_stream_parameters_1aebaf648b4d11dd1252a747b76b8da084" kindref="member">device</ref>];</highlight></codeline>
<codeline lineno="4047"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pin;</highlight></codeline>
<codeline lineno="4048"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>fmt;</highlight></codeline>
<codeline lineno="4049"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>testFormat<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4050"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>validBits<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4051"><highlight class="normal"></highlight></codeline>
<codeline lineno="4052"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>outputChannelCount<sp/>=<sp/>outputParameters-&gt;<ref refid="struct_pa_stream_parameters_1a861ff361da71fc2572dd356c9c9878ca" kindref="member">channelCount</ref>;</highlight></codeline>
<codeline lineno="4053"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>outputSampleFormat<sp/>=<sp/>outputParameters-&gt;<ref refid="struct_pa_stream_parameters_1ad8d2d3063757b812f9e5f8709f41052b" kindref="member">sampleFormat</ref>;</highlight></codeline>
<codeline lineno="4054"><highlight class="normal"></highlight></codeline>
<codeline lineno="4055"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>all<sp/>standard<sp/>sample<sp/>formats<sp/>are<sp/>supported<sp/>by<sp/>the<sp/>buffer<sp/>adapter,</highlight></codeline>
<codeline lineno="4056"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this<sp/>implementation<sp/>doesn&apos;t<sp/>support<sp/>any<sp/>custom<sp/>sample<sp/>formats<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4057"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>outputSampleFormat<sp/>&amp;<sp/><ref refid="portaudio_8h_1aba595f6b645c8134a8ac3004957b9ff7" kindref="member">paCustomFormat</ref><sp/>)</highlight></codeline>
<codeline lineno="4058"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4059"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(<ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a69660cd762aec2672fd3393e0971e99c" kindref="member">paSampleFormatNotSupported</ref>,<sp/></highlight><highlight class="stringliteral">&quot;IsFormatSupported:<sp/>Custom<sp/>output<sp/>format<sp/>not<sp/>supported&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4060"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a69660cd762aec2672fd3393e0971e99c" kindref="member">paSampleFormatNotSupported</ref>;</highlight></codeline>
<codeline lineno="4061"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4062"><highlight class="normal"></highlight></codeline>
<codeline lineno="4063"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>unless<sp/>alternate<sp/>device<sp/>specification<sp/>is<sp/>supported,<sp/>reject<sp/>the<sp/>use<sp/>of</highlight></codeline>
<codeline lineno="4064"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>paUseHostApiSpecificDeviceSpecification<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4065"><highlight class="normal"></highlight></codeline>
<codeline lineno="4066"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>outputParameters-&gt;<ref refid="struct_pa_stream_parameters_1aebaf648b4d11dd1252a747b76b8da084" kindref="member">device</ref><sp/>==<sp/><ref refid="portaudio_8h_1a14795fe3377c3b037025a61e550d44b5" kindref="member">paUseHostApiSpecificDeviceSpecification</ref><sp/>)</highlight></codeline>
<codeline lineno="4067"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4068"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(<ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a3442d8018bfa4329847d87df68b564a3" kindref="member">paInvalidDevice</ref>,<sp/></highlight><highlight class="stringliteral">&quot;IsFormatSupported:<sp/>paUseHostApiSpecificDeviceSpecification<sp/>not<sp/>supported&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4069"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a3442d8018bfa4329847d87df68b564a3" kindref="member">paInvalidDevice</ref>;</highlight></codeline>
<codeline lineno="4070"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4071"><highlight class="normal"></highlight></codeline>
<codeline lineno="4072"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>check<sp/>that<sp/>output<sp/>device<sp/>can<sp/>support<sp/>outputChannelCount<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4073"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>outputChannelCount<sp/>&gt;<sp/>hostApi-&gt;<ref refid="struct_pa_util_host_api_representation_1a48dcfdf57e6d12d33314929ac213ae28" kindref="member">deviceInfos</ref>[<sp/>outputParameters-&gt;<ref refid="struct_pa_stream_parameters_1aebaf648b4d11dd1252a747b76b8da084" kindref="member">device</ref><sp/>]-&gt;<ref refid="struct_pa_device_info_1a48f908b21e8a11fdf0a88132b18fe7b0" kindref="member">maxOutputChannels</ref><sp/>)</highlight></codeline>
<codeline lineno="4074"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4075"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(<ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a46c51714378540c67c46895e726fb787" kindref="member">paInvalidChannelCount</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Invalid<sp/>output<sp/>channel<sp/>count&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4076"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a46c51714378540c67c46895e726fb787" kindref="member">paInvalidChannelCount</ref>;</highlight></codeline>
<codeline lineno="4077"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4078"><highlight class="normal"></highlight></codeline>
<codeline lineno="4079"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>validate<sp/>outputStreamInfo<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4080"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>outputParameters-&gt;<ref refid="struct_pa_stream_parameters_1aff01b9fa0710ad1654471e97665c06a9" kindref="member">hostApiSpecificStreamInfo</ref><sp/>)</highlight></codeline>
<codeline lineno="4081"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4082"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(<ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a44f6cce375a3d38af28652179a400403" kindref="member">paIncompatibleHostApiSpecificStreamInfo</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Host<sp/>API<sp/>stream<sp/>info<sp/>not<sp/>supported&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4083"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a44f6cce375a3d38af28652179a400403" kindref="member">paIncompatibleHostApiSpecificStreamInfo</ref>;<sp/></highlight><highlight class="comment">/*<sp/>this<sp/>implementation<sp/>doesn&apos;t<sp/>use<sp/>custom<sp/>stream<sp/>info<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4084"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4085"><highlight class="normal"></highlight></codeline>
<codeline lineno="4086"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pFilter<sp/>=<sp/>pDeviceInfo-&gt;<ref refid="struct_____pa_win_wdm_device_info_1a6bb59c9cdcc8861941e589cf0558dfc4" kindref="member">filter</ref>;</highlight></codeline>
<codeline lineno="4087"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pin<sp/>=<sp/>pFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1abe74b1bbe62a54025b7c05bd8519d19f" kindref="member">pins</ref>[pDeviceInfo-&gt;<ref refid="struct_____pa_win_wdm_device_info_1ad47a164d9d771b528bb67bb8da07c839" kindref="member">pin</ref>];</highlight></codeline>
<codeline lineno="4088"><highlight class="normal"></highlight></codeline>
<codeline lineno="4089"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Find<sp/>out<sp/>the<sp/>testing<sp/>format<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4090"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(fmt<sp/>=<sp/><ref refid="portaudio_8h_1a2f16d29916725b8791eae60ab9e0b081" kindref="member">paFloat32</ref>;<sp/>fmt<sp/>&lt;=<sp/><ref refid="portaudio_8h_1ad826044e4ffe7b16bf990803ab77df37" kindref="member">paUInt8</ref>;<sp/>fmt<sp/>&lt;&lt;=<sp/>1)</highlight></codeline>
<codeline lineno="4091"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4092"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((fmt<sp/>&amp;<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1aaa618474b3f5813e67f4ade59e6c9540" kindref="member">formats</ref>)<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="4093"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4094"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Found<sp/>a<sp/>matching<sp/>format!<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4095"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>testFormat<sp/>=<sp/>fmt;</highlight></codeline>
<codeline lineno="4096"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4097"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4098"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4099"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(testFormat<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="4100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(result,<sp/></highlight><highlight class="stringliteral">&quot;IsFormatSupported(render)<sp/>failed:<sp/>no<sp/>testformat<sp/>found!&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a47726071f5dccc656d5e3ff20bbfc5a0" kindref="member">paUnanticipatedHostError</ref>;</highlight></codeline>
<codeline lineno="4103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4104"><highlight class="normal"></highlight></codeline>
<codeline lineno="4105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Due<sp/>to<sp/>special<sp/>considerations,<sp/>WaveRT<sp/>devices<sp/>with<sp/>paInt24<sp/>should<sp/>be<sp/>tested<sp/>with<sp/>paInt32<sp/>and</highlight></codeline>
<codeline lineno="4106"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>valid<sp/>bits<sp/>=<sp/>24<sp/>(instead<sp/>of<sp/>24<sp/>bit<sp/>samples)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1a65b71d52a0990fdb97201d0cea3f05f1" kindref="member">streamingType</ref><sp/>==<sp/><ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8a2af26020e0cc2ba29abf9235c1de3893" kindref="member">Type_kWaveRT</ref><sp/>&amp;&amp;<sp/>testFormat<sp/>==<sp/><ref refid="portaudio_8h_1a7f891a0bd9e94a94a8f446c176b749e7" kindref="member">paInt24</ref>)</highlight></codeline>
<codeline lineno="4108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;IsFormatSupported<sp/>(render):<sp/>WaveRT<sp/>overriding<sp/>testFormat<sp/>paInt24<sp/>with<sp/>paInt32<sp/>(24<sp/>valid<sp/>bits)&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="4110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>testFormat<sp/>=<sp/><ref refid="portaudio_8h_1a6fea69f3d81b628288325c06310b2fcf" kindref="member">paInt32</ref>;</highlight></codeline>
<codeline lineno="4111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>validBits<sp/>=<sp/>24;</highlight></codeline>
<codeline lineno="4112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4113"><highlight class="normal"></highlight></codeline>
<codeline lineno="4114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Check<sp/>that<sp/>the<sp/>output<sp/>format<sp/>is<sp/>supported<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>channelMask<sp/>=<sp/><ref refid="pa__win__waveformat_8h_1a896ca4135770c9fcaa5ae16f7a51a703" kindref="member">PaWin_DefaultChannelMask</ref>(outputChannelCount);</highlight></codeline>
<codeline lineno="4116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__waveformat_8h_1ac3391f1ab413c0cebd9be096e6092667" kindref="member">PaWin_InitializeWaveFormatExtensible</ref>((<ref refid="struct_pa_win_wave_format" kindref="compound">PaWinWaveFormat</ref>*)&amp;wfx,</highlight></codeline>
<codeline lineno="4117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>outputChannelCount,<sp/></highlight></codeline>
<codeline lineno="4118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>testFormat,</highlight></codeline>
<codeline lineno="4119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__waveformat_8h_1ab26e932e222866ce6d1590e2d7e33896" kindref="member">PaWin_SampleFormatToLinearWaveFormatTag</ref>(testFormat),</highlight></codeline>
<codeline lineno="4120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sampleRate,</highlight></codeline>
<codeline lineno="4121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>channelMask<sp/>);</highlight></codeline>
<codeline lineno="4122"><highlight class="normal"></highlight></codeline>
<codeline lineno="4123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(validBits<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="4124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wfx.Samples.wValidBitsPerSample<sp/>=<sp/>validBits;</highlight></codeline>
<codeline lineno="4126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4127"><highlight class="normal"></highlight></codeline>
<codeline lineno="4128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>PinIsFormatSupported(pin,<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>WAVEFORMATEX*)&amp;wfx);</highlight></codeline>
<codeline lineno="4129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref><sp/>)</highlight></codeline>
<codeline lineno="4130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Try<sp/>a<sp/>WAVE_FORMAT_PCM<sp/>instead<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__waveformat_8h_1a0d39d3ba4a04ea6c0274544ebeb2f33b" kindref="member">PaWin_InitializeWaveFormatEx</ref>((<ref refid="struct_pa_win_wave_format" kindref="compound">PaWinWaveFormat</ref>*)&amp;wfx,</highlight></codeline>
<codeline lineno="4133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>outputChannelCount,<sp/></highlight></codeline>
<codeline lineno="4134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>testFormat,</highlight></codeline>
<codeline lineno="4135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__waveformat_8h_1ab26e932e222866ce6d1590e2d7e33896" kindref="member">PaWin_SampleFormatToLinearWaveFormatTag</ref>(testFormat),</highlight></codeline>
<codeline lineno="4136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sampleRate);</highlight></codeline>
<codeline lineno="4137"><highlight class="normal"></highlight></codeline>
<codeline lineno="4138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(validBits<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="4139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wfx.Samples.wValidBitsPerSample<sp/>=<sp/>validBits;</highlight></codeline>
<codeline lineno="4141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4142"><highlight class="normal"></highlight></codeline>
<codeline lineno="4143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>PinIsFormatSupported(pin,<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>WAVEFORMATEX*)&amp;wfx);</highlight></codeline>
<codeline lineno="4144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref><sp/>)</highlight></codeline>
<codeline lineno="4145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(result,<sp/></highlight><highlight class="stringliteral">&quot;IsFormatSupported(render)<sp/>failed:<sp/>%u,%u,%u&quot;</highlight><highlight class="normal">,<sp/>wfx.Format.nSamplesPerSec,<sp/>wfx.Format.nChannels,<sp/>wfx.Format.wBitsPerSample);</highlight></codeline>
<codeline lineno="4147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="4148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4150"><highlight class="normal"></highlight></codeline>
<codeline lineno="4151"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4152"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4153"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>outputChannelCount<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4155"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4156"><highlight class="normal"></highlight></codeline>
<codeline lineno="4157"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="4158"><highlight class="comment"><sp/><sp/><sp/><sp/>IMPLEMENT<sp/>ME:</highlight></codeline>
<codeline lineno="4159"><highlight class="comment"></highlight></codeline>
<codeline lineno="4160"><highlight class="comment"><sp/><sp/><sp/><sp/>-<sp/>if<sp/>a<sp/>full<sp/>duplex<sp/>stream<sp/>is<sp/>requested,<sp/>check<sp/>that<sp/>the<sp/>combination</highlight></codeline>
<codeline lineno="4161"><highlight class="comment"><sp/><sp/><sp/><sp/>of<sp/>input<sp/>and<sp/>output<sp/>parameters<sp/>is<sp/>supported<sp/>if<sp/>necessary</highlight></codeline>
<codeline lineno="4162"><highlight class="comment"></highlight></codeline>
<codeline lineno="4163"><highlight class="comment"><sp/><sp/><sp/><sp/>-<sp/>check<sp/>that<sp/>the<sp/>device<sp/>supports<sp/>sampleRate</highlight></codeline>
<codeline lineno="4164"><highlight class="comment"></highlight></codeline>
<codeline lineno="4165"><highlight class="comment"><sp/><sp/><sp/><sp/>Because<sp/>the<sp/>buffer<sp/>adapter<sp/>handles<sp/>conversion<sp/>between<sp/>all<sp/>standard</highlight></codeline>
<codeline lineno="4166"><highlight class="comment"><sp/><sp/><sp/><sp/>sample<sp/>formats,<sp/>the<sp/>following<sp/>checks<sp/>are<sp/>only<sp/>required<sp/>if<sp/>paCustomFormat</highlight></codeline>
<codeline lineno="4167"><highlight class="comment"><sp/><sp/><sp/><sp/>is<sp/>implemented,<sp/>or<sp/>under<sp/>some<sp/>other<sp/>unusual<sp/>conditions.</highlight></codeline>
<codeline lineno="4168"><highlight class="comment"></highlight></codeline>
<codeline lineno="4169"><highlight class="comment"><sp/><sp/><sp/><sp/>-<sp/>check<sp/>that<sp/>input<sp/>device<sp/>can<sp/>support<sp/>inputSampleFormat,<sp/>or<sp/>that</highlight></codeline>
<codeline lineno="4170"><highlight class="comment"><sp/><sp/><sp/><sp/>we<sp/>have<sp/>the<sp/>capability<sp/>to<sp/>convert<sp/>from<sp/>inputSampleFormat<sp/>to</highlight></codeline>
<codeline lineno="4171"><highlight class="comment"><sp/><sp/><sp/><sp/>a<sp/>native<sp/>format</highlight></codeline>
<codeline lineno="4172"><highlight class="comment"></highlight></codeline>
<codeline lineno="4173"><highlight class="comment"><sp/><sp/><sp/><sp/>-<sp/>check<sp/>that<sp/>output<sp/>device<sp/>can<sp/>support<sp/>outputSampleFormat,<sp/>or<sp/>that</highlight></codeline>
<codeline lineno="4174"><highlight class="comment"><sp/><sp/><sp/><sp/>we<sp/>have<sp/>the<sp/>capability<sp/>to<sp/>convert<sp/>from<sp/>outputSampleFormat<sp/>to</highlight></codeline>
<codeline lineno="4175"><highlight class="comment"><sp/><sp/><sp/><sp/>a<sp/>native<sp/>format</highlight></codeline>
<codeline lineno="4176"><highlight class="comment"><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4177"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((inputChannelCount<sp/>==<sp/>0)&amp;&amp;(outputChannelCount<sp/>==<sp/>0))</highlight></codeline>
<codeline lineno="4178"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(<ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a69660cd762aec2672fd3393e0971e99c" kindref="member">paSampleFormatNotSupported</ref>,<sp/></highlight><highlight class="stringliteral">&quot;No<sp/>input<sp/>or<sp/>output<sp/>channels<sp/>defined&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a69660cd762aec2672fd3393e0971e99c" kindref="member">paSampleFormatNotSupported</ref>;<sp/></highlight><highlight class="comment">/*<sp/>Not<sp/>right<sp/>error<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4181"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4182"><highlight class="normal"></highlight></codeline>
<codeline lineno="4183"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="4184"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="4185"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4186"><highlight class="normal"></highlight></codeline>
<codeline lineno="4187"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>ResetStreamEvents(<ref refid="struct_____pa_win_wdm_stream" kindref="compound">PaWinWdmStream</ref>*<sp/>stream)<sp/></highlight></codeline>
<codeline lineno="4188"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4189"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="4190"><highlight class="normal"><sp/><sp/><sp/><sp/>ResetEvent(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a2ec042a491ca1d0d8a071f4c4901e4c4" kindref="member">eventAbort</ref>);</highlight></codeline>
<codeline lineno="4191"><highlight class="normal"><sp/><sp/><sp/><sp/>ResetEvent(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a03f53464c73a442fdb86f340fe54e369" kindref="member">eventStreamStart</ref>[<ref refid="pa__win__wdmks_8c_1abf83566c082ff992efb67a6a533c7ec5a46bc3f5ea073342703b3dd6904d564a7" kindref="member">StreamStart_kOk</ref>]);</highlight></codeline>
<codeline lineno="4192"><highlight class="normal"><sp/><sp/><sp/><sp/>ResetEvent(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a03f53464c73a442fdb86f340fe54e369" kindref="member">eventStreamStart</ref>[<ref refid="pa__win__wdmks_8c_1abf83566c082ff992efb67a6a533c7ec5ab05b936607a5bdb4dad033e21a349c7a" kindref="member">StreamStart_kFailed</ref>]);</highlight></codeline>
<codeline lineno="4193"><highlight class="normal"></highlight></codeline>
<codeline lineno="4194"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i=0;<sp/>i&lt;stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a09ddd7e42c3b90a750e3769f20258201" kindref="member">noOfPackets</ref>;<sp/>++<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>)</highlight></codeline>
<codeline lineno="4195"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" kindref="member">events</ref><sp/>&amp;&amp;<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" kindref="member">events</ref>[i])</highlight></codeline>
<codeline lineno="4197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ResetEvent(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" kindref="member">events</ref>[i]);</highlight></codeline>
<codeline lineno="4199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4200"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4201"><highlight class="normal"></highlight></codeline>
<codeline lineno="4202"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i=0;<sp/>i&lt;stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a09ddd7e42c3b90a750e3769f20258201" kindref="member">noOfPackets</ref>;<sp/>++<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>)</highlight></codeline>
<codeline lineno="4203"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" kindref="member">events</ref><sp/>&amp;&amp;<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" kindref="member">events</ref>[i])</highlight></codeline>
<codeline lineno="4205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ResetEvent(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" kindref="member">events</ref>[i]);</highlight></codeline>
<codeline lineno="4207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4208"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4209"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4210"><highlight class="normal"></highlight></codeline>
<codeline lineno="4211"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>CloseStreamEvents(<ref refid="struct_____pa_win_wdm_stream" kindref="compound">PaWinWdmStream</ref>*<sp/>stream)<sp/></highlight></codeline>
<codeline lineno="4212"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4213"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="4214"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_i_o_info" kindref="compound">PaWinWdmIOInfo</ref>*<sp/>ios[2]<sp/>=<sp/>{<sp/>&amp;stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>,<sp/>&amp;stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref><sp/>};</highlight></codeline>
<codeline lineno="4215"><highlight class="normal"></highlight></codeline>
<codeline lineno="4216"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a2ec042a491ca1d0d8a071f4c4901e4c4" kindref="member">eventAbort</ref>)</highlight></codeline>
<codeline lineno="4217"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CloseHandle(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a2ec042a491ca1d0d8a071f4c4901e4c4" kindref="member">eventAbort</ref>);</highlight></codeline>
<codeline lineno="4219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a2ec042a491ca1d0d8a071f4c4901e4c4" kindref="member">eventAbort</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4220"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4221"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a03f53464c73a442fdb86f340fe54e369" kindref="member">eventStreamStart</ref>[<ref refid="pa__win__wdmks_8c_1abf83566c082ff992efb67a6a533c7ec5a46bc3f5ea073342703b3dd6904d564a7" kindref="member">StreamStart_kOk</ref>])</highlight></codeline>
<codeline lineno="4222"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CloseHandle(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a03f53464c73a442fdb86f340fe54e369" kindref="member">eventStreamStart</ref>[<ref refid="pa__win__wdmks_8c_1abf83566c082ff992efb67a6a533c7ec5a46bc3f5ea073342703b3dd6904d564a7" kindref="member">StreamStart_kOk</ref>]);</highlight></codeline>
<codeline lineno="4224"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4225"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a03f53464c73a442fdb86f340fe54e369" kindref="member">eventStreamStart</ref>[<ref refid="pa__win__wdmks_8c_1abf83566c082ff992efb67a6a533c7ec5ab05b936607a5bdb4dad033e21a349c7a" kindref="member">StreamStart_kFailed</ref>])</highlight></codeline>
<codeline lineno="4226"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CloseHandle(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a03f53464c73a442fdb86f340fe54e369" kindref="member">eventStreamStart</ref>[<ref refid="pa__win__wdmks_8c_1abf83566c082ff992efb67a6a533c7ec5ab05b936607a5bdb4dad033e21a349c7a" kindref="member">StreamStart_kFailed</ref>]);</highlight></codeline>
<codeline lineno="4228"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4229"><highlight class="normal"></highlight></codeline>
<codeline lineno="4230"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>2;<sp/>++<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>)</highlight></codeline>
<codeline lineno="4231"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>j;</highlight></codeline>
<codeline lineno="4233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Unregister<sp/>notification<sp/>handles<sp/>for<sp/>WaveRT<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ios[i]-&gt;pPin<sp/>&amp;&amp;<sp/>ios[i]-&gt;pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1a65b71d52a0990fdb97201d0cea3f05f1" kindref="member">streamingType</ref><sp/>==<sp/><ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8a2af26020e0cc2ba29abf9235c1de3893" kindref="member">Type_kWaveRT</ref><sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="4235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ios[i]-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a8f64c1157494c02e8be9d85d72f359fe" kindref="member">pinKsSubType</ref><sp/>==<sp/><ref refid="pa__win__wdmks_8h_1ab1fecd3bd8c22ca5820fee46fc9d89c2a49c6ee27f3848a25e01bb7e7e9dd4ef5" kindref="member">SubType_kNotification</ref><sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="4236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ios[i]-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" kindref="member">events</ref><sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="4237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PinUnregisterNotificationHandle(ios[i]-&gt;pPin,<sp/>ios[i]-&gt;events[0]);</highlight></codeline>
<codeline lineno="4239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4240"><highlight class="normal"></highlight></codeline>
<codeline lineno="4241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(j=0;<sp/>j<sp/>&lt;<sp/>ios[<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>]-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1a09ddd7e42c3b90a750e3769f20258201" kindref="member">noOfPackets</ref>;<sp/>++j)</highlight></codeline>
<codeline lineno="4242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ios[i]-&gt;events<sp/>&amp;&amp;<sp/>ios[i]-&gt;events[j])</highlight></codeline>
<codeline lineno="4244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CloseHandle(ios[i]-&gt;events[j]);</highlight></codeline>
<codeline lineno="4246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ios[<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>]-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" kindref="member">events</ref>[j]<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4249"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4250"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4251"><highlight class="normal"></highlight></codeline>
<codeline lineno="4252"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>NextPowerOf2(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>val)</highlight></codeline>
<codeline lineno="4253"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4254"><highlight class="normal"><sp/><sp/><sp/><sp/>val--;</highlight></codeline>
<codeline lineno="4255"><highlight class="normal"><sp/><sp/><sp/><sp/>val<sp/>=<sp/>(val<sp/>&gt;&gt;<sp/>1)<sp/>|<sp/>val;</highlight></codeline>
<codeline lineno="4256"><highlight class="normal"><sp/><sp/><sp/><sp/>val<sp/>=<sp/>(val<sp/>&gt;&gt;<sp/>2)<sp/>|<sp/>val;</highlight></codeline>
<codeline lineno="4257"><highlight class="normal"><sp/><sp/><sp/><sp/>val<sp/>=<sp/>(val<sp/>&gt;&gt;<sp/>4)<sp/>|<sp/>val;</highlight></codeline>
<codeline lineno="4258"><highlight class="normal"><sp/><sp/><sp/><sp/>val<sp/>=<sp/>(val<sp/>&gt;&gt;<sp/>8)<sp/>|<sp/>val;</highlight></codeline>
<codeline lineno="4259"><highlight class="normal"><sp/><sp/><sp/><sp/>val<sp/>=<sp/>(val<sp/>&gt;&gt;<sp/>16)<sp/>|<sp/>val;</highlight></codeline>
<codeline lineno="4260"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>++val;</highlight></codeline>
<codeline lineno="4261"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4262"><highlight class="normal"></highlight></codeline>
<codeline lineno="4263"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>ValidateSpecificStreamParameters(</highlight></codeline>
<codeline lineno="4264"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_pa_stream_parameters" kindref="compound">PaStreamParameters</ref><sp/>*streamParameters,</highlight></codeline>
<codeline lineno="4265"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_pa_win_w_d_m_k_s_info" kindref="compound">PaWinWDMKSInfo</ref><sp/>*streamInfo,</highlight></codeline>
<codeline lineno="4266"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>isInput)</highlight></codeline>
<codeline lineno="4267"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4268"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>streamInfo<sp/>)</highlight></codeline>
<codeline lineno="4269"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>streamInfo-&gt;<ref refid="struct_pa_win_w_d_m_k_s_info_1a550f4ab63732471599e64a2961a63125" kindref="member">size</ref><sp/>!=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<sp/><ref refid="struct_pa_win_w_d_m_k_s_info" kindref="compound">PaWinWDMKSInfo</ref><sp/>)</highlight></codeline>
<codeline lineno="4271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>||<sp/>streamInfo-&gt;<ref refid="struct_pa_win_w_d_m_k_s_info_1a17221c5458a73c0295dff5cef739eb7d" kindref="member">version</ref><sp/>!=<sp/>1<sp/>)</highlight></codeline>
<codeline lineno="4272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Stream<sp/>parameters:<sp/>size<sp/>or<sp/>version<sp/>not<sp/>correct&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="4274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a44f6cce375a3d38af28652179a400403" kindref="member">paIncompatibleHostApiSpecificStreamInfo</ref>;</highlight></codeline>
<codeline lineno="4275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4276"><highlight class="normal"></highlight></codeline>
<codeline lineno="4277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!!(streamInfo-&gt;<ref refid="struct_pa_win_w_d_m_k_s_info_1a2c46387aee219e1499120b056d74e94d" kindref="member">flags</ref><sp/>&amp;<sp/>~(<ref refid="pa__win__wdmks_8h_1a6ce14ca806f017e4cbf6b8439a8d1ac9a6d237f8c6e3b6eb5a5894f5b5a62e750" kindref="member">paWinWDMKSOverrideFramesize</ref><sp/>|<sp/><ref refid="pa__win__wdmks_8h_1a6ce14ca806f017e4cbf6b8439a8d1ac9a4879ce686baaf3d76df4d55a34e48e41" kindref="member">paWinWDMKSUseGivenChannelMask</ref>)))</highlight></codeline>
<codeline lineno="4278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Stream<sp/>parameters:<sp/>non<sp/>supported<sp/>flags<sp/>set&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="4280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a44f6cce375a3d38af28652179a400403" kindref="member">paIncompatibleHostApiSpecificStreamInfo</ref>;</highlight></codeline>
<codeline lineno="4281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4282"><highlight class="normal"></highlight></codeline>
<codeline lineno="4283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(streamInfo-&gt;<ref refid="struct_pa_win_w_d_m_k_s_info_1af1a2e073583ac238a60f1acbee470e28" kindref="member">noOfPackets</ref><sp/>!=<sp/>0<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="4284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(streamInfo-&gt;<ref refid="struct_pa_win_w_d_m_k_s_info_1af1a2e073583ac238a60f1acbee470e28" kindref="member">noOfPackets</ref><sp/>&lt;<sp/>2<sp/>||<sp/>streamInfo-&gt;<ref refid="struct_pa_win_w_d_m_k_s_info_1af1a2e073583ac238a60f1acbee470e28" kindref="member">noOfPackets</ref><sp/>&gt;<sp/>8))</highlight></codeline>
<codeline lineno="4285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Stream<sp/>parameters:<sp/>noOfPackets<sp/>%u<sp/>out<sp/>of<sp/>range<sp/>[2,8]&quot;</highlight><highlight class="normal">,<sp/>streamInfo-&gt;<ref refid="struct_pa_win_w_d_m_k_s_info_1af1a2e073583ac238a60f1acbee470e28" kindref="member">noOfPackets</ref>));</highlight></codeline>
<codeline lineno="4287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a44f6cce375a3d38af28652179a400403" kindref="member">paIncompatibleHostApiSpecificStreamInfo</ref>;</highlight></codeline>
<codeline lineno="4288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4289"><highlight class="normal"></highlight></codeline>
<codeline lineno="4290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(streamInfo-&gt;<ref refid="struct_pa_win_w_d_m_k_s_info_1a2c46387aee219e1499120b056d74e94d" kindref="member">flags</ref><sp/>&amp;<sp/><ref refid="pa__win__wdmks_8h_1a6ce14ca806f017e4cbf6b8439a8d1ac9a4879ce686baaf3d76df4d55a34e48e41" kindref="member">paWinWDMKSUseGivenChannelMask</ref>)</highlight></codeline>
<codeline lineno="4291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(isInput)</highlight></codeline>
<codeline lineno="4293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Stream<sp/>parameters:<sp/>Channels<sp/>mask<sp/>setting<sp/>not<sp/>supported<sp/>for<sp/>input<sp/>stream&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="4295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a44f6cce375a3d38af28652179a400403" kindref="member">paIncompatibleHostApiSpecificStreamInfo</ref>;</highlight></codeline>
<codeline lineno="4296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4297"><highlight class="normal"></highlight></codeline>
<codeline lineno="4298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(streamInfo-&gt;<ref refid="struct_pa_win_w_d_m_k_s_info_1a07cee1fc3c28bbf431672040b4256f5c" kindref="member">channelMask</ref><sp/>&amp;<sp/><ref refid="pa__win__waveformat_8h_1a2a5ad2f7e7b9a5277bf435adf3fda459" kindref="member">PAWIN_SPEAKER_RESERVED</ref>)</highlight></codeline>
<codeline lineno="4299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Stream<sp/>parameters:<sp/>Given<sp/>channels<sp/>mask<sp/>0x%08X<sp/>not<sp/>supported&quot;</highlight><highlight class="normal">,<sp/>streamInfo-&gt;<ref refid="struct_pa_win_w_d_m_k_s_info_1a07cee1fc3c28bbf431672040b4256f5c" kindref="member">channelMask</ref>));</highlight></codeline>
<codeline lineno="4301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a44f6cce375a3d38af28652179a400403" kindref="member">paIncompatibleHostApiSpecificStreamInfo</ref>;</highlight></codeline>
<codeline lineno="4302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4304"><highlight class="normal"></highlight></codeline>
<codeline lineno="4305"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4306"><highlight class="normal"></highlight></codeline>
<codeline lineno="4307"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="4308"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4309"><highlight class="normal"></highlight></codeline>
<codeline lineno="4310"><highlight class="normal"></highlight></codeline>
<codeline lineno="4311"><highlight class="normal"></highlight></codeline>
<codeline lineno="4312"><highlight class="normal"></highlight></codeline>
<codeline lineno="4313"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>see<sp/>pa_hostapi.h<sp/>for<sp/>a<sp/>list<sp/>of<sp/>validity<sp/>guarantees<sp/>made<sp/>about<sp/>OpenStream<sp/>parameters<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4314"><highlight class="normal"></highlight></codeline>
<codeline lineno="4315"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>OpenStream(<sp/></highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/><ref refid="struct_pa_util_host_api_representation" kindref="compound">PaUtilHostApiRepresentation</ref><sp/>*hostApi,</highlight></codeline>
<codeline lineno="4316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref>**<sp/><ref refid="lib_2expat_8h_1a755339d27872b13735c2cab829e47157" kindref="member">s</ref>,</highlight></codeline>
<codeline lineno="4317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_pa_stream_parameters" kindref="compound">PaStreamParameters</ref><sp/>*inputParameters,</highlight></codeline>
<codeline lineno="4318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_pa_stream_parameters" kindref="compound">PaStreamParameters</ref><sp/>*outputParameters,</highlight></codeline>
<codeline lineno="4319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>sampleRate,</highlight></codeline>
<codeline lineno="4320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>framesPerUserBuffer,</highlight></codeline>
<codeline lineno="4321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a37c7ac3ace7d2dd1430f40ecdee4ebb6" kindref="member">PaStreamFlags</ref><sp/>streamFlags,</highlight></codeline>
<codeline lineno="4322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a8a60fb2a5ec9cbade3f54a9c978e2710" kindref="member">PaStreamCallback</ref><sp/>*streamCallback,</highlight></codeline>
<codeline lineno="4323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<ref refid="xmlparse_8c_1a4b666535c828e23ccd16510a0a1a1943" kindref="member">userData</ref><sp/>)</highlight></codeline>
<codeline lineno="4324"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4325"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="4326"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_host_api_representation" kindref="compound">PaWinWdmHostApiRepresentation</ref><sp/>*wdmHostApi<sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_host_api_representation" kindref="compound">PaWinWdmHostApiRepresentation</ref>*)hostApi;</highlight></codeline>
<codeline lineno="4327"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream" kindref="compound">PaWinWdmStream</ref><sp/>*stream<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4328"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>unsigned<sp/>long<sp/>framesPerHostBuffer;<sp/>these<sp/>may<sp/>not<sp/>be<sp/>equivalent<sp/>for<sp/>all<sp/>implementations<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4329"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4582d93c2c2e60e12be3d74c5fe00b96" kindref="member">PaSampleFormat</ref><sp/>inputSampleFormat,<sp/>outputSampleFormat;</highlight></codeline>
<codeline lineno="4330"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4582d93c2c2e60e12be3d74c5fe00b96" kindref="member">PaSampleFormat</ref><sp/>hostInputSampleFormat,<sp/>hostOutputSampleFormat;</highlight></codeline>
<codeline lineno="4331"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>userInputChannels,userOutputChannels;</highlight></codeline>
<codeline lineno="4332"><highlight class="normal"><sp/><sp/><sp/><sp/>WAVEFORMATEXTENSIBLE<sp/>wfx;</highlight></codeline>
<codeline lineno="4333"><highlight class="normal"></highlight></codeline>
<codeline lineno="4334"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="4335"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;OpenStream:sampleRate<sp/>=<sp/>%f\n&quot;</highlight><highlight class="normal">,sampleRate));</highlight></codeline>
<codeline lineno="4336"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;OpenStream:framesPerBuffer<sp/>=<sp/>%lu\n&quot;</highlight><highlight class="normal">,framesPerUserBuffer));</highlight></codeline>
<codeline lineno="4337"><highlight class="normal"></highlight></codeline>
<codeline lineno="4338"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>inputParameters<sp/>)</highlight></codeline>
<codeline lineno="4339"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>userInputChannels<sp/>=<sp/>inputParameters-&gt;<ref refid="struct_pa_stream_parameters_1a861ff361da71fc2572dd356c9c9878ca" kindref="member">channelCount</ref>;</highlight></codeline>
<codeline lineno="4341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>inputSampleFormat<sp/>=<sp/>inputParameters-&gt;<ref refid="struct_pa_stream_parameters_1ad8d2d3063757b812f9e5f8709f41052b" kindref="member">sampleFormat</ref>;</highlight></codeline>
<codeline lineno="4342"><highlight class="normal"></highlight></codeline>
<codeline lineno="4343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>unless<sp/>alternate<sp/>device<sp/>specification<sp/>is<sp/>supported,<sp/>reject<sp/>the<sp/>use<sp/>of</highlight></codeline>
<codeline lineno="4344"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>paUseHostApiSpecificDeviceSpecification<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4345"><highlight class="normal"></highlight></codeline>
<codeline lineno="4346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>inputParameters-&gt;<ref refid="struct_pa_stream_parameters_1aebaf648b4d11dd1252a747b76b8da084" kindref="member">device</ref><sp/>==<sp/><ref refid="portaudio_8h_1a14795fe3377c3b037025a61e550d44b5" kindref="member">paUseHostApiSpecificDeviceSpecification</ref><sp/>)</highlight></codeline>
<codeline lineno="4347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(<ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a3442d8018bfa4329847d87df68b564a3" kindref="member">paInvalidDevice</ref>,<sp/></highlight><highlight class="stringliteral">&quot;paUseHostApiSpecificDeviceSpecification(in)<sp/>not<sp/>supported&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a3442d8018bfa4329847d87df68b564a3" kindref="member">paInvalidDevice</ref>;</highlight></codeline>
<codeline lineno="4350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4351"><highlight class="normal"></highlight></codeline>
<codeline lineno="4352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>check<sp/>that<sp/>input<sp/>device<sp/>can<sp/>support<sp/>stream-&gt;userInputChannels<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>userInputChannels<sp/>&gt;<sp/>hostApi-&gt;<ref refid="struct_pa_util_host_api_representation_1a48dcfdf57e6d12d33314929ac213ae28" kindref="member">deviceInfos</ref>[<sp/>inputParameters-&gt;<ref refid="struct_pa_stream_parameters_1aebaf648b4d11dd1252a747b76b8da084" kindref="member">device</ref><sp/>]-&gt;<ref refid="struct_pa_device_info_1ad0baeeb2b6ceaf7fc9bb76109a7555e9" kindref="member">maxInputChannels</ref><sp/>)</highlight></codeline>
<codeline lineno="4354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(<ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a46c51714378540c67c46895e726fb787" kindref="member">paInvalidChannelCount</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Invalid<sp/>input<sp/>channel<sp/>count&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a46c51714378540c67c46895e726fb787" kindref="member">paInvalidChannelCount</ref>;</highlight></codeline>
<codeline lineno="4357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4358"><highlight class="normal"></highlight></codeline>
<codeline lineno="4359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>validate<sp/>inputStreamInfo<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>ValidateSpecificStreamParameters(inputParameters,<sp/>inputParameters-&gt;<ref refid="struct_pa_stream_parameters_1aff01b9fa0710ad1654471e97665c06a9" kindref="member">hostApiSpecificStreamInfo</ref>,<sp/>1<sp/>);</highlight></codeline>
<codeline lineno="4361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="4362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(result,<sp/></highlight><highlight class="stringliteral">&quot;Host<sp/>API<sp/>stream<sp/>info<sp/>not<sp/>supported<sp/>(in)&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;<sp/></highlight><highlight class="comment">/*<sp/>this<sp/>implementation<sp/>doesn&apos;t<sp/>use<sp/>custom<sp/>stream<sp/>info<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4366"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4367"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4368"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>userInputChannels<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>inputSampleFormat<sp/>=<sp/>hostInputSampleFormat<sp/>=<sp/><ref refid="portaudio_8h_1ab284f8e0a161d78ede863aec45461dbd" kindref="member">paInt16</ref>;<sp/></highlight><highlight class="comment">/*<sp/>Supress<sp/>&apos;uninitialised<sp/>var&apos;<sp/>warnings.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4371"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4372"><highlight class="normal"></highlight></codeline>
<codeline lineno="4373"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>outputParameters<sp/>)</highlight></codeline>
<codeline lineno="4374"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>userOutputChannels<sp/>=<sp/>outputParameters-&gt;<ref refid="struct_pa_stream_parameters_1a861ff361da71fc2572dd356c9c9878ca" kindref="member">channelCount</ref>;</highlight></codeline>
<codeline lineno="4376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>outputSampleFormat<sp/>=<sp/>outputParameters-&gt;<ref refid="struct_pa_stream_parameters_1ad8d2d3063757b812f9e5f8709f41052b" kindref="member">sampleFormat</ref>;</highlight></codeline>
<codeline lineno="4377"><highlight class="normal"></highlight></codeline>
<codeline lineno="4378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>unless<sp/>alternate<sp/>device<sp/>specification<sp/>is<sp/>supported,<sp/>reject<sp/>the<sp/>use<sp/>of</highlight></codeline>
<codeline lineno="4379"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>paUseHostApiSpecificDeviceSpecification<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4380"><highlight class="normal"></highlight></codeline>
<codeline lineno="4381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>outputParameters-&gt;<ref refid="struct_pa_stream_parameters_1aebaf648b4d11dd1252a747b76b8da084" kindref="member">device</ref><sp/>==<sp/><ref refid="portaudio_8h_1a14795fe3377c3b037025a61e550d44b5" kindref="member">paUseHostApiSpecificDeviceSpecification</ref><sp/>)</highlight></codeline>
<codeline lineno="4382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(<ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a3442d8018bfa4329847d87df68b564a3" kindref="member">paInvalidDevice</ref>,<sp/></highlight><highlight class="stringliteral">&quot;paUseHostApiSpecificDeviceSpecification(out)<sp/>not<sp/>supported&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a3442d8018bfa4329847d87df68b564a3" kindref="member">paInvalidDevice</ref>;</highlight></codeline>
<codeline lineno="4385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4386"><highlight class="normal"></highlight></codeline>
<codeline lineno="4387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>check<sp/>that<sp/>output<sp/>device<sp/>can<sp/>support<sp/>stream-&gt;userInputChannels<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>userOutputChannels<sp/>&gt;<sp/>hostApi-&gt;<ref refid="struct_pa_util_host_api_representation_1a48dcfdf57e6d12d33314929ac213ae28" kindref="member">deviceInfos</ref>[<sp/>outputParameters-&gt;<ref refid="struct_pa_stream_parameters_1aebaf648b4d11dd1252a747b76b8da084" kindref="member">device</ref><sp/>]-&gt;<ref refid="struct_pa_device_info_1a48f908b21e8a11fdf0a88132b18fe7b0" kindref="member">maxOutputChannels</ref><sp/>)</highlight></codeline>
<codeline lineno="4389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(<ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a46c51714378540c67c46895e726fb787" kindref="member">paInvalidChannelCount</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Invalid<sp/>output<sp/>channel<sp/>count&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a46c51714378540c67c46895e726fb787" kindref="member">paInvalidChannelCount</ref>;</highlight></codeline>
<codeline lineno="4392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4393"><highlight class="normal"></highlight></codeline>
<codeline lineno="4394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>validate<sp/>outputStreamInfo<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>ValidateSpecificStreamParameters(<sp/>outputParameters,<sp/>outputParameters-&gt;<ref refid="struct_pa_stream_parameters_1aff01b9fa0710ad1654471e97665c06a9" kindref="member">hostApiSpecificStreamInfo</ref>,<sp/>0<sp/>);</highlight></codeline>
<codeline lineno="4396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="4397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(result,<sp/></highlight><highlight class="stringliteral">&quot;Host<sp/>API<sp/>stream<sp/>info<sp/>not<sp/>supported<sp/>(out)&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;<sp/></highlight><highlight class="comment">/*<sp/>this<sp/>implementation<sp/>doesn&apos;t<sp/>use<sp/>custom<sp/>stream<sp/>info<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4401"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4402"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4403"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>userOutputChannels<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>outputSampleFormat<sp/>=<sp/>hostOutputSampleFormat<sp/>=<sp/><ref refid="portaudio_8h_1ab284f8e0a161d78ede863aec45461dbd" kindref="member">paInt16</ref>;<sp/></highlight><highlight class="comment">/*<sp/>Supress<sp/>&apos;uninitialized<sp/>var&apos;<sp/>warnings.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4406"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4407"><highlight class="normal"></highlight></codeline>
<codeline lineno="4408"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>validate<sp/>platform<sp/>specific<sp/>flags<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4409"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>(streamFlags<sp/>&amp;<sp/><ref refid="portaudio_8h_1a8522957e1bf814b9782d3a0e314c8b51" kindref="member">paPlatformSpecificFlags</ref>)<sp/>!=<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="4410"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(<ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aa5e7d0d9ea49ef845a93c89a3d138294" kindref="member">paInvalidFlag</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Invalid<sp/>flag<sp/>supplied&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aa5e7d0d9ea49ef845a93c89a3d138294" kindref="member">paInvalidFlag</ref>;<sp/></highlight><highlight class="comment">/*<sp/>unexpected<sp/>platform<sp/>specific<sp/>flag<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4413"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4414"><highlight class="normal"></highlight></codeline>
<codeline lineno="4415"><highlight class="normal"><sp/><sp/><sp/><sp/>stream<sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_stream" kindref="compound">PaWinWdmStream</ref>*)<ref refid="pa__util_8h_1aa614f193aff12744a6ab90a9eb3128f0" kindref="member">PaUtil_AllocateMemory</ref>(<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_____pa_win_wdm_stream" kindref="compound">PaWinWdmStream</ref>)<sp/>);</highlight></codeline>
<codeline lineno="4416"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>!stream<sp/>)</highlight></codeline>
<codeline lineno="4417"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="4419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="4420"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4421"><highlight class="normal"></highlight></codeline>
<codeline lineno="4422"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Create<sp/>allocation<sp/>group<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4423"><highlight class="normal"><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a4dd31c3219fcd2e7cfd39dbf2006d08d" kindref="member">allocGroup</ref><sp/>=<sp/><ref refid="pa__allocation_8c_1a9cc7370b73e75f690ab0a0360e7fffee" kindref="member">PaUtil_CreateAllocationGroup</ref>();</highlight></codeline>
<codeline lineno="4424"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>!stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a4dd31c3219fcd2e7cfd39dbf2006d08d" kindref="member">allocGroup</ref><sp/>)</highlight></codeline>
<codeline lineno="4425"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="4427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="4428"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4429"><highlight class="normal"></highlight></codeline>
<codeline lineno="4430"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Zero<sp/>the<sp/>stream<sp/>object<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4431"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>memset((void*)stream,0,sizeof(PaWinWdmStream));<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4432"><highlight class="normal"></highlight></codeline>
<codeline lineno="4433"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>streamCallback<sp/>)</highlight></codeline>
<codeline lineno="4434"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__stream_8c_1a0e3a44086f5baa62308dfd6df77396e0" kindref="member">PaUtil_InitializeStreamRepresentation</ref>(<sp/>&amp;stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a7e4e2c52c81ca859f290909b0e9868a6" kindref="member">streamRepresentation</ref>,</highlight></codeline>
<codeline lineno="4436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;wdmHostApi-&gt;<ref refid="struct_____pa_win_wdm_host_api_representation_1af4dec3b34a520b1b2aa393fbca9e2c9e" kindref="member">callbackStreamInterface</ref>,<sp/>streamCallback,<sp/>userData<sp/>);</highlight></codeline>
<codeline lineno="4437"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4438"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4439"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4440"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>PaUtil_InitializeStreamRepresentation(<sp/>&amp;stream-&gt;streamRepresentation,</highlight></codeline>
<codeline lineno="4441"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;wdmHostApi-&gt;blockingStreamInterface,<sp/>streamCallback,<sp/>userData<sp/>);<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4442"><highlight class="normal"></highlight></codeline>
<codeline lineno="4443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>We<sp/>don&apos;t<sp/>support<sp/>the<sp/>blocking<sp/>API<sp/>yet<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Blocking<sp/>API<sp/>not<sp/>supported<sp/>yet!\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="4445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(<ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a47726071f5dccc656d5e3ff20bbfc5a0" kindref="member">paUnanticipatedHostError</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Blocking<sp/>API<sp/>not<sp/>supported<sp/>yet&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a47726071f5dccc656d5e3ff20bbfc5a0" kindref="member">paUnanticipatedHostError</ref>;</highlight></codeline>
<codeline lineno="4447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="4448"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4449"><highlight class="normal"></highlight></codeline>
<codeline lineno="4450"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__cpuload_8c_1a8cffac188367367b6c5c5ed8e0b1fe46" kindref="member">PaUtil_InitializeCpuLoadMeasurer</ref>(<sp/>&amp;stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1ad77f1764e2de9c5a9d2b05ee1a4565ee" kindref="member">cpuLoadMeasurer</ref>,<sp/>sampleRate<sp/>);</highlight></codeline>
<codeline lineno="4451"><highlight class="normal"></highlight></codeline>
<codeline lineno="4452"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Instantiate<sp/>the<sp/>input<sp/>pin<sp/>if<sp/>necessary<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4453"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(userInputChannels<sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="4454"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/>pFilter;</highlight></codeline>
<codeline lineno="4456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_device_info" kindref="compound">PaWinWdmDeviceInfo</ref>*<sp/>pDeviceInfo;</highlight></codeline>
<codeline lineno="4457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pPin;</highlight></codeline>
<codeline lineno="4458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>validBitsPerSample<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__waveformat_8h_1ad7a5a909f82e3f45d4c690d09d53a3f4" kindref="member">PaWinWaveFormatChannelMask</ref><sp/>channelMask<sp/>=<sp/><ref refid="pa__win__waveformat_8h_1a896ca4135770c9fcaa5ae16f7a51a703" kindref="member">PaWin_DefaultChannelMask</ref>(<sp/>userInputChannels<sp/>);</highlight></codeline>
<codeline lineno="4460"><highlight class="normal"></highlight></codeline>
<codeline lineno="4461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a69660cd762aec2672fd3393e0971e99c" kindref="member">paSampleFormatNotSupported</ref>;</highlight></codeline>
<codeline lineno="4462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pDeviceInfo<sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_device_info" kindref="compound">PaWinWdmDeviceInfo</ref>*)wdmHostApi-&gt;<ref refid="struct_____pa_win_wdm_host_api_representation_1a73b6839eeeedfad62406b6929c26d3ad" kindref="member">inheritedHostApiRep</ref>.<ref refid="struct_pa_util_host_api_representation_1a48dcfdf57e6d12d33314929ac213ae28" kindref="member">deviceInfos</ref>[inputParameters-&gt;<ref refid="struct_pa_stream_parameters_1aebaf648b4d11dd1252a747b76b8da084" kindref="member">device</ref>];</highlight></codeline>
<codeline lineno="4463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pFilter<sp/>=<sp/>pDeviceInfo-&gt;<ref refid="struct_____pa_win_wdm_device_info_1a6bb59c9cdcc8861941e589cf0558dfc4" kindref="member">filter</ref>;</highlight></codeline>
<codeline lineno="4464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pPin<sp/>=<sp/>pFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1abe74b1bbe62a54025b7c05bd8519d19f" kindref="member">pins</ref>[pDeviceInfo-&gt;<ref refid="struct_____pa_win_wdm_device_info_1ad47a164d9d771b528bb67bb8da07c839" kindref="member">pin</ref>];</highlight></codeline>
<codeline lineno="4465"><highlight class="normal"></highlight></codeline>
<codeline lineno="4466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1ac89b1708e9a4877523c85ed6961d4fe7" kindref="member">userInputChannels</ref><sp/>=<sp/>userInputChannels;</highlight></codeline>
<codeline lineno="4467"><highlight class="normal"></highlight></codeline>
<codeline lineno="4468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hostInputSampleFormat<sp/>=<sp/><ref refid="pa__converters_8c_1a74195475fe92d6b7b71de247f2b08184" kindref="member">PaUtil_SelectClosestAvailableFormat</ref>(<sp/>pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1aaa618474b3f5813e67f4ade59e6c9540" kindref="member">formats</ref>,<sp/>inputSampleFormat<sp/>);</highlight></codeline>
<codeline lineno="4469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(hostInputSampleFormat<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a69660cd762aec2672fd3393e0971e99c" kindref="member">paSampleFormatNotSupported</ref>)</highlight></codeline>
<codeline lineno="4470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a47726071f5dccc656d5e3ff20bbfc5a0" kindref="member">paUnanticipatedHostError</ref>;</highlight></codeline>
<codeline lineno="4472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(result,<sp/></highlight><highlight class="stringliteral">&quot;PU_SCAF(%X,%X)<sp/>failed<sp/>(input)&quot;</highlight><highlight class="normal">,<sp/>pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1aaa618474b3f5813e67f4ade59e6c9540" kindref="member">formats</ref>,<sp/>inputSampleFormat);</highlight></codeline>
<codeline lineno="4473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="4474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1a65b71d52a0990fdb97201d0cea3f05f1" kindref="member">streamingType</ref><sp/>==<sp/><ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8a2af26020e0cc2ba29abf9235c1de3893" kindref="member">Type_kWaveRT</ref><sp/>&amp;&amp;<sp/>hostInputSampleFormat<sp/>==<sp/><ref refid="portaudio_8h_1a7f891a0bd9e94a94a8f446c176b749e7" kindref="member">paInt24</ref>)</highlight></codeline>
<codeline lineno="4476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>For<sp/>WaveRT,<sp/>we<sp/>choose<sp/>32<sp/>bit<sp/>format<sp/>instead<sp/>of<sp/>paInt24,<sp/>since<sp/>we<sp/>MIGHT<sp/>need<sp/>to<sp/>align<sp/>buffer<sp/>on<sp/>a</highlight></codeline>
<codeline lineno="4478"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>128<sp/>byte<sp/>boundary<sp/>(see<sp/>PinGetBuffer)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hostInputSampleFormat<sp/>=<sp/><ref refid="portaudio_8h_1a6fea69f3d81b628288325c06310b2fcf" kindref="member">paInt32</ref>;</highlight></codeline>
<codeline lineno="4480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>But<sp/>we&apos;ll<sp/>tell<sp/>the<sp/>driver<sp/>that<sp/>it&apos;s<sp/>24<sp/>bit<sp/>in<sp/>32<sp/>bit<sp/>container<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>validBitsPerSample<sp/>=<sp/>24;</highlight></codeline>
<codeline lineno="4482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4483"><highlight class="normal"></highlight></codeline>
<codeline lineno="4484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(hostInputSampleFormat<sp/>&lt;=<sp/><ref refid="portaudio_8h_1ad826044e4ffe7b16bf990803ab77df37" kindref="member">paUInt8</ref>)</highlight></codeline>
<codeline lineno="4485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>channelsToProbe<sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1ac89b1708e9a4877523c85ed6961d4fe7" kindref="member">userInputChannels</ref>;</highlight></codeline>
<codeline lineno="4487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Some<sp/>or<sp/>all<sp/>KS<sp/>devices<sp/>can<sp/>only<sp/>handle<sp/>the<sp/>exact<sp/>number<sp/>of<sp/>channels</highlight></codeline>
<codeline lineno="4488"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>they<sp/>specify.<sp/>But<sp/>PortAudio<sp/>clients<sp/>expect<sp/>to<sp/>be<sp/>able<sp/>to</highlight></codeline>
<codeline lineno="4489"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>at<sp/>least<sp/>specify<sp/>mono<sp/>I/O<sp/>on<sp/>a<sp/>multi-channel<sp/>device</highlight></codeline>
<codeline lineno="4490"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>If<sp/>this<sp/>is<sp/>the<sp/>case,<sp/>then<sp/>we<sp/>will<sp/>do<sp/>the<sp/>channel<sp/>mapping<sp/>internally</highlight></codeline>
<codeline lineno="4491"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>The<sp/>following<sp/>loop<sp/>tests<sp/>this<sp/>case</highlight></codeline>
<codeline lineno="4492"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(1)</highlight></codeline>
<codeline lineno="4494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__waveformat_8h_1ac3391f1ab413c0cebd9be096e6092667" kindref="member">PaWin_InitializeWaveFormatExtensible</ref>((<ref refid="struct_pa_win_wave_format" kindref="compound">PaWinWaveFormat</ref>*)&amp;wfx,</highlight></codeline>
<codeline lineno="4496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>channelsToProbe,<sp/></highlight></codeline>
<codeline lineno="4497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hostInputSampleFormat,</highlight></codeline>
<codeline lineno="4498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__waveformat_8h_1ab26e932e222866ce6d1590e2d7e33896" kindref="member">PaWin_SampleFormatToLinearWaveFormatTag</ref>(hostInputSampleFormat),</highlight></codeline>
<codeline lineno="4499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sampleRate,</highlight></codeline>
<codeline lineno="4500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>channelMask<sp/>);</highlight></codeline>
<codeline lineno="4501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref><sp/>=<sp/>wfx.Format.nBlockAlign;</highlight></codeline>
<codeline lineno="4502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(validBitsPerSample<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="4503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wfx.Samples.wValidBitsPerSample<sp/>=<sp/>validBitsPerSample;</highlight></codeline>
<codeline lineno="4505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref><sp/>=<sp/>FilterCreatePin(pFilter,<sp/>pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a81ab014de4b698e66915fb28e01cb7c7" kindref="member">pinId</ref>,<sp/>(WAVEFORMATEX*)&amp;wfx,<sp/>&amp;result);</highlight></codeline>
<codeline lineno="4507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1ae9c3eec995fc49fa3fadb925430b359c" kindref="member">deviceInputChannels</ref><sp/>=<sp/>channelsToProbe;</highlight></codeline>
<codeline lineno="4508"><highlight class="normal"></highlight></codeline>
<codeline lineno="4509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref><sp/>&amp;&amp;<sp/>result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a467dac712e45745d8b0d8cd429fd1a01" kindref="member">paDeviceUnavailable</ref><sp/>)</highlight></codeline>
<codeline lineno="4510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Try<sp/>a<sp/>WAVE_FORMAT_PCM<sp/>instead<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__waveformat_8h_1a0d39d3ba4a04ea6c0274544ebeb2f33b" kindref="member">PaWin_InitializeWaveFormatEx</ref>((<ref refid="struct_pa_win_wave_format" kindref="compound">PaWinWaveFormat</ref>*)&amp;wfx,</highlight></codeline>
<codeline lineno="4513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>channelsToProbe,<sp/></highlight></codeline>
<codeline lineno="4514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hostInputSampleFormat,</highlight></codeline>
<codeline lineno="4515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__waveformat_8h_1ab26e932e222866ce6d1590e2d7e33896" kindref="member">PaWin_SampleFormatToLinearWaveFormatTag</ref>(hostInputSampleFormat),</highlight></codeline>
<codeline lineno="4516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sampleRate);</highlight></codeline>
<codeline lineno="4517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(validBitsPerSample<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="4518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wfx.Samples.wValidBitsPerSample<sp/>=<sp/>validBitsPerSample;</highlight></codeline>
<codeline lineno="4520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref><sp/>=<sp/>FilterCreatePin(pFilter,<sp/>pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a81ab014de4b698e66915fb28e01cb7c7" kindref="member">pinId</ref>,<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>WAVEFORMATEX*)&amp;wfx,<sp/>&amp;result);</highlight></codeline>
<codeline lineno="4522"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4523"><highlight class="normal"></highlight></codeline>
<codeline lineno="4524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a467dac712e45745d8b0d8cd429fd1a01" kindref="member">paDeviceUnavailable</ref>)<sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>occupied;</highlight></codeline>
<codeline lineno="4525"><highlight class="normal"></highlight></codeline>
<codeline lineno="4526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="4527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>We&apos;re<sp/>done<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4531"><highlight class="normal"></highlight></codeline>
<codeline lineno="4532"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(channelsToProbe<sp/>&lt;<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal">)pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a33c12a0dbd09db02923a4bd4e7d2fb17" kindref="member">maxChannels</ref>)</highlight></codeline>
<codeline lineno="4533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Go<sp/>to<sp/>next<sp/>multiple<sp/>of<sp/>2<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4535"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>channelsToProbe<sp/>=<sp/><ref refid="_compare_audio_command_8cpp_1abd8bbcfabb3ddef2ccaafb9928a37b95" kindref="member">min</ref>((((channelsToProbe&gt;&gt;1)+1)&lt;&lt;1),<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal">)pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a33c12a0dbd09db02923a4bd4e7d2fb17" kindref="member">maxChannels</ref>);</highlight></codeline>
<codeline lineno="4536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4538"><highlight class="normal"></highlight></codeline>
<codeline lineno="4539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4541"><highlight class="normal"></highlight></codeline>
<codeline lineno="4542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="4543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4544"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>We&apos;re<sp/>done<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4547"><highlight class="normal"></highlight></codeline>
<codeline lineno="4548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Go<sp/>to<sp/>next<sp/>format<sp/>in<sp/>line<sp/>with<sp/>lower<sp/>resolution<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hostInputSampleFormat<sp/>&lt;&lt;=<sp/>1;</highlight></codeline>
<codeline lineno="4550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4551"><highlight class="normal"></highlight></codeline>
<codeline lineno="4552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref><sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="4553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(result,<sp/></highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>create<sp/>capture<sp/>pin:<sp/>sr=%u,ch=%u,bits=%u,align=%u&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="4555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wfx.Format.nSamplesPerSec,<sp/>wfx.Format.nChannels,<sp/>wfx.Format.wBitsPerSample,<sp/>wfx.Format.nBlockAlign);</highlight></codeline>
<codeline lineno="4556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="4557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4558"><highlight class="normal"></highlight></codeline>
<codeline lineno="4559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Select<sp/>correct<sp/>mux<sp/>input<sp/>on<sp/>MUX<sp/>node<sp/>of<sp/>topology<sp/>filter<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pDeviceInfo-&gt;<ref refid="struct_____pa_win_wdm_device_info_1ac4769a798b0d43861e1ce362afe729b2" kindref="member">muxPosition</ref><sp/>&gt;=<sp/>0)</highlight></codeline>
<codeline lineno="4561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4562"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref><sp/>!=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="4563"><highlight class="normal"></highlight></codeline>
<codeline lineno="4564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>FilterUse(pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref>);</highlight></codeline>
<codeline lineno="4565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="4566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(result,<sp/></highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>open<sp/>topology<sp/>filter&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="4569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4570"><highlight class="normal"></highlight></codeline>
<codeline lineno="4571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>WdmSetMuxNodeProperty(pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1a86cd1691cdf7957417f949b54b122201" kindref="member">handle</ref>,</highlight></codeline>
<codeline lineno="4572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ae08e82747f231ea0365211c5dbbc48a7" kindref="member">inputs</ref>[pDeviceInfo-&gt;<ref refid="struct_____pa_win_wdm_device_info_1ac4769a798b0d43861e1ce362afe729b2" kindref="member">muxPosition</ref>]-&gt;<ref refid="struct_____pa_win_wdm_muxed_input_1a0c99dd95a1181833c2f8758ce8e76331" kindref="member">muxNodeId</ref>,</highlight></codeline>
<codeline lineno="4573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1ae08e82747f231ea0365211c5dbbc48a7" kindref="member">inputs</ref>[pDeviceInfo-&gt;<ref refid="struct_____pa_win_wdm_device_info_1ac4769a798b0d43861e1ce362afe729b2" kindref="member">muxPosition</ref>]-&gt;<ref refid="struct_____pa_win_wdm_muxed_input_1a8fb0e8c234c7f14108aa2926e1142d20" kindref="member">muxPinId</ref>);</highlight></codeline>
<codeline lineno="4574"><highlight class="normal"></highlight></codeline>
<codeline lineno="4575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FilterRelease(pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1aa0e3f96e187199b62f9c5bfd500cf3e7" kindref="member">topologyFilter</ref>);</highlight></codeline>
<codeline lineno="4576"><highlight class="normal"></highlight></codeline>
<codeline lineno="4577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="4578"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4579"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(result,<sp/></highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>set<sp/>topology<sp/>mux<sp/>node&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="4581"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4582"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4583"><highlight class="normal"></highlight></codeline>
<codeline lineno="4584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1af6be7951457618844e4df735a0f64c90" kindref="member">bytesPerSample</ref><sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref><sp/>/<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1ae9c3eec995fc49fa3fadb925430b359c" kindref="member">deviceInputChannels</ref>;</highlight></codeline>
<codeline lineno="4585"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6c12dcae31c4badecb8bb36ed5fd7381" kindref="member">frameSize</ref><sp/>/=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref>;</highlight></codeline>
<codeline lineno="4586"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Capture<sp/>pin<sp/>frames:<sp/>%d\n&quot;</highlight><highlight class="normal">,stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6c12dcae31c4badecb8bb36ed5fd7381" kindref="member">frameSize</ref>));</highlight></codeline>
<codeline lineno="4587"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4588"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4589"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4590"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref><sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="4591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4592"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4593"><highlight class="normal"></highlight></codeline>
<codeline lineno="4594"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Instantiate<sp/>the<sp/>output<sp/>pin<sp/>if<sp/>necessary<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4595"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(userOutputChannels<sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="4596"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_filter" kindref="compound">PaWinWdmFilter</ref>*<sp/>pFilter;</highlight></codeline>
<codeline lineno="4598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_device_info" kindref="compound">PaWinWdmDeviceInfo</ref>*<sp/>pDeviceInfo;</highlight></codeline>
<codeline lineno="4599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pPin;</highlight></codeline>
<codeline lineno="4600"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_pa_win_w_d_m_k_s_info" kindref="compound">PaWinWDMKSInfo</ref>*<sp/>pInfo<sp/>=<sp/>(<ref refid="struct_pa_win_w_d_m_k_s_info" kindref="compound">PaWinWDMKSInfo</ref>*)(outputParameters-&gt;<ref refid="struct_pa_stream_parameters_1aff01b9fa0710ad1654471e97665c06a9" kindref="member">hostApiSpecificStreamInfo</ref>);</highlight></codeline>
<codeline lineno="4601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>validBitsPerSample<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__waveformat_8h_1ad7a5a909f82e3f45d4c690d09d53a3f4" kindref="member">PaWinWaveFormatChannelMask</ref><sp/>channelMask<sp/>=<sp/><ref refid="pa__win__waveformat_8h_1a896ca4135770c9fcaa5ae16f7a51a703" kindref="member">PaWin_DefaultChannelMask</ref>(<sp/>userOutputChannels<sp/>);</highlight></codeline>
<codeline lineno="4603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pInfo<sp/>&amp;&amp;<sp/>(pInfo-&gt;<ref refid="struct_pa_win_w_d_m_k_s_info_1a2c46387aee219e1499120b056d74e94d" kindref="member">flags</ref><sp/>&amp;<sp/><ref refid="pa__win__wdmks_8h_1a6ce14ca806f017e4cbf6b8439a8d1ac9a4879ce686baaf3d76df4d55a34e48e41" kindref="member">paWinWDMKSUseGivenChannelMask</ref>))</highlight></codeline>
<codeline lineno="4604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Using<sp/>channelMask<sp/>0x%08X<sp/>instead<sp/>of<sp/>default<sp/>0x%08X\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="4606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pInfo-&gt;<ref refid="struct_pa_win_w_d_m_k_s_info_1a07cee1fc3c28bbf431672040b4256f5c" kindref="member">channelMask</ref>,</highlight></codeline>
<codeline lineno="4607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>channelMask));</highlight></codeline>
<codeline lineno="4608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>channelMask<sp/>=<sp/>pInfo-&gt;<ref refid="struct_pa_win_w_d_m_k_s_info_1a07cee1fc3c28bbf431672040b4256f5c" kindref="member">channelMask</ref>;</highlight></codeline>
<codeline lineno="4609"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4610"><highlight class="normal"></highlight></codeline>
<codeline lineno="4611"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a69660cd762aec2672fd3393e0971e99c" kindref="member">paSampleFormatNotSupported</ref>;</highlight></codeline>
<codeline lineno="4612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pDeviceInfo<sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_device_info" kindref="compound">PaWinWdmDeviceInfo</ref>*)wdmHostApi-&gt;<ref refid="struct_____pa_win_wdm_host_api_representation_1a73b6839eeeedfad62406b6929c26d3ad" kindref="member">inheritedHostApiRep</ref>.<ref refid="struct_pa_util_host_api_representation_1a48dcfdf57e6d12d33314929ac213ae28" kindref="member">deviceInfos</ref>[outputParameters-&gt;<ref refid="struct_pa_stream_parameters_1aebaf648b4d11dd1252a747b76b8da084" kindref="member">device</ref>];</highlight></codeline>
<codeline lineno="4613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pFilter<sp/>=<sp/>pDeviceInfo-&gt;<ref refid="struct_____pa_win_wdm_device_info_1a6bb59c9cdcc8861941e589cf0558dfc4" kindref="member">filter</ref>;</highlight></codeline>
<codeline lineno="4614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pPin<sp/>=<sp/>pFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1abe74b1bbe62a54025b7c05bd8519d19f" kindref="member">pins</ref>[pDeviceInfo-&gt;<ref refid="struct_____pa_win_wdm_device_info_1ad47a164d9d771b528bb67bb8da07c839" kindref="member">pin</ref>];</highlight></codeline>
<codeline lineno="4615"><highlight class="normal"></highlight></codeline>
<codeline lineno="4616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a4d0bdb5754a747c2be09c7a3829efa9c" kindref="member">userOutputChannels</ref><sp/>=<sp/>userOutputChannels;</highlight></codeline>
<codeline lineno="4617"><highlight class="normal"></highlight></codeline>
<codeline lineno="4618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hostOutputSampleFormat<sp/>=<sp/><ref refid="pa__converters_8c_1a74195475fe92d6b7b71de247f2b08184" kindref="member">PaUtil_SelectClosestAvailableFormat</ref>(<sp/>pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1aaa618474b3f5813e67f4ade59e6c9540" kindref="member">formats</ref>,<sp/>outputSampleFormat<sp/>);</highlight></codeline>
<codeline lineno="4619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(hostOutputSampleFormat<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a69660cd762aec2672fd3393e0971e99c" kindref="member">paSampleFormatNotSupported</ref>)</highlight></codeline>
<codeline lineno="4620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4621"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a47726071f5dccc656d5e3ff20bbfc5a0" kindref="member">paUnanticipatedHostError</ref>;</highlight></codeline>
<codeline lineno="4622"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(result,<sp/></highlight><highlight class="stringliteral">&quot;PU_SCAF(%X,%X)<sp/>failed<sp/>(output)&quot;</highlight><highlight class="normal">,<sp/>pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1aaa618474b3f5813e67f4ade59e6c9540" kindref="member">formats</ref>,<sp/>hostOutputSampleFormat);</highlight></codeline>
<codeline lineno="4623"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="4624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pFilter-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1a65b71d52a0990fdb97201d0cea3f05f1" kindref="member">streamingType</ref><sp/>==<sp/><ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8a2af26020e0cc2ba29abf9235c1de3893" kindref="member">Type_kWaveRT</ref><sp/>&amp;&amp;<sp/>hostOutputSampleFormat<sp/>==<sp/><ref refid="portaudio_8h_1a7f891a0bd9e94a94a8f446c176b749e7" kindref="member">paInt24</ref>)</highlight></codeline>
<codeline lineno="4626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4627"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>For<sp/>WaveRT,<sp/>we<sp/>choose<sp/>32<sp/>bit<sp/>format<sp/>instead<sp/>of<sp/>paInt24,<sp/>since<sp/>we<sp/>MIGHT<sp/>need<sp/>to<sp/>align<sp/>buffer<sp/>on<sp/>a</highlight></codeline>
<codeline lineno="4628"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>128<sp/>byte<sp/>boundary<sp/>(see<sp/>PinGetBuffer)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hostOutputSampleFormat<sp/>=<sp/><ref refid="portaudio_8h_1a6fea69f3d81b628288325c06310b2fcf" kindref="member">paInt32</ref>;</highlight></codeline>
<codeline lineno="4630"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>But<sp/>we&apos;ll<sp/>tell<sp/>the<sp/>driver<sp/>that<sp/>it&apos;s<sp/>24<sp/>bit<sp/>in<sp/>32<sp/>bit<sp/>container<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>validBitsPerSample<sp/>=<sp/>24;</highlight></codeline>
<codeline lineno="4632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4633"><highlight class="normal"></highlight></codeline>
<codeline lineno="4634"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(hostOutputSampleFormat<sp/>&lt;=<sp/><ref refid="portaudio_8h_1ad826044e4ffe7b16bf990803ab77df37" kindref="member">paUInt8</ref>)</highlight></codeline>
<codeline lineno="4635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4636"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>channelsToProbe<sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a4d0bdb5754a747c2be09c7a3829efa9c" kindref="member">userOutputChannels</ref>;</highlight></codeline>
<codeline lineno="4637"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Some<sp/>or<sp/>all<sp/>KS<sp/>devices<sp/>can<sp/>only<sp/>handle<sp/>the<sp/>exact<sp/>number<sp/>of<sp/>channels</highlight></codeline>
<codeline lineno="4638"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>they<sp/>specify.<sp/>But<sp/>PortAudio<sp/>clients<sp/>expect<sp/>to<sp/>be<sp/>able<sp/>to</highlight></codeline>
<codeline lineno="4639"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>at<sp/>least<sp/>specify<sp/>mono<sp/>I/O<sp/>on<sp/>a<sp/>multi-channel<sp/>device</highlight></codeline>
<codeline lineno="4640"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>If<sp/>this<sp/>is<sp/>the<sp/>case,<sp/>then<sp/>we<sp/>will<sp/>do<sp/>the<sp/>channel<sp/>mapping<sp/>internally</highlight></codeline>
<codeline lineno="4641"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>The<sp/>following<sp/>loop<sp/>tests<sp/>this<sp/>case</highlight></codeline>
<codeline lineno="4642"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(1)</highlight></codeline>
<codeline lineno="4644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4645"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__waveformat_8h_1ac3391f1ab413c0cebd9be096e6092667" kindref="member">PaWin_InitializeWaveFormatExtensible</ref>((<ref refid="struct_pa_win_wave_format" kindref="compound">PaWinWaveFormat</ref>*)&amp;wfx,</highlight></codeline>
<codeline lineno="4646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>channelsToProbe,<sp/></highlight></codeline>
<codeline lineno="4647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hostOutputSampleFormat,</highlight></codeline>
<codeline lineno="4648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__waveformat_8h_1ab26e932e222866ce6d1590e2d7e33896" kindref="member">PaWin_SampleFormatToLinearWaveFormatTag</ref>(hostOutputSampleFormat),</highlight></codeline>
<codeline lineno="4649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sampleRate,</highlight></codeline>
<codeline lineno="4650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>channelMask<sp/>);</highlight></codeline>
<codeline lineno="4651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref><sp/>=<sp/>wfx.Format.nBlockAlign;</highlight></codeline>
<codeline lineno="4652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(validBitsPerSample<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="4653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wfx.Samples.wValidBitsPerSample<sp/>=<sp/>validBitsPerSample;</highlight></codeline>
<codeline lineno="4655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4656"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref><sp/>=<sp/>FilterCreatePin(pFilter,<sp/>pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a81ab014de4b698e66915fb28e01cb7c7" kindref="member">pinId</ref>,<sp/>(WAVEFORMATEX*)&amp;wfx,<sp/>&amp;result);</highlight></codeline>
<codeline lineno="4657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1aea3f97d4daebbcf1865bcce7103e5e1b" kindref="member">deviceOutputChannels</ref><sp/>=<sp/>channelsToProbe;</highlight></codeline>
<codeline lineno="4658"><highlight class="normal"></highlight></codeline>
<codeline lineno="4659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref><sp/>&amp;&amp;<sp/>result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a467dac712e45745d8b0d8cd429fd1a01" kindref="member">paDeviceUnavailable</ref><sp/>)</highlight></codeline>
<codeline lineno="4660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__waveformat_8h_1a0d39d3ba4a04ea6c0274544ebeb2f33b" kindref="member">PaWin_InitializeWaveFormatEx</ref>((<ref refid="struct_pa_win_wave_format" kindref="compound">PaWinWaveFormat</ref>*)&amp;wfx,</highlight></codeline>
<codeline lineno="4662"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>channelsToProbe,<sp/></highlight></codeline>
<codeline lineno="4663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hostOutputSampleFormat,</highlight></codeline>
<codeline lineno="4664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__waveformat_8h_1ab26e932e222866ce6d1590e2d7e33896" kindref="member">PaWin_SampleFormatToLinearWaveFormatTag</ref>(hostOutputSampleFormat),</highlight></codeline>
<codeline lineno="4665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sampleRate);</highlight></codeline>
<codeline lineno="4666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(validBitsPerSample<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="4667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wfx.Samples.wValidBitsPerSample<sp/>=<sp/>validBitsPerSample;</highlight></codeline>
<codeline lineno="4669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref><sp/>=<sp/>FilterCreatePin(pFilter,<sp/>pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a81ab014de4b698e66915fb28e01cb7c7" kindref="member">pinId</ref>,<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>WAVEFORMATEX*)&amp;wfx,<sp/>&amp;result);</highlight></codeline>
<codeline lineno="4671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4672"><highlight class="normal"></highlight></codeline>
<codeline lineno="4673"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a467dac712e45745d8b0d8cd429fd1a01" kindref="member">paDeviceUnavailable</ref>)<sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>occupied;</highlight></codeline>
<codeline lineno="4674"><highlight class="normal"></highlight></codeline>
<codeline lineno="4675"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="4676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4677"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>We&apos;re<sp/>done<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4678"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4679"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4680"><highlight class="normal"></highlight></codeline>
<codeline lineno="4681"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(channelsToProbe<sp/>&lt;<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal">)pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a33c12a0dbd09db02923a4bd4e7d2fb17" kindref="member">maxChannels</ref>)</highlight></codeline>
<codeline lineno="4682"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Go<sp/>to<sp/>next<sp/>multiple<sp/>of<sp/>2<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>channelsToProbe<sp/>=<sp/><ref refid="_compare_audio_command_8cpp_1abd8bbcfabb3ddef2ccaafb9928a37b95" kindref="member">min</ref>((((channelsToProbe&gt;&gt;1)+1)&lt;&lt;1),<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal">)pPin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a33c12a0dbd09db02923a4bd4e7d2fb17" kindref="member">maxChannels</ref>);</highlight></codeline>
<codeline lineno="4685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4687"><highlight class="normal"></highlight></codeline>
<codeline lineno="4688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="4690"><highlight class="normal"></highlight></codeline>
<codeline lineno="4691"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="4692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4693"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>We&apos;re<sp/>done<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4696"><highlight class="normal"></highlight></codeline>
<codeline lineno="4697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Go<sp/>to<sp/>next<sp/>format<sp/>in<sp/>line<sp/>with<sp/>lower<sp/>resolution<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hostOutputSampleFormat<sp/>&lt;&lt;=<sp/>1;</highlight></codeline>
<codeline lineno="4699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4700"><highlight class="normal"></highlight></codeline>
<codeline lineno="4701"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref><sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="4702"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4703"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(result,<sp/></highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>create<sp/>render<sp/>pin:<sp/>sr=%u,ch=%u,bits=%u,align=%u&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="4704"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wfx.Format.nSamplesPerSec,<sp/>wfx.Format.nChannels,<sp/>wfx.Format.wBitsPerSample,<sp/>wfx.Format.nBlockAlign);</highlight></codeline>
<codeline lineno="4705"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="4706"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4707"><highlight class="normal"></highlight></codeline>
<codeline lineno="4708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1af6be7951457618844e4df735a0f64c90" kindref="member">bytesPerSample</ref><sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref><sp/>/<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1aea3f97d4daebbcf1865bcce7103e5e1b" kindref="member">deviceOutputChannels</ref>;</highlight></codeline>
<codeline lineno="4709"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6c12dcae31c4badecb8bb36ed5fd7381" kindref="member">frameSize</ref><sp/>/=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref>;</highlight></codeline>
<codeline lineno="4710"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Render<sp/>pin<sp/>frames:<sp/>%d\n&quot;</highlight><highlight class="normal">,stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6c12dcae31c4badecb8bb36ed5fd7381" kindref="member">frameSize</ref>));</highlight></codeline>
<codeline lineno="4711"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4712"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4713"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref><sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="4715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4716"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4717"><highlight class="normal"></highlight></codeline>
<codeline lineno="4718"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Calculate<sp/>the<sp/>framesPerHostXxxxBuffer<sp/>size<sp/>based<sp/>upon<sp/>the<sp/>suggested<sp/>latency<sp/>values<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4719"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Record<sp/>the<sp/>buffer<sp/>length<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4720"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(inputParameters)</highlight></codeline>
<codeline lineno="4721"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Calculate<sp/>the<sp/>frames<sp/>from<sp/>the<sp/>user&apos;s<sp/>value<sp/>-<sp/>add<sp/>a<sp/>bit<sp/>to<sp/>round<sp/>up<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref><sp/>=<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>long)((inputParameters-&gt;<ref refid="struct_pa_stream_parameters_1aa1e80ac0551162fd091db8936ccbe9a0" kindref="member">suggestedLatency</ref>*sampleRate)+0.0001);</highlight></codeline>
<codeline lineno="4724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref><sp/>&gt;<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal">)<ref refid="namespacepatest__suggested__vs__streaminfo__latency_1a14f2ecd6f756d329f6df4096833062d0" kindref="member">sampleRate</ref>)</highlight></codeline>
<codeline lineno="4725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/></highlight><highlight class="comment">/*<sp/>Upper<sp/>limit<sp/>is<sp/>1<sp/>second<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref><sp/>=<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>long)sampleRate;</highlight></codeline>
<codeline lineno="4727"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref><sp/>&lt;<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6c12dcae31c4badecb8bb36ed5fd7381" kindref="member">frameSize</ref>)</highlight></codeline>
<codeline lineno="4729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref><sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6c12dcae31c4badecb8bb36ed5fd7381" kindref="member">frameSize</ref>;</highlight></codeline>
<codeline lineno="4731"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4732"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Input<sp/>frames<sp/>chosen:%ld\n&quot;</highlight><highlight class="normal">,stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref>));</highlight></codeline>
<codeline lineno="4733"><highlight class="normal"></highlight></codeline>
<codeline lineno="4734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Setup<sp/>number<sp/>of<sp/>packets<sp/>to<sp/>use<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a09ddd7e42c3b90a750e3769f20258201" kindref="member">noOfPackets</ref><sp/>=<sp/>2;</highlight></codeline>
<codeline lineno="4736"><highlight class="normal"></highlight></codeline>
<codeline lineno="4737"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(inputParameters-&gt;<ref refid="struct_pa_stream_parameters_1aff01b9fa0710ad1654471e97665c06a9" kindref="member">hostApiSpecificStreamInfo</ref>)</highlight></codeline>
<codeline lineno="4738"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4739"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_pa_win_w_d_m_k_s_info" kindref="compound">PaWinWDMKSInfo</ref>*<sp/>pInfo<sp/>=<sp/>(<ref refid="struct_pa_win_w_d_m_k_s_info" kindref="compound">PaWinWDMKSInfo</ref>*)inputParameters-&gt;<ref refid="struct_pa_stream_parameters_1aff01b9fa0710ad1654471e97665c06a9" kindref="member">hostApiSpecificStreamInfo</ref>;</highlight></codeline>
<codeline lineno="4740"><highlight class="normal"></highlight></codeline>
<codeline lineno="4741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="winfun_8c_1ab24f32995c1d94525943b4568cce20cb" kindref="member">if</ref><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1a65b71d52a0990fdb97201d0cea3f05f1" kindref="member">streamingType</ref><sp/>==<sp/><ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8ae39673a93d503c16300f190ed31bb349" kindref="member">Type_kWaveCyclic</ref><sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="4742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pInfo-&gt;<ref refid="struct_pa_win_w_d_m_k_s_info_1af1a2e073583ac238a60f1acbee470e28" kindref="member">noOfPackets</ref><sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="4743"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a09ddd7e42c3b90a750e3769f20258201" kindref="member">noOfPackets</ref><sp/>=<sp/>pInfo-&gt;<ref refid="struct_pa_win_w_d_m_k_s_info_1af1a2e073583ac238a60f1acbee470e28" kindref="member">noOfPackets</ref>;</highlight></codeline>
<codeline lineno="4745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4747"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4748"><highlight class="normal"></highlight></codeline>
<codeline lineno="4749"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(outputParameters)</highlight></codeline>
<codeline lineno="4750"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4751"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Calculate<sp/>the<sp/>frames<sp/>from<sp/>the<sp/>user&apos;s<sp/>value<sp/>-<sp/>add<sp/>a<sp/>bit<sp/>to<sp/>round<sp/>up<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4752"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref><sp/>=<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>long)((outputParameters-&gt;<ref refid="struct_pa_stream_parameters_1aa1e80ac0551162fd091db8936ccbe9a0" kindref="member">suggestedLatency</ref>*sampleRate)+0.0001);</highlight></codeline>
<codeline lineno="4753"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref><sp/>&gt;<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal">)<ref refid="namespacepatest__suggested__vs__streaminfo__latency_1a14f2ecd6f756d329f6df4096833062d0" kindref="member">sampleRate</ref>)</highlight></codeline>
<codeline lineno="4754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/></highlight><highlight class="comment">/*<sp/>Upper<sp/>limit<sp/>is<sp/>1<sp/>second<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4755"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref><sp/>=<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>long)sampleRate;</highlight></codeline>
<codeline lineno="4756"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4757"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref><sp/>&lt;<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6c12dcae31c4badecb8bb36ed5fd7381" kindref="member">frameSize</ref>)</highlight></codeline>
<codeline lineno="4758"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4759"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref><sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6c12dcae31c4badecb8bb36ed5fd7381" kindref="member">frameSize</ref>;</highlight></codeline>
<codeline lineno="4760"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4761"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Output<sp/>frames<sp/>chosen:%ld\n&quot;</highlight><highlight class="normal">,stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref>));</highlight></codeline>
<codeline lineno="4762"><highlight class="normal"></highlight></codeline>
<codeline lineno="4763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Setup<sp/>number<sp/>of<sp/>packets<sp/>to<sp/>use<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a09ddd7e42c3b90a750e3769f20258201" kindref="member">noOfPackets</ref><sp/>=<sp/>2;</highlight></codeline>
<codeline lineno="4765"><highlight class="normal"></highlight></codeline>
<codeline lineno="4766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(outputParameters-&gt;<ref refid="struct_pa_stream_parameters_1aff01b9fa0710ad1654471e97665c06a9" kindref="member">hostApiSpecificStreamInfo</ref>)</highlight></codeline>
<codeline lineno="4767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_pa_win_w_d_m_k_s_info" kindref="compound">PaWinWDMKSInfo</ref>*<sp/>pInfo<sp/>=<sp/>(<ref refid="struct_pa_win_w_d_m_k_s_info" kindref="compound">PaWinWDMKSInfo</ref>*)outputParameters-&gt;<ref refid="struct_pa_stream_parameters_1aff01b9fa0710ad1654471e97665c06a9" kindref="member">hostApiSpecificStreamInfo</ref>;</highlight></codeline>
<codeline lineno="4769"><highlight class="normal"></highlight></codeline>
<codeline lineno="4770"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="winfun_8c_1ab24f32995c1d94525943b4568cce20cb" kindref="member">if</ref><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1a65b71d52a0990fdb97201d0cea3f05f1" kindref="member">streamingType</ref><sp/>==<sp/><ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8ae39673a93d503c16300f190ed31bb349" kindref="member">Type_kWaveCyclic</ref><sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="4771"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pInfo-&gt;<ref refid="struct_pa_win_w_d_m_k_s_info_1af1a2e073583ac238a60f1acbee470e28" kindref="member">noOfPackets</ref><sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="4772"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4773"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a09ddd7e42c3b90a750e3769f20258201" kindref="member">noOfPackets</ref><sp/>=<sp/>pInfo-&gt;<ref refid="struct_pa_win_w_d_m_k_s_info_1af1a2e073583ac238a60f1acbee470e28" kindref="member">noOfPackets</ref>;</highlight></codeline>
<codeline lineno="4774"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4775"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4776"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4777"><highlight class="normal"></highlight></codeline>
<codeline lineno="4778"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Host<sp/>buffer<sp/>size<sp/>is<sp/>bound<sp/>to<sp/>the<sp/>largest<sp/>of<sp/>the<sp/>input<sp/>and<sp/>output<sp/>frame<sp/>sizes<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4779"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/><sp/><ref refid="pa__process_8c_1aaae7001566f528cf2d3cd453bf05c5d5" kindref="member">PaUtil_InitializeBufferProcessor</ref>(<sp/>&amp;stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a2c900cef33bbe8ae112f0de607c61335" kindref="member">bufferProcessor</ref>,</highlight></codeline>
<codeline lineno="4780"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1ac89b1708e9a4877523c85ed6961d4fe7" kindref="member">userInputChannels</ref>,<sp/>inputSampleFormat,<sp/>hostInputSampleFormat,</highlight></codeline>
<codeline lineno="4781"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a4d0bdb5754a747c2be09c7a3829efa9c" kindref="member">userOutputChannels</ref>,<sp/>outputSampleFormat,<sp/>hostOutputSampleFormat,</highlight></codeline>
<codeline lineno="4782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sampleRate,<sp/>streamFlags,<sp/>framesPerUserBuffer,</highlight></codeline>
<codeline lineno="4783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="libflac_2src_2flac_2encode_8c_1ac39d9cef6a5e030ba8d9e11121054268" kindref="member">max</ref>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref>,<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref>),<sp/></highlight></codeline>
<codeline lineno="4784"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__process_8h_1a16c84d8c0ac62944797f530bf852484fa2e97156fbdf5444b7bcc53b60f368d8b" kindref="member">paUtilBoundedHostBufferSize</ref>,</highlight></codeline>
<codeline lineno="4785"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>streamCallback,<sp/>userData<sp/>);</highlight></codeline>
<codeline lineno="4786"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref><sp/>)</highlight></codeline>
<codeline lineno="4787"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4788"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(result,<sp/></highlight><highlight class="stringliteral">&quot;PaUtil_InitializeBufferProcessor<sp/>failed:<sp/>ich=%u,<sp/>isf=%u,<sp/>hisf=%u,<sp/>och=%u,<sp/>osf=%u,<sp/>hosf=%u,<sp/>sr=%lf,<sp/>flags=0x%X,<sp/>fpub=%u,<sp/>fphb=%u&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="4789"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1ac89b1708e9a4877523c85ed6961d4fe7" kindref="member">userInputChannels</ref>,<sp/>inputSampleFormat,<sp/>hostInputSampleFormat,</highlight></codeline>
<codeline lineno="4790"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a4d0bdb5754a747c2be09c7a3829efa9c" kindref="member">userOutputChannels</ref>,<sp/>outputSampleFormat,<sp/>hostOutputSampleFormat,</highlight></codeline>
<codeline lineno="4791"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sampleRate,<sp/>streamFlags,<sp/>framesPerUserBuffer,</highlight></codeline>
<codeline lineno="4792"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="libflac_2src_2flac_2encode_8c_1ac39d9cef6a5e030ba8d9e11121054268" kindref="member">max</ref>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref>,<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref>));</highlight></codeline>
<codeline lineno="4793"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="4794"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4795"><highlight class="normal"></highlight></codeline>
<codeline lineno="4796"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Allocate/get<sp/>all<sp/>the<sp/>buffers<sp/>for<sp/>host<sp/>I/O<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4797"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1ac89b1708e9a4877523c85ed6961d4fe7" kindref="member">userInputChannels</ref><sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="4798"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4799"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a7e4e2c52c81ca859f290909b0e9868a6" kindref="member">streamRepresentation</ref>.<ref refid="struct_pa_util_stream_representation_1a13c2b5318f73dde9a11fd9d874763d4a" kindref="member">streamInfo</ref>.<ref refid="struct_pa_stream_info_1a1f5339e0fef75cea66d9153235698399" kindref="member">inputLatency</ref><sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref><sp/>/<sp/><ref refid="namespacepatest__suggested__vs__streaminfo__latency_1a14f2ecd6f756d329f6df4096833062d0" kindref="member">sampleRate</ref>;</highlight></codeline>
<codeline lineno="4800"><highlight class="normal"></highlight></codeline>
<codeline lineno="4801"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1a65b71d52a0990fdb97201d0cea3f05f1" kindref="member">streamingType</ref>)</highlight></codeline>
<codeline lineno="4802"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4803"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8ae39673a93d503c16300f190ed31bb349" kindref="member">Type_kWaveCyclic</ref>:</highlight></codeline>
<codeline lineno="4804"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4805"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="group__lavu__mem_1ga854352f53b148adc24983a58a1866d66" kindref="member">size</ref><sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a09ddd7e42c3b90a750e3769f20258201" kindref="member">noOfPackets</ref><sp/>*<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref><sp/>*<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref>;</highlight></codeline>
<codeline lineno="4806"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Allocate<sp/>input<sp/>host<sp/>buffer<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4807"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ab2726db73e01500b5088f535ac766738" kindref="member">hostBuffer</ref><sp/>=<sp/>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*)<ref refid="pa__allocation_8c_1ace88f0110da3a26cb8d8ed00758accf3" kindref="member">PaUtil_GroupAllocateMemory</ref>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a4dd31c3219fcd2e7cfd39dbf2006d08d" kindref="member">allocGroup</ref>,<sp/>size);</highlight></codeline>
<codeline lineno="4808"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Input<sp/>buffer<sp/>allocated<sp/>(size<sp/>=<sp/>%u)\n&quot;</highlight><highlight class="normal">,<sp/>size));</highlight></codeline>
<codeline lineno="4809"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>!stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ab2726db73e01500b5088f535ac766738" kindref="member">hostBuffer</ref><sp/>)</highlight></codeline>
<codeline lineno="4810"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4811"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Cannot<sp/>allocate<sp/>host<sp/>input<sp/>buffer!\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="4812"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(<ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>allocate<sp/>input<sp/>buffer&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4813"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="4814"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="4815"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4816"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a6d8bb24a84a455a3621d7d357160fc39" kindref="member">hostBufferSize</ref><sp/>=<sp/><ref refid="group__lavu__mem_1ga854352f53b148adc24983a58a1866d66" kindref="member">size</ref>;</highlight></codeline>
<codeline lineno="4817"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Input<sp/>buffer<sp/>start<sp/>=<sp/>%p<sp/>(size=%u)\n&quot;</highlight><highlight class="normal">,stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ab2726db73e01500b5088f535ac766738" kindref="member">hostBuffer</ref>,<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a6d8bb24a84a455a3621d7d357160fc39" kindref="member">hostBufferSize</ref>));</highlight></codeline>
<codeline lineno="4818"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a342610d8c28c1bdd075e26a37b9bd984" kindref="member">fnEventHandler</ref><sp/>=<sp/>PaPinCaptureEventHandler_WaveCyclic;</highlight></codeline>
<codeline lineno="4819"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a202ee56dc377eba26384ab00d6aa5779" kindref="member">fnSubmitHandler</ref><sp/>=<sp/>PaPinCaptureSubmitHandler_WaveCyclic;</highlight></codeline>
<codeline lineno="4820"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4821"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4822"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8a2af26020e0cc2ba29abf9235c1de3893" kindref="member">Type_kWaveRT</ref>:</highlight></codeline>
<codeline lineno="4823"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4824"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref><sp/>dwTotalSize<sp/>=<sp/>2<sp/>*<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref><sp/>*<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref>;</highlight></codeline>
<codeline lineno="4825"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref><sp/>dwRequestedSize<sp/>=<sp/>dwTotalSize;</highlight></codeline>
<codeline lineno="4826"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref><sp/>bCallMemoryBarrier<sp/>=<sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;</highlight></codeline>
<codeline lineno="4827"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ULONG<sp/>hwFifoLatency<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4828"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ULONG<sp/><ref refid="database_8c_1a4497856461b72aa327a367542f73bff3" kindref="member">dummy</ref>;</highlight></codeline>
<codeline lineno="4829"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>PinGetBuffer(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>,<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">**)&amp;stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ab2726db73e01500b5088f535ac766738" kindref="member">hostBuffer</ref>,<sp/>&amp;dwRequestedSize,<sp/>&amp;bCallMemoryBarrier);</highlight></codeline>
<codeline lineno="4830"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!result)<sp/></highlight></codeline>
<codeline lineno="4831"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4832"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Input<sp/>buffer<sp/>start<sp/>=<sp/>%p,<sp/>size<sp/>=<sp/>%u\n&quot;</highlight><highlight class="normal">,<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ab2726db73e01500b5088f535ac766738" kindref="member">hostBuffer</ref>,<sp/>dwRequestedSize));</highlight></codeline>
<codeline lineno="4833"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dwRequestedSize<sp/>!=<sp/>dwTotalSize)</highlight></codeline>
<codeline lineno="4834"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4835"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Buffer<sp/>length<sp/>changed<sp/>by<sp/>driver<sp/>from<sp/>%u<sp/>to<sp/>%u<sp/>!\n&quot;</highlight><highlight class="normal">,<sp/>dwTotalSize,<sp/>dwRequestedSize));</highlight></codeline>
<codeline lineno="4836"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Recalculate<sp/>to<sp/>what<sp/>the<sp/>driver<sp/>has<sp/>given<sp/>us<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4837"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref><sp/>=<sp/>dwRequestedSize<sp/>/<sp/>(2<sp/>*<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref>);</highlight></codeline>
<codeline lineno="4838"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4839"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a6d8bb24a84a455a3621d7d357160fc39" kindref="member">hostBufferSize</ref><sp/>=<sp/>dwRequestedSize;</highlight></codeline>
<codeline lineno="4840"><highlight class="normal"></highlight></codeline>
<codeline lineno="4841"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a8f64c1157494c02e8be9d85d72f359fe" kindref="member">pinKsSubType</ref><sp/>==<sp/><ref refid="pa__win__wdmks_8h_1ab1fecd3bd8c22ca5820fee46fc9d89c2a3ef0fb75ff70c3292bd3d2174f5041a0" kindref="member">SubType_kPolled</ref>)</highlight></codeline>
<codeline lineno="4842"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4843"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a342610d8c28c1bdd075e26a37b9bd984" kindref="member">fnEventHandler</ref><sp/>=<sp/>PaPinCaptureEventHandler_WaveRTPolled;</highlight></codeline>
<codeline lineno="4844"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a202ee56dc377eba26384ab00d6aa5779" kindref="member">fnSubmitHandler</ref><sp/>=<sp/>PaPinCaptureSubmitHandler_WaveRTPolled;</highlight></codeline>
<codeline lineno="4845"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4846"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4847"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4848"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a342610d8c28c1bdd075e26a37b9bd984" kindref="member">fnEventHandler</ref><sp/>=<sp/>PaPinCaptureEventHandler_WaveRTEvent;</highlight></codeline>
<codeline lineno="4849"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a202ee56dc377eba26384ab00d6aa5779" kindref="member">fnSubmitHandler</ref><sp/>=<sp/>PaPinCaptureSubmitHandler_WaveRTEvent;</highlight></codeline>
<codeline lineno="4850"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4851"><highlight class="normal"></highlight></codeline>
<codeline lineno="4852"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a964c737ddb76f5e51678617788646106" kindref="member">fnMemBarrier</ref><sp/>=<sp/>bCallMemoryBarrier<sp/>?<sp/>MemoryBarrierRead<sp/>:<sp/>MemoryBarrierDummy;</highlight></codeline>
<codeline lineno="4853"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4854"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="4855"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4856"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>get<sp/>input<sp/>buffer<sp/>(WaveRT)\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="4857"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(<ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a47726071f5dccc656d5e3ff20bbfc5a0" kindref="member">paUnanticipatedHostError</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>get<sp/>input<sp/>buffer<sp/>(WaveRT)&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4858"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a47726071f5dccc656d5e3ff20bbfc5a0" kindref="member">paUnanticipatedHostError</ref>;</highlight></codeline>
<codeline lineno="4859"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="4860"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4861"><highlight class="normal"></highlight></codeline>
<codeline lineno="4862"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>latency<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4863"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>PinGetHwLatency(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>,<sp/>&amp;hwFifoLatency,<sp/>&amp;dummy,<sp/>&amp;dummy);</highlight></codeline>
<codeline lineno="4864"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="4865"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4866"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a2bef1e76e0d2a5184c48ee7cd6961573" kindref="member">hwLatency</ref><sp/>=<sp/>hwFifoLatency;</highlight></codeline>
<codeline lineno="4867"><highlight class="normal"></highlight></codeline>
<codeline lineno="4868"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Add<sp/>HW<sp/>latency<sp/>into<sp/>total<sp/>input<sp/>latency<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4869"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a7e4e2c52c81ca859f290909b0e9868a6" kindref="member">streamRepresentation</ref>.<ref refid="struct_pa_util_stream_representation_1a13c2b5318f73dde9a11fd9d874763d4a" kindref="member">streamInfo</ref>.<ref refid="struct_pa_stream_info_1a1f5339e0fef75cea66d9153235698399" kindref="member">inputLatency</ref><sp/>+=<sp/>((hwFifoLatency<sp/>/<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref>)<sp/>/<sp/>sampleRate);</highlight></codeline>
<codeline lineno="4870"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4871"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4872"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4873"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>get<sp/>size<sp/>of<sp/>FIFO<sp/>hardware<sp/>buffer<sp/>(is<sp/>set<sp/>to<sp/>zero)\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="4874"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a2bef1e76e0d2a5184c48ee7cd6961573" kindref="member">hwLatency</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4875"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4876"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4877"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4878"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="4879"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Undefined<sp/>wave<sp/>type!!<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4880"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(0);</highlight></codeline>
<codeline lineno="4881"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a4851f9f753cdad3e7a89380d6589816c" kindref="member">paInternalError</ref>;</highlight></codeline>
<codeline lineno="4882"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(result,<sp/></highlight><highlight class="stringliteral">&quot;Wave<sp/>type<sp/>%u<sp/>??&quot;</highlight><highlight class="normal">,<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1a65b71d52a0990fdb97201d0cea3f05f1" kindref="member">streamingType</ref>);</highlight></codeline>
<codeline lineno="4883"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="4884"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4885"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4886"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="4887"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4888"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ab2726db73e01500b5088f535ac766738" kindref="member">hostBuffer</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4889"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4890"><highlight class="normal"></highlight></codeline>
<codeline lineno="4891"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a4d0bdb5754a747c2be09c7a3829efa9c" kindref="member">userOutputChannels</ref><sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="4892"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4893"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a7e4e2c52c81ca859f290909b0e9868a6" kindref="member">streamRepresentation</ref>.<ref refid="struct_pa_util_stream_representation_1a13c2b5318f73dde9a11fd9d874763d4a" kindref="member">streamInfo</ref>.<ref refid="struct_pa_stream_info_1a372a81f39d90a85ae62225e9f57a7840" kindref="member">outputLatency</ref><sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref><sp/>/<sp/><ref refid="namespacepatest__suggested__vs__streaminfo__latency_1a14f2ecd6f756d329f6df4096833062d0" kindref="member">sampleRate</ref>;</highlight></codeline>
<codeline lineno="4894"><highlight class="normal"></highlight></codeline>
<codeline lineno="4895"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1a65b71d52a0990fdb97201d0cea3f05f1" kindref="member">streamingType</ref>)</highlight></codeline>
<codeline lineno="4896"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4897"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8ae39673a93d503c16300f190ed31bb349" kindref="member">Type_kWaveCyclic</ref>:</highlight></codeline>
<codeline lineno="4898"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4899"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="group__lavu__mem_1ga854352f53b148adc24983a58a1866d66" kindref="member">size</ref><sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a09ddd7e42c3b90a750e3769f20258201" kindref="member">noOfPackets</ref><sp/>*<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref><sp/>*<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref>;</highlight></codeline>
<codeline lineno="4900"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Allocate<sp/>output<sp/>device<sp/>buffer<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4901"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ab2726db73e01500b5088f535ac766738" kindref="member">hostBuffer</ref><sp/>=<sp/>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*)<ref refid="pa__allocation_8c_1ace88f0110da3a26cb8d8ed00758accf3" kindref="member">PaUtil_GroupAllocateMemory</ref>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a4dd31c3219fcd2e7cfd39dbf2006d08d" kindref="member">allocGroup</ref>,<sp/>size);</highlight></codeline>
<codeline lineno="4902"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Output<sp/>buffer<sp/>allocated<sp/>(size<sp/>=<sp/>%u)\n&quot;</highlight><highlight class="normal">,<sp/>size));</highlight></codeline>
<codeline lineno="4903"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>!stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ab2726db73e01500b5088f535ac766738" kindref="member">hostBuffer</ref><sp/>)</highlight></codeline>
<codeline lineno="4904"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4905"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Cannot<sp/>allocate<sp/>host<sp/>output<sp/>buffer!\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="4906"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(<ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>allocate<sp/>output<sp/>buffer&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4907"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="4908"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="4909"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4910"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a6d8bb24a84a455a3621d7d357160fc39" kindref="member">hostBufferSize</ref><sp/>=<sp/><ref refid="group__lavu__mem_1ga854352f53b148adc24983a58a1866d66" kindref="member">size</ref>;</highlight></codeline>
<codeline lineno="4911"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Output<sp/>buffer<sp/>start<sp/>=<sp/>%p<sp/>(size=%u)\n&quot;</highlight><highlight class="normal">,stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ab2726db73e01500b5088f535ac766738" kindref="member">hostBuffer</ref>,<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a6d8bb24a84a455a3621d7d357160fc39" kindref="member">hostBufferSize</ref>));</highlight></codeline>
<codeline lineno="4912"><highlight class="normal"></highlight></codeline>
<codeline lineno="4913"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a342610d8c28c1bdd075e26a37b9bd984" kindref="member">fnEventHandler</ref><sp/>=<sp/>PaPinRenderEventHandler_WaveCyclic;</highlight></codeline>
<codeline lineno="4914"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a202ee56dc377eba26384ab00d6aa5779" kindref="member">fnSubmitHandler</ref><sp/>=<sp/>PaPinRenderSubmitHandler_WaveCyclic;</highlight></codeline>
<codeline lineno="4915"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4916"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4917"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8a2af26020e0cc2ba29abf9235c1de3893" kindref="member">Type_kWaveRT</ref>:</highlight></codeline>
<codeline lineno="4918"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4919"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref><sp/>dwTotalSize<sp/>=<sp/>2<sp/>*<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref><sp/>*<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref>;</highlight></codeline>
<codeline lineno="4920"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref><sp/>dwRequestedSize<sp/>=<sp/>dwTotalSize;</highlight></codeline>
<codeline lineno="4921"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref><sp/>bCallMemoryBarrier<sp/>=<sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;</highlight></codeline>
<codeline lineno="4922"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ULONG<sp/>hwFifoLatency<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4923"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ULONG<sp/><ref refid="database_8c_1a4497856461b72aa327a367542f73bff3" kindref="member">dummy</ref>;</highlight></codeline>
<codeline lineno="4924"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>PinGetBuffer(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>,<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">**)&amp;stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ab2726db73e01500b5088f535ac766738" kindref="member">hostBuffer</ref>,<sp/>&amp;dwRequestedSize,<sp/>&amp;bCallMemoryBarrier);</highlight></codeline>
<codeline lineno="4925"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!result)<sp/></highlight></codeline>
<codeline lineno="4926"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4927"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Output<sp/>buffer<sp/>start<sp/>=<sp/>%p,<sp/>size<sp/>=<sp/>%u,<sp/>membarrier<sp/>=<sp/>%u\n&quot;</highlight><highlight class="normal">,<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ab2726db73e01500b5088f535ac766738" kindref="member">hostBuffer</ref>,<sp/>dwRequestedSize,<sp/>bCallMemoryBarrier));</highlight></codeline>
<codeline lineno="4928"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dwRequestedSize<sp/>!=<sp/>dwTotalSize)</highlight></codeline>
<codeline lineno="4929"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4930"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Buffer<sp/>length<sp/>changed<sp/>by<sp/>driver<sp/>from<sp/>%u<sp/>to<sp/>%u<sp/>!\n&quot;</highlight><highlight class="normal">,<sp/>dwTotalSize,<sp/>dwRequestedSize));</highlight></codeline>
<codeline lineno="4931"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Recalculate<sp/>to<sp/>what<sp/>the<sp/>driver<sp/>has<sp/>given<sp/>us<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4932"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref><sp/>=<sp/>dwRequestedSize<sp/>/<sp/>(2<sp/>*<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref>);</highlight></codeline>
<codeline lineno="4933"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4934"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a6d8bb24a84a455a3621d7d357160fc39" kindref="member">hostBufferSize</ref><sp/>=<sp/>dwRequestedSize;</highlight></codeline>
<codeline lineno="4935"><highlight class="normal"></highlight></codeline>
<codeline lineno="4936"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a8f64c1157494c02e8be9d85d72f359fe" kindref="member">pinKsSubType</ref><sp/>==<sp/><ref refid="pa__win__wdmks_8h_1ab1fecd3bd8c22ca5820fee46fc9d89c2a3ef0fb75ff70c3292bd3d2174f5041a0" kindref="member">SubType_kPolled</ref>)</highlight></codeline>
<codeline lineno="4937"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4938"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a342610d8c28c1bdd075e26a37b9bd984" kindref="member">fnEventHandler</ref><sp/>=<sp/>PaPinRenderEventHandler_WaveRTPolled;</highlight></codeline>
<codeline lineno="4939"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a202ee56dc377eba26384ab00d6aa5779" kindref="member">fnSubmitHandler</ref><sp/>=<sp/>PaPinRenderSubmitHandler_WaveRTPolled;</highlight></codeline>
<codeline lineno="4940"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4941"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4942"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4943"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a342610d8c28c1bdd075e26a37b9bd984" kindref="member">fnEventHandler</ref><sp/>=<sp/>PaPinRenderEventHandler_WaveRTEvent;</highlight></codeline>
<codeline lineno="4944"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a202ee56dc377eba26384ab00d6aa5779" kindref="member">fnSubmitHandler</ref><sp/>=<sp/>PaPinRenderSubmitHandler_WaveRTEvent;</highlight></codeline>
<codeline lineno="4945"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4946"><highlight class="normal"></highlight></codeline>
<codeline lineno="4947"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a964c737ddb76f5e51678617788646106" kindref="member">fnMemBarrier</ref><sp/>=<sp/>bCallMemoryBarrier<sp/>?<sp/>MemoryBarrierWrite<sp/>:<sp/>MemoryBarrierDummy;</highlight></codeline>
<codeline lineno="4948"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4949"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="4950"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4951"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>get<sp/>output<sp/>buffer<sp/>(with<sp/>notification)\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="4952"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(<ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a47726071f5dccc656d5e3ff20bbfc5a0" kindref="member">paUnanticipatedHostError</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>get<sp/>output<sp/>buffer<sp/>(with<sp/>notification)&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4953"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a47726071f5dccc656d5e3ff20bbfc5a0" kindref="member">paUnanticipatedHostError</ref>;</highlight></codeline>
<codeline lineno="4954"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="4955"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4956"><highlight class="normal"></highlight></codeline>
<codeline lineno="4957"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>latency<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4958"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>PinGetHwLatency(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>,<sp/>&amp;hwFifoLatency,<sp/>&amp;dummy,<sp/>&amp;dummy);</highlight></codeline>
<codeline lineno="4959"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="4960"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4961"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a2bef1e76e0d2a5184c48ee7cd6961573" kindref="member">hwLatency</ref><sp/>=<sp/>hwFifoLatency;</highlight></codeline>
<codeline lineno="4962"><highlight class="normal"></highlight></codeline>
<codeline lineno="4963"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Add<sp/>HW<sp/>latency<sp/>into<sp/>total<sp/>output<sp/>latency<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4964"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a7e4e2c52c81ca859f290909b0e9868a6" kindref="member">streamRepresentation</ref>.<ref refid="struct_pa_util_stream_representation_1a13c2b5318f73dde9a11fd9d874763d4a" kindref="member">streamInfo</ref>.<ref refid="struct_pa_stream_info_1a372a81f39d90a85ae62225e9f57a7840" kindref="member">outputLatency</ref><sp/>+=<sp/>((hwFifoLatency<sp/>/<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref>)<sp/>/<sp/>sampleRate);</highlight></codeline>
<codeline lineno="4965"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4966"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4967"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4968"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>get<sp/>size<sp/>of<sp/>FIFO<sp/>hardware<sp/>buffer<sp/>(is<sp/>set<sp/>to<sp/>zero)\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="4969"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a2bef1e76e0d2a5184c48ee7cd6961573" kindref="member">hwLatency</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4970"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4971"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4972"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4973"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="4974"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Undefined<sp/>wave<sp/>type!!<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4975"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(0);</highlight></codeline>
<codeline lineno="4976"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a4851f9f753cdad3e7a89380d6589816c" kindref="member">paInternalError</ref>;</highlight></codeline>
<codeline lineno="4977"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(result,<sp/></highlight><highlight class="stringliteral">&quot;Wave<sp/>type<sp/>%u<sp/>??&quot;</highlight><highlight class="normal">,<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1a65b71d52a0990fdb97201d0cea3f05f1" kindref="member">streamingType</ref>);</highlight></codeline>
<codeline lineno="4978"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="4979"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4980"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4981"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="4982"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4983"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ab2726db73e01500b5088f535ac766738" kindref="member">hostBuffer</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="4984"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4985"><highlight class="normal"></highlight></codeline>
<codeline lineno="4986"><highlight class="normal"><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a7e4e2c52c81ca859f290909b0e9868a6" kindref="member">streamRepresentation</ref>.<ref refid="struct_pa_util_stream_representation_1a13c2b5318f73dde9a11fd9d874763d4a" kindref="member">streamInfo</ref>.<ref refid="struct_pa_stream_info_1a9200fdee790d9155bc35d03be51ee2dd" kindref="member">sampleRate</ref><sp/>=<sp/><ref refid="namespacepatest__suggested__vs__streaminfo__latency_1a14f2ecd6f756d329f6df4096833062d0" kindref="member">sampleRate</ref>;</highlight></codeline>
<codeline lineno="4987"><highlight class="normal"></highlight></codeline>
<codeline lineno="4988"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;BytesPerInputFrame<sp/>=<sp/>%d\n&quot;</highlight><highlight class="normal">,stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref>));</highlight></codeline>
<codeline lineno="4989"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;BytesPerOutputFrame<sp/>=<sp/>%d\n&quot;</highlight><highlight class="normal">,stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref>));</highlight></codeline>
<codeline lineno="4990"><highlight class="normal"></highlight></codeline>
<codeline lineno="4991"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>memset(stream-&gt;hostBuffer,0,size);<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4992"><highlight class="normal"></highlight></codeline>
<codeline lineno="4993"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Abort<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4994"><highlight class="normal"><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a2ec042a491ca1d0d8a071f4c4901e4c4" kindref="member">eventAbort</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>CreateEvent(<ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/><ref refid="cext_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>,<sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>,<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="4995"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a2ec042a491ca1d0d8a071f4c4901e4c4" kindref="member">eventAbort</ref><sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="4996"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="4997"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="4998"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="4999"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5000"><highlight class="normal"><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a03f53464c73a442fdb86f340fe54e369" kindref="member">eventStreamStart</ref>[0]<sp/>=<sp/>CreateEvent(<ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/><ref refid="cext_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>,<sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>,<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="5001"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a03f53464c73a442fdb86f340fe54e369" kindref="member">eventStreamStart</ref>[0]<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="5002"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5003"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="5004"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="5005"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5006"><highlight class="normal"><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a03f53464c73a442fdb86f340fe54e369" kindref="member">eventStreamStart</ref>[1]<sp/>=<sp/>CreateEvent(<ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/><ref refid="cext_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>,<sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>,<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="5007"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a03f53464c73a442fdb86f340fe54e369" kindref="member">eventStreamStart</ref>[1]<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="5008"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5009"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="5010"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="5011"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5012"><highlight class="normal"></highlight></codeline>
<codeline lineno="5013"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1ac89b1708e9a4877523c85ed6961d4fe7" kindref="member">userInputChannels</ref><sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="5014"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5015"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>bufferSizeInBytes<sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref><sp/>*<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref>;</highlight></codeline>
<codeline lineno="5016"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>ringBufferFrameSize<sp/>=<sp/>NextPowerOf2(<sp/>1024<sp/>+<sp/>2<sp/>*<sp/><ref refid="libflac_2src_2flac_2encode_8c_1ac39d9cef6a5e030ba8d9e11121054268" kindref="member">max</ref>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref>,<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref>)<sp/>);</highlight></codeline>
<codeline lineno="5017"><highlight class="normal"></highlight></codeline>
<codeline lineno="5018"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" kindref="member">events</ref><sp/>=<sp/>(<ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref>*)<ref refid="pa__allocation_8c_1ace88f0110da3a26cb8d8ed00758accf3" kindref="member">PaUtil_GroupAllocateMemory</ref>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a4dd31c3219fcd2e7cfd39dbf2006d08d" kindref="member">allocGroup</ref>,<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a09ddd7e42c3b90a750e3769f20258201" kindref="member">noOfPackets</ref><sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref>));</highlight></codeline>
<codeline lineno="5019"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" kindref="member">events</ref><sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="5020"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5021"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="5022"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="5023"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5024"><highlight class="normal"></highlight></codeline>
<codeline lineno="5025"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1658ab65cd0eaf8d0c0c3b1904125df" kindref="member">packets</ref><sp/>=<sp/>(<ref refid="struct_____d_a_t_a_p_a_c_k_e_t" kindref="compound">DATAPACKET</ref>*)<ref refid="pa__allocation_8c_1ace88f0110da3a26cb8d8ed00758accf3" kindref="member">PaUtil_GroupAllocateMemory</ref>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a4dd31c3219fcd2e7cfd39dbf2006d08d" kindref="member">allocGroup</ref>,<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a09ddd7e42c3b90a750e3769f20258201" kindref="member">noOfPackets</ref><sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_____d_a_t_a_p_a_c_k_e_t" kindref="compound">DATAPACKET</ref>));</highlight></codeline>
<codeline lineno="5026"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1658ab65cd0eaf8d0c0c3b1904125df" kindref="member">packets</ref><sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="5027"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5028"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="5029"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="5030"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5031"><highlight class="normal"></highlight></codeline>
<codeline lineno="5032"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal">(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1a65b71d52a0990fdb97201d0cea3f05f1" kindref="member">streamingType</ref>)</highlight></codeline>
<codeline lineno="5033"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5034"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8ae39673a93d503c16300f190ed31bb349" kindref="member">Type_kWaveCyclic</ref>:</highlight></codeline>
<codeline lineno="5035"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5036"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>WaveCyclic<sp/>case<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5037"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="5038"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a09ddd7e42c3b90a750e3769f20258201" kindref="member">noOfPackets</ref>;<sp/>++<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>)</highlight></codeline>
<codeline lineno="5039"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5040"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>up<sp/>the<sp/>packets<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5041"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____d_a_t_a_p_a_c_k_e_t" kindref="compound">DATAPACKET</ref><sp/>*p<sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1658ab65cd0eaf8d0c0c3b1904125df" kindref="member">packets</ref><sp/>+<sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="5042"><highlight class="normal"></highlight></codeline>
<codeline lineno="5043"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Record<sp/>event<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5044"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" kindref="member">events</ref>[<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>]<sp/>=<sp/>CreateEvent(<ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/><ref refid="cext_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>,<sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>,<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="5045"><highlight class="normal"></highlight></codeline>
<codeline lineno="5046"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1aa4ee2aff55460a89851b305543017691" kindref="member">Signal</ref>.hEvent<sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" kindref="member">events</ref>[<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>];</highlight></codeline>
<codeline lineno="5047"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a6f6127c73baaa7e612ffb3337f9024c8" kindref="member">Data</ref><sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ab2726db73e01500b5088f535ac766738" kindref="member">hostBuffer</ref><sp/>+<sp/>(i*bufferSizeInBytes);</highlight></codeline>
<codeline lineno="5048"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a08a3f73cbe6d08bf63ecf08d75ac3a2d" kindref="member">FrameExtent</ref><sp/>=<sp/>bufferSizeInBytes;</highlight></codeline>
<codeline lineno="5049"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a848c0e966ba8bd1c3545121be62ca3a0" kindref="member">DataUsed</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5050"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a2763cce2aed94a0c37e6630595e3c86d" kindref="member">Size</ref><sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>);</highlight></codeline>
<codeline lineno="5051"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a5900b2557203944a2ba94ac03eb6e1f0" kindref="member">PresentationTime</ref>.<ref refid="struct_k_s_t_i_m_e_1acaf2a40ad30a361fffebb509e7f564de" kindref="member">Numerator</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="5052"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a5900b2557203944a2ba94ac03eb6e1f0" kindref="member">PresentationTime</ref>.<ref refid="struct_k_s_t_i_m_e_1aaf71d550df25184de8fb4c07e0a70f95" kindref="member">Denominator</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="5053"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5054"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5055"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="5056"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8a2af26020e0cc2ba29abf9235c1de3893" kindref="member">Type_kWaveRT</ref>:</highlight></codeline>
<codeline lineno="5057"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5058"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>up<sp/>the<sp/>&quot;packets&quot;<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5059"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____d_a_t_a_p_a_c_k_e_t" kindref="compound">DATAPACKET</ref><sp/>*p<sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1658ab65cd0eaf8d0c0c3b1904125df" kindref="member">packets</ref><sp/>+<sp/>0;</highlight></codeline>
<codeline lineno="5060"><highlight class="normal"></highlight></codeline>
<codeline lineno="5061"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Record<sp/>event:<sp/>WaveRT<sp/>has<sp/>a<sp/>single<sp/>event<sp/>for<sp/>2<sp/>notification<sp/>per<sp/>buffer<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5062"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" kindref="member">events</ref>[0]<sp/>=<sp/>CreateEvent(<ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>,<sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>,<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="5063"><highlight class="normal"></highlight></codeline>
<codeline lineno="5064"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a6f6127c73baaa7e612ffb3337f9024c8" kindref="member">Data</ref><sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ab2726db73e01500b5088f535ac766738" kindref="member">hostBuffer</ref>;</highlight></codeline>
<codeline lineno="5065"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a08a3f73cbe6d08bf63ecf08d75ac3a2d" kindref="member">FrameExtent</ref><sp/>=<sp/>bufferSizeInBytes;</highlight></codeline>
<codeline lineno="5066"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a848c0e966ba8bd1c3545121be62ca3a0" kindref="member">DataUsed</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5067"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a2763cce2aed94a0c37e6630595e3c86d" kindref="member">Size</ref><sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>);</highlight></codeline>
<codeline lineno="5068"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a5900b2557203944a2ba94ac03eb6e1f0" kindref="member">PresentationTime</ref>.<ref refid="struct_k_s_t_i_m_e_1acaf2a40ad30a361fffebb509e7f564de" kindref="member">Numerator</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="5069"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a5900b2557203944a2ba94ac03eb6e1f0" kindref="member">PresentationTime</ref>.<ref refid="struct_k_s_t_i_m_e_1aaf71d550df25184de8fb4c07e0a70f95" kindref="member">Denominator</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="5070"><highlight class="normal"></highlight></codeline>
<codeline lineno="5071"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++<ref refid="xmltok_8h_1a94b60f3beb36ae85555d36dc9816769c" kindref="member">p</ref>;</highlight></codeline>
<codeline lineno="5072"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a6f6127c73baaa7e612ffb3337f9024c8" kindref="member">Data</ref><sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ab2726db73e01500b5088f535ac766738" kindref="member">hostBuffer</ref><sp/>+<sp/>bufferSizeInBytes;</highlight></codeline>
<codeline lineno="5073"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a08a3f73cbe6d08bf63ecf08d75ac3a2d" kindref="member">FrameExtent</ref><sp/>=<sp/>bufferSizeInBytes;</highlight></codeline>
<codeline lineno="5074"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a848c0e966ba8bd1c3545121be62ca3a0" kindref="member">DataUsed</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5075"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a2763cce2aed94a0c37e6630595e3c86d" kindref="member">Size</ref><sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>);</highlight></codeline>
<codeline lineno="5076"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a5900b2557203944a2ba94ac03eb6e1f0" kindref="member">PresentationTime</ref>.<ref refid="struct_k_s_t_i_m_e_1acaf2a40ad30a361fffebb509e7f564de" kindref="member">Numerator</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="5077"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a5900b2557203944a2ba94ac03eb6e1f0" kindref="member">PresentationTime</ref>.<ref refid="struct_k_s_t_i_m_e_1aaf71d550df25184de8fb4c07e0a70f95" kindref="member">Denominator</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="5078"><highlight class="normal"></highlight></codeline>
<codeline lineno="5079"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a8f64c1157494c02e8be9d85d72f359fe" kindref="member">pinKsSubType</ref><sp/>==<sp/><ref refid="pa__win__wdmks_8h_1ab1fecd3bd8c22ca5820fee46fc9d89c2a49c6ee27f3848a25e01bb7e7e9dd4ef5" kindref="member">SubType_kNotification</ref>)</highlight></codeline>
<codeline lineno="5080"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5081"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>PinRegisterNotificationHandle(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>,<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" kindref="member">events</ref>[0]);</highlight></codeline>
<codeline lineno="5082"><highlight class="normal"></highlight></codeline>
<codeline lineno="5083"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="5084"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5085"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>register<sp/>capture<sp/>notification<sp/>handle\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="5086"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(<ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a47726071f5dccc656d5e3ff20bbfc5a0" kindref="member">paUnanticipatedHostError</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>register<sp/>capture<sp/>notification<sp/>handle&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="5087"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a47726071f5dccc656d5e3ff20bbfc5a0" kindref="member">paUnanticipatedHostError</ref>;</highlight></codeline>
<codeline lineno="5088"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="5089"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5090"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5091"><highlight class="normal"></highlight></codeline>
<codeline lineno="5092"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>PinRegisterPositionRegister(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>);</highlight></codeline>
<codeline lineno="5093"><highlight class="normal"></highlight></codeline>
<codeline lineno="5094"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="5095"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5096"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>pos<sp/>=<sp/>0xdeadc0de;</highlight></codeline>
<codeline lineno="5097"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>register<sp/>capture<sp/>position<sp/>register,<sp/>using<sp/>PinGetAudioPositionViaIOCTLWrite\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="5098"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a4eb72e73473daa4c5fe2c9dc6b840a93" kindref="member">fnAudioPosition</ref><sp/>=<sp/>PinGetAudioPositionViaIOCTLWrite;</highlight></codeline>
<codeline lineno="5099"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Test<sp/>position<sp/>function<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a4eb72e73473daa4c5fe2c9dc6b840a93" kindref="member">fnAudioPosition</ref>)(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>,<sp/>&amp;pos);</highlight></codeline>
<codeline lineno="5101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref><sp/>||<sp/>pos<sp/>!=<sp/>0x0)</highlight></codeline>
<codeline lineno="5102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>read<sp/>capture<sp/>position<sp/>register<sp/>(IOCTL)\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="5104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(<ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a47726071f5dccc656d5e3ff20bbfc5a0" kindref="member">paUnanticipatedHostError</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>read<sp/>capture<sp/>position<sp/>register<sp/>(IOCTL)&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="5105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a47726071f5dccc656d5e3ff20bbfc5a0" kindref="member">paUnanticipatedHostError</ref>;</highlight></codeline>
<codeline lineno="5106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="5107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="5108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a4eb72e73473daa4c5fe2c9dc6b840a93" kindref="member">fnAudioPosition</ref><sp/>=<sp/>PinGetAudioPositionMemoryMapped;</highlight></codeline>
<codeline lineno="5112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="5115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="5116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Undefined<sp/>wave<sp/>type!!<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(0);</highlight></codeline>
<codeline lineno="5118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a4851f9f753cdad3e7a89380d6589816c" kindref="member">paInternalError</ref>;</highlight></codeline>
<codeline lineno="5119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(result,<sp/></highlight><highlight class="stringliteral">&quot;Wave<sp/>type<sp/>%u<sp/>??&quot;</highlight><highlight class="normal">,<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1a65b71d52a0990fdb97201d0cea3f05f1" kindref="member">streamingType</ref>);</highlight></codeline>
<codeline lineno="5120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="5121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5122"><highlight class="normal"></highlight></codeline>
<codeline lineno="5123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Setup<sp/>the<sp/>input<sp/>ring<sp/>buffer<sp/>here<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1aad0c5a37686d5d36e970628c720348fd" kindref="member">ringBufferData</ref><sp/>=<sp/>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*)<ref refid="pa__allocation_8c_1ace88f0110da3a26cb8d8ed00758accf3" kindref="member">PaUtil_GroupAllocateMemory</ref>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a4dd31c3219fcd2e7cfd39dbf2006d08d" kindref="member">allocGroup</ref>,<sp/>ringBufferFrameSize<sp/>*<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref>);</highlight></codeline>
<codeline lineno="5125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1aad0c5a37686d5d36e970628c720348fd" kindref="member">ringBufferData</ref><sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="5126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="5128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="5129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__ringbuffer_8c_1ac59abf83ad9ad72e1971ac406b0e67a8" kindref="member">PaUtil_InitializeRingBuffer</ref>(&amp;stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1adece2546e5f0f11c92aa5ddd757bc251" kindref="member">ringBuffer</ref>,<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref>,<sp/>ringBufferFrameSize,<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1aad0c5a37686d5d36e970628c720348fd" kindref="member">ringBufferData</ref>);</highlight></codeline>
<codeline lineno="5131"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5132"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a4d0bdb5754a747c2be09c7a3829efa9c" kindref="member">userOutputChannels</ref><sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="5133"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>bufferSizeInBytes<sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref><sp/>*<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref>;</highlight></codeline>
<codeline lineno="5135"><highlight class="normal"></highlight></codeline>
<codeline lineno="5136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" kindref="member">events</ref><sp/>=<sp/>(<ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref>*)<ref refid="pa__allocation_8c_1ace88f0110da3a26cb8d8ed00758accf3" kindref="member">PaUtil_GroupAllocateMemory</ref>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a4dd31c3219fcd2e7cfd39dbf2006d08d" kindref="member">allocGroup</ref>,<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a09ddd7e42c3b90a750e3769f20258201" kindref="member">noOfPackets</ref><sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref>));</highlight></codeline>
<codeline lineno="5137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" kindref="member">events</ref><sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="5138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="5140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="5141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5142"><highlight class="normal"></highlight></codeline>
<codeline lineno="5143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1658ab65cd0eaf8d0c0c3b1904125df" kindref="member">packets</ref><sp/>=<sp/>(<ref refid="struct_____d_a_t_a_p_a_c_k_e_t" kindref="compound">DATAPACKET</ref>*)<ref refid="pa__allocation_8c_1ace88f0110da3a26cb8d8ed00758accf3" kindref="member">PaUtil_GroupAllocateMemory</ref>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a4dd31c3219fcd2e7cfd39dbf2006d08d" kindref="member">allocGroup</ref>,<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a09ddd7e42c3b90a750e3769f20258201" kindref="member">noOfPackets</ref><sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_____d_a_t_a_p_a_c_k_e_t" kindref="compound">DATAPACKET</ref>));</highlight></codeline>
<codeline lineno="5144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1658ab65cd0eaf8d0c0c3b1904125df" kindref="member">packets</ref><sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="5145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="5147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="5148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5149"><highlight class="normal"></highlight></codeline>
<codeline lineno="5150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal">(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1a65b71d52a0990fdb97201d0cea3f05f1" kindref="member">streamingType</ref>)</highlight></codeline>
<codeline lineno="5151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8ae39673a93d503c16300f190ed31bb349" kindref="member">Type_kWaveCyclic</ref>:</highlight></codeline>
<codeline lineno="5153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>WaveCyclic<sp/>case<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="5156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a09ddd7e42c3b90a750e3769f20258201" kindref="member">noOfPackets</ref>;<sp/>++<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>)</highlight></codeline>
<codeline lineno="5157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>up<sp/>the<sp/>packets<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____d_a_t_a_p_a_c_k_e_t" kindref="compound">DATAPACKET</ref><sp/>*p<sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1658ab65cd0eaf8d0c0c3b1904125df" kindref="member">packets</ref><sp/>+<sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="5160"><highlight class="normal"></highlight></codeline>
<codeline lineno="5161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Playback<sp/>event<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" kindref="member">events</ref>[<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>]<sp/>=<sp/>CreateEvent(<ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/><ref refid="cext_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>,<sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>,<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="5163"><highlight class="normal"></highlight></codeline>
<codeline lineno="5164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>In<sp/>this<sp/>case,<sp/>we<sp/>just<sp/>use<sp/>the<sp/>packets<sp/>as<sp/>ptr<sp/>to<sp/>the<sp/>device<sp/>buffer<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1aa4ee2aff55460a89851b305543017691" kindref="member">Signal</ref>.hEvent<sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" kindref="member">events</ref>[<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>];</highlight></codeline>
<codeline lineno="5166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a6f6127c73baaa7e612ffb3337f9024c8" kindref="member">Data</ref><sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ab2726db73e01500b5088f535ac766738" kindref="member">hostBuffer</ref><sp/>+<sp/>(i*bufferSizeInBytes);</highlight></codeline>
<codeline lineno="5167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a08a3f73cbe6d08bf63ecf08d75ac3a2d" kindref="member">FrameExtent</ref><sp/>=<sp/>bufferSizeInBytes;</highlight></codeline>
<codeline lineno="5168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a848c0e966ba8bd1c3545121be62ca3a0" kindref="member">DataUsed</ref><sp/>=<sp/>bufferSizeInBytes;</highlight></codeline>
<codeline lineno="5169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a2763cce2aed94a0c37e6630595e3c86d" kindref="member">Size</ref><sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>);</highlight></codeline>
<codeline lineno="5170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a5900b2557203944a2ba94ac03eb6e1f0" kindref="member">PresentationTime</ref>.<ref refid="struct_k_s_t_i_m_e_1acaf2a40ad30a361fffebb509e7f564de" kindref="member">Numerator</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="5171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a5900b2557203944a2ba94ac03eb6e1f0" kindref="member">PresentationTime</ref>.<ref refid="struct_k_s_t_i_m_e_1aaf71d550df25184de8fb4c07e0a70f95" kindref="member">Denominator</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="5172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="5175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8a2af26020e0cc2ba29abf9235c1de3893" kindref="member">Type_kWaveRT</ref>:</highlight></codeline>
<codeline lineno="5176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>WaveRT<sp/>case<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5178"><highlight class="normal"></highlight></codeline>
<codeline lineno="5179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>up<sp/>the<sp/>&quot;packets&quot;<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____d_a_t_a_p_a_c_k_e_t" kindref="compound">DATAPACKET</ref><sp/>*p<sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1658ab65cd0eaf8d0c0c3b1904125df" kindref="member">packets</ref>;</highlight></codeline>
<codeline lineno="5181"><highlight class="normal"></highlight></codeline>
<codeline lineno="5182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>The<sp/>only<sp/>playback<sp/>event<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" kindref="member">events</ref>[0]<sp/>=<sp/>CreateEvent(<ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>,<sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>,<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="5184"><highlight class="normal"></highlight></codeline>
<codeline lineno="5185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>In<sp/>this<sp/>case,<sp/>we<sp/>just<sp/>use<sp/>the<sp/>packets<sp/>as<sp/>ptr<sp/>to<sp/>the<sp/>device<sp/>buffer<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a6f6127c73baaa7e612ffb3337f9024c8" kindref="member">Data</ref><sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ab2726db73e01500b5088f535ac766738" kindref="member">hostBuffer</ref>;</highlight></codeline>
<codeline lineno="5187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a08a3f73cbe6d08bf63ecf08d75ac3a2d" kindref="member">FrameExtent</ref><sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref>*stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref>;</highlight></codeline>
<codeline lineno="5188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a848c0e966ba8bd1c3545121be62ca3a0" kindref="member">DataUsed</ref><sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref>*stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref>;</highlight></codeline>
<codeline lineno="5189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a2763cce2aed94a0c37e6630595e3c86d" kindref="member">Size</ref><sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>);</highlight></codeline>
<codeline lineno="5190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a5900b2557203944a2ba94ac03eb6e1f0" kindref="member">PresentationTime</ref>.<ref refid="struct_k_s_t_i_m_e_1acaf2a40ad30a361fffebb509e7f564de" kindref="member">Numerator</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="5191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a5900b2557203944a2ba94ac03eb6e1f0" kindref="member">PresentationTime</ref>.<ref refid="struct_k_s_t_i_m_e_1aaf71d550df25184de8fb4c07e0a70f95" kindref="member">Denominator</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="5192"><highlight class="normal"></highlight></codeline>
<codeline lineno="5193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++<ref refid="xmltok_8h_1a94b60f3beb36ae85555d36dc9816769c" kindref="member">p</ref>;</highlight></codeline>
<codeline lineno="5194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a6f6127c73baaa7e612ffb3337f9024c8" kindref="member">Data</ref><sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ab2726db73e01500b5088f535ac766738" kindref="member">hostBuffer</ref><sp/>+<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref>*stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref>;</highlight></codeline>
<codeline lineno="5195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a08a3f73cbe6d08bf63ecf08d75ac3a2d" kindref="member">FrameExtent</ref><sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref>*stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref>;</highlight></codeline>
<codeline lineno="5196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a848c0e966ba8bd1c3545121be62ca3a0" kindref="member">DataUsed</ref><sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref>*stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref>;</highlight></codeline>
<codeline lineno="5197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a2763cce2aed94a0c37e6630595e3c86d" kindref="member">Size</ref><sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>);</highlight></codeline>
<codeline lineno="5198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a5900b2557203944a2ba94ac03eb6e1f0" kindref="member">PresentationTime</ref>.<ref refid="struct_k_s_t_i_m_e_1acaf2a40ad30a361fffebb509e7f564de" kindref="member">Numerator</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="5199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a5900b2557203944a2ba94ac03eb6e1f0" kindref="member">PresentationTime</ref>.<ref refid="struct_k_s_t_i_m_e_1aaf71d550df25184de8fb4c07e0a70f95" kindref="member">Denominator</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="5200"><highlight class="normal"></highlight></codeline>
<codeline lineno="5201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a8f64c1157494c02e8be9d85d72f359fe" kindref="member">pinKsSubType</ref><sp/>==<sp/><ref refid="pa__win__wdmks_8h_1ab1fecd3bd8c22ca5820fee46fc9d89c2a49c6ee27f3848a25e01bb7e7e9dd4ef5" kindref="member">SubType_kNotification</ref>)</highlight></codeline>
<codeline lineno="5202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>PinRegisterNotificationHandle(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>,<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" kindref="member">events</ref>[0]);</highlight></codeline>
<codeline lineno="5204"><highlight class="normal"></highlight></codeline>
<codeline lineno="5205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="5206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>register<sp/>rendering<sp/>notification<sp/>handle\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="5208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(<ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a47726071f5dccc656d5e3ff20bbfc5a0" kindref="member">paUnanticipatedHostError</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>register<sp/>rendering<sp/>notification<sp/>handle&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="5209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a47726071f5dccc656d5e3ff20bbfc5a0" kindref="member">paUnanticipatedHostError</ref>;</highlight></codeline>
<codeline lineno="5210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="5211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5213"><highlight class="normal"></highlight></codeline>
<codeline lineno="5214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>PinRegisterPositionRegister(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>);</highlight></codeline>
<codeline lineno="5215"><highlight class="normal"></highlight></codeline>
<codeline lineno="5216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="5217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>pos<sp/>=<sp/>0xdeadc0de;</highlight></codeline>
<codeline lineno="5219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>register<sp/>rendering<sp/>position<sp/>register,<sp/>using<sp/>PinGetAudioPositionViaIOCTLRead\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="5220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a4eb72e73473daa4c5fe2c9dc6b840a93" kindref="member">fnAudioPosition</ref><sp/>=<sp/>PinGetAudioPositionViaIOCTLRead;</highlight></codeline>
<codeline lineno="5221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Test<sp/>position<sp/>function<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a4eb72e73473daa4c5fe2c9dc6b840a93" kindref="member">fnAudioPosition</ref>)(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>,<sp/>&amp;pos);</highlight></codeline>
<codeline lineno="5223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref><sp/>||<sp/>pos<sp/>!=<sp/>0x0)</highlight></codeline>
<codeline lineno="5224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>read<sp/>render<sp/>position<sp/>register<sp/>(IOCTL)\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="5226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(<ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a47726071f5dccc656d5e3ff20bbfc5a0" kindref="member">paUnanticipatedHostError</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>read<sp/>render<sp/>position<sp/>register<sp/>(IOCTL)&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="5227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a47726071f5dccc656d5e3ff20bbfc5a0" kindref="member">paUnanticipatedHostError</ref>;</highlight></codeline>
<codeline lineno="5228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="5229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a4eb72e73473daa4c5fe2c9dc6b840a93" kindref="member">fnAudioPosition</ref><sp/>=<sp/>PinGetAudioPositionMemoryMapped;</highlight></codeline>
<codeline lineno="5234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="5237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="5238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Undefined<sp/>wave<sp/>type!!<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(0);</highlight></codeline>
<codeline lineno="5240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a4851f9f753cdad3e7a89380d6589816c" kindref="member">paInternalError</ref>;</highlight></codeline>
<codeline lineno="5241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(result,<sp/></highlight><highlight class="stringliteral">&quot;Wave<sp/>type<sp/>%u<sp/>??&quot;</highlight><highlight class="normal">,<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1a65b71d52a0990fdb97201d0cea3f05f1" kindref="member">streamingType</ref>);</highlight></codeline>
<codeline lineno="5242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="5243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5244"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5245"><highlight class="normal"></highlight></codeline>
<codeline lineno="5246"><highlight class="normal"><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1ab3122c31d95fb7481d45e375fa9a5a3f" kindref="member">streamStarted</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5247"><highlight class="normal"><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a1f917538ec25eacc82713745052815f1" kindref="member">streamActive</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5248"><highlight class="normal"><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a970f778b68693673b00fedf8ff4f201d" kindref="member">streamStop</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5249"><highlight class="normal"><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1acaa0f377d2148764a2c6dd97c75e87d7" kindref="member">streamAbort</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5250"><highlight class="normal"><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a515c790a2cfb6e012e152dc1713feb5c" kindref="member">streamFlags</ref><sp/>=<sp/>streamFlags;</highlight></codeline>
<codeline lineno="5251"><highlight class="normal"><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a0ab2edba0df711bbda00f8030f290db0" kindref="member">oldProcessPriority</ref><sp/>=<sp/>REALTIME_PRIORITY_CLASS;</highlight></codeline>
<codeline lineno="5252"><highlight class="normal"></highlight></codeline>
<codeline lineno="5253"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Increase<sp/>ref<sp/>count<sp/>on<sp/>filters<sp/>in<sp/>use,<sp/>so<sp/>that<sp/>a<sp/>CommitDeviceInfos<sp/>won&apos;t<sp/>delete<sp/>them<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5254"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref><sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="5255"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FilterAddRef(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>);</highlight></codeline>
<codeline lineno="5257"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5258"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref><sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="5259"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FilterAddRef(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>);</highlight></codeline>
<codeline lineno="5261"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5262"><highlight class="normal"></highlight></codeline>
<codeline lineno="5263"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Ok,<sp/>now<sp/>update<sp/>our<sp/>host<sp/>API<sp/>specific<sp/>stream<sp/>info<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5264"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1ac89b1708e9a4877523c85ed6961d4fe7" kindref="member">userInputChannels</ref>)</highlight></codeline>
<codeline lineno="5265"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_device_info" kindref="compound">PaWinWdmDeviceInfo</ref><sp/>*pDeviceInfo<sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_device_info" kindref="compound">PaWinWdmDeviceInfo</ref>*)wdmHostApi-&gt;<ref refid="struct_____pa_win_wdm_host_api_representation_1a73b6839eeeedfad62406b6929c26d3ad" kindref="member">inheritedHostApiRep</ref>.<ref refid="struct_pa_util_host_api_representation_1a48dcfdf57e6d12d33314929ac213ae28" kindref="member">deviceInfos</ref>[inputParameters-&gt;<ref refid="struct_pa_stream_parameters_1aebaf648b4d11dd1252a747b76b8da084" kindref="member">device</ref>];</highlight></codeline>
<codeline lineno="5267"><highlight class="normal"></highlight></codeline>
<codeline lineno="5268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a3dbf6fed2412e92984b34fba10cbfeb5" kindref="member">hostApiStreamInfo</ref>.<ref refid="struct_pa_w_d_m_k_s_specific_stream_info_1addb405c49554ab4c9e11122f4b85d384" kindref="member">input</ref>.<ref refid="struct_pa_w_d_m_k_s_direction_specific_stream_info_1a37ff146054a9ae1c16b87f589874949a" kindref="member">device</ref><sp/>=<sp/><ref refid="portaudio_8h_1a54f306b5e5258323c95a27c5722258cd" kindref="member">Pa_HostApiDeviceIndexToDeviceIndex</ref>(<ref refid="portaudio_8h_1a081c3975126d20b4226facfb7ba0620f" kindref="member">Pa_HostApiTypeIdToHostApiIndex</ref>(<ref refid="portaudio_8h_1a8eaebe3d39c5ea45598da8f86dc2e5aeacb4ba221afe42867d96ab345ee13d78d" kindref="member">paWDMKS</ref>),<sp/>inputParameters-&gt;<ref refid="struct_pa_stream_parameters_1aebaf648b4d11dd1252a747b76b8da084" kindref="member">device</ref>);</highlight></codeline>
<codeline lineno="5269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a3dbf6fed2412e92984b34fba10cbfeb5" kindref="member">hostApiStreamInfo</ref>.<ref refid="struct_pa_w_d_m_k_s_specific_stream_info_1addb405c49554ab4c9e11122f4b85d384" kindref="member">input</ref>.<ref refid="struct_pa_w_d_m_k_s_direction_specific_stream_info_1a5bea6996e1aa45e8525769b13eca32a0" kindref="member">channels</ref><sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1ae9c3eec995fc49fa3fadb925430b359c" kindref="member">deviceInputChannels</ref>;</highlight></codeline>
<codeline lineno="5270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a3dbf6fed2412e92984b34fba10cbfeb5" kindref="member">hostApiStreamInfo</ref>.<ref refid="struct_pa_w_d_m_k_s_specific_stream_info_1addb405c49554ab4c9e11122f4b85d384" kindref="member">input</ref>.<ref refid="struct_pa_w_d_m_k_s_direction_specific_stream_info_1ae4a79825046710f1fee6309b451983de" kindref="member">muxNodeId</ref><sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="5271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1ae08e82747f231ea0365211c5dbbc48a7" kindref="member">inputs</ref>)</highlight></codeline>
<codeline lineno="5272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a3dbf6fed2412e92984b34fba10cbfeb5" kindref="member">hostApiStreamInfo</ref>.<ref refid="struct_pa_w_d_m_k_s_specific_stream_info_1addb405c49554ab4c9e11122f4b85d384" kindref="member">input</ref>.<ref refid="struct_pa_w_d_m_k_s_direction_specific_stream_info_1ae4a79825046710f1fee6309b451983de" kindref="member">muxNodeId</ref><sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1ae08e82747f231ea0365211c5dbbc48a7" kindref="member">inputs</ref>[pDeviceInfo-&gt;<ref refid="struct_____pa_win_wdm_device_info_1ac4769a798b0d43861e1ce362afe729b2" kindref="member">muxPosition</ref>]-&gt;<ref refid="struct_____pa_win_wdm_muxed_input_1a0c99dd95a1181833c2f8758ce8e76331" kindref="member">muxNodeId</ref>;</highlight></codeline>
<codeline lineno="5274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a3dbf6fed2412e92984b34fba10cbfeb5" kindref="member">hostApiStreamInfo</ref>.<ref refid="struct_pa_w_d_m_k_s_specific_stream_info_1addb405c49554ab4c9e11122f4b85d384" kindref="member">input</ref>.<ref refid="struct_pa_w_d_m_k_s_direction_specific_stream_info_1a92bdda98baa8976a19d99da20eb6d21a" kindref="member">endpointPinId</ref><sp/>=<sp/>pDeviceInfo-&gt;<ref refid="struct_____pa_win_wdm_device_info_1ad338338f56666dd11ecc1da66602fa5f" kindref="member">endpointPinId</ref>;</highlight></codeline>
<codeline lineno="5276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a3dbf6fed2412e92984b34fba10cbfeb5" kindref="member">hostApiStreamInfo</ref>.<ref refid="struct_pa_w_d_m_k_s_specific_stream_info_1addb405c49554ab4c9e11122f4b85d384" kindref="member">input</ref>.<ref refid="struct_pa_w_d_m_k_s_direction_specific_stream_info_1a5b5248935d8b586285805bb827e1592f" kindref="member">framesPerHostBuffer</ref><sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref>;</highlight></codeline>
<codeline lineno="5277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a3dbf6fed2412e92984b34fba10cbfeb5" kindref="member">hostApiStreamInfo</ref>.<ref refid="struct_pa_w_d_m_k_s_specific_stream_info_1addb405c49554ab4c9e11122f4b85d384" kindref="member">input</ref>.<ref refid="struct_pa_w_d_m_k_s_direction_specific_stream_info_1a38c7069753a67167c66a926f7859d1f3" kindref="member">streamingSubType</ref><sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a8f64c1157494c02e8be9d85d72f359fe" kindref="member">pinKsSubType</ref>;</highlight></codeline>
<codeline lineno="5278"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5279"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5280"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a3dbf6fed2412e92984b34fba10cbfeb5" kindref="member">hostApiStreamInfo</ref>.<ref refid="struct_pa_w_d_m_k_s_specific_stream_info_1addb405c49554ab4c9e11122f4b85d384" kindref="member">input</ref>.<ref refid="struct_pa_w_d_m_k_s_direction_specific_stream_info_1a37ff146054a9ae1c16b87f589874949a" kindref="member">device</ref><sp/>=<sp/><ref refid="portaudio_8h_1a8c26dd5e6f28bb4cda7a1f5460282297" kindref="member">paNoDevice</ref>;</highlight></codeline>
<codeline lineno="5282"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5283"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a4d0bdb5754a747c2be09c7a3829efa9c" kindref="member">userOutputChannels</ref>)</highlight></codeline>
<codeline lineno="5284"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a3dbf6fed2412e92984b34fba10cbfeb5" kindref="member">hostApiStreamInfo</ref>.<ref refid="struct_pa_w_d_m_k_s_specific_stream_info_1a99f218f86f2ee9c1f56ae657e1de62cb" kindref="member">output</ref>.<ref refid="struct_pa_w_d_m_k_s_direction_specific_stream_info_1a37ff146054a9ae1c16b87f589874949a" kindref="member">device</ref><sp/>=<sp/><ref refid="portaudio_8h_1a54f306b5e5258323c95a27c5722258cd" kindref="member">Pa_HostApiDeviceIndexToDeviceIndex</ref>(<ref refid="portaudio_8h_1a081c3975126d20b4226facfb7ba0620f" kindref="member">Pa_HostApiTypeIdToHostApiIndex</ref>(<ref refid="portaudio_8h_1a8eaebe3d39c5ea45598da8f86dc2e5aeacb4ba221afe42867d96ab345ee13d78d" kindref="member">paWDMKS</ref>),<sp/>outputParameters-&gt;<ref refid="struct_pa_stream_parameters_1aebaf648b4d11dd1252a747b76b8da084" kindref="member">device</ref>);</highlight></codeline>
<codeline lineno="5286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a3dbf6fed2412e92984b34fba10cbfeb5" kindref="member">hostApiStreamInfo</ref>.<ref refid="struct_pa_w_d_m_k_s_specific_stream_info_1a99f218f86f2ee9c1f56ae657e1de62cb" kindref="member">output</ref>.<ref refid="struct_pa_w_d_m_k_s_direction_specific_stream_info_1a5bea6996e1aa45e8525769b13eca32a0" kindref="member">channels</ref><sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1aea3f97d4daebbcf1865bcce7103e5e1b" kindref="member">deviceOutputChannels</ref>;</highlight></codeline>
<codeline lineno="5287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a3dbf6fed2412e92984b34fba10cbfeb5" kindref="member">hostApiStreamInfo</ref>.<ref refid="struct_pa_w_d_m_k_s_specific_stream_info_1a99f218f86f2ee9c1f56ae657e1de62cb" kindref="member">output</ref>.<ref refid="struct_pa_w_d_m_k_s_direction_specific_stream_info_1a5b5248935d8b586285805bb827e1592f" kindref="member">framesPerHostBuffer</ref><sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref>;</highlight></codeline>
<codeline lineno="5288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a3dbf6fed2412e92984b34fba10cbfeb5" kindref="member">hostApiStreamInfo</ref>.<ref refid="struct_pa_w_d_m_k_s_specific_stream_info_1a99f218f86f2ee9c1f56ae657e1de62cb" kindref="member">output</ref>.<ref refid="struct_pa_w_d_m_k_s_direction_specific_stream_info_1a92bdda98baa8976a19d99da20eb6d21a" kindref="member">endpointPinId</ref><sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a3f3942f6c97d908f03f559998a1daafb" kindref="member">endpointPinId</ref>;</highlight></codeline>
<codeline lineno="5289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a3dbf6fed2412e92984b34fba10cbfeb5" kindref="member">hostApiStreamInfo</ref>.<ref refid="struct_pa_w_d_m_k_s_specific_stream_info_1a99f218f86f2ee9c1f56ae657e1de62cb" kindref="member">output</ref>.<ref refid="struct_pa_w_d_m_k_s_direction_specific_stream_info_1a38c7069753a67167c66a926f7859d1f3" kindref="member">streamingSubType</ref><sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a8f64c1157494c02e8be9d85d72f359fe" kindref="member">pinKsSubType</ref>;</highlight></codeline>
<codeline lineno="5290"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5291"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5292"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a3dbf6fed2412e92984b34fba10cbfeb5" kindref="member">hostApiStreamInfo</ref>.<ref refid="struct_pa_w_d_m_k_s_specific_stream_info_1a99f218f86f2ee9c1f56ae657e1de62cb" kindref="member">output</ref>.<ref refid="struct_pa_w_d_m_k_s_direction_specific_stream_info_1a37ff146054a9ae1c16b87f589874949a" kindref="member">device</ref><sp/>=<sp/><ref refid="portaudio_8h_1a8c26dd5e6f28bb4cda7a1f5460282297" kindref="member">paNoDevice</ref>;</highlight></codeline>
<codeline lineno="5294"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5295"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*stream-&gt;streamRepresentation.streamInfo.hostApiTypeId<sp/>=<sp/>paWDMKS;</highlight></codeline>
<codeline lineno="5296"><highlight class="comment"><sp/><sp/><sp/><sp/>stream-&gt;streamRepresentation.streamInfo.hostApiSpecificStreamInfo<sp/>=<sp/>&amp;stream-&gt;hostApiStreamInfo;*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5297"><highlight class="normal"><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a7e4e2c52c81ca859f290909b0e9868a6" kindref="member">streamRepresentation</ref>.<ref refid="struct_pa_util_stream_representation_1a13c2b5318f73dde9a11fd9d874763d4a" kindref="member">streamInfo</ref>.<ref refid="struct_pa_stream_info_1a5e053a3f0f6232a5d1ec0dee0f9a943b" kindref="member">structVersion</ref><sp/>=<sp/>2;</highlight></codeline>
<codeline lineno="5298"><highlight class="normal"></highlight></codeline>
<codeline lineno="5299"><highlight class="normal"><sp/><sp/><sp/><sp/>*s<sp/>=<sp/>(<ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref>*)stream;</highlight></codeline>
<codeline lineno="5300"><highlight class="normal"></highlight></codeline>
<codeline lineno="5301"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="5302"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="5303"><highlight class="normal"></highlight></codeline>
<codeline lineno="5304"><highlight class="normal">occupied:</highlight></codeline>
<codeline lineno="5305"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Ok,<sp/>someone<sp/>else<sp/>is<sp/>hogging<sp/>the<sp/>pin,<sp/>bail<sp/>out<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5306"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref><sp/>(result<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a467dac712e45745d8b0d8cd429fd1a01" kindref="member">paDeviceUnavailable</ref>);</highlight></codeline>
<codeline lineno="5307"><highlight class="normal"><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(result,<sp/></highlight><highlight class="stringliteral">&quot;Device<sp/>is<sp/>occupied&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="5308"><highlight class="normal"></highlight></codeline>
<codeline lineno="5309"><highlight class="normal"><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>:</highlight></codeline>
<codeline lineno="5310"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__process_8c_1acf4e607f9c25ec2db5efd02ef1adb188" kindref="member">PaUtil_TerminateBufferProcessor</ref>(<sp/>&amp;stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a2c900cef33bbe8ae112f0de607c61335" kindref="member">bufferProcessor</ref><sp/>);</highlight></codeline>
<codeline lineno="5311"><highlight class="normal"></highlight></codeline>
<codeline lineno="5312"><highlight class="normal"><sp/><sp/><sp/><sp/>CloseStreamEvents(stream);</highlight></codeline>
<codeline lineno="5313"><highlight class="normal"></highlight></codeline>
<codeline lineno="5314"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a4dd31c3219fcd2e7cfd39dbf2006d08d" kindref="member">allocGroup</ref>)</highlight></codeline>
<codeline lineno="5315"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__allocation_8c_1aa83a07899e8db63d415d03f68b1f8a3d" kindref="member">PaUtil_FreeAllAllocations</ref>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a4dd31c3219fcd2e7cfd39dbf2006d08d" kindref="member">allocGroup</ref>);</highlight></codeline>
<codeline lineno="5317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__allocation_8c_1aefcb1143eaa768c2b555bd203f1c9deb" kindref="member">PaUtil_DestroyAllocationGroup</ref>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a4dd31c3219fcd2e7cfd39dbf2006d08d" kindref="member">allocGroup</ref>);</highlight></codeline>
<codeline lineno="5318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a4dd31c3219fcd2e7cfd39dbf2006d08d" kindref="member">allocGroup</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5319"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5320"><highlight class="normal"></highlight></codeline>
<codeline lineno="5321"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>)</highlight></codeline>
<codeline lineno="5322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PinClose(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>);</highlight></codeline>
<codeline lineno="5323"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>)</highlight></codeline>
<codeline lineno="5324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PinClose(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>);</highlight></codeline>
<codeline lineno="5325"><highlight class="normal"></highlight></codeline>
<codeline lineno="5326"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__util_8h_1a27a8f85d109600ef246e5c642c5c3cad" kindref="member">PaUtil_FreeMemory</ref>(<sp/>stream<sp/>);</highlight></codeline>
<codeline lineno="5327"><highlight class="normal"></highlight></codeline>
<codeline lineno="5328"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="5329"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="5330"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5331"><highlight class="normal"></highlight></codeline>
<codeline lineno="5332"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="5333"><highlight class="comment">When<sp/>CloseStream()<sp/>is<sp/>called,<sp/>the<sp/>multi-api<sp/>layer<sp/>ensures<sp/>that</highlight></codeline>
<codeline lineno="5334"><highlight class="comment">the<sp/>stream<sp/>has<sp/>already<sp/>been<sp/>stopped<sp/>or<sp/>aborted.</highlight></codeline>
<codeline lineno="5335"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5336"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>CloseStream(<sp/><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref>*<sp/>s<sp/>)</highlight></codeline>
<codeline lineno="5337"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5338"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="5339"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream" kindref="compound">PaWinWdmStream</ref><sp/>*stream<sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_stream" kindref="compound">PaWinWdmStream</ref>*)s;</highlight></codeline>
<codeline lineno="5340"><highlight class="normal"></highlight></codeline>
<codeline lineno="5341"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="5342"><highlight class="normal"></highlight></codeline>
<codeline lineno="5343"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(!stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1ab3122c31d95fb7481d45e375fa9a5a3f" kindref="member">streamStarted</ref>);</highlight></codeline>
<codeline lineno="5344"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(!stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a1f917538ec25eacc82713745052815f1" kindref="member">streamActive</ref>);</highlight></codeline>
<codeline lineno="5345"><highlight class="normal"></highlight></codeline>
<codeline lineno="5346"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__process_8c_1acf4e607f9c25ec2db5efd02ef1adb188" kindref="member">PaUtil_TerminateBufferProcessor</ref>(<sp/>&amp;stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a2c900cef33bbe8ae112f0de607c61335" kindref="member">bufferProcessor</ref><sp/>);</highlight></codeline>
<codeline lineno="5347"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__stream_8c_1ac30f6c0d3138ef52c63c94fd1a53ea86" kindref="member">PaUtil_TerminateStreamRepresentation</ref>(<sp/>&amp;stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a7e4e2c52c81ca859f290909b0e9868a6" kindref="member">streamRepresentation</ref><sp/>);</highlight></codeline>
<codeline lineno="5348"><highlight class="normal"></highlight></codeline>
<codeline lineno="5349"><highlight class="normal"><sp/><sp/><sp/><sp/>CloseStreamEvents(stream);</highlight></codeline>
<codeline lineno="5350"><highlight class="normal"></highlight></codeline>
<codeline lineno="5351"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a4dd31c3219fcd2e7cfd39dbf2006d08d" kindref="member">allocGroup</ref>)</highlight></codeline>
<codeline lineno="5352"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__allocation_8c_1aa83a07899e8db63d415d03f68b1f8a3d" kindref="member">PaUtil_FreeAllAllocations</ref>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a4dd31c3219fcd2e7cfd39dbf2006d08d" kindref="member">allocGroup</ref>);</highlight></codeline>
<codeline lineno="5354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__allocation_8c_1aefcb1143eaa768c2b555bd203f1c9deb" kindref="member">PaUtil_DestroyAllocationGroup</ref>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a4dd31c3219fcd2e7cfd39dbf2006d08d" kindref="member">allocGroup</ref>);</highlight></codeline>
<codeline lineno="5355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a4dd31c3219fcd2e7cfd39dbf2006d08d" kindref="member">allocGroup</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5356"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5357"><highlight class="normal"></highlight></codeline>
<codeline lineno="5358"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>)</highlight></codeline>
<codeline lineno="5359"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PinClose(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>);</highlight></codeline>
<codeline lineno="5361"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5362"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>)</highlight></codeline>
<codeline lineno="5363"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PinClose(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>);</highlight></codeline>
<codeline lineno="5365"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5366"><highlight class="normal"></highlight></codeline>
<codeline lineno="5367"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>)</highlight></codeline>
<codeline lineno="5368"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FilterFree(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>);</highlight></codeline>
<codeline lineno="5370"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5371"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>)</highlight></codeline>
<codeline lineno="5372"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FilterFree(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>);</highlight></codeline>
<codeline lineno="5374"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5375"><highlight class="normal"></highlight></codeline>
<codeline lineno="5376"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__util_8h_1a27a8f85d109600ef246e5c642c5c3cad" kindref="member">PaUtil_FreeMemory</ref>(<sp/>stream<sp/>);</highlight></codeline>
<codeline lineno="5377"><highlight class="normal"></highlight></codeline>
<codeline lineno="5378"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="5379"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="5380"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5381"><highlight class="normal"></highlight></codeline>
<codeline lineno="5382"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="5383"><highlight class="comment">Write<sp/>the<sp/>supplied<sp/>packet<sp/>to<sp/>the<sp/>pin</highlight></codeline>
<codeline lineno="5384"><highlight class="comment">Asynchronous</highlight></codeline>
<codeline lineno="5385"><highlight class="comment">Should<sp/>return<sp/>paNoError<sp/>on<sp/>success</highlight></codeline>
<codeline lineno="5386"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5387"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PinWrite(<ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/>h,<sp/><ref refid="struct_____d_a_t_a_p_a_c_k_e_t" kindref="compound">DATAPACKET</ref>*<sp/>p)</highlight></codeline>
<codeline lineno="5388"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5389"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="5390"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>cbReturned<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5391"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref><sp/>fRes<sp/>=<sp/>DeviceIoControl(h,</highlight></codeline>
<codeline lineno="5392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1aeb84e3aeb70d4acf6449f91a95489aeb" kindref="member">IOCTL_KS_WRITE_STREAM</ref>,</highlight></codeline>
<codeline lineno="5393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,</highlight></codeline>
<codeline lineno="5394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0,</highlight></codeline>
<codeline lineno="5395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>,</highlight></codeline>
<codeline lineno="5396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a2763cce2aed94a0c37e6630595e3c86d" kindref="member">Size</ref>,</highlight></codeline>
<codeline lineno="5397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;cbReturned,</highlight></codeline>
<codeline lineno="5398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1aa4ee2aff55460a89851b305543017691" kindref="member">Signal</ref>);</highlight></codeline>
<codeline lineno="5399"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!fRes)</highlight></codeline>
<codeline lineno="5400"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref><sp/>=<sp/>GetLastError();</highlight></codeline>
<codeline lineno="5402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(error<sp/>!=<sp/>ERROR_IO_PENDING)</highlight></codeline>
<codeline lineno="5403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a4851f9f753cdad3e7a89380d6589816c" kindref="member">paInternalError</ref>;</highlight></codeline>
<codeline lineno="5405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5406"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5407"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="5408"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5409"><highlight class="normal"></highlight></codeline>
<codeline lineno="5410"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="5411"><highlight class="comment">Read<sp/>to<sp/>the<sp/>supplied<sp/>packet<sp/>from<sp/>the<sp/>pin</highlight></codeline>
<codeline lineno="5412"><highlight class="comment">Asynchronous</highlight></codeline>
<codeline lineno="5413"><highlight class="comment">Should<sp/>return<sp/>paNoError<sp/>on<sp/>success</highlight></codeline>
<codeline lineno="5414"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5415"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PinRead(<ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/>h,<sp/><ref refid="struct_____d_a_t_a_p_a_c_k_e_t" kindref="compound">DATAPACKET</ref>*<sp/>p)</highlight></codeline>
<codeline lineno="5416"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5417"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="5418"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>cbReturned<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5419"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref><sp/>fRes<sp/>=<sp/>DeviceIoControl(h,</highlight></codeline>
<codeline lineno="5420"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ks_8h_1aa9cf531ac089ce0f7848dad38de97c0b" kindref="member">IOCTL_KS_READ_STREAM</ref>,</highlight></codeline>
<codeline lineno="5421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,</highlight></codeline>
<codeline lineno="5422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0,</highlight></codeline>
<codeline lineno="5423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>,</highlight></codeline>
<codeline lineno="5424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a2763cce2aed94a0c37e6630595e3c86d" kindref="member">Size</ref>,</highlight></codeline>
<codeline lineno="5425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;cbReturned,</highlight></codeline>
<codeline lineno="5426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;p-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1aa4ee2aff55460a89851b305543017691" kindref="member">Signal</ref>);</highlight></codeline>
<codeline lineno="5427"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!fRes)</highlight></codeline>
<codeline lineno="5428"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref><sp/>=<sp/>GetLastError();</highlight></codeline>
<codeline lineno="5430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(error<sp/>!=<sp/>ERROR_IO_PENDING)</highlight></codeline>
<codeline lineno="5431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a4851f9f753cdad3e7a89380d6589816c" kindref="member">paInternalError</ref>;</highlight></codeline>
<codeline lineno="5433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5434"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5435"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="5436"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5437"><highlight class="normal"></highlight></codeline>
<codeline lineno="5438"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="5439"><highlight class="comment">Copy<sp/>the<sp/>first<sp/>interleaved<sp/>channel<sp/>of<sp/>16<sp/>bit<sp/>data<sp/>to<sp/>the<sp/>other<sp/>channels</highlight></codeline>
<codeline lineno="5440"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5441"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>DuplicateFirstChannelInt16(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/><ref refid="structbuffer" kindref="compound">buffer</ref>,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>channels,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="test__rw__echo_8c_1a39c8d1039645bc924aecc49d76f472a0" kindref="member">samples</ref>)</highlight></codeline>
<codeline lineno="5442"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5443"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal">*<sp/><ref refid="lib_2expat_8h_1ac39e72a1de1cb50dbdc54b08d0432a24" kindref="member">data</ref><sp/>=<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal">*)buffer;</highlight></codeline>
<codeline lineno="5444"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>channel;</highlight></codeline>
<codeline lineno="5445"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">short</highlight><highlight class="normal"><sp/>sourceSample;</highlight></codeline>
<codeline lineno="5446"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(<sp/>samples--<sp/>)</highlight></codeline>
<codeline lineno="5447"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sourceSample<sp/>=<sp/>*data++;</highlight></codeline>
<codeline lineno="5449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>channel<sp/>=<sp/>channels-1;</highlight></codeline>
<codeline lineno="5450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(<sp/>channel--<sp/>)</highlight></codeline>
<codeline lineno="5451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*data++<sp/>=<sp/>sourceSample;</highlight></codeline>
<codeline lineno="5453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5454"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5455"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5456"><highlight class="normal"></highlight></codeline>
<codeline lineno="5457"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="5458"><highlight class="comment">Copy<sp/>the<sp/>first<sp/>interleaved<sp/>channel<sp/>of<sp/>24<sp/>bit<sp/>data<sp/>to<sp/>the<sp/>other<sp/>channels</highlight></codeline>
<codeline lineno="5459"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5460"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>DuplicateFirstChannelInt24(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>buffer,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>channels,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>samples)</highlight></codeline>
<codeline lineno="5461"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5462"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/><ref refid="lib_2expat_8h_1ac39e72a1de1cb50dbdc54b08d0432a24" kindref="member">data</ref><sp/>=<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*)buffer;</highlight></codeline>
<codeline lineno="5463"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>channel;</highlight></codeline>
<codeline lineno="5464"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>sourceSample[3];</highlight></codeline>
<codeline lineno="5465"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(<sp/>samples--<sp/>)</highlight></codeline>
<codeline lineno="5466"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sourceSample[0]<sp/>=<sp/>data[0];</highlight></codeline>
<codeline lineno="5468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sourceSample[1]<sp/>=<sp/>data[1];</highlight></codeline>
<codeline lineno="5469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sourceSample[2]<sp/>=<sp/>data[2];</highlight></codeline>
<codeline lineno="5470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data<sp/>+=<sp/>3;</highlight></codeline>
<codeline lineno="5471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>channel<sp/>=<sp/>channels-1;</highlight></codeline>
<codeline lineno="5472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(<sp/>channel--<sp/>)</highlight></codeline>
<codeline lineno="5473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data[0]<sp/>=<sp/>sourceSample[0];</highlight></codeline>
<codeline lineno="5475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data[1]<sp/>=<sp/>sourceSample[1];</highlight></codeline>
<codeline lineno="5476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data[2]<sp/>=<sp/>sourceSample[2];</highlight></codeline>
<codeline lineno="5477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data<sp/>+=<sp/>3;</highlight></codeline>
<codeline lineno="5478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5479"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5480"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5481"><highlight class="normal"></highlight></codeline>
<codeline lineno="5482"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="5483"><highlight class="comment">Copy<sp/>the<sp/>first<sp/>interleaved<sp/>channel<sp/>of<sp/>32<sp/>bit<sp/>data<sp/>to<sp/>the<sp/>other<sp/>channels</highlight></codeline>
<codeline lineno="5484"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5485"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>DuplicateFirstChannelInt32(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>buffer,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>channels,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>samples)</highlight></codeline>
<codeline lineno="5486"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5487"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal">*<sp/><ref refid="lib_2expat_8h_1ac39e72a1de1cb50dbdc54b08d0432a24" kindref="member">data</ref><sp/>=<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal">*)buffer;</highlight></codeline>
<codeline lineno="5488"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>channel;</highlight></codeline>
<codeline lineno="5489"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>sourceSample;</highlight></codeline>
<codeline lineno="5490"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(<sp/>samples--<sp/>)</highlight></codeline>
<codeline lineno="5491"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sourceSample<sp/>=<sp/>*data++;</highlight></codeline>
<codeline lineno="5493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>channel<sp/>=<sp/>channels-1;</highlight></codeline>
<codeline lineno="5494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(<sp/>channel--<sp/>)</highlight></codeline>
<codeline lineno="5495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*data++<sp/>=<sp/>sourceSample;</highlight></codeline>
<codeline lineno="5497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5498"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5499"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5500"><highlight class="normal"></highlight></codeline>
<codeline lineno="5501"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="5502"><highlight class="comment">Increase<sp/>the<sp/>priority<sp/>of<sp/>the<sp/>calling<sp/>thread<sp/>to<sp/>RT<sp/></highlight></codeline>
<codeline lineno="5503"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5504"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/>BumpThreadPriority()<sp/></highlight></codeline>
<codeline lineno="5505"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5506"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/>hThread<sp/>=<sp/>GetCurrentThread();</highlight></codeline>
<codeline lineno="5507"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref><sp/>dwTask<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5508"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/>hAVRT<sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="5509"><highlight class="normal"></highlight></codeline>
<codeline lineno="5510"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>we<sp/>have<sp/>access<sp/>to<sp/>AVRT.DLL<sp/>(Vista<sp/>and<sp/>later),<sp/>use<sp/>it<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5511"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(paWinWDMKSAvRtEntryPoints.AvSetMmThreadCharacteristics<sp/>!=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/></highlight></codeline>
<codeline lineno="5512"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hAVRT<sp/>=<sp/>paWinWDMKSAvRtEntryPoints.AvSetMmThreadCharacteristics(</highlight><highlight class="stringliteral">&quot;Pro<sp/>Audio&quot;</highlight><highlight class="normal">,<sp/>&amp;dwTask);</highlight></codeline>
<codeline lineno="5514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(hAVRT<sp/>!=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>&amp;&amp;<sp/>hAVRT<sp/>!=<sp/>INVALID_HANDLE_VALUE)<sp/></highlight></codeline>
<codeline lineno="5515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref><sp/>bret<sp/>=<sp/>paWinWDMKSAvRtEntryPoints.AvSetMmThreadPriority(hAVRT,<sp/><ref refid="pa__win__wdmks_8c_1a2ed6fe22cba98e98dc797f66315d3884aaddd13240b8b15d145e282c8ef36a108" kindref="member">PA_AVRT_PRIORITY_CRITICAL</ref>);</highlight></codeline>
<codeline lineno="5517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!bret)</highlight></codeline>
<codeline lineno="5518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Set<sp/>mm<sp/>thread<sp/>prio<sp/>to<sp/>critical<sp/>failed!\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="5520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5522"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>hAVRT;</highlight></codeline>
<codeline lineno="5524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Set<sp/>mm<sp/>thread<sp/>characteristic<sp/>to<sp/>&apos;Pro<sp/>Audio&apos;<sp/>failed,<sp/>reverting<sp/>to<sp/>SetThreadPriority\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="5529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5530"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5531"><highlight class="normal"></highlight></codeline>
<codeline lineno="5532"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>For<sp/>XP<sp/>and<sp/>earlier,<sp/>or<sp/>if<sp/>AvSetMmThreadCharacteristics<sp/>fails<sp/>(MMCSS<sp/>disabled<sp/>?)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5533"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(timeBeginPeriod(1)<sp/>!=<sp/>TIMERR_NOERROR)<sp/>{</highlight></codeline>
<codeline lineno="5534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;timeBeginPeriod(1)<sp/>failed!\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="5535"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5536"><highlight class="normal"></highlight></codeline>
<codeline lineno="5537"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!SetThreadPriority(hThread,<sp/>THREAD_PRIORITY_TIME_CRITICAL))<sp/>{</highlight></codeline>
<codeline lineno="5538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;SetThreadPriority<sp/>failed!\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="5539"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5540"><highlight class="normal"></highlight></codeline>
<codeline lineno="5541"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>hAVRT;</highlight></codeline>
<codeline lineno="5542"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5543"><highlight class="normal"></highlight></codeline>
<codeline lineno="5544"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="5545"><highlight class="comment">Decrease<sp/>the<sp/>priority<sp/>of<sp/>the<sp/>calling<sp/>thread<sp/>to<sp/>normal</highlight></codeline>
<codeline lineno="5546"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5547"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>DropThreadPriority(<ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/>hAVRT)</highlight></codeline>
<codeline lineno="5548"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5549"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/>hThread<sp/>=<sp/>GetCurrentThread();</highlight></codeline>
<codeline lineno="5550"><highlight class="normal"></highlight></codeline>
<codeline lineno="5551"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(hAVRT<sp/>!=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/></highlight></codeline>
<codeline lineno="5552"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>paWinWDMKSAvRtEntryPoints.AvSetMmThreadPriority(hAVRT,<sp/><ref refid="pa__win__wdmks_8c_1a2ed6fe22cba98e98dc797f66315d3884ac373f8d46e872a052340070e06b3ae07" kindref="member">PA_AVRT_PRIORITY_NORMAL</ref>);</highlight></codeline>
<codeline lineno="5554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>paWinWDMKSAvRtEntryPoints.AvRevertMmThreadCharacteristics(hAVRT);</highlight></codeline>
<codeline lineno="5555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="5556"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5557"><highlight class="normal"></highlight></codeline>
<codeline lineno="5558"><highlight class="normal"><sp/><sp/><sp/><sp/>SetThreadPriority(hThread,<sp/>THREAD_PRIORITY_NORMAL);</highlight></codeline>
<codeline lineno="5559"><highlight class="normal"><sp/><sp/><sp/><sp/>timeEndPeriod(1);</highlight></codeline>
<codeline lineno="5560"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5561"><highlight class="normal"></highlight></codeline>
<codeline lineno="5562"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PreparePinForStart(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pin)</highlight></codeline>
<codeline lineno="5563"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5564"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result;</highlight></codeline>
<codeline lineno="5565"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>PinSetState(pin,<sp/><ref refid="ks_8h_1a4f0d9baddd3d96a7541645f20c7e28d7a05bc3c2e875af2a0157d98b35f00d111" kindref="member">KSSTATE_ACQUIRE</ref>);</highlight></codeline>
<codeline lineno="5566"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="5567"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="5569"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5570"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>PinSetState(pin,<sp/><ref refid="ks_8h_1a4f0d9baddd3d96a7541645f20c7e28d7a72df7d04fa2a4b85b334f2f81f9fea4a" kindref="member">KSSTATE_PAUSE</ref>);</highlight></codeline>
<codeline lineno="5571"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="5572"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="5574"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5575"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="5576"><highlight class="normal"></highlight></codeline>
<codeline lineno="5577"><highlight class="normal"><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>:</highlight></codeline>
<codeline lineno="5578"><highlight class="normal"><sp/><sp/><sp/><sp/>PinSetState(pin,<sp/><ref refid="ks_8h_1a4f0d9baddd3d96a7541645f20c7e28d7ad2ea8c442849c2f56178209afa825957" kindref="member">KSSTATE_STOP</ref>);</highlight></codeline>
<codeline lineno="5579"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="5580"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5581"><highlight class="normal"></highlight></codeline>
<codeline lineno="5582"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PreparePinsForStart(<ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref>*<sp/>pInfo)</highlight></codeline>
<codeline lineno="5583"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5584"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="5585"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Submit<sp/>buffers<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5586"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>)</highlight></codeline>
<codeline lineno="5587"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((result<sp/>=<sp/>PreparePinForStart(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>))<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="5589"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5590"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="5591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5592"><highlight class="normal"></highlight></codeline>
<codeline lineno="5593"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1a65b71d52a0990fdb97201d0cea3f05f1" kindref="member">streamingType</ref><sp/>==<sp/><ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8ae39673a93d503c16300f190ed31bb349" kindref="member">Type_kWaveCyclic</ref>)</highlight></codeline>
<codeline lineno="5594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5595"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="5596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(i=0;<sp/>i<sp/>&lt;<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a09ddd7e42c3b90a750e3769f20258201" kindref="member">noOfPackets</ref>;<sp/>++<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>)</highlight></codeline>
<codeline lineno="5597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((result<sp/>=<sp/>PinRead(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a60e3d7a05346b1ce3e8e910e9d1c4fb8" kindref="member">handle</ref>,<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1658ab65cd0eaf8d0c0c3b1904125df" kindref="member">packets</ref><sp/>+<sp/>i))<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="5599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5600"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="5601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1aa45f4971b33af9b928d1b158e0e508a2" kindref="member">pending</ref>;</highlight></codeline>
<codeline lineno="5603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1aa45f4971b33af9b928d1b158e0e508a2" kindref="member">pending</ref><sp/>=<sp/>2;</highlight></codeline>
<codeline lineno="5608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5609"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5610"><highlight class="normal"></highlight></codeline>
<codeline lineno="5611"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>)</highlight></codeline>
<codeline lineno="5612"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((result<sp/>=<sp/>PreparePinForStart(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>))<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="5614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5615"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="5616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5617"><highlight class="normal"></highlight></codeline>
<codeline lineno="5618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1abd6f079f77dad8c8489c060f8d68fedb" kindref="member">priming</ref><sp/>+=<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a09ddd7e42c3b90a750e3769f20258201" kindref="member">noOfPackets</ref>;</highlight></codeline>
<codeline lineno="5619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1aa45f4971b33af9b928d1b158e0e508a2" kindref="member">pending</ref>;</highlight></codeline>
<codeline lineno="5620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SetEvent(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" kindref="member">events</ref>[0]);</highlight></codeline>
<codeline lineno="5621"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1a65b71d52a0990fdb97201d0cea3f05f1" kindref="member">streamingType</ref><sp/>==<sp/><ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8ae39673a93d503c16300f190ed31bb349" kindref="member">Type_kWaveCyclic</ref>)<sp/></highlight></codeline>
<codeline lineno="5622"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5623"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="5624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(i=1;<sp/>i<sp/>&lt;<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a09ddd7e42c3b90a750e3769f20258201" kindref="member">noOfPackets</ref>;<sp/>++<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>)</highlight></codeline>
<codeline lineno="5625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SetEvent(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" kindref="member">events</ref>[i]);</highlight></codeline>
<codeline lineno="5627"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1aa45f4971b33af9b928d1b158e0e508a2" kindref="member">pending</ref>;</highlight></codeline>
<codeline lineno="5628"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5630"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5631"><highlight class="normal"></highlight></codeline>
<codeline lineno="5632"><highlight class="normal"><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>:</highlight></codeline>
<codeline lineno="5633"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;PreparePinsForStart<sp/>=<sp/>%d\n&quot;</highlight><highlight class="normal">,<sp/>result));</highlight></codeline>
<codeline lineno="5634"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="5635"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5636"><highlight class="normal"></highlight></codeline>
<codeline lineno="5637"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>StartPin(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pin)</highlight></codeline>
<codeline lineno="5638"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5639"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>PinSetState(pin,<sp/><ref refid="ks_8h_1a4f0d9baddd3d96a7541645f20c7e28d7aa1a69bcc54013cb32b515416463aead3" kindref="member">KSSTATE_RUN</ref>);</highlight></codeline>
<codeline lineno="5640"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5641"><highlight class="normal"></highlight></codeline>
<codeline lineno="5642"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>StartPins(<ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref>*<sp/>pInfo)</highlight></codeline>
<codeline lineno="5643"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5644"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="5645"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Start<sp/>the<sp/>pins<sp/>as<sp/>synced<sp/>as<sp/>possible<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5646"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>)</highlight></codeline>
<codeline lineno="5647"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>StartPin(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>);</highlight></codeline>
<codeline lineno="5649"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5650"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>)</highlight></codeline>
<codeline lineno="5651"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>StartPin(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>);</highlight></codeline>
<codeline lineno="5653"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5654"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;StartPins<sp/>=<sp/>%d\n&quot;</highlight><highlight class="normal">,<sp/>result));</highlight></codeline>
<codeline lineno="5655"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="5656"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5657"><highlight class="normal"></highlight></codeline>
<codeline lineno="5658"><highlight class="normal"></highlight></codeline>
<codeline lineno="5659"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>StopPin(<ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pin)</highlight></codeline>
<codeline lineno="5660"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5661"><highlight class="normal"><sp/><sp/><sp/><sp/>PinSetState(pin,<sp/><ref refid="ks_8h_1a4f0d9baddd3d96a7541645f20c7e28d7a72df7d04fa2a4b85b334f2f81f9fea4a" kindref="member">KSSTATE_PAUSE</ref>);</highlight></codeline>
<codeline lineno="5662"><highlight class="normal"><sp/><sp/><sp/><sp/>PinSetState(pin,<sp/><ref refid="ks_8h_1a4f0d9baddd3d96a7541645f20c7e28d7ad2ea8c442849c2f56178209afa825957" kindref="member">KSSTATE_STOP</ref>);</highlight></codeline>
<codeline lineno="5663"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="5664"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5665"><highlight class="normal"></highlight></codeline>
<codeline lineno="5666"><highlight class="normal"></highlight></codeline>
<codeline lineno="5667"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>StopPins(<ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref>*<sp/>pInfo)</highlight></codeline>
<codeline lineno="5668"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5669"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="5670"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>)</highlight></codeline>
<codeline lineno="5671"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>StopPin(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>);</highlight></codeline>
<codeline lineno="5673"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5674"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>)</highlight></codeline>
<codeline lineno="5675"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>StopPin(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>);</highlight></codeline>
<codeline lineno="5677"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5678"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="5679"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5680"><highlight class="normal"></highlight></codeline>
<codeline lineno="5681" refid="pa__win__wdmks_8c_1ada66fed498da9c7e21d12a239b65fb47" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/><ref refid="lib_2expat_8h_1a3980d15795c6349fecd06c1b035c1ae9" kindref="member">void</ref><sp/>(*<ref refid="pa__win__wdmks_8c_1ada66fed498da9c7e21d12a239b65fb47" kindref="member">TSetInputFrameCount</ref>)(<ref refid="struct_pa_util_buffer_processor" kindref="compound">PaUtilBufferProcessor</ref>*,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>long);</highlight></codeline>
<codeline lineno="5682" refid="pa__win__wdmks_8c_1aa61cecfbd8805d72ee3d84e504c3c833" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/><ref refid="lib_2expat_8h_1a3980d15795c6349fecd06c1b035c1ae9" kindref="member">void</ref><sp/>(*<ref refid="pa__win__wdmks_8c_1aa61cecfbd8805d72ee3d84e504c3c833" kindref="member">TSetInputChannel</ref>)(PaUtilBufferProcessor*,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="lib_2expat_8h_1a14bb8924daea0b48c7803f281f66e390" kindref="member">int</ref>,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="lib_2expat_8h_1a14bb8924daea0b48c7803f281f66e390" kindref="member">int</ref>);</highlight></codeline>
<codeline lineno="5683"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="pa__win__wdmks_8c_1ada66fed498da9c7e21d12a239b65fb47" kindref="member">TSetInputFrameCount</ref><sp/>fnSetInputFrameCount[2]<sp/>=<sp/>{<sp/><ref refid="pa__process_8c_1a0f0a94dec2b29ecb9843deb00a889bea" kindref="member">PaUtil_SetInputFrameCount</ref>,<sp/><ref refid="pa__process_8c_1af9c0de32c43ab8b683f52b60e4d36ef1" kindref="member">PaUtil_Set2ndInputFrameCount</ref><sp/>};</highlight></codeline>
<codeline lineno="5684"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="pa__win__wdmks_8c_1aa61cecfbd8805d72ee3d84e504c3c833" kindref="member">TSetInputChannel</ref><sp/>fnSetInputChannel[2]<sp/>=<sp/>{<sp/><ref refid="pa__process_8c_1a4f955cb25ee2e3fc515fa69b9e6decb3" kindref="member">PaUtil_SetInputChannel</ref>,<sp/><ref refid="pa__process_8c_1aaa4f355de07fd01aedcffbc2bf5b773d" kindref="member">PaUtil_Set2ndInputChannel</ref><sp/>};</highlight></codeline>
<codeline lineno="5685"><highlight class="normal"></highlight></codeline>
<codeline lineno="5686"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PaDoProcessing(<ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref>*<sp/>pInfo)</highlight></codeline>
<codeline lineno="5687"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5688"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="5689"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>,<sp/>framesProcessed<sp/>=<sp/>0,<sp/>doChannelCopy<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5690"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__ringbuffer_8h_1a56482b88e581ba588fe43b1568978b94" kindref="member">ring_buffer_size_t</ref><sp/>inputFramesAvailable<sp/>=<sp/><ref refid="pa__ringbuffer_8c_1a40786e9932b9f988be2accfce19d5ea4" kindref="member">PaUtil_GetRingBufferReadAvailable</ref>(&amp;pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1adece2546e5f0f11c92aa5ddd757bc251" kindref="member">ringBuffer</ref>);</highlight></codeline>
<codeline lineno="5691"><highlight class="normal"></highlight></codeline>
<codeline lineno="5692"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Do<sp/>necessary<sp/>buffer<sp/>processing<sp/>(which<sp/>will<sp/>invoke<sp/>user<sp/>callback<sp/>if<sp/>necessary)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5693"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1aff68ee41ea10c48f0a7a59b1b914fb6b" kindref="member">cbResult</ref><sp/>==<sp/><ref refid="portaudio_8h_1ae9bfb9c4e1895326f30f80d415c66c32acba49cbf0e3bf605bb3deecef3b4fce3" kindref="member">paContinue</ref><sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="5694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1afaabcdb7ba9f573a5ccb51ad217d9786" kindref="member">renderHead</ref><sp/>!=<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a46af18819185c66ad788396981ea7b75" kindref="member">renderTail</ref><sp/>||<sp/>inputFramesAvailable))</highlight></codeline>
<codeline lineno="5695"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>processFullDuplex<sp/>=<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref><sp/>&amp;&amp;<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref><sp/>&amp;&amp;<sp/>(!pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1abd6f079f77dad8c8489c060f8d68fedb" kindref="member">priming</ref>);</highlight></codeline>
<codeline lineno="5697"><highlight class="normal"></highlight></codeline>
<codeline lineno="5698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a1ed56124518c5cb5bac27422912327e6" kindref="member">PA_HP_TRACE</ref>((pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog,<sp/></highlight><highlight class="stringliteral">&quot;DoProcessing:<sp/>InputFrames=%u&quot;</highlight><highlight class="normal">,<sp/>inputFramesAvailable));</highlight></codeline>
<codeline lineno="5699"><highlight class="normal"></highlight></codeline>
<codeline lineno="5700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__cpuload_8c_1a83fdceefb7dff41725ba4f1f13a80f79" kindref="member">PaUtil_BeginCpuLoadMeasurement</ref>(<sp/>&amp;pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1ad77f1764e2de9c5a9d2b05ee1a4565ee" kindref="member">cpuLoadMeasurer</ref><sp/>);</highlight></codeline>
<codeline lineno="5701"><highlight class="normal"></highlight></codeline>
<codeline lineno="5702"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a136fb47bcce3eba9d06797ac97109f17" kindref="member">ti</ref>.<ref refid="struct_pa_stream_callback_time_info_1af21eb5482cadb212dae38fdbbd9bebfb" kindref="member">currentTime</ref><sp/>=<sp/><ref refid="pa__util_8h_1a9598384d28d22d589f607ca1069cc04c" kindref="member">PaUtil_GetTime</ref>();</highlight></codeline>
<codeline lineno="5703"><highlight class="normal"></highlight></codeline>
<codeline lineno="5704"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__process_8c_1a1388263b1c5b765797abe767af6dbe80" kindref="member">PaUtil_BeginBufferProcessing</ref>(&amp;pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a2c900cef33bbe8ae112f0de607c61335" kindref="member">bufferProcessor</ref>,<sp/>&amp;pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a136fb47bcce3eba9d06797ac97109f17" kindref="member">ti</ref>,<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1adaf9f419fc2faac367df5ce8807064a1" kindref="member">underover</ref>);</highlight></codeline>
<codeline lineno="5705"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1adaf9f419fc2faac367df5ce8807064a1" kindref="member">underover</ref><sp/>=<sp/>0;<sp/></highlight><highlight class="comment">/*<sp/>Reset<sp/>the<sp/>(under|over)flow<sp/>status<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5706"><highlight class="normal"></highlight></codeline>
<codeline lineno="5707"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a46af18819185c66ad788396981ea7b75" kindref="member">renderTail</ref><sp/>!=<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1afaabcdb7ba9f573a5ccb51ad217d9786" kindref="member">renderHead</ref>)</highlight></codeline>
<codeline lineno="5708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5709"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____d_a_t_a_p_a_c_k_e_t" kindref="compound">DATAPACKET</ref>*<sp/>packet<sp/>=<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a174161d8cef2629818fd34a192578992" kindref="member">renderPackets</ref>[pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a46af18819185c66ad788396981ea7b75" kindref="member">renderTail</ref><sp/>&amp;<sp/>cPacketsArrayMask].<ref refid="struct_____pa_i_o_packet_1af9b39c3b9381b31ad27daf1d9689e9ae" kindref="member">packet</ref>;</highlight></codeline>
<codeline lineno="5710"><highlight class="normal"></highlight></codeline>
<codeline lineno="5711"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(packet<sp/>!=<sp/>0);</highlight></codeline>
<codeline lineno="5712"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(packet-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a6f6127c73baaa7e612ffb3337f9024c8" kindref="member">Data</ref><sp/>!=<sp/>0);</highlight></codeline>
<codeline lineno="5713"><highlight class="normal"></highlight></codeline>
<codeline lineno="5714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__process_8c_1a1dc65eb1e69dd6739e4dad4d74bf3785" kindref="member">PaUtil_SetOutputFrameCount</ref>(&amp;pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a2c900cef33bbe8ae112f0de607c61335" kindref="member">bufferProcessor</ref>,<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref>);</highlight></codeline>
<codeline lineno="5715"><highlight class="normal"></highlight></codeline>
<codeline lineno="5716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(i=0;i&lt;pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a4d0bdb5754a747c2be09c7a3829efa9c" kindref="member">userOutputChannels</ref>;i++)</highlight></codeline>
<codeline lineno="5717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Only<sp/>write<sp/>the<sp/>user<sp/>output<sp/>channels.<sp/>Leave<sp/>the<sp/>rest<sp/>blank<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__process_8c_1a0ba1528b3182674480658aeda9de3f12" kindref="member">PaUtil_SetOutputChannel</ref>(&amp;pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a2c900cef33bbe8ae112f0de607c61335" kindref="member">bufferProcessor</ref>,</highlight></codeline>
<codeline lineno="5720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i,</highlight></codeline>
<codeline lineno="5721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*)(packet-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a6f6127c73baaa7e612ffb3337f9024c8" kindref="member">Data</ref>))+(i*pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1af6be7951457618844e4df735a0f64c90" kindref="member">bytesPerSample</ref>),</highlight></codeline>
<codeline lineno="5722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1aea3f97d4daebbcf1865bcce7103e5e1b" kindref="member">deviceOutputChannels</ref>);</highlight></codeline>
<codeline lineno="5723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5724"><highlight class="normal"></highlight></codeline>
<codeline lineno="5725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>We<sp/>will<sp/>do<sp/>a<sp/>copy<sp/>to<sp/>the<sp/>other<sp/>channels<sp/>after<sp/>the<sp/>data<sp/>has<sp/>been<sp/>written<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>doChannelCopy<sp/>=<sp/>(<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a4d0bdb5754a747c2be09c7a3829efa9c" kindref="member">userOutputChannels</ref><sp/>==<sp/>1<sp/>);</highlight></codeline>
<codeline lineno="5727"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5728"><highlight class="normal"></highlight></codeline>
<codeline lineno="5729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(inputFramesAvailable<sp/>&amp;&amp;<sp/>(!pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a4d0bdb5754a747c2be09c7a3829efa9c" kindref="member">userOutputChannels</ref><sp/>||<sp/>inputFramesAvailable<sp/>&gt;=<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref>))</highlight></codeline>
<codeline lineno="5730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5731"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>wrapCntr<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5732"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/><ref refid="lib_2expat_8h_1ac39e72a1de1cb50dbdc54b08d0432a24" kindref="member">data</ref>[2]<sp/>=<sp/>{0};</highlight></codeline>
<codeline lineno="5733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__ringbuffer_8h_1a56482b88e581ba588fe43b1568978b94" kindref="member">ring_buffer_size_t</ref><sp/><ref refid="group__lavu__mem_1ga854352f53b148adc24983a58a1866d66" kindref="member">size</ref>[2]<sp/>=<sp/>{0};</highlight></codeline>
<codeline lineno="5734"><highlight class="normal"></highlight></codeline>
<codeline lineno="5735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>full-duplex,<sp/>we<sp/>just<sp/>extract<sp/>output<sp/>buffer<sp/>number<sp/>of<sp/>frames<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a4d0bdb5754a747c2be09c7a3829efa9c" kindref="member">userOutputChannels</ref>)</highlight></codeline>
<codeline lineno="5737"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5738"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>inputFramesAvailable<sp/>=<sp/><ref refid="_compare_audio_command_8cpp_1abd8bbcfabb3ddef2ccaafb9928a37b95" kindref="member">min</ref>(inputFramesAvailable,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref>);</highlight></codeline>
<codeline lineno="5739"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5740"><highlight class="normal"></highlight></codeline>
<codeline lineno="5741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>inputFramesAvailable<sp/>=<sp/><ref refid="pa__ringbuffer_8c_1a0e1ef06e0ee328c9da54755cf889913d" kindref="member">PaUtil_GetRingBufferReadRegions</ref>(&amp;pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1adece2546e5f0f11c92aa5ddd757bc251" kindref="member">ringBuffer</ref>,</highlight></codeline>
<codeline lineno="5742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>inputFramesAvailable,</highlight></codeline>
<codeline lineno="5743"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;data[0],</highlight></codeline>
<codeline lineno="5744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;size[0],</highlight></codeline>
<codeline lineno="5745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;data[1],</highlight></codeline>
<codeline lineno="5746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;size[1]);</highlight></codeline>
<codeline lineno="5747"><highlight class="normal"></highlight></codeline>
<codeline lineno="5748"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(wrapCntr<sp/>=<sp/>0;<sp/>wrapCntr<sp/>&lt;<sp/>2;<sp/>++wrapCntr)</highlight></codeline>
<codeline lineno="5749"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5750"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(size[wrapCntr]<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="5751"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="5752"><highlight class="normal"></highlight></codeline>
<codeline lineno="5753"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fnSetInputFrameCount[wrapCntr](&amp;pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a2c900cef33bbe8ae112f0de607c61335" kindref="member">bufferProcessor</ref>,<sp/>size[wrapCntr]);</highlight></codeline>
<codeline lineno="5754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(i=0;i&lt;pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1ac89b1708e9a4877523c85ed6961d4fe7" kindref="member">userInputChannels</ref>;i++)</highlight></codeline>
<codeline lineno="5755"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5756"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Only<sp/>read<sp/>as<sp/>many<sp/>channels<sp/>as<sp/>the<sp/>user<sp/>wants<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5757"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fnSetInputChannel[wrapCntr](&amp;pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a2c900cef33bbe8ae112f0de607c61335" kindref="member">bufferProcessor</ref>,</highlight></codeline>
<codeline lineno="5758"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>,</highlight></codeline>
<codeline lineno="5759"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*)(data[wrapCntr]))+(i*pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1af6be7951457618844e4df735a0f64c90" kindref="member">bytesPerSample</ref>),</highlight></codeline>
<codeline lineno="5760"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1ae9c3eec995fc49fa3fadb925430b359c" kindref="member">deviceInputChannels</ref>);</highlight></codeline>
<codeline lineno="5761"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5762"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>We<sp/>haven&apos;t<sp/>consumed<sp/>anything<sp/>from<sp/>the<sp/>ring<sp/>buffer...<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>inputFramesAvailable<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>we<sp/>have<sp/>full-duplex,<sp/>this<sp/>is<sp/>at<sp/>startup,<sp/>so<sp/>mark<sp/>no-input!<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5769"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a4d0bdb5754a747c2be09c7a3829efa9c" kindref="member">userOutputChannels</ref>&gt;0<sp/>&amp;&amp;<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1ac89b1708e9a4877523c85ed6961d4fe7" kindref="member">userInputChannels</ref>&gt;0)</highlight></codeline>
<codeline lineno="5770"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5771"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a1ed56124518c5cb5bac27422912327e6" kindref="member">PA_HP_TRACE</ref>((pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog,<sp/></highlight><highlight class="stringliteral">&quot;Input<sp/>startup,<sp/>marking<sp/>no<sp/>input.&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="5772"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__process_8c_1a3d34489fac9940436629e312524d9f94" kindref="member">PaUtil_SetNoInput</ref>(&amp;pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a2c900cef33bbe8ae112f0de607c61335" kindref="member">bufferProcessor</ref>);</highlight></codeline>
<codeline lineno="5773"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5774"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5775"><highlight class="normal"></highlight></codeline>
<codeline lineno="5776"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(processFullDuplex)<sp/></highlight><highlight class="comment">/*<sp/>full<sp/>duplex<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5777"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5778"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Only<sp/>call<sp/>the<sp/>EndBufferProcessing<sp/>function<sp/>when<sp/>the<sp/>total<sp/>input<sp/>frames<sp/>==<sp/>total<sp/>output<sp/>frames<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5779"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>totalInputFrameCount<sp/>=<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a2c900cef33bbe8ae112f0de607c61335" kindref="member">bufferProcessor</ref>.<ref refid="struct_pa_util_buffer_processor_1a9a72a362c2a3b03b6badd0ecfd72837c" kindref="member">hostInputFrameCount</ref>[0]<sp/>+<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a2c900cef33bbe8ae112f0de607c61335" kindref="member">bufferProcessor</ref>.<ref refid="struct_pa_util_buffer_processor_1a9a72a362c2a3b03b6badd0ecfd72837c" kindref="member">hostInputFrameCount</ref>[1];</highlight></codeline>
<codeline lineno="5780"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>totalOutputFrameCount<sp/>=<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a2c900cef33bbe8ae112f0de607c61335" kindref="member">bufferProcessor</ref>.<ref refid="struct_pa_util_buffer_processor_1ac5e048842fdfdee1764ab049a1306cfe" kindref="member">hostOutputFrameCount</ref>[0]<sp/>+<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a2c900cef33bbe8ae112f0de607c61335" kindref="member">bufferProcessor</ref>.<ref refid="struct_pa_util_buffer_processor_1ac5e048842fdfdee1764ab049a1306cfe" kindref="member">hostOutputFrameCount</ref>[1];</highlight></codeline>
<codeline lineno="5781"><highlight class="normal"></highlight></codeline>
<codeline lineno="5782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(totalInputFrameCount<sp/>==<sp/>totalOutputFrameCount<sp/>&amp;&amp;<sp/>totalOutputFrameCount<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="5783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5784"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>framesProcessed<sp/>=<sp/><ref refid="pa__process_8c_1a2bce3edf65753593f4f4005e917ad9e4" kindref="member">PaUtil_EndBufferProcessing</ref>(&amp;pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a2c900cef33bbe8ae112f0de607c61335" kindref="member">bufferProcessor</ref>,<sp/>&amp;pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1aff68ee41ea10c48f0a7a59b1b914fb6b" kindref="member">cbResult</ref>);</highlight></codeline>
<codeline lineno="5785"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5786"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5787"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5788"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>framesProcessed<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5789"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5790"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5791"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="5792"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5793"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>framesProcessed<sp/>=<sp/><ref refid="pa__process_8c_1a2bce3edf65753593f4f4005e917ad9e4" kindref="member">PaUtil_EndBufferProcessing</ref>(&amp;pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a2c900cef33bbe8ae112f0de607c61335" kindref="member">bufferProcessor</ref>,<sp/>&amp;pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1aff68ee41ea10c48f0a7a59b1b914fb6b" kindref="member">cbResult</ref>);</highlight></codeline>
<codeline lineno="5794"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5795"><highlight class="normal"></highlight></codeline>
<codeline lineno="5796"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a1ed56124518c5cb5bac27422912327e6" kindref="member">PA_HP_TRACE</ref>((pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog,<sp/></highlight><highlight class="stringliteral">&quot;Frames<sp/>processed:<sp/>%u<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>framesProcessed,<sp/>(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1abd6f079f77dad8c8489c060f8d68fedb" kindref="member">priming</ref><sp/>?<sp/></highlight><highlight class="stringliteral">&quot;(priming)&quot;</highlight><highlight class="normal">:</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">)));</highlight></codeline>
<codeline lineno="5797"><highlight class="normal"></highlight></codeline>
<codeline lineno="5798"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>doChannelCopy<sp/>)</highlight></codeline>
<codeline lineno="5799"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5800"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_____d_a_t_a_p_a_c_k_e_t" kindref="compound">DATAPACKET</ref>*<sp/>packet<sp/>=<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a174161d8cef2629818fd34a192578992" kindref="member">renderPackets</ref>[pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a46af18819185c66ad788396981ea7b75" kindref="member">renderTail</ref><sp/>&amp;<sp/>cPacketsArrayMask].<ref refid="struct_____pa_i_o_packet_1af9b39c3b9381b31ad27daf1d9689e9ae" kindref="member">packet</ref>;</highlight></codeline>
<codeline lineno="5801"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Copy<sp/>the<sp/>first<sp/>output<sp/>channel<sp/>to<sp/>the<sp/>other<sp/>channels<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5802"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1af6be7951457618844e4df735a0f64c90" kindref="member">bytesPerSample</ref>)</highlight></codeline>
<codeline lineno="5803"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5804"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>2:</highlight></codeline>
<codeline lineno="5805"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DuplicateFirstChannelInt16(packet-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a6f6127c73baaa7e612ffb3337f9024c8" kindref="member">Data</ref>,<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1aea3f97d4daebbcf1865bcce7103e5e1b" kindref="member">deviceOutputChannels</ref>,<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref>);</highlight></codeline>
<codeline lineno="5806"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="5807"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>3:</highlight></codeline>
<codeline lineno="5808"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DuplicateFirstChannelInt24(packet-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a6f6127c73baaa7e612ffb3337f9024c8" kindref="member">Data</ref>,<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1aea3f97d4daebbcf1865bcce7103e5e1b" kindref="member">deviceOutputChannels</ref>,<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref>);</highlight></codeline>
<codeline lineno="5809"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="5810"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>4:</highlight></codeline>
<codeline lineno="5811"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DuplicateFirstChannelInt32(packet-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a6f6127c73baaa7e612ffb3337f9024c8" kindref="member">Data</ref>,<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1aea3f97d4daebbcf1865bcce7103e5e1b" kindref="member">deviceOutputChannels</ref>,<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref>);</highlight></codeline>
<codeline lineno="5812"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="5813"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="5814"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(0);<sp/></highlight><highlight class="comment">/*<sp/>Unsupported<sp/>format!<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5815"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="5816"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5817"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5818"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__cpuload_8c_1a8c29cc1cf3b6fd9bf18a2c3fc9f0ef2a" kindref="member">PaUtil_EndCpuLoadMeasurement</ref>(<sp/>&amp;pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1ad77f1764e2de9c5a9d2b05ee1a4565ee" kindref="member">cpuLoadMeasurer</ref>,<sp/>framesProcessed<sp/>);</highlight></codeline>
<codeline lineno="5819"><highlight class="normal"></highlight></codeline>
<codeline lineno="5820"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(inputFramesAvailable)</highlight></codeline>
<codeline lineno="5821"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5822"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__ringbuffer_8c_1a7acc44292930d2911445b41f982a6a73" kindref="member">PaUtil_AdvanceRingBufferReadIndex</ref>(&amp;pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1adece2546e5f0f11c92aa5ddd757bc251" kindref="member">ringBuffer</ref>,<sp/>inputFramesAvailable);</highlight></codeline>
<codeline lineno="5823"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5824"><highlight class="normal"></highlight></codeline>
<codeline lineno="5825"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a46af18819185c66ad788396981ea7b75" kindref="member">renderTail</ref><sp/>!=<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1afaabcdb7ba9f573a5ccb51ad217d9786" kindref="member">renderHead</ref>)</highlight></codeline>
<codeline lineno="5826"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5827"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a970f778b68693673b00fedf8ff4f201d" kindref="member">streamStop</ref>)</highlight></codeline>
<codeline lineno="5828"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5829"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a202ee56dc377eba26384ab00d6aa5779" kindref="member">fnSubmitHandler</ref>(pInfo,<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a46af18819185c66ad788396981ea7b75" kindref="member">renderTail</ref>);</highlight></codeline>
<codeline lineno="5830"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="5831"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5832"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a1ed56124518c5cb5bac27422912327e6" kindref="member">PA_HP_TRACE</ref>((pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog,<sp/></highlight><highlight class="stringliteral">&quot;Capture<sp/>submit<sp/>handler<sp/>failed<sp/>with<sp/>result<sp/>%d&quot;</highlight><highlight class="normal">,<sp/>result));</highlight></codeline>
<codeline lineno="5833"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="5834"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5835"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5836"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a46af18819185c66ad788396981ea7b75" kindref="member">renderTail</ref>++;</highlight></codeline>
<codeline lineno="5837"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1ad138de1cdf8c7e4890fb41329daf4477" kindref="member">pinsStarted</ref><sp/>&amp;&amp;<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1abd6f079f77dad8c8489c060f8d68fedb" kindref="member">priming</ref><sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="5838"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5839"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>We<sp/>start<sp/>the<sp/>pins<sp/>here<sp/>to<sp/>allow<sp/>&quot;prime<sp/>time&quot;<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5840"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((result<sp/>=<sp/>StartPins(pInfo))<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="5841"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5842"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a1ed56124518c5cb5bac27422912327e6" kindref="member">PA_HP_TRACE</ref>((pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog,<sp/></highlight><highlight class="stringliteral">&quot;Starting<sp/>pins!&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="5843"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1ad138de1cdf8c7e4890fb41329daf4477" kindref="member">pinsStarted</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="5844"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5845"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5846"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5847"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5848"><highlight class="normal"></highlight></codeline>
<codeline lineno="5849"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="5850"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5851"><highlight class="normal"></highlight></codeline>
<codeline lineno="5852"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>VOID<sp/>CALLBACK<sp/>TimerAPCWaveRTPolledMode(</highlight></codeline>
<codeline lineno="5853"><highlight class="normal"><sp/><sp/><sp/><sp/>LPVOID<sp/>lpArgToCompletionRoutine,</highlight></codeline>
<codeline lineno="5854"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref><sp/>dwTimerLowValue,</highlight></codeline>
<codeline lineno="5855"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref><sp/>dwTimerHighValue)</highlight></codeline>
<codeline lineno="5856"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5857"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref>*<sp/>pHandles<sp/>=<sp/>(<ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref>*)lpArgToCompletionRoutine;</highlight></codeline>
<codeline lineno="5858"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pHandles[0])<sp/>SetEvent(pHandles[0]);</highlight></codeline>
<codeline lineno="5859"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pHandles[1])<sp/>SetEvent(pHandles[1]);</highlight></codeline>
<codeline lineno="5860"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5861"><highlight class="normal"></highlight></codeline>
<codeline lineno="5862"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref><sp/>GetCurrentTimeInMillisecs()</highlight></codeline>
<codeline lineno="5863"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5864"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>timeGetTime();</highlight></codeline>
<codeline lineno="5865"><highlight class="normal">}</highlight></codeline>
<codeline lineno="5866"><highlight class="normal"></highlight></codeline>
<codeline lineno="5867" refid="pa__win__wdmks_8c_1a7575d59c6ddcacfebfe2831e1743cff7" refkind="member"><highlight class="normal"><ref refid="pa__win__wdmks_8c_1ad744bd36cb3631b1dc11beb41dcc238c" kindref="member">PA_THREAD_FUNC</ref><sp/><ref refid="pa__win__wdmks_8c_1a7575d59c6ddcacfebfe2831e1743cff7" kindref="member">ProcessingThread</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>pParam)</highlight></codeline>
<codeline lineno="5868"><highlight class="normal">{</highlight></codeline>
<codeline lineno="5869"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="5870"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/>hAVRT<sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="5871"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/>hTimer<sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="5872"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/>*handleArray<sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="5873"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref><sp/>timerEventHandles[2]<sp/>=<sp/>{0};</highlight></codeline>
<codeline lineno="5874"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>noOfHandles<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5875"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>captureEvents<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5876"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>renderEvents<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5877"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>timerPeriod<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="5878"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref><sp/>timeStamp[2]<sp/>=<sp/>{0};</highlight></codeline>
<codeline lineno="5879"><highlight class="normal"></highlight></codeline>
<codeline lineno="5880"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref><sp/><ref refid="lib_2expat_8h_1a20806b446e455c50dc5653b7d43e3de2" kindref="member">info</ref>;</highlight></codeline>
<codeline lineno="5881"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(&amp;info,<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref>));</highlight></codeline>
<codeline lineno="5882"><highlight class="normal"><sp/><sp/><sp/><sp/>info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref><sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_stream" kindref="compound">PaWinWdmStream</ref>*)pParam;</highlight></codeline>
<codeline lineno="5883"><highlight class="normal"></highlight></codeline>
<codeline lineno="5884"><highlight class="normal"><sp/><sp/><sp/><sp/>info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a3fde31efa009b90dc634e4cb24507976" kindref="member">threadResult</ref><sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="5885"><highlight class="normal"></highlight></codeline>
<codeline lineno="5886"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="5887"><highlight class="normal"></highlight></codeline>
<codeline lineno="5888"><highlight class="normal"><sp/><sp/><sp/><sp/>info.<ref refid="struct_____pa_process_thread_info_1a136fb47bcce3eba9d06797ac97109f17" kindref="member">ti</ref>.<ref refid="struct_pa_stream_callback_time_info_1ad114a6d5e1cf2cdd75837c33c1c8bb4c" kindref="member">inputBufferAdcTime</ref><sp/>=<sp/>0.0;</highlight></codeline>
<codeline lineno="5889"><highlight class="normal"><sp/><sp/><sp/><sp/>info.<ref refid="struct_____pa_process_thread_info_1a136fb47bcce3eba9d06797ac97109f17" kindref="member">ti</ref>.<ref refid="struct_pa_stream_callback_time_info_1af21eb5482cadb212dae38fdbbd9bebfb" kindref="member">currentTime</ref><sp/>=<sp/>0.0;</highlight></codeline>
<codeline lineno="5890"><highlight class="normal"><sp/><sp/><sp/><sp/>info.<ref refid="struct_____pa_process_thread_info_1a136fb47bcce3eba9d06797ac97109f17" kindref="member">ti</ref>.<ref refid="struct_pa_stream_callback_time_info_1aa2052c42394fca748e83517fc8942609" kindref="member">outputBufferDacTime</ref><sp/>=<sp/>0.0;</highlight></codeline>
<codeline lineno="5891"><highlight class="normal"></highlight></codeline>
<codeline lineno="5892"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;In<sp/><sp/>buffer<sp/>len:<sp/>%.3f<sp/>ms\n&quot;</highlight><highlight class="normal">,(2000*info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref>)<sp/>/<sp/>info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a7e4e2c52c81ca859f290909b0e9868a6" kindref="member">streamRepresentation</ref>.<ref refid="struct_pa_util_stream_representation_1a13c2b5318f73dde9a11fd9d874763d4a" kindref="member">streamInfo</ref>.<ref refid="struct_pa_stream_info_1a9200fdee790d9155bc35d03be51ee2dd" kindref="member">sampleRate</ref>));</highlight></codeline>
<codeline lineno="5893"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Out<sp/>buffer<sp/>len:<sp/>%.3f<sp/>ms\n&quot;</highlight><highlight class="normal">,(2000*info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref>)<sp/>/<sp/>info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a7e4e2c52c81ca859f290909b0e9868a6" kindref="member">streamRepresentation</ref>.<ref refid="struct_pa_util_stream_representation_1a13c2b5318f73dde9a11fd9d874763d4a" kindref="member">streamInfo</ref>.<ref refid="struct_pa_stream_info_1a9200fdee790d9155bc35d03be51ee2dd" kindref="member">sampleRate</ref>));</highlight></codeline>
<codeline lineno="5894"><highlight class="normal"><sp/><sp/><sp/><sp/>info.<ref refid="struct_____pa_process_thread_info_1ae4e34696e69af44278c7633b96f4d683" kindref="member">timeout</ref><sp/>=<sp/>(<ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref>)<ref refid="libflac_2src_2flac_2encode_8c_1ac39d9cef6a5e030ba8d9e11121054268" kindref="member">max</ref>(</highlight></codeline>
<codeline lineno="5895"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(2000*info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref>/info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a7e4e2c52c81ca859f290909b0e9868a6" kindref="member">streamRepresentation</ref>.<ref refid="struct_pa_util_stream_representation_1a13c2b5318f73dde9a11fd9d874763d4a" kindref="member">streamInfo</ref>.<ref refid="struct_pa_stream_info_1a9200fdee790d9155bc35d03be51ee2dd" kindref="member">sampleRate</ref><sp/>+<sp/>0.5),</highlight></codeline>
<codeline lineno="5896"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(2000*info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref>/info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a7e4e2c52c81ca859f290909b0e9868a6" kindref="member">streamRepresentation</ref>.<ref refid="struct_pa_util_stream_representation_1a13c2b5318f73dde9a11fd9d874763d4a" kindref="member">streamInfo</ref>.<ref refid="struct_pa_stream_info_1a9200fdee790d9155bc35d03be51ee2dd" kindref="member">sampleRate</ref><sp/>+<sp/>0.5));</highlight></codeline>
<codeline lineno="5897"><highlight class="normal"><sp/><sp/><sp/><sp/>info.<ref refid="struct_____pa_process_thread_info_1ae4e34696e69af44278c7633b96f4d683" kindref="member">timeout</ref><sp/>=<sp/><ref refid="libflac_2src_2flac_2encode_8c_1ac39d9cef6a5e030ba8d9e11121054268" kindref="member">max</ref>(info.<ref refid="struct_____pa_process_thread_info_1ae4e34696e69af44278c7633b96f4d683" kindref="member">timeout</ref>*8,<sp/>100);</highlight></codeline>
<codeline lineno="5898"><highlight class="normal"><sp/><sp/><sp/><sp/>timerPeriod<sp/>=<sp/>info.<ref refid="struct_____pa_process_thread_info_1ae4e34696e69af44278c7633b96f4d683" kindref="member">timeout</ref>;</highlight></codeline>
<codeline lineno="5899"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Timeout<sp/>=<sp/>%ld<sp/>ms\n&quot;</highlight><highlight class="normal">,info.<ref refid="struct_____pa_process_thread_info_1ae4e34696e69af44278c7633b96f4d683" kindref="member">timeout</ref>));</highlight></codeline>
<codeline lineno="5900"><highlight class="normal"></highlight></codeline>
<codeline lineno="5901"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Allocate<sp/>handle<sp/>array<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5902"><highlight class="normal"><sp/><sp/><sp/><sp/>handleArray<sp/>=<sp/>(<ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref>*)<ref refid="pa__util_8h_1aa614f193aff12744a6ab90a9eb3128f0" kindref="member">PaUtil_AllocateMemory</ref>((info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a09ddd7e42c3b90a750e3769f20258201" kindref="member">noOfPackets</ref><sp/>+<sp/>info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a09ddd7e42c3b90a750e3769f20258201" kindref="member">noOfPackets</ref><sp/>+<sp/>1)<sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="_sound_touch_d_l_l_8h_1aa8c0374618b33785ccb02f74bcfebc46" kindref="member">HANDLE</ref>));</highlight></codeline>
<codeline lineno="5903"><highlight class="normal"></highlight></codeline>
<codeline lineno="5904"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Setup<sp/>handle<sp/>array<sp/>for<sp/>WFMO<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5905"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref><sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="5906"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5907"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>handleArray[noOfHandles++]<sp/>=<sp/>info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" kindref="member">events</ref>[0];</highlight></codeline>
<codeline lineno="5908"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1a65b71d52a0990fdb97201d0cea3f05f1" kindref="member">streamingType</ref><sp/>==<sp/><ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8ae39673a93d503c16300f190ed31bb349" kindref="member">Type_kWaveCyclic</ref>)</highlight></codeline>
<codeline lineno="5909"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5910"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="5911"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(i=1;<sp/>i<sp/>&lt;<sp/>info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a09ddd7e42c3b90a750e3769f20258201" kindref="member">noOfPackets</ref>;<sp/>++<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>)</highlight></codeline>
<codeline lineno="5912"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5913"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>handleArray[noOfHandles++]<sp/>=<sp/>info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" kindref="member">events</ref>[<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>];</highlight></codeline>
<codeline lineno="5914"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5915"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5916"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>captureEvents<sp/>=<sp/>noOfHandles;</highlight></codeline>
<codeline lineno="5917"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>renderEvents<sp/>=<sp/>noOfHandles;</highlight></codeline>
<codeline lineno="5918"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5919"><highlight class="normal"></highlight></codeline>
<codeline lineno="5920"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref><sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="5921"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5922"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>handleArray[noOfHandles++]<sp/>=<sp/>info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" kindref="member">events</ref>[0];</highlight></codeline>
<codeline lineno="5923"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a6f391ad5ef481be61f92a2c99f8ce3a1" kindref="member">parentFilter</ref>-&gt;<ref refid="struct_____pa_win_wdm_filter_1a038e392b8dc260bd959dc1d9eaaa6a32" kindref="member">devInfo</ref>.<ref refid="struct_pa_win_w_d_m_k_s_device_info_1a65b71d52a0990fdb97201d0cea3f05f1" kindref="member">streamingType</ref><sp/>==<sp/><ref refid="pa__win__wdmks_8h_1ae95ef18411a817c541880a08fe5ca1f8ae39673a93d503c16300f190ed31bb349" kindref="member">Type_kWaveCyclic</ref>)</highlight></codeline>
<codeline lineno="5924"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5925"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="5926"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(i=1;<sp/>i<sp/>&lt;<sp/>info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a09ddd7e42c3b90a750e3769f20258201" kindref="member">noOfPackets</ref>;<sp/>++<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>)</highlight></codeline>
<codeline lineno="5927"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5928"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>handleArray[noOfHandles++]<sp/>=<sp/>info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" kindref="member">events</ref>[<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>];</highlight></codeline>
<codeline lineno="5929"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5930"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5931"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>renderEvents<sp/>=<sp/>noOfHandles;</highlight></codeline>
<codeline lineno="5932"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5933"><highlight class="normal"><sp/><sp/><sp/><sp/>handleArray[noOfHandles++]<sp/>=<sp/>info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a2ec042a491ca1d0d8a071f4c4901e4c4" kindref="member">eventAbort</ref>;</highlight></codeline>
<codeline lineno="5934"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(noOfHandles<sp/>&lt;=<sp/>(info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a09ddd7e42c3b90a750e3769f20258201" kindref="member">noOfPackets</ref><sp/>+<sp/>info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a09ddd7e42c3b90a750e3769f20258201" kindref="member">noOfPackets</ref><sp/>+<sp/>1));</highlight></codeline>
<codeline lineno="5935"><highlight class="normal"></highlight></codeline>
<codeline lineno="5936"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Prepare<sp/>render<sp/>and<sp/>capture<sp/>pins<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5937"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((result<sp/>=<sp/>PreparePinsForStart(&amp;info))<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)<sp/></highlight></codeline>
<codeline lineno="5938"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5939"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>prepare<sp/>device(s)!\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="5940"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="5941"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5942"><highlight class="normal"></highlight></codeline>
<codeline lineno="5943"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Init<sp/>high<sp/>speed<sp/>logger<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5944"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="pa__trace_8h_1a3217a6b513a2eb1f9b33575db4dbaf88" kindref="member">PaUtil_InitializeHighSpeedLog</ref>(&amp;info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog,<sp/>1000000)<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="5945"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5946"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>init<sp/>high<sp/>speed<sp/>logger!\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="5947"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="5948"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5949"><highlight class="normal"></highlight></codeline>
<codeline lineno="5950"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Heighten<sp/>priority<sp/>here<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5951"><highlight class="normal"><sp/><sp/><sp/><sp/>hAVRT<sp/>=<sp/>BumpThreadPriority();</highlight></codeline>
<codeline lineno="5952"><highlight class="normal"></highlight></codeline>
<codeline lineno="5953"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>input<sp/>only,<sp/>we<sp/>start<sp/>the<sp/>pins<sp/>immediately<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5954"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref><sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="5955"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5956"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((result<sp/>=<sp/>StartPins(&amp;info))<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="5957"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5958"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>start<sp/>device(s)!\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="5959"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="5960"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5961"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info.<ref refid="struct_____pa_process_thread_info_1ad138de1cdf8c7e4890fb41329daf4477" kindref="member">pinsStarted</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="5962"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5963"><highlight class="normal"></highlight></codeline>
<codeline lineno="5964"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Handle<sp/>WaveRT<sp/>polled<sp/>mode<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5965"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5966"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a6f04aa8324068801354b01b63f16f331" kindref="member">fs</ref><sp/>=<sp/>(unsigned)info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a7e4e2c52c81ca859f290909b0e9868a6" kindref="member">streamRepresentation</ref>.<ref refid="struct_pa_util_stream_representation_1a13c2b5318f73dde9a11fd9d874763d4a" kindref="member">streamInfo</ref>.<ref refid="struct_pa_stream_info_1a9200fdee790d9155bc35d03be51ee2dd" kindref="member">sampleRate</ref>;</highlight></codeline>
<codeline lineno="5967"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="winfun_8c_1ab24f32995c1d94525943b4568cce20cb" kindref="member">if</ref><sp/>(info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref><sp/>!=<sp/>0<sp/>&amp;&amp;<sp/>info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a8f64c1157494c02e8be9d85d72f359fe" kindref="member">pinKsSubType</ref><sp/>==<sp/><ref refid="pa__win__wdmks_8h_1ab1fecd3bd8c22ca5820fee46fc9d89c2a3ef0fb75ff70c3292bd3d2174f5041a0" kindref="member">SubType_kPolled</ref>)</highlight></codeline>
<codeline lineno="5968"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5969"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>timerEventHandles[0]<sp/>=<sp/>info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" kindref="member">events</ref>[0];</highlight></codeline>
<codeline lineno="5970"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>timerPeriod<sp/>=<sp/><ref refid="_compare_audio_command_8cpp_1abd8bbcfabb3ddef2ccaafb9928a37b95" kindref="member">min</ref>(timerPeriod,<sp/>(1000*info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref>)/fs);</highlight></codeline>
<codeline lineno="5971"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5972"><highlight class="normal"></highlight></codeline>
<codeline lineno="5973"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref><sp/>!=<sp/>0<sp/>&amp;&amp;<sp/>info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a8f64c1157494c02e8be9d85d72f359fe" kindref="member">pinKsSubType</ref><sp/>==<sp/><ref refid="pa__win__wdmks_8h_1ab1fecd3bd8c22ca5820fee46fc9d89c2a3ef0fb75ff70c3292bd3d2174f5041a0" kindref="member">SubType_kPolled</ref>)</highlight></codeline>
<codeline lineno="5974"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5975"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>timerEventHandles[1]<sp/>=<sp/>info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" kindref="member">events</ref>[0];</highlight></codeline>
<codeline lineno="5976"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>timerPeriod<sp/>=<sp/><ref refid="_compare_audio_command_8cpp_1abd8bbcfabb3ddef2ccaafb9928a37b95" kindref="member">min</ref>(timerPeriod,<sp/>(1000*info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref>)/fs);</highlight></codeline>
<codeline lineno="5977"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5978"><highlight class="normal"></highlight></codeline>
<codeline lineno="5979"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(timerEventHandles[0]<sp/>||<sp/>timerEventHandles[1])</highlight></codeline>
<codeline lineno="5980"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5981"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>LARGE_INTEGER<sp/>dueTime<sp/>=<sp/>{0};</highlight></codeline>
<codeline lineno="5982"><highlight class="normal"></highlight></codeline>
<codeline lineno="5983"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>timerPeriod=<ref refid="libflac_2src_2flac_2encode_8c_1ac39d9cef6a5e030ba8d9e11121054268" kindref="member">max</ref>(timerPeriod/5,1);</highlight></codeline>
<codeline lineno="5984"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Timer<sp/>event<sp/>handles=0x%04X,0x%04X<sp/>period=%u<sp/>ms&quot;</highlight><highlight class="normal">,<sp/>timerEventHandles[0],<sp/>timerEventHandles[1],<sp/>timerPeriod));</highlight></codeline>
<codeline lineno="5985"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hTimer<sp/>=<sp/>CreateWaitableTimer(0,<sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>,<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="5986"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(hTimer<sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="5987"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5988"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a47726071f5dccc656d5e3ff20bbfc5a0" kindref="member">paUnanticipatedHostError</ref>;</highlight></codeline>
<codeline lineno="5989"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="5990"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5991"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>invoke<sp/>first<sp/>timeout<sp/>immediately<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5992"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!SetWaitableTimer(hTimer,<sp/>&amp;dueTime,<sp/>timerPeriod,<sp/>TimerAPCWaveRTPolledMode,<sp/>timerEventHandles,<sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>))</highlight></codeline>
<codeline lineno="5993"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="5994"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a47726071f5dccc656d5e3ff20bbfc5a0" kindref="member">paUnanticipatedHostError</ref>;</highlight></codeline>
<codeline lineno="5995"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>;</highlight></codeline>
<codeline lineno="5996"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5997"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Waitable<sp/>timer<sp/>started,<sp/>period<sp/>=<sp/>%u<sp/>ms\n&quot;</highlight><highlight class="normal">,<sp/>timerPeriod));</highlight></codeline>
<codeline lineno="5998"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="5999"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6000"><highlight class="normal"></highlight></codeline>
<codeline lineno="6001"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Mark<sp/>stream<sp/>as<sp/>active<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6002"><highlight class="normal"><sp/><sp/><sp/><sp/>info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a1f917538ec25eacc82713745052815f1" kindref="member">streamActive</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="6003"><highlight class="normal"><sp/><sp/><sp/><sp/>info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a3fde31efa009b90dc634e4cb24507976" kindref="member">threadResult</ref><sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="6004"><highlight class="normal"></highlight></codeline>
<codeline lineno="6005"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Up<sp/>and<sp/>running...<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6006"><highlight class="normal"><sp/><sp/><sp/><sp/>SetEvent(info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a03f53464c73a442fdb86f340fe54e369" kindref="member">eventStreamStart</ref>[<ref refid="pa__win__wdmks_8c_1abf83566c082ff992efb67a6a533c7ec5a46bc3f5ea073342703b3dd6904d564a7" kindref="member">StreamStart_kOk</ref>]);</highlight></codeline>
<codeline lineno="6007"><highlight class="normal"></highlight></codeline>
<codeline lineno="6008"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Take<sp/>timestamp<sp/>here<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6009"><highlight class="normal"><sp/><sp/><sp/><sp/>timeStamp[0]<sp/>=<sp/>timeStamp[1]<sp/>=<sp/>GetCurrentTimeInMillisecs();</highlight></codeline>
<codeline lineno="6010"><highlight class="normal"></highlight></codeline>
<codeline lineno="6011"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(!info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1acaa0f377d2148764a2c6dd97c75e87d7" kindref="member">streamAbort</ref>)</highlight></codeline>
<codeline lineno="6012"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6013"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>doProcessing<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="6014"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>wait<sp/>=<sp/>WaitForMultipleObjects(noOfHandles,<sp/>handleArray,<sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>,<sp/>0);</highlight></codeline>
<codeline lineno="6015"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>eventSignalled<sp/>=<sp/>wait<sp/>-<sp/>WAIT_OBJECT_0;</highlight></codeline>
<codeline lineno="6016"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref><sp/>dwCurrentTime<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6017"><highlight class="normal"></highlight></codeline>
<codeline lineno="6018"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(wait<sp/>==<sp/>WAIT_FAILED)<sp/></highlight></codeline>
<codeline lineno="6019"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6020"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Wait<sp/>failed<sp/>=<sp/>%ld!<sp/>\n&quot;</highlight><highlight class="normal">,wait));</highlight></codeline>
<codeline lineno="6021"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="6022"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6023"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(wait<sp/>==<sp/>WAIT_TIMEOUT)</highlight></codeline>
<codeline lineno="6024"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6025"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wait<sp/>=<sp/>WaitForMultipleObjectsEx(noOfHandles,<sp/>handleArray,<sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>,<sp/>50,<sp/><ref refid="cext_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>);</highlight></codeline>
<codeline lineno="6026"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eventSignalled<sp/>=<sp/>wait<sp/>-<sp/>WAIT_OBJECT_0;</highlight></codeline>
<codeline lineno="6027"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6028"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6029"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6030"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(eventSignalled<sp/>&lt;<sp/>captureEvents)</highlight></codeline>
<codeline lineno="6031"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6032"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="pa__ringbuffer_8c_1af53b4365e12a70524fd4ca0d59476097" kindref="member">PaUtil_GetRingBufferWriteAvailable</ref>(&amp;info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1adece2546e5f0f11c92aa5ddd757bc251" kindref="member">ringBuffer</ref>)<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="6033"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6034"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a1ed56124518c5cb5bac27422912327e6" kindref="member">PA_HP_TRACE</ref>((info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog,<sp/></highlight><highlight class="stringliteral">&quot;!!!!!<sp/>Input<sp/>overflow<sp/>!!!!!&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="6035"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info.<ref refid="struct_____pa_process_thread_info_1adaf9f419fc2faac367df5ce8807064a1" kindref="member">underover</ref><sp/>|=<sp/><ref refid="portaudio_8h_1aea144f0edaf02d0ac8b113f41fb95c47" kindref="member">paInputOverflow</ref>;</highlight></codeline>
<codeline lineno="6036"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6037"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6038"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(eventSignalled<sp/>&lt;<sp/>renderEvents)</highlight></codeline>
<codeline lineno="6039"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6040"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!info.<ref refid="struct_____pa_process_thread_info_1abd6f079f77dad8c8489c060f8d68fedb" kindref="member">priming</ref><sp/>&amp;&amp;<sp/>info.<ref refid="struct_____pa_process_thread_info_1afaabcdb7ba9f573a5ccb51ad217d9786" kindref="member">renderHead</ref><sp/>-<sp/>info.<ref refid="struct_____pa_process_thread_info_1a46af18819185c66ad788396981ea7b75" kindref="member">renderTail</ref><sp/>&gt;<sp/>1)</highlight></codeline>
<codeline lineno="6041"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6042"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a1ed56124518c5cb5bac27422912327e6" kindref="member">PA_HP_TRACE</ref>((info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog,<sp/></highlight><highlight class="stringliteral">&quot;!!!!!<sp/>Output<sp/>underflow<sp/>!!!!!&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="6043"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info.<ref refid="struct_____pa_process_thread_info_1adaf9f419fc2faac367df5ce8807064a1" kindref="member">underover</ref><sp/>|=<sp/><ref refid="portaudio_8h_1aa17c91c859b12ebbf53a1440def53c89" kindref="member">paOutputUnderflow</ref>;</highlight></codeline>
<codeline lineno="6044"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6045"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6046"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6047"><highlight class="normal"></highlight></codeline>
<codeline lineno="6048"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>event<sp/>time<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6049"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dwCurrentTime<sp/>=<sp/>GetCurrentTimeInMillisecs();</highlight></codeline>
<codeline lineno="6050"><highlight class="normal"></highlight></codeline>
<codeline lineno="6051"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Since<sp/>we<sp/>can<sp/>mix<sp/>capture/render<sp/>devices<sp/>between<sp/>WaveCyclic,<sp/>WaveRT<sp/>polled<sp/>and<sp/>WaveRT<sp/>notification<sp/>(3x3<sp/>combinations),<sp/></highlight></codeline>
<codeline lineno="6052"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>we<sp/>can&apos;t<sp/>rely<sp/>on<sp/>the<sp/>timeout<sp/>of<sp/>WFMO<sp/>to<sp/>check<sp/>for<sp/>device<sp/>timeouts,<sp/>we<sp/>need<sp/>to<sp/>keep<sp/>tally.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6053"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref><sp/>&amp;&amp;<sp/>(dwCurrentTime<sp/>-<sp/>timeStamp[0])<sp/>&gt;=<sp/>info.<ref refid="struct_____pa_process_thread_info_1ae4e34696e69af44278c7633b96f4d683" kindref="member">timeout</ref>)</highlight></codeline>
<codeline lineno="6054"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6055"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Timeout<sp/>for<sp/>capture<sp/>device<sp/>(%u<sp/>ms)!&quot;</highlight><highlight class="normal">,<sp/>info.<ref refid="struct_____pa_process_thread_info_1ae4e34696e69af44278c7633b96f4d683" kindref="member">timeout</ref>,<sp/>(dwCurrentTime<sp/>-<sp/>timeStamp[0])));</highlight></codeline>
<codeline lineno="6056"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a26ddab3d4dace3978ec6d5b3ccc10e87" kindref="member">paTimedOut</ref>;</highlight></codeline>
<codeline lineno="6057"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="6058"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6059"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref><sp/>&amp;&amp;<sp/>(dwCurrentTime<sp/>-<sp/>timeStamp[1])<sp/>&gt;=<sp/>info.<ref refid="struct_____pa_process_thread_info_1ae4e34696e69af44278c7633b96f4d683" kindref="member">timeout</ref>)</highlight></codeline>
<codeline lineno="6060"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6061"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Timeout<sp/>for<sp/>render<sp/>device<sp/>(%u<sp/>ms)!&quot;</highlight><highlight class="normal">,<sp/>info.<ref refid="struct_____pa_process_thread_info_1ae4e34696e69af44278c7633b96f4d683" kindref="member">timeout</ref>,<sp/>(dwCurrentTime<sp/>-<sp/>timeStamp[1])));</highlight></codeline>
<codeline lineno="6062"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a26ddab3d4dace3978ec6d5b3ccc10e87" kindref="member">paTimedOut</ref>;</highlight></codeline>
<codeline lineno="6063"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="6064"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6065"><highlight class="normal"></highlight></codeline>
<codeline lineno="6066"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(wait<sp/>==<sp/>WAIT_IO_COMPLETION)</highlight></codeline>
<codeline lineno="6067"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6068"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Waitable<sp/>timer<sp/>has<sp/>fired!<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6069"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a1ed56124518c5cb5bac27422912327e6" kindref="member">PA_HP_TRACE</ref>((info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog,<sp/></highlight><highlight class="stringliteral">&quot;WAIT_IO_COMPLETION&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="6070"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="6071"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6072"><highlight class="normal"></highlight></codeline>
<codeline lineno="6073"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(wait<sp/>==<sp/>WAIT_TIMEOUT)</highlight></codeline>
<codeline lineno="6074"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6075"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="6076"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6077"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6078"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6079"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(eventSignalled<sp/>&lt;<sp/>captureEvents)</highlight></codeline>
<codeline lineno="6080"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6081"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a342610d8c28c1bdd075e26a37b9bd984" kindref="member">fnEventHandler</ref>(&amp;info,<sp/>eventSignalled)<sp/>==<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="6082"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6083"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>timeStamp[0]<sp/>=<sp/>dwCurrentTime;</highlight></codeline>
<codeline lineno="6084"><highlight class="normal"></highlight></codeline>
<codeline lineno="6085"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Since<sp/>we<sp/>use<sp/>the<sp/>ring<sp/>buffer,<sp/>we<sp/>can<sp/>submit<sp/>the<sp/>buffers<sp/>directly<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6086"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a970f778b68693673b00fedf8ff4f201d" kindref="member">streamStop</ref>)</highlight></codeline>
<codeline lineno="6087"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6088"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a202ee56dc377eba26384ab00d6aa5779" kindref="member">fnSubmitHandler</ref>(&amp;info,<sp/>info.<ref refid="struct_____pa_process_thread_info_1a0176c49820b2df61da28580d9702f64f" kindref="member">captureTail</ref>);</highlight></codeline>
<codeline lineno="6089"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="6090"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6091"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a1ed56124518c5cb5bac27422912327e6" kindref="member">PA_HP_TRACE</ref>((info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog,<sp/></highlight><highlight class="stringliteral">&quot;Capture<sp/>submit<sp/>handler<sp/>failed<sp/>with<sp/>result<sp/>%d&quot;</highlight><highlight class="normal">,<sp/>result));</highlight></codeline>
<codeline lineno="6092"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="6093"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6094"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6095"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++info.<ref refid="struct_____pa_process_thread_info_1a0176c49820b2df61da28580d9702f64f" kindref="member">captureTail</ref>;</highlight></codeline>
<codeline lineno="6096"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>full-duplex,<sp/>let<sp/>_only_<sp/>render<sp/>event<sp/>trigger<sp/>processing.<sp/>We<sp/>still<sp/>need<sp/>the<sp/>stream<sp/>stop</highlight></codeline>
<codeline lineno="6097"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>handling<sp/>working,<sp/>so<sp/>let<sp/>that<sp/>be<sp/>processed<sp/>anyways...<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6098"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a4d0bdb5754a747c2be09c7a3829efa9c" kindref="member">userOutputChannels</ref><sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="6099"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>doProcessing<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(eventSignalled<sp/>&lt;<sp/>renderEvents)</highlight></codeline>
<codeline lineno="6105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>timeStamp[1]<sp/>=<sp/>dwCurrentTime;</highlight></codeline>
<codeline lineno="6107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>eventSignalled<sp/>-=<sp/>captureEvents;</highlight></codeline>
<codeline lineno="6108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a342610d8c28c1bdd075e26a37b9bd984" kindref="member">fnEventHandler</ref>(&amp;info,<sp/>eventSignalled);</highlight></codeline>
<codeline lineno="6109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1acaa0f377d2148764a2c6dd97c75e87d7" kindref="member">streamAbort</ref>);</highlight></codeline>
<codeline lineno="6113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a1ed56124518c5cb5bac27422912327e6" kindref="member">PA_HP_TRACE</ref>((info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog,<sp/></highlight><highlight class="stringliteral">&quot;Stream<sp/>abort!&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="6114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="6115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6117"><highlight class="normal"></highlight></codeline>
<codeline lineno="6118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Handle<sp/>processing<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(doProcessing)</highlight></codeline>
<codeline lineno="6120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>PaDoProcessing(&amp;info);</highlight></codeline>
<codeline lineno="6122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="6123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a1ed56124518c5cb5bac27422912327e6" kindref="member">PA_HP_TRACE</ref>((info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog,<sp/></highlight><highlight class="stringliteral">&quot;PaDoProcessing<sp/>failed!&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="6125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="6126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6128"><highlight class="normal"></highlight></codeline>
<codeline lineno="6129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a970f778b68693673b00fedf8ff4f201d" kindref="member">streamStop</ref><sp/>&amp;&amp;<sp/>info.<ref refid="struct_____pa_process_thread_info_1aff68ee41ea10c48f0a7a59b1b914fb6b" kindref="member">cbResult</ref><sp/>!=<sp/><ref refid="portaudio_8h_1ae9bfb9c4e1895326f30f80d415c66c32aa01800db52ead393d8b0016f63d76650" kindref="member">paComplete</ref>)</highlight></codeline>
<codeline lineno="6130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a1ed56124518c5cb5bac27422912327e6" kindref="member">PA_HP_TRACE</ref>((info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog,<sp/></highlight><highlight class="stringliteral">&quot;Stream<sp/>stop!<sp/>pending=%d&quot;</highlight><highlight class="normal">,info.<ref refid="struct_____pa_process_thread_info_1aa45f4971b33af9b928d1b158e0e508a2" kindref="member">pending</ref>));</highlight></codeline>
<codeline lineno="6132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info.<ref refid="struct_____pa_process_thread_info_1aff68ee41ea10c48f0a7a59b1b914fb6b" kindref="member">cbResult</ref><sp/>=<sp/><ref refid="portaudio_8h_1ae9bfb9c4e1895326f30f80d415c66c32aa01800db52ead393d8b0016f63d76650" kindref="member">paComplete</ref>;<sp/></highlight><highlight class="comment">/*<sp/>Stop,<sp/>but<sp/>play<sp/>remaining<sp/>buffers<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6134"><highlight class="normal"></highlight></codeline>
<codeline lineno="6135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(info.<ref refid="struct_____pa_process_thread_info_1aa45f4971b33af9b928d1b158e0e508a2" kindref="member">pending</ref>&lt;=0)</highlight></codeline>
<codeline lineno="6136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a1ed56124518c5cb5bac27422912327e6" kindref="member">PA_HP_TRACE</ref>((info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog,<sp/></highlight><highlight class="stringliteral">&quot;pending==0<sp/>finished...&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="6138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="6139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((!info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>)&amp;&amp;(info.<ref refid="struct_____pa_process_thread_info_1aff68ee41ea10c48f0a7a59b1b914fb6b" kindref="member">cbResult</ref>!=<ref refid="portaudio_8h_1ae9bfb9c4e1895326f30f80d415c66c32acba49cbf0e3bf605bb3deecef3b4fce3" kindref="member">paContinue</ref>))</highlight></codeline>
<codeline lineno="6141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a1ed56124518c5cb5bac27422912327e6" kindref="member">PA_HP_TRACE</ref>((info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog,<sp/></highlight><highlight class="stringliteral">&quot;record<sp/>only<sp/>cbResult=%d...&quot;</highlight><highlight class="normal">,info.<ref refid="struct_____pa_process_thread_info_1aff68ee41ea10c48f0a7a59b1b914fb6b" kindref="member">cbResult</ref>));</highlight></codeline>
<codeline lineno="6143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="6144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6145"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6146"><highlight class="normal"></highlight></codeline>
<codeline lineno="6147"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Finished<sp/>processing<sp/>loop\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="6148"><highlight class="normal"></highlight></codeline>
<codeline lineno="6149"><highlight class="normal"><sp/><sp/><sp/><sp/>info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a3fde31efa009b90dc634e4cb24507976" kindref="member">threadResult</ref><sp/>=<sp/>result;</highlight></codeline>
<codeline lineno="6150"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/>bailout;</highlight></codeline>
<codeline lineno="6151"><highlight class="normal"></highlight></codeline>
<codeline lineno="6152"><highlight class="normal"><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>:</highlight></codeline>
<codeline lineno="6153"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Error<sp/>starting<sp/>processing<sp/>thread\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="6154"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Set<sp/>the<sp/>&quot;error&quot;<sp/>event<sp/>together<sp/>with<sp/>result<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6155"><highlight class="normal"><sp/><sp/><sp/><sp/>info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a3fde31efa009b90dc634e4cb24507976" kindref="member">threadResult</ref><sp/>=<sp/>result;</highlight></codeline>
<codeline lineno="6156"><highlight class="normal"><sp/><sp/><sp/><sp/>SetEvent(info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a03f53464c73a442fdb86f340fe54e369" kindref="member">eventStreamStart</ref>[<ref refid="pa__win__wdmks_8c_1abf83566c082ff992efb67a6a533c7ec5ab05b936607a5bdb4dad033e21a349c7a" kindref="member">StreamStart_kFailed</ref>]);</highlight></codeline>
<codeline lineno="6157"><highlight class="normal"></highlight></codeline>
<codeline lineno="6158"><highlight class="normal">bailout:</highlight></codeline>
<codeline lineno="6159"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(hTimer)</highlight></codeline>
<codeline lineno="6160"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Waitable<sp/>timer<sp/>stopped\n&quot;</highlight><highlight class="normal">,<sp/>timerPeriod));</highlight></codeline>
<codeline lineno="6162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CancelWaitableTimer(hTimer);</highlight></codeline>
<codeline lineno="6163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CloseHandle(hTimer);</highlight></codeline>
<codeline lineno="6164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hTimer<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6165"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6166"><highlight class="normal"></highlight></codeline>
<codeline lineno="6167"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(info.<ref refid="struct_____pa_process_thread_info_1ad138de1cdf8c7e4890fb41329daf4477" kindref="member">pinsStarted</ref>)</highlight></codeline>
<codeline lineno="6168"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>StopPins(&amp;info);</highlight></codeline>
<codeline lineno="6170"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6171"><highlight class="normal"></highlight></codeline>
<codeline lineno="6172"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Lower<sp/>prio<sp/>here<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6173"><highlight class="normal"><sp/><sp/><sp/><sp/>DropThreadPriority(hAVRT);</highlight></codeline>
<codeline lineno="6174"><highlight class="normal"></highlight></codeline>
<codeline lineno="6175"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(handleArray<sp/>!=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="6176"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__util_8h_1a27a8f85d109600ef246e5c642c5c3cad" kindref="member">PaUtil_FreeMemory</ref>(handleArray);</highlight></codeline>
<codeline lineno="6178"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6179"><highlight class="normal"></highlight></codeline>
<codeline lineno="6180"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>PA_TRACE_REALTIME_EVENTS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6181"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog)</highlight></codeline>
<codeline lineno="6182"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Dumping<sp/>highspeed<sp/>trace...\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="6184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__trace_8h_1afa4fb96d2b3c205afb012af0f0e3eb8a" kindref="member">PaUtil_DumpHighSpeedLog</ref>(info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog,<sp/></highlight><highlight class="stringliteral">&quot;hp_trace.log&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="6185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__trace_8h_1a1214bcb36bdf43df4769d0c16655e487" kindref="member">PaUtil_DiscardHighSpeedLog</ref>(info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog);</highlight></codeline>
<codeline lineno="6186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6187"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6188"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6189"><highlight class="normal"><sp/><sp/><sp/><sp/>info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a1f917538ec25eacc82713745052815f1" kindref="member">streamActive</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6190"><highlight class="normal"></highlight></codeline>
<codeline lineno="6191"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((!info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a970f778b68693673b00fedf8ff4f201d" kindref="member">streamStop</ref>)&amp;&amp;(!info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1acaa0f377d2148764a2c6dd97c75e87d7" kindref="member">streamAbort</ref>))</highlight></codeline>
<codeline lineno="6192"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Invoke<sp/>the<sp/>user<sp/>stream<sp/>finished<sp/>callback<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Only<sp/>do<sp/>it<sp/>from<sp/>here<sp/>if<sp/>not<sp/>being<sp/>stopped/aborted<sp/>by<sp/>user<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a7e4e2c52c81ca859f290909b0e9868a6" kindref="member">streamRepresentation</ref>.<ref refid="struct_pa_util_stream_representation_1a9132c3be1600907f747c38d64f4a4a3e" kindref="member">streamFinishedCallback</ref><sp/>!=<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="6196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a7e4e2c52c81ca859f290909b0e9868a6" kindref="member">streamRepresentation</ref>.<ref refid="struct_pa_util_stream_representation_1a9132c3be1600907f747c38d64f4a4a3e" kindref="member">streamFinishedCallback</ref>(<sp/>info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a7e4e2c52c81ca859f290909b0e9868a6" kindref="member">streamRepresentation</ref>.<ref refid="struct_pa_util_stream_representation_1a5d47c8cae02066d877bc7c670adb61ad" kindref="member">userData</ref><sp/>);</highlight></codeline>
<codeline lineno="6197"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6198"><highlight class="normal"><sp/><sp/><sp/><sp/>info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a970f778b68693673b00fedf8ff4f201d" kindref="member">streamStop</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6199"><highlight class="normal"><sp/><sp/><sp/><sp/>info.<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1acaa0f377d2148764a2c6dd97c75e87d7" kindref="member">streamAbort</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6200"><highlight class="normal"></highlight></codeline>
<codeline lineno="6201"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="6202"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="6203"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6204"><highlight class="normal"></highlight></codeline>
<codeline lineno="6205"><highlight class="normal"></highlight></codeline>
<codeline lineno="6206"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>StartStream(<sp/><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref><sp/>*s<sp/>)</highlight></codeline>
<codeline lineno="6207"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6208"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="6209"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream" kindref="compound">PaWinWdmStream</ref><sp/>*stream<sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_stream" kindref="compound">PaWinWdmStream</ref>*)s;</highlight></codeline>
<codeline lineno="6210"><highlight class="normal"></highlight></codeline>
<codeline lineno="6211"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="6212"><highlight class="normal"></highlight></codeline>
<codeline lineno="6213"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a696e6c139cc0dfad91ab108dbf446a12" kindref="member">streamThread</ref><sp/>!=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="6214"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a9e05b6974d01fcce82c5d94b575ff1b2" kindref="member">paStreamIsNotStopped</ref>;</highlight></codeline>
<codeline lineno="6216"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6217"><highlight class="normal"></highlight></codeline>
<codeline lineno="6218"><highlight class="normal"><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a970f778b68693673b00fedf8ff4f201d" kindref="member">streamStop</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6219"><highlight class="normal"><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1acaa0f377d2148764a2c6dd97c75e87d7" kindref="member">streamAbort</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6220"><highlight class="normal"></highlight></codeline>
<codeline lineno="6221"><highlight class="normal"><sp/><sp/><sp/><sp/>ResetStreamEvents(stream);</highlight></codeline>
<codeline lineno="6222"><highlight class="normal"></highlight></codeline>
<codeline lineno="6223"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__process_8c_1a454635d7cd026eec37f3ab3d27afc38e" kindref="member">PaUtil_ResetBufferProcessor</ref>(<sp/>&amp;stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a2c900cef33bbe8ae112f0de607c61335" kindref="member">bufferProcessor</ref><sp/>);</highlight></codeline>
<codeline lineno="6224"><highlight class="normal"></highlight></codeline>
<codeline lineno="6225"><highlight class="normal"><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a0ab2edba0df711bbda00f8030f290db0" kindref="member">oldProcessPriority</ref><sp/>=<sp/>GetPriorityClass(GetCurrentProcess());</highlight></codeline>
<codeline lineno="6226"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Uncomment<sp/>the<sp/>following<sp/>line<sp/>to<sp/>enable<sp/>dynamic<sp/>boosting<sp/>of<sp/>the<sp/>process</highlight></codeline>
<codeline lineno="6227"><highlight class="comment"><sp/><sp/><sp/><sp/>*<sp/>priority<sp/>to<sp/>real<sp/>time<sp/>for<sp/>best<sp/>low<sp/>latency<sp/>support</highlight></codeline>
<codeline lineno="6228"><highlight class="comment"><sp/><sp/><sp/><sp/>*<sp/>Disabled<sp/>by<sp/>default<sp/>because<sp/>RT<sp/>processes<sp/>can<sp/>easily<sp/>block<sp/>the<sp/>OS<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6229"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*ret<sp/>=<sp/>SetPriorityClass(GetCurrentProcess(),REALTIME_PRIORITY_CLASS);</highlight></codeline>
<codeline lineno="6230"><highlight class="comment"><sp/><sp/><sp/><sp/>PA_DEBUG((&quot;Class<sp/>ret<sp/>=<sp/>%d;&quot;,ret));*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6231"><highlight class="normal"></highlight></codeline>
<codeline lineno="6232"><highlight class="normal"><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a696e6c139cc0dfad91ab108dbf446a12" kindref="member">streamThread</ref><sp/>=<sp/><ref refid="pa__win__wdmks_8c_1ae9a0f0ff7059ae7fd026ac46f65ed9b9" kindref="member">CREATE_THREAD_FUNCTION</ref><sp/>(<ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/>0,<sp/><ref refid="pa__win__wdmks_8c_1a7575d59c6ddcacfebfe2831e1743cff7" kindref="member">ProcessingThread</ref>,<sp/>stream,<sp/>CREATE_SUSPENDED,<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="6233"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a696e6c139cc0dfad91ab108dbf446a12" kindref="member">streamThread</ref><sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="6234"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7ad58986a9b5064d5a29c7ed0837bfc621" kindref="member">paInsufficientMemory</ref>;</highlight></codeline>
<codeline lineno="6236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">goto</highlight><highlight class="normal"><sp/><ref refid="convtest_8m_1afb358f48b1646c750fb9da6c6585be2b" kindref="member">end</ref>;</highlight></codeline>
<codeline lineno="6237"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6238"><highlight class="normal"><sp/><sp/><sp/><sp/>ResumeThread(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a696e6c139cc0dfad91ab108dbf446a12" kindref="member">streamThread</ref>);</highlight></codeline>
<codeline lineno="6239"><highlight class="normal"></highlight></codeline>
<codeline lineno="6240"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(WaitForMultipleObjects(2,<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a03f53464c73a442fdb86f340fe54e369" kindref="member">eventStreamStart</ref>,<sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>,<sp/>5000))</highlight></codeline>
<codeline lineno="6241"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6242"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WAIT_OBJECT_0<sp/>+<sp/><ref refid="pa__win__wdmks_8c_1abf83566c082ff992efb67a6a533c7ec5a46bc3f5ea073342703b3dd6904d564a7" kindref="member">StreamStart_kOk</ref>:</highlight></codeline>
<codeline lineno="6243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Processing<sp/>thread<sp/>started!\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="6244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="6245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>streamActive<sp/>is<sp/>set<sp/>in<sp/>processing<sp/>thread<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1ab3122c31d95fb7481d45e375fa9a5a3f" kindref="member">streamStarted</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="6247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="6248"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WAIT_OBJECT_0<sp/>+<sp/><ref refid="pa__win__wdmks_8c_1abf83566c082ff992efb67a6a533c7ec5ab05b936607a5bdb4dad033e21a349c7a" kindref="member">StreamStart_kFailed</ref>:</highlight></codeline>
<codeline lineno="6249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;Processing<sp/>thread<sp/>start<sp/>failed!<sp/>(result=%d)\n&quot;</highlight><highlight class="normal">,<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a3fde31efa009b90dc634e4cb24507976" kindref="member">threadResult</ref>));</highlight></codeline>
<codeline lineno="6250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a3fde31efa009b90dc634e4cb24507976" kindref="member">threadResult</ref>;</highlight></codeline>
<codeline lineno="6251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Wait<sp/>for<sp/>the<sp/>stream<sp/>to<sp/>really<sp/>exit<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>WaitForSingleObject(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a696e6c139cc0dfad91ab108dbf446a12" kindref="member">streamThread</ref>,<sp/>200);</highlight></codeline>
<codeline lineno="6253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CloseHandle(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a696e6c139cc0dfad91ab108dbf446a12" kindref="member">streamThread</ref>);</highlight></codeline>
<codeline lineno="6254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a696e6c139cc0dfad91ab108dbf446a12" kindref="member">streamThread</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="6256"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>WAIT_TIMEOUT:</highlight></codeline>
<codeline lineno="6257"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="6258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a26ddab3d4dace3978ec6d5b3ccc10e87" kindref="member">paTimedOut</ref>;</highlight></codeline>
<codeline lineno="6259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(result,<sp/></highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>start<sp/>processing<sp/>thread<sp/>(timeout)!&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="6260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="6261"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6262"><highlight class="normal"></highlight></codeline>
<codeline lineno="6263"><highlight class="normal"><ref refid="convtest_8m_1afb358f48b1646c750fb9da6c6585be2b" kindref="member">end</ref>:</highlight></codeline>
<codeline lineno="6264"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="6265"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="6266"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6267"><highlight class="normal"></highlight></codeline>
<codeline lineno="6268"><highlight class="normal"></highlight></codeline>
<codeline lineno="6269"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>StopStream(<sp/><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref><sp/>*s<sp/>)</highlight></codeline>
<codeline lineno="6270"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6271"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="6272"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream" kindref="compound">PaWinWdmStream</ref><sp/>*stream<sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_stream" kindref="compound">PaWinWdmStream</ref>*)s;</highlight></codeline>
<codeline lineno="6273"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="nfilterkit_8h_1a3be13892ae7076009afcf121347dd319" kindref="member">BOOL</ref><sp/>doCb<sp/>=<sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;</highlight></codeline>
<codeline lineno="6274"><highlight class="normal"></highlight></codeline>
<codeline lineno="6275"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="6276"><highlight class="normal"></highlight></codeline>
<codeline lineno="6277"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a1f917538ec25eacc82713745052815f1" kindref="member">streamActive</ref>)</highlight></codeline>
<codeline lineno="6278"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mapinls_8h_1ad342ac907eb044443153a22f964bf0af" kindref="member">DWORD</ref><sp/>dwExitCode;</highlight></codeline>
<codeline lineno="6280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>doCb<sp/>=<sp/><ref refid="cext_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>;</highlight></codeline>
<codeline lineno="6281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a970f778b68693673b00fedf8ff4f201d" kindref="member">streamStop</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="6282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(GetExitCodeThread(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a696e6c139cc0dfad91ab108dbf446a12" kindref="member">streamThread</ref>,<sp/>&amp;dwExitCode)<sp/>&amp;&amp;<sp/>dwExitCode<sp/>==<sp/>STILL_ACTIVE)</highlight></codeline>
<codeline lineno="6283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(WaitForSingleObject(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a696e6c139cc0dfad91ab108dbf446a12" kindref="member">streamThread</ref>,<sp/>INFINITE)<sp/>!=<sp/>WAIT_OBJECT_0)</highlight></codeline>
<codeline lineno="6285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;StopStream:<sp/>stream<sp/>thread<sp/>terminated\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="6287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TerminateThread(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a696e6c139cc0dfad91ab108dbf446a12" kindref="member">streamThread</ref>,<sp/>-1);</highlight></codeline>
<codeline lineno="6288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a26ddab3d4dace3978ec6d5b3ccc10e87" kindref="member">paTimedOut</ref>;</highlight></codeline>
<codeline lineno="6289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;StopStream:<sp/>GECT<sp/>says<sp/>not<sp/>active,<sp/>but<sp/>streamActive<sp/>is<sp/>not<sp/>false<sp/>??&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="6294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a47726071f5dccc656d5e3ff20bbfc5a0" kindref="member">paUnanticipatedHostError</ref>;</highlight></codeline>
<codeline lineno="6295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PaWinWDM_SetLastErrorInfo(result,<sp/></highlight><highlight class="stringliteral">&quot;StopStream:<sp/>GECT<sp/>says<sp/>not<sp/>active,<sp/>but<sp/>streamActive<sp/>=<sp/>%d&quot;</highlight><highlight class="normal">,<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a1f917538ec25eacc82713745052815f1" kindref="member">streamActive</ref>);</highlight></codeline>
<codeline lineno="6296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6297"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6298"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6299"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a3fde31efa009b90dc634e4cb24507976" kindref="member">threadResult</ref><sp/>!=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>)</highlight></codeline>
<codeline lineno="6301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;StopStream:<sp/>Stream<sp/>not<sp/>active<sp/>(%d)\n&quot;</highlight><highlight class="normal">,<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a3fde31efa009b90dc634e4cb24507976" kindref="member">threadResult</ref>));</highlight></codeline>
<codeline lineno="6303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a3fde31efa009b90dc634e4cb24507976" kindref="member">threadResult</ref>;</highlight></codeline>
<codeline lineno="6304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a3fde31efa009b90dc634e4cb24507976" kindref="member">threadResult</ref><sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="6305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6306"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6307"><highlight class="normal"></highlight></codeline>
<codeline lineno="6308"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a696e6c139cc0dfad91ab108dbf446a12" kindref="member">streamThread</ref><sp/>!=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)</highlight></codeline>
<codeline lineno="6309"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CloseHandle(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a696e6c139cc0dfad91ab108dbf446a12" kindref="member">streamThread</ref>);</highlight></codeline>
<codeline lineno="6311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a696e6c139cc0dfad91ab108dbf446a12" kindref="member">streamThread</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6312"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6313"><highlight class="normal"><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1ab3122c31d95fb7481d45e375fa9a5a3f" kindref="member">streamStarted</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6314"><highlight class="normal"><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a1f917538ec25eacc82713745052815f1" kindref="member">streamActive</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6315"><highlight class="normal"></highlight></codeline>
<codeline lineno="6316"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(doCb)</highlight></codeline>
<codeline lineno="6317"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Do<sp/>user<sp/>callback<sp/>now<sp/>after<sp/>all<sp/>state<sp/>has<sp/>been<sp/>reset<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>This<sp/>means<sp/>it<sp/>should<sp/>be<sp/>safe<sp/>for<sp/>the<sp/>called<sp/>function<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>to<sp/>invoke<sp/>e.g.<sp/>StartStream<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a7e4e2c52c81ca859f290909b0e9868a6" kindref="member">streamRepresentation</ref>.<ref refid="struct_pa_util_stream_representation_1a9132c3be1600907f747c38d64f4a4a3e" kindref="member">streamFinishedCallback</ref><sp/>!=<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="6322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a7e4e2c52c81ca859f290909b0e9868a6" kindref="member">streamRepresentation</ref>.<ref refid="struct_pa_util_stream_representation_1a9132c3be1600907f747c38d64f4a4a3e" kindref="member">streamFinishedCallback</ref>(<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a7e4e2c52c81ca859f290909b0e9868a6" kindref="member">streamRepresentation</ref>.<ref refid="struct_pa_util_stream_representation_1a5d47c8cae02066d877bc7c670adb61ad" kindref="member">userData</ref><sp/>);</highlight></codeline>
<codeline lineno="6323"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6324"><highlight class="normal"></highlight></codeline>
<codeline lineno="6325"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="6326"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="6327"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6328"><highlight class="normal"></highlight></codeline>
<codeline lineno="6329"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>AbortStream(<sp/><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref><sp/>*s<sp/>)</highlight></codeline>
<codeline lineno="6330"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6331"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="6332"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream" kindref="compound">PaWinWdmStream</ref><sp/>*stream<sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_stream" kindref="compound">PaWinWdmStream</ref>*)s;</highlight></codeline>
<codeline lineno="6333"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>doCb<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6334"><highlight class="normal"></highlight></codeline>
<codeline lineno="6335"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="6336"><highlight class="normal"></highlight></codeline>
<codeline lineno="6337"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a1f917538ec25eacc82713745052815f1" kindref="member">streamActive</ref>)</highlight></codeline>
<codeline lineno="6338"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>doCb<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="6340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1acaa0f377d2148764a2c6dd97c75e87d7" kindref="member">streamAbort</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="6341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SetEvent(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a2ec042a491ca1d0d8a071f4c4901e4c4" kindref="member">eventAbort</ref>);<sp/></highlight><highlight class="comment">/*<sp/>Signal<sp/>immediately<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(WaitForSingleObject(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a696e6c139cc0dfad91ab108dbf446a12" kindref="member">streamThread</ref>,<sp/>10000)<sp/>!=<sp/>WAIT_OBJECT_0)</highlight></codeline>
<codeline lineno="6343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6344"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TerminateThread(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a696e6c139cc0dfad91ab108dbf446a12" kindref="member">streamThread</ref>,<sp/>-1);</highlight></codeline>
<codeline lineno="6345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a26ddab3d4dace3978ec6d5b3ccc10e87" kindref="member">paTimedOut</ref>;</highlight></codeline>
<codeline lineno="6346"><highlight class="normal"></highlight></codeline>
<codeline lineno="6347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__debugprint_8h_1a6452e5dde90d9c4ef698559e3f928b17" kindref="member">PA_DEBUG</ref>((</highlight><highlight class="stringliteral">&quot;AbortStream:<sp/>stream<sp/>thread<sp/>terminated\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="6348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(!stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a1f917538ec25eacc82713745052815f1" kindref="member">streamActive</ref>);</highlight></codeline>
<codeline lineno="6350"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6351"><highlight class="normal"><sp/><sp/><sp/><sp/>CloseHandle(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a696e6c139cc0dfad91ab108dbf446a12" kindref="member">streamThread</ref>);</highlight></codeline>
<codeline lineno="6352"><highlight class="normal"><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a696e6c139cc0dfad91ab108dbf446a12" kindref="member">streamThread</ref><sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="6353"><highlight class="normal"><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1ab3122c31d95fb7481d45e375fa9a5a3f" kindref="member">streamStarted</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6354"><highlight class="normal"></highlight></codeline>
<codeline lineno="6355"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(doCb)</highlight></codeline>
<codeline lineno="6356"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Do<sp/>user<sp/>callback<sp/>now<sp/>after<sp/>all<sp/>state<sp/>has<sp/>been<sp/>reset<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>This<sp/>means<sp/>it<sp/>should<sp/>be<sp/>safe<sp/>for<sp/>the<sp/>called<sp/>function<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>to<sp/>invoke<sp/>e.g.<sp/>StartStream<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a7e4e2c52c81ca859f290909b0e9868a6" kindref="member">streamRepresentation</ref>.<ref refid="struct_pa_util_stream_representation_1a9132c3be1600907f747c38d64f4a4a3e" kindref="member">streamFinishedCallback</ref><sp/>!=<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="6361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a7e4e2c52c81ca859f290909b0e9868a6" kindref="member">streamRepresentation</ref>.<ref refid="struct_pa_util_stream_representation_1a9132c3be1600907f747c38d64f4a4a3e" kindref="member">streamFinishedCallback</ref>(<sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a7e4e2c52c81ca859f290909b0e9868a6" kindref="member">streamRepresentation</ref>.<ref refid="struct_pa_util_stream_representation_1a5d47c8cae02066d877bc7c670adb61ad" kindref="member">userData</ref><sp/>);</highlight></codeline>
<codeline lineno="6362"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6363"><highlight class="normal"></highlight></codeline>
<codeline lineno="6364"><highlight class="normal"><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a1f917538ec25eacc82713745052815f1" kindref="member">streamActive</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6365"><highlight class="normal"><sp/><sp/><sp/><sp/>stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1ab3122c31d95fb7481d45e375fa9a5a3f" kindref="member">streamStarted</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6366"><highlight class="normal"></highlight></codeline>
<codeline lineno="6367"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="6368"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="6369"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6370"><highlight class="normal"></highlight></codeline>
<codeline lineno="6371"><highlight class="normal"></highlight></codeline>
<codeline lineno="6372"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>IsStreamStopped(<sp/><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref><sp/>*s<sp/>)</highlight></codeline>
<codeline lineno="6373"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6374"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream" kindref="compound">PaWinWdmStream</ref><sp/>*stream<sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_stream" kindref="compound">PaWinWdmStream</ref>*)s;</highlight></codeline>
<codeline lineno="6375"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>result<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6376"><highlight class="normal"></highlight></codeline>
<codeline lineno="6377"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="6378"><highlight class="normal"></highlight></codeline>
<codeline lineno="6379"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1ab3122c31d95fb7481d45e375fa9a5a3f" kindref="member">streamStarted</ref>)</highlight></codeline>
<codeline lineno="6380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="6381"><highlight class="normal"></highlight></codeline>
<codeline lineno="6382"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="6383"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="6384"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6385"><highlight class="normal"></highlight></codeline>
<codeline lineno="6386"><highlight class="normal"></highlight></codeline>
<codeline lineno="6387"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>IsStreamActive(<sp/><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref><sp/>*s<sp/>)</highlight></codeline>
<codeline lineno="6388"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6389"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream" kindref="compound">PaWinWdmStream</ref><sp/>*stream<sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_stream" kindref="compound">PaWinWdmStream</ref>*)s;</highlight></codeline>
<codeline lineno="6390"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>result<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6391"><highlight class="normal"></highlight></codeline>
<codeline lineno="6392"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="6393"><highlight class="normal"></highlight></codeline>
<codeline lineno="6394"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a1f917538ec25eacc82713745052815f1" kindref="member">streamActive</ref>)</highlight></codeline>
<codeline lineno="6395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="6396"><highlight class="normal"></highlight></codeline>
<codeline lineno="6397"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="6398"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="6399"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6400"><highlight class="normal"></highlight></codeline>
<codeline lineno="6401"><highlight class="normal"></highlight></codeline>
<codeline lineno="6402"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1af17a7e6d0471a23071acf8dbd7bbe4bd" kindref="member">PaTime</ref><sp/>GetStreamTime(<sp/><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref>*<sp/>s<sp/>)</highlight></codeline>
<codeline lineno="6403"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6404"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="6405"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="6406"><highlight class="normal"><sp/><sp/><sp/><sp/>(<ref refid="lib_2expat_8h_1a3980d15795c6349fecd06c1b035c1ae9" kindref="member">void</ref>)s;</highlight></codeline>
<codeline lineno="6407"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="pa__util_8h_1a9598384d28d22d589f607ca1069cc04c" kindref="member">PaUtil_GetTime</ref>();</highlight></codeline>
<codeline lineno="6408"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6409"><highlight class="normal"></highlight></codeline>
<codeline lineno="6410"><highlight class="normal"></highlight></codeline>
<codeline lineno="6411"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>GetStreamCpuLoad(<sp/><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref>*<sp/>s<sp/>)</highlight></codeline>
<codeline lineno="6412"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6413"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream" kindref="compound">PaWinWdmStream</ref><sp/>*stream<sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_stream" kindref="compound">PaWinWdmStream</ref>*)s;</highlight></codeline>
<codeline lineno="6414"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="6415"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="6416"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="pa__cpuload_8c_1af7bff59bbfe46a388e21633bf49ea0d6" kindref="member">PaUtil_GetCpuLoad</ref>(<sp/>&amp;stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1ad77f1764e2de9c5a9d2b05ee1a4565ee" kindref="member">cpuLoadMeasurer</ref><sp/>);</highlight></codeline>
<codeline lineno="6417"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="6418"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="6419"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6420"><highlight class="normal"></highlight></codeline>
<codeline lineno="6421"><highlight class="normal"></highlight></codeline>
<codeline lineno="6422"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="6423"><highlight class="comment">As<sp/>separate<sp/>stream<sp/>interfaces<sp/>are<sp/>used<sp/>for<sp/>blocking<sp/>and<sp/>callback</highlight></codeline>
<codeline lineno="6424"><highlight class="comment">streams,<sp/>the<sp/>following<sp/>functions<sp/>can<sp/>be<sp/>guaranteed<sp/>to<sp/>only<sp/>be<sp/>called</highlight></codeline>
<codeline lineno="6425"><highlight class="comment">for<sp/>blocking<sp/>streams.</highlight></codeline>
<codeline lineno="6426"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6427"><highlight class="normal"></highlight></codeline>
<codeline lineno="6428"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/><ref refid="pa__mac__core__blocking_8c_1a9e7f111c33d1e80f40473846864e84fa" kindref="member">ReadStream</ref>(<sp/><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref>*<sp/>s,</highlight></codeline>
<codeline lineno="6429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*buffer,</highlight></codeline>
<codeline lineno="6430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>frames<sp/>)</highlight></codeline>
<codeline lineno="6431"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6432"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream" kindref="compound">PaWinWdmStream</ref><sp/>*stream<sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_stream" kindref="compound">PaWinWdmStream</ref>*)s;</highlight></codeline>
<codeline lineno="6433"><highlight class="normal"></highlight></codeline>
<codeline lineno="6434"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="6435"><highlight class="normal"></highlight></codeline>
<codeline lineno="6436"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>suppress<sp/>unused<sp/>variable<sp/>warnings<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6437"><highlight class="normal"><sp/><sp/><sp/><sp/>(<ref refid="lib_2expat_8h_1a3980d15795c6349fecd06c1b035c1ae9" kindref="member">void</ref>)<sp/>buffer;</highlight></codeline>
<codeline lineno="6438"><highlight class="normal"><sp/><sp/><sp/><sp/>(<ref refid="lib_2expat_8h_1a3980d15795c6349fecd06c1b035c1ae9" kindref="member">void</ref>)<sp/>frames;</highlight></codeline>
<codeline lineno="6439"><highlight class="normal"><sp/><sp/><sp/><sp/>(<ref refid="lib_2expat_8h_1a3980d15795c6349fecd06c1b035c1ae9" kindref="member">void</ref>)<sp/>stream;</highlight></codeline>
<codeline lineno="6440"><highlight class="normal"></highlight></codeline>
<codeline lineno="6441"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>IMPLEMENT<sp/>ME,<sp/>see<sp/>portaudio.h<sp/>for<sp/>required<sp/>behavior*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6442"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="6443"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a4851f9f753cdad3e7a89380d6589816c" kindref="member">paInternalError</ref>;</highlight></codeline>
<codeline lineno="6444"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6445"><highlight class="normal"></highlight></codeline>
<codeline lineno="6446"><highlight class="normal"></highlight></codeline>
<codeline lineno="6447"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/><ref refid="pa__mac__core__blocking_8c_1a0cfb7772846808945bd521d23d5626eb" kindref="member">WriteStream</ref>(<sp/><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref>*<sp/>s,</highlight></codeline>
<codeline lineno="6448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*buffer,</highlight></codeline>
<codeline lineno="6449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>frames<sp/>)</highlight></codeline>
<codeline lineno="6450"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6451"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream" kindref="compound">PaWinWdmStream</ref><sp/>*stream<sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_stream" kindref="compound">PaWinWdmStream</ref>*)s;</highlight></codeline>
<codeline lineno="6452"><highlight class="normal"></highlight></codeline>
<codeline lineno="6453"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="6454"><highlight class="normal"></highlight></codeline>
<codeline lineno="6455"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>suppress<sp/>unused<sp/>variable<sp/>warnings<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6456"><highlight class="normal"><sp/><sp/><sp/><sp/>(<ref refid="lib_2expat_8h_1a3980d15795c6349fecd06c1b035c1ae9" kindref="member">void</ref>)<sp/>buffer;</highlight></codeline>
<codeline lineno="6457"><highlight class="normal"><sp/><sp/><sp/><sp/>(<ref refid="lib_2expat_8h_1a3980d15795c6349fecd06c1b035c1ae9" kindref="member">void</ref>)<sp/>frames;</highlight></codeline>
<codeline lineno="6458"><highlight class="normal"><sp/><sp/><sp/><sp/>(<ref refid="lib_2expat_8h_1a3980d15795c6349fecd06c1b035c1ae9" kindref="member">void</ref>)<sp/>stream;</highlight></codeline>
<codeline lineno="6459"><highlight class="normal"></highlight></codeline>
<codeline lineno="6460"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>IMPLEMENT<sp/>ME,<sp/>see<sp/>portaudio.h<sp/>for<sp/>required<sp/>behavior*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6461"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="6462"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7a4851f9f753cdad3e7a89380d6589816c" kindref="member">paInternalError</ref>;</highlight></codeline>
<codeline lineno="6463"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6464"><highlight class="normal"></highlight></codeline>
<codeline lineno="6465"><highlight class="normal"></highlight></codeline>
<codeline lineno="6466"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">signed</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="pa__mac__core__blocking_8c_1a82aa1e30985c7924247e8f45fc356d46" kindref="member">GetStreamReadAvailable</ref>(<sp/><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref>*<sp/>s<sp/>)</highlight></codeline>
<codeline lineno="6467"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6468"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream" kindref="compound">PaWinWdmStream</ref><sp/>*stream<sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_stream" kindref="compound">PaWinWdmStream</ref>*)s;</highlight></codeline>
<codeline lineno="6469"><highlight class="normal"></highlight></codeline>
<codeline lineno="6470"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="6471"><highlight class="normal"></highlight></codeline>
<codeline lineno="6472"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>suppress<sp/>unused<sp/>variable<sp/>warnings<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6473"><highlight class="normal"><sp/><sp/><sp/><sp/>(<ref refid="lib_2expat_8h_1a3980d15795c6349fecd06c1b035c1ae9" kindref="member">void</ref>)<sp/>stream;</highlight></codeline>
<codeline lineno="6474"><highlight class="normal"></highlight></codeline>
<codeline lineno="6475"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>IMPLEMENT<sp/>ME,<sp/>see<sp/>portaudio.h<sp/>for<sp/>required<sp/>behavior*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6476"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="6477"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="6478"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6479"><highlight class="normal"></highlight></codeline>
<codeline lineno="6480"><highlight class="normal"></highlight></codeline>
<codeline lineno="6481"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">signed</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="pa__mac__core__blocking_8c_1ad7ee6bd74b3109101f1eb4ca0514c8b0" kindref="member">GetStreamWriteAvailable</ref>(<sp/><ref refid="portaudio_8h_1a19874734f89958fccf86785490d53b4c" kindref="member">PaStream</ref>*<sp/>s<sp/>)</highlight></codeline>
<codeline lineno="6482"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6483"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_stream" kindref="compound">PaWinWdmStream</ref><sp/>*stream<sp/>=<sp/>(<ref refid="struct_____pa_win_wdm_stream" kindref="compound">PaWinWdmStream</ref>*)s;</highlight></codeline>
<codeline lineno="6484"><highlight class="normal"></highlight></codeline>
<codeline lineno="6485"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a4fd900251a6b37db5201519ce085695c" kindref="member">PA_LOGE_</ref>;</highlight></codeline>
<codeline lineno="6486"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>suppress<sp/>unused<sp/>variable<sp/>warnings<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6487"><highlight class="normal"><sp/><sp/><sp/><sp/>(<ref refid="lib_2expat_8h_1a3980d15795c6349fecd06c1b035c1ae9" kindref="member">void</ref>)<sp/>stream;</highlight></codeline>
<codeline lineno="6488"><highlight class="normal"></highlight></codeline>
<codeline lineno="6489"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>IMPLEMENT<sp/>ME,<sp/>see<sp/>portaudio.h<sp/>for<sp/>required<sp/>behavior*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6490"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a5a33d3ea6a9a13288f01233236e17c44" kindref="member">PA_LOGL_</ref>;</highlight></codeline>
<codeline lineno="6491"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="6492"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6493"><highlight class="normal"></highlight></codeline>
<codeline lineno="6494"><highlight class="normal"></highlight><highlight class="comment">/***************************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6495"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Event<sp/>and<sp/>submit<sp/>handlers<sp/>for<sp/>WaveCyclic<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6496"><highlight class="normal"></highlight><highlight class="comment">/***************************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6497"><highlight class="normal"></highlight></codeline>
<codeline lineno="6498"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PaPinCaptureEventHandler_WaveCyclic(<ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref>*<sp/>pInfo,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>eventIndex)</highlight></codeline>
<codeline lineno="6499"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6500"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="6501"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__ringbuffer_8h_1a56482b88e581ba588fe43b1568978b94" kindref="member">ring_buffer_size_t</ref><sp/>frameCount;</highlight></codeline>
<codeline lineno="6502"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____d_a_t_a_p_a_c_k_e_t" kindref="compound">DATAPACKET</ref>*<sp/>packet<sp/>=<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1658ab65cd0eaf8d0c0c3b1904125df" kindref="member">packets</ref><sp/>+<sp/>eventIndex;</highlight></codeline>
<codeline lineno="6503"><highlight class="normal"></highlight></codeline>
<codeline lineno="6504"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(<sp/>eventIndex<sp/>&lt;<sp/>pInfo-&gt;stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a09ddd7e42c3b90a750e3769f20258201" kindref="member">noOfPackets</ref><sp/>);</highlight></codeline>
<codeline lineno="6505"><highlight class="normal"></highlight></codeline>
<codeline lineno="6506"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(packet-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a848c0e966ba8bd1c3545121be62ca3a0" kindref="member">DataUsed</ref><sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="6507"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6508"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a1ed56124518c5cb5bac27422912327e6" kindref="member">PA_HP_TRACE</ref>((pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog,<sp/></highlight><highlight class="stringliteral">&quot;&gt;&gt;&gt;<sp/>Capture<sp/>bogus<sp/>event<sp/>(no<sp/>data):<sp/>idx=%u&quot;</highlight><highlight class="normal">,<sp/>eventIndex));</highlight></codeline>
<codeline lineno="6509"><highlight class="normal"></highlight></codeline>
<codeline lineno="6510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Bogus<sp/>event,<sp/>reset!<sp/>This<sp/>is<sp/>to<sp/>handle<sp/>the<sp/>behavior<sp/>of<sp/>this<sp/>USB<sp/>mic:<sp/>http://shop.xtz.se/measurement-system/microphone-to-dirac-live-room-correction-suite<sp/></highlight></codeline>
<codeline lineno="6511"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>on<sp/>startup<sp/>of<sp/>streaming,<sp/>where<sp/>it<sp/>erroneously<sp/>sets<sp/>the<sp/>event<sp/>without<sp/>the<sp/>corresponding<sp/>buffer<sp/>being<sp/>filled<sp/>(DataUsed<sp/>==<sp/>0)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ResetEvent(packet-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1aa4ee2aff55460a89851b305543017691" kindref="member">Signal</ref>.hEvent);</highlight></codeline>
<codeline lineno="6513"><highlight class="normal"></highlight></codeline>
<codeline lineno="6514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>-1;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Only<sp/>need<sp/>this<sp/>to<sp/>be<sp/>NOT<sp/>paNoError<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6515"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6516"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6517"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1ac4bc0cbbaebc5a15285da84261d50e81" kindref="member">capturePackets</ref>[pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a1f40d5b9b559f02e1a60c3aafb577038" kindref="member">captureHead</ref><sp/>&amp;<sp/>cPacketsArrayMask].<ref refid="struct_____pa_i_o_packet_1af9b39c3b9381b31ad27daf1d9689e9ae" kindref="member">packet</ref><sp/>=<sp/>packet;</highlight></codeline>
<codeline lineno="6519"><highlight class="normal"></highlight></codeline>
<codeline lineno="6520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>frameCount<sp/>=<sp/><ref refid="pa__ringbuffer_8c_1a2767b217dc115e4f20db8ea206ca9520" kindref="member">PaUtil_WriteRingBuffer</ref>(&amp;pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1adece2546e5f0f11c92aa5ddd757bc251" kindref="member">ringBuffer</ref>,<sp/>packet-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a6f6127c73baaa7e612ffb3337f9024c8" kindref="member">Data</ref>,<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref>);</highlight></codeline>
<codeline lineno="6521"><highlight class="normal"></highlight></codeline>
<codeline lineno="6522"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a1ed56124518c5cb5bac27422912327e6" kindref="member">PA_HP_TRACE</ref>((pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog,<sp/></highlight><highlight class="stringliteral">&quot;&gt;&gt;&gt;<sp/>Capture<sp/>event:<sp/>idx=%u<sp/>(frames=%u)&quot;</highlight><highlight class="normal">,<sp/>eventIndex,<sp/>frameCount));</highlight></codeline>
<codeline lineno="6523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a1f40d5b9b559f02e1a60c3aafb577038" kindref="member">captureHead</ref>;</highlight></codeline>
<codeline lineno="6524"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6525"><highlight class="normal"></highlight></codeline>
<codeline lineno="6526"><highlight class="normal"><sp/><sp/><sp/><sp/>--pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1aa45f4971b33af9b928d1b158e0e508a2" kindref="member">pending</ref>;<sp/></highlight><highlight class="comment">/*<sp/>This<sp/>needs<sp/>to<sp/>be<sp/>done<sp/>in<sp/>either<sp/>case<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6527"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="6528"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6529"><highlight class="normal"></highlight></codeline>
<codeline lineno="6530"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PaPinCaptureSubmitHandler_WaveCyclic(<ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref>*<sp/>pInfo,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>eventIndex)</highlight></codeline>
<codeline lineno="6531"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6532"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="6533"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____d_a_t_a_p_a_c_k_e_t" kindref="compound">DATAPACKET</ref>*<sp/>packet<sp/>=<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1ac4bc0cbbaebc5a15285da84261d50e81" kindref="member">capturePackets</ref>[pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a0176c49820b2df61da28580d9702f64f" kindref="member">captureTail</ref><sp/>&amp;<sp/>cPacketsArrayMask].<ref refid="struct_____pa_i_o_packet_1af9b39c3b9381b31ad27daf1d9689e9ae" kindref="member">packet</ref>;</highlight></codeline>
<codeline lineno="6534"><highlight class="normal"><sp/><sp/><sp/><sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1ac4bc0cbbaebc5a15285da84261d50e81" kindref="member">capturePackets</ref>[pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a0176c49820b2df61da28580d9702f64f" kindref="member">captureTail</ref><sp/>&amp;<sp/>cPacketsArrayMask].<ref refid="struct_____pa_i_o_packet_1af9b39c3b9381b31ad27daf1d9689e9ae" kindref="member">packet</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6535"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(packet<sp/>!=<sp/>0);</highlight></codeline>
<codeline lineno="6536"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a1ed56124518c5cb5bac27422912327e6" kindref="member">PA_HP_TRACE</ref>((pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog,<sp/></highlight><highlight class="stringliteral">&quot;Capture<sp/>submit:<sp/>%u&quot;</highlight><highlight class="normal">,<sp/>eventIndex));</highlight></codeline>
<codeline lineno="6537"><highlight class="normal"><sp/><sp/><sp/><sp/>packet-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a848c0e966ba8bd1c3545121be62ca3a0" kindref="member">DataUsed</ref><sp/>=<sp/>0;<sp/></highlight><highlight class="comment">/*<sp/>Reset<sp/>for<sp/>reuse<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6538"><highlight class="normal"><sp/><sp/><sp/><sp/>ResetEvent(packet-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1aa4ee2aff55460a89851b305543017691" kindref="member">Signal</ref>.hEvent);</highlight></codeline>
<codeline lineno="6539"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>PinRead(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a60e3d7a05346b1ce3e8e910e9d1c4fb8" kindref="member">handle</ref>,<sp/>packet);</highlight></codeline>
<codeline lineno="6540"><highlight class="normal"><sp/><sp/><sp/><sp/>++pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1aa45f4971b33af9b928d1b158e0e508a2" kindref="member">pending</ref>;</highlight></codeline>
<codeline lineno="6541"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="6542"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6543"><highlight class="normal"></highlight></codeline>
<codeline lineno="6544"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PaPinRenderEventHandler_WaveCyclic(<ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref>*<sp/>pInfo,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>eventIndex)</highlight></codeline>
<codeline lineno="6545"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6546"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(<sp/>eventIndex<sp/>&lt;<sp/>pInfo-&gt;stream-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a09ddd7e42c3b90a750e3769f20258201" kindref="member">noOfPackets</ref><sp/>);</highlight></codeline>
<codeline lineno="6547"><highlight class="normal"></highlight></codeline>
<codeline lineno="6548"><highlight class="normal"><sp/><sp/><sp/><sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a174161d8cef2629818fd34a192578992" kindref="member">renderPackets</ref>[pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1afaabcdb7ba9f573a5ccb51ad217d9786" kindref="member">renderHead</ref><sp/>&amp;<sp/>cPacketsArrayMask].<ref refid="struct_____pa_i_o_packet_1af9b39c3b9381b31ad27daf1d9689e9ae" kindref="member">packet</ref><sp/>=<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1658ab65cd0eaf8d0c0c3b1904125df" kindref="member">packets</ref><sp/>+<sp/>eventIndex;</highlight></codeline>
<codeline lineno="6549"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a1ed56124518c5cb5bac27422912327e6" kindref="member">PA_HP_TRACE</ref>((pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog,<sp/></highlight><highlight class="stringliteral">&quot;&lt;&lt;&lt;<sp/>Render<sp/>event<sp/>:<sp/>idx=%u<sp/>head=%u&quot;</highlight><highlight class="normal">,<sp/>eventIndex,<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1afaabcdb7ba9f573a5ccb51ad217d9786" kindref="member">renderHead</ref>));</highlight></codeline>
<codeline lineno="6550"><highlight class="normal"><sp/><sp/><sp/><sp/>++pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1afaabcdb7ba9f573a5ccb51ad217d9786" kindref="member">renderHead</ref>;</highlight></codeline>
<codeline lineno="6551"><highlight class="normal"><sp/><sp/><sp/><sp/>--pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1aa45f4971b33af9b928d1b158e0e508a2" kindref="member">pending</ref>;</highlight></codeline>
<codeline lineno="6552"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="6553"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6554"><highlight class="normal"></highlight></codeline>
<codeline lineno="6555"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PaPinRenderSubmitHandler_WaveCyclic(<ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref>*<sp/>pInfo,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>eventIndex)</highlight></codeline>
<codeline lineno="6556"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6557"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>result<sp/>=<sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="6558"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____d_a_t_a_p_a_c_k_e_t" kindref="compound">DATAPACKET</ref>*<sp/>packet<sp/>=<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a174161d8cef2629818fd34a192578992" kindref="member">renderPackets</ref>[pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a46af18819185c66ad788396981ea7b75" kindref="member">renderTail</ref><sp/>&amp;<sp/>cPacketsArrayMask].<ref refid="struct_____pa_i_o_packet_1af9b39c3b9381b31ad27daf1d9689e9ae" kindref="member">packet</ref>;</highlight></codeline>
<codeline lineno="6559"><highlight class="normal"><sp/><sp/><sp/><sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a174161d8cef2629818fd34a192578992" kindref="member">renderPackets</ref>[pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a46af18819185c66ad788396981ea7b75" kindref="member">renderTail</ref><sp/>&amp;<sp/>cPacketsArrayMask].<ref refid="struct_____pa_i_o_packet_1af9b39c3b9381b31ad27daf1d9689e9ae" kindref="member">packet</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6560"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(packet<sp/>!=<sp/>0);</highlight></codeline>
<codeline lineno="6561"><highlight class="normal"></highlight></codeline>
<codeline lineno="6562"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a1ed56124518c5cb5bac27422912327e6" kindref="member">PA_HP_TRACE</ref>((pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog,<sp/></highlight><highlight class="stringliteral">&quot;Render<sp/>submit<sp/>:<sp/>%u<sp/>idx=%u&quot;</highlight><highlight class="normal">,<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a46af18819185c66ad788396981ea7b75" kindref="member">renderTail</ref>,<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal">)(packet<sp/>-<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1658ab65cd0eaf8d0c0c3b1904125df" kindref="member">packets</ref>)));</highlight></codeline>
<codeline lineno="6563"><highlight class="normal"><sp/><sp/><sp/><sp/>ResetEvent(packet-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1aa4ee2aff55460a89851b305543017691" kindref="member">Signal</ref>.hEvent);</highlight></codeline>
<codeline lineno="6564"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>PinWrite(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>-&gt;<ref refid="struct_____pa_win_wdm_pin_1a60e3d7a05346b1ce3e8e910e9d1c4fb8" kindref="member">handle</ref>,<sp/>packet);</highlight></codeline>
<codeline lineno="6565"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Reset<sp/>event,<sp/>just<sp/>in<sp/>case<sp/>we<sp/>have<sp/>an<sp/>analogous<sp/>situation<sp/>to<sp/>capture<sp/>(see<sp/>PaPinCaptureSubmitHandler_WaveCyclic)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6566"><highlight class="normal"><sp/><sp/><sp/><sp/>++pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1aa45f4971b33af9b928d1b158e0e508a2" kindref="member">pending</ref>;</highlight></codeline>
<codeline lineno="6567"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1abd6f079f77dad8c8489c060f8d68fedb" kindref="member">priming</ref>)</highlight></codeline>
<codeline lineno="6568"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>--pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1abd6f079f77dad8c8489c060f8d68fedb" kindref="member">priming</ref>;</highlight></codeline>
<codeline lineno="6570"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6571"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="6572"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6573"><highlight class="normal"></highlight></codeline>
<codeline lineno="6574"><highlight class="normal"></highlight><highlight class="comment">/***************************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6575"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Event<sp/>and<sp/>submit<sp/>handlers<sp/>for<sp/>WaveRT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6576"><highlight class="normal"></highlight><highlight class="comment">/***************************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6577"><highlight class="normal"></highlight></codeline>
<codeline lineno="6578"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PaPinCaptureEventHandler_WaveRTEvent(<ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref>*<sp/>pInfo,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>eventIndex)</highlight></codeline>
<codeline lineno="6579"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6580"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>pos;</highlight></codeline>
<codeline lineno="6581"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>realInBuf;</highlight></codeline>
<codeline lineno="6582"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>frameCount;</highlight></codeline>
<codeline lineno="6583"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_i_o_info" kindref="compound">PaWinWdmIOInfo</ref>*<sp/>pCapture<sp/>=<sp/>&amp;pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>;</highlight></codeline>
<codeline lineno="6584"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>halfInputBuffer<sp/>=<sp/>pCapture-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1a6d8bb24a84a455a3621d7d357160fc39" kindref="member">hostBufferSize</ref><sp/>&gt;&gt;<sp/>1;</highlight></codeline>
<codeline lineno="6585"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pin<sp/>=<sp/>pCapture-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>;</highlight></codeline>
<codeline lineno="6586"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____d_a_t_a_p_a_c_k_e_t" kindref="compound">DATAPACKET</ref>*<sp/>packet<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6587"><highlight class="normal"></highlight></codeline>
<codeline lineno="6588"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>hold<sp/>of<sp/>current<sp/>ADC<sp/>position<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6589"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a4eb72e73473daa4c5fe2c9dc6b840a93" kindref="member">fnAudioPosition</ref>(pin,<sp/>&amp;pos);</highlight></codeline>
<codeline lineno="6590"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Wrap<sp/>it<sp/>(robi:<sp/>why<sp/>not<sp/>use<sp/>hw<sp/>latency<sp/>compensation<sp/>here<sp/>??<sp/>because<sp/>pos<sp/>then<sp/>gets<sp/>_way_<sp/>off<sp/>from</highlight></codeline>
<codeline lineno="6591"><highlight class="comment"><sp/><sp/><sp/><sp/>where<sp/>it<sp/>should<sp/>be,<sp/>i.e.<sp/>at<sp/>beginning<sp/>or<sp/>half<sp/>buffer<sp/>position.<sp/>Why?<sp/>No<sp/>idea.)<sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6592"><highlight class="normal"></highlight></codeline>
<codeline lineno="6593"><highlight class="normal"><sp/><sp/><sp/><sp/>pos<sp/>%=<sp/>pCapture-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1a6d8bb24a84a455a3621d7d357160fc39" kindref="member">hostBufferSize</ref>;</highlight></codeline>
<codeline lineno="6594"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Then<sp/>realInBuf<sp/>will<sp/>point<sp/>to<sp/>&quot;other&quot;<sp/>half<sp/>of<sp/>double<sp/>buffer<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6595"><highlight class="normal"><sp/><sp/><sp/><sp/>realInBuf<sp/>=<sp/>pos<sp/>&lt;<sp/>halfInputBuffer<sp/>?<sp/>1U<sp/>:<sp/>0U;</highlight></codeline>
<codeline lineno="6596"><highlight class="normal"></highlight></codeline>
<codeline lineno="6597"><highlight class="normal"><sp/><sp/><sp/><sp/>packet<sp/>=<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1658ab65cd0eaf8d0c0c3b1904125df" kindref="member">packets</ref><sp/>+<sp/>realInBuf;</highlight></codeline>
<codeline lineno="6598"><highlight class="normal"></highlight></codeline>
<codeline lineno="6599"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Call<sp/>barrier<sp/>(or<sp/>dummy)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6600"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a964c737ddb76f5e51678617788646106" kindref="member">fnMemBarrier</ref>();</highlight></codeline>
<codeline lineno="6601"><highlight class="normal"></highlight></codeline>
<codeline lineno="6602"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Put<sp/>it<sp/>in<sp/>queue<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6603"><highlight class="normal"><sp/><sp/><sp/><sp/>frameCount<sp/>=<sp/><ref refid="pa__ringbuffer_8c_1a2767b217dc115e4f20db8ea206ca9520" kindref="member">PaUtil_WriteRingBuffer</ref>(&amp;pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1adece2546e5f0f11c92aa5ddd757bc251" kindref="member">ringBuffer</ref>,<sp/>packet-&gt;<ref refid="struct_____d_a_t_a_p_a_c_k_e_t_1a6e3a48774a511f5bbc64bef3ae780d2c" kindref="member">Header</ref>.<ref refid="struct_k_s_s_t_r_e_a_m___h_e_a_d_e_r_1a6f6127c73baaa7e612ffb3337f9024c8" kindref="member">Data</ref>,<sp/>pCapture-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1ad80e8655e6f5dae1c751a2345d03456a" kindref="member">framesPerBuffer</ref>);</highlight></codeline>
<codeline lineno="6604"><highlight class="normal"></highlight></codeline>
<codeline lineno="6605"><highlight class="normal"><sp/><sp/><sp/><sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1ac4bc0cbbaebc5a15285da84261d50e81" kindref="member">capturePackets</ref>[pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a1f40d5b9b559f02e1a60c3aafb577038" kindref="member">captureHead</ref><sp/>&amp;<sp/>cPacketsArrayMask].<ref refid="struct_____pa_i_o_packet_1af9b39c3b9381b31ad27daf1d9689e9ae" kindref="member">packet</ref><sp/>=<sp/>packet;</highlight></codeline>
<codeline lineno="6606"><highlight class="normal"></highlight></codeline>
<codeline lineno="6607"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a1ed56124518c5cb5bac27422912327e6" kindref="member">PA_HP_TRACE</ref>((pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog,<sp/></highlight><highlight class="stringliteral">&quot;Capture<sp/>event<sp/>(WaveRT):<sp/>idx=%u<sp/>head=%u<sp/>(pos<sp/>=<sp/>%4.1lf%%,<sp/>frames=%u)&quot;</highlight><highlight class="normal">,<sp/>realInBuf,<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a1f40d5b9b559f02e1a60c3aafb577038" kindref="member">captureHead</ref>,<sp/>(pos<sp/>*<sp/>100.0<sp/>/<sp/>pCapture-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1a6d8bb24a84a455a3621d7d357160fc39" kindref="member">hostBufferSize</ref>),<sp/>frameCount));</highlight></codeline>
<codeline lineno="6608"><highlight class="normal"></highlight></codeline>
<codeline lineno="6609"><highlight class="normal"><sp/><sp/><sp/><sp/>++pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a1f40d5b9b559f02e1a60c3aafb577038" kindref="member">captureHead</ref>;</highlight></codeline>
<codeline lineno="6610"><highlight class="normal"><sp/><sp/><sp/><sp/>--pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1aa45f4971b33af9b928d1b158e0e508a2" kindref="member">pending</ref>;</highlight></codeline>
<codeline lineno="6611"><highlight class="normal"></highlight></codeline>
<codeline lineno="6612"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="6613"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6614"><highlight class="normal"></highlight></codeline>
<codeline lineno="6615"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PaPinCaptureEventHandler_WaveRTPolled(<ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref>*<sp/>pInfo,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>eventIndex)</highlight></codeline>
<codeline lineno="6616"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6617"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>pos;</highlight></codeline>
<codeline lineno="6618"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>bytesToRead;</highlight></codeline>
<codeline lineno="6619"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_i_o_info" kindref="compound">PaWinWdmIOInfo</ref>*<sp/>pCapture<sp/>=<sp/>&amp;pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>;</highlight></codeline>
<codeline lineno="6620"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>halfInputBuffer<sp/>=<sp/>pCapture-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1a6d8bb24a84a455a3621d7d357160fc39" kindref="member">hostBufferSize</ref>&gt;&gt;1;</highlight></codeline>
<codeline lineno="6621"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pin<sp/>=<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a31e13c53819af64975bdc06cdc8a164d" kindref="member">capture</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>;</highlight></codeline>
<codeline lineno="6622"><highlight class="normal"></highlight></codeline>
<codeline lineno="6623"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>hold<sp/>of<sp/>current<sp/>ADC<sp/>position<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6624"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a4eb72e73473daa4c5fe2c9dc6b840a93" kindref="member">fnAudioPosition</ref>(pin,<sp/>&amp;pos);</highlight></codeline>
<codeline lineno="6625"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Wrap<sp/>it<sp/>(robi:<sp/>why<sp/>not<sp/>use<sp/>hw<sp/>latency<sp/>compensation<sp/>here<sp/>??<sp/>because<sp/>pos<sp/>then<sp/>gets<sp/>_way_<sp/>off<sp/>from</highlight></codeline>
<codeline lineno="6626"><highlight class="comment"><sp/><sp/><sp/><sp/>where<sp/>it<sp/>should<sp/>be,<sp/>i.e.<sp/>at<sp/>beginning<sp/>or<sp/>half<sp/>buffer<sp/>position.<sp/>Why?<sp/>No<sp/>idea.)<sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6627"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Compensate<sp/>for<sp/>HW<sp/>FIFO<sp/>to<sp/>get<sp/>to<sp/>last<sp/>read<sp/>buffer<sp/>position<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6628"><highlight class="normal"><sp/><sp/><sp/><sp/>pos<sp/>+=<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a2bef1e76e0d2a5184c48ee7cd6961573" kindref="member">hwLatency</ref>;</highlight></codeline>
<codeline lineno="6629"><highlight class="normal"><sp/><sp/><sp/><sp/>pos<sp/>%=<sp/>pCapture-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1a6d8bb24a84a455a3621d7d357160fc39" kindref="member">hostBufferSize</ref>;</highlight></codeline>
<codeline lineno="6630"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Need<sp/>to<sp/>align<sp/>position<sp/>on<sp/>frame<sp/>boundary<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6631"><highlight class="normal"><sp/><sp/><sp/><sp/>pos<sp/>&amp;=<sp/>~(pCapture-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref><sp/>-<sp/>1);</highlight></codeline>
<codeline lineno="6632"><highlight class="normal"></highlight></codeline>
<codeline lineno="6633"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Call<sp/>barrier<sp/>(or<sp/>dummy)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6634"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a964c737ddb76f5e51678617788646106" kindref="member">fnMemBarrier</ref>();</highlight></codeline>
<codeline lineno="6635"><highlight class="normal"></highlight></codeline>
<codeline lineno="6636"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Put<sp/>it<sp/>in<sp/>&quot;queue&quot;<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6637"><highlight class="normal"><sp/><sp/><sp/><sp/>bytesToRead<sp/>=<sp/>(pCapture-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1a6d8bb24a84a455a3621d7d357160fc39" kindref="member">hostBufferSize</ref><sp/>+<sp/>pos<sp/>-<sp/>pCapture-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1a9531d0af0db86e249feae8339dd7bfaf" kindref="member">lastPosition</ref>)<sp/>%<sp/>pCapture-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1a6d8bb24a84a455a3621d7d357160fc39" kindref="member">hostBufferSize</ref>;</highlight></codeline>
<codeline lineno="6638"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="winfun_8c_1ab24f32995c1d94525943b4568cce20cb" kindref="member">if</ref><sp/>(bytesToRead<sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="6639"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>frameCount<sp/>=<sp/><ref refid="pa__ringbuffer_8c_1a2767b217dc115e4f20db8ea206ca9520" kindref="member">PaUtil_WriteRingBuffer</ref>(&amp;pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1adece2546e5f0f11c92aa5ddd757bc251" kindref="member">ringBuffer</ref>,</highlight></codeline>
<codeline lineno="6641"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pCapture-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1ab2726db73e01500b5088f535ac766738" kindref="member">hostBuffer</ref><sp/>+<sp/>pCapture-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1a9531d0af0db86e249feae8339dd7bfaf" kindref="member">lastPosition</ref>,</highlight></codeline>
<codeline lineno="6642"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bytesToRead<sp/>/<sp/>pCapture-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref>);</highlight></codeline>
<codeline lineno="6643"><highlight class="normal"></highlight></codeline>
<codeline lineno="6644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pCapture-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1a9531d0af0db86e249feae8339dd7bfaf" kindref="member">lastPosition</ref><sp/>=<sp/>(pCapture-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1a9531d0af0db86e249feae8339dd7bfaf" kindref="member">lastPosition</ref><sp/>+<sp/>frameCount<sp/>*<sp/>pCapture-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref>)<sp/>%<sp/>pCapture-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1a6d8bb24a84a455a3621d7d357160fc39" kindref="member">hostBufferSize</ref>;</highlight></codeline>
<codeline lineno="6645"><highlight class="normal"></highlight></codeline>
<codeline lineno="6646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a1ed56124518c5cb5bac27422912327e6" kindref="member">PA_HP_TRACE</ref>((pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog,<sp/></highlight><highlight class="stringliteral">&quot;Capture<sp/>event<sp/>(WaveRTPolled):<sp/>pos<sp/>=<sp/>%4.1lf%%,<sp/>framesRead=%u&quot;</highlight><highlight class="normal">,<sp/>(pos<sp/>*<sp/>100.0<sp/>/<sp/>pCapture-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1a6d8bb24a84a455a3621d7d357160fc39" kindref="member">hostBufferSize</ref>),<sp/>frameCount));</highlight></codeline>
<codeline lineno="6647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a1f40d5b9b559f02e1a60c3aafb577038" kindref="member">captureHead</ref>;</highlight></codeline>
<codeline lineno="6648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>--pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1aa45f4971b33af9b928d1b158e0e508a2" kindref="member">pending</ref>;</highlight></codeline>
<codeline lineno="6649"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6650"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="6651"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6652"><highlight class="normal"></highlight></codeline>
<codeline lineno="6653"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PaPinCaptureSubmitHandler_WaveRTEvent(<ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref>*<sp/>pInfo,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>eventIndex)</highlight></codeline>
<codeline lineno="6654"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6655"><highlight class="normal"><sp/><sp/><sp/><sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1ac4bc0cbbaebc5a15285da84261d50e81" kindref="member">capturePackets</ref>[pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a0176c49820b2df61da28580d9702f64f" kindref="member">captureTail</ref><sp/>&amp;<sp/>cPacketsArrayMask].<ref refid="struct_____pa_i_o_packet_1af9b39c3b9381b31ad27daf1d9689e9ae" kindref="member">packet</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6656"><highlight class="normal"><sp/><sp/><sp/><sp/>++pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1aa45f4971b33af9b928d1b158e0e508a2" kindref="member">pending</ref>;</highlight></codeline>
<codeline lineno="6657"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="6658"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6659"><highlight class="normal"></highlight></codeline>
<codeline lineno="6660"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PaPinCaptureSubmitHandler_WaveRTPolled(<ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref>*<sp/>pInfo,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>eventIndex)</highlight></codeline>
<codeline lineno="6661"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6662"><highlight class="normal"><sp/><sp/><sp/><sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1ac4bc0cbbaebc5a15285da84261d50e81" kindref="member">capturePackets</ref>[pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a0176c49820b2df61da28580d9702f64f" kindref="member">captureTail</ref><sp/>&amp;<sp/>cPacketsArrayMask].<ref refid="struct_____pa_i_o_packet_1af9b39c3b9381b31ad27daf1d9689e9ae" kindref="member">packet</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6663"><highlight class="normal"><sp/><sp/><sp/><sp/>++pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1aa45f4971b33af9b928d1b158e0e508a2" kindref="member">pending</ref>;</highlight></codeline>
<codeline lineno="6664"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="6665"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6666"><highlight class="normal"></highlight></codeline>
<codeline lineno="6667"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PaPinRenderEventHandler_WaveRTEvent(<ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref>*<sp/>pInfo,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>eventIndex)</highlight></codeline>
<codeline lineno="6668"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6669"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>pos;</highlight></codeline>
<codeline lineno="6670"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>realOutBuf;</highlight></codeline>
<codeline lineno="6671"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_i_o_info" kindref="compound">PaWinWdmIOInfo</ref>*<sp/>pRender<sp/>=<sp/>&amp;pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>;</highlight></codeline>
<codeline lineno="6672"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>halfOutputBuffer<sp/>=<sp/>pRender-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1a6d8bb24a84a455a3621d7d357160fc39" kindref="member">hostBufferSize</ref><sp/>&gt;&gt;<sp/>1;</highlight></codeline>
<codeline lineno="6673"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pin<sp/>=<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>;</highlight></codeline>
<codeline lineno="6674"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_i_o_packet" kindref="compound">PaIOPacket</ref>*<sp/>ioPacket<sp/>=<sp/>&amp;pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a174161d8cef2629818fd34a192578992" kindref="member">renderPackets</ref>[pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1afaabcdb7ba9f573a5ccb51ad217d9786" kindref="member">renderHead</ref><sp/>&amp;<sp/>cPacketsArrayMask];</highlight></codeline>
<codeline lineno="6675"><highlight class="normal"></highlight></codeline>
<codeline lineno="6676"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>hold<sp/>of<sp/>current<sp/>DAC<sp/>position<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6677"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a4eb72e73473daa4c5fe2c9dc6b840a93" kindref="member">fnAudioPosition</ref>(pin,<sp/>&amp;pos);</highlight></codeline>
<codeline lineno="6678"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Compensate<sp/>for<sp/>HW<sp/>FIFO<sp/>to<sp/>get<sp/>to<sp/>last<sp/>read<sp/>buffer<sp/>position<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6679"><highlight class="normal"><sp/><sp/><sp/><sp/>pos<sp/>+=<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a2bef1e76e0d2a5184c48ee7cd6961573" kindref="member">hwLatency</ref>;</highlight></codeline>
<codeline lineno="6680"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Wrap<sp/>it<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6681"><highlight class="normal"><sp/><sp/><sp/><sp/>pos<sp/>%=<sp/>pRender-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1a6d8bb24a84a455a3621d7d357160fc39" kindref="member">hostBufferSize</ref>;</highlight></codeline>
<codeline lineno="6682"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>And<sp/>align<sp/>it,<sp/>not<sp/>sure<sp/>its<sp/>really<sp/>needed<sp/>though<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6683"><highlight class="normal"><sp/><sp/><sp/><sp/>pos<sp/>&amp;=<sp/>~(pRender-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref><sp/>-<sp/>1);</highlight></codeline>
<codeline lineno="6684"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Then<sp/>realOutBuf<sp/>will<sp/>point<sp/>to<sp/>&quot;other&quot;<sp/>half<sp/>of<sp/>double<sp/>buffer<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6685"><highlight class="normal"><sp/><sp/><sp/><sp/>realOutBuf<sp/>=<sp/>pos<sp/>&lt;<sp/>halfOutputBuffer<sp/>?<sp/>1U<sp/>:<sp/>0U;</highlight></codeline>
<codeline lineno="6686"><highlight class="normal"></highlight></codeline>
<codeline lineno="6687"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1abd6f079f77dad8c8489c060f8d68fedb" kindref="member">priming</ref>)</highlight></codeline>
<codeline lineno="6688"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>realOutBuf<sp/>=<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1afaabcdb7ba9f573a5ccb51ad217d9786" kindref="member">renderHead</ref><sp/>&amp;<sp/>0x1;</highlight></codeline>
<codeline lineno="6690"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6691"><highlight class="normal"><sp/><sp/><sp/><sp/>ioPacket-&gt;<ref refid="struct_____pa_i_o_packet_1af9b39c3b9381b31ad27daf1d9689e9ae" kindref="member">packet</ref><sp/>=<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1658ab65cd0eaf8d0c0c3b1904125df" kindref="member">packets</ref><sp/>+<sp/>realOutBuf;</highlight></codeline>
<codeline lineno="6692"><highlight class="normal"><sp/><sp/><sp/><sp/>ioPacket-&gt;<ref refid="struct_____pa_i_o_packet_1aac33f08703b3e5553760a3e1e0d68714" kindref="member">startByte</ref><sp/>=<sp/>realOutBuf<sp/>*<sp/>halfOutputBuffer;</highlight></codeline>
<codeline lineno="6693"><highlight class="normal"><sp/><sp/><sp/><sp/>ioPacket-&gt;<ref refid="struct_____pa_i_o_packet_1a7f5be19ae9613a09a9eff411cea344f2" kindref="member">lengthBytes</ref><sp/>=<sp/>halfOutputBuffer;</highlight></codeline>
<codeline lineno="6694"><highlight class="normal"></highlight></codeline>
<codeline lineno="6695"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a1ed56124518c5cb5bac27422912327e6" kindref="member">PA_HP_TRACE</ref>((pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog,<sp/></highlight><highlight class="stringliteral">&quot;Render<sp/>event<sp/>(WaveRT)<sp/>:<sp/>idx=%u<sp/>head=%u<sp/>(pos<sp/>=<sp/>%4.1lf%%)&quot;</highlight><highlight class="normal">,<sp/>realOutBuf,<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1afaabcdb7ba9f573a5ccb51ad217d9786" kindref="member">renderHead</ref>,<sp/>(pos<sp/>*<sp/>100.0<sp/>/<sp/>pRender-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1a6d8bb24a84a455a3621d7d357160fc39" kindref="member">hostBufferSize</ref>)<sp/>));</highlight></codeline>
<codeline lineno="6696"><highlight class="normal"></highlight></codeline>
<codeline lineno="6697"><highlight class="normal"><sp/><sp/><sp/><sp/>++pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1afaabcdb7ba9f573a5ccb51ad217d9786" kindref="member">renderHead</ref>;</highlight></codeline>
<codeline lineno="6698"><highlight class="normal"><sp/><sp/><sp/><sp/>--pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1aa45f4971b33af9b928d1b158e0e508a2" kindref="member">pending</ref>;</highlight></codeline>
<codeline lineno="6699"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="6700"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6701"><highlight class="normal"></highlight></codeline>
<codeline lineno="6702"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PaPinRenderEventHandler_WaveRTPolled(<ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref>*<sp/>pInfo,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>eventIndex)</highlight></codeline>
<codeline lineno="6703"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6704"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>pos;</highlight></codeline>
<codeline lineno="6705"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>realOutBuf;</highlight></codeline>
<codeline lineno="6706"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>bytesToWrite;</highlight></codeline>
<codeline lineno="6707"><highlight class="normal"></highlight></codeline>
<codeline lineno="6708"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_i_o_info" kindref="compound">PaWinWdmIOInfo</ref>*<sp/>pRender<sp/>=<sp/>&amp;pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>;</highlight></codeline>
<codeline lineno="6709"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>halfOutputBuffer<sp/>=<sp/>pRender-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1a6d8bb24a84a455a3621d7d357160fc39" kindref="member">hostBufferSize</ref><sp/>&gt;&gt;<sp/>1;</highlight></codeline>
<codeline lineno="6710"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pin<sp/>=<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>;</highlight></codeline>
<codeline lineno="6711"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_i_o_packet" kindref="compound">PaIOPacket</ref>*<sp/>ioPacket<sp/>=<sp/>&amp;pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a174161d8cef2629818fd34a192578992" kindref="member">renderPackets</ref>[pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1afaabcdb7ba9f573a5ccb51ad217d9786" kindref="member">renderHead</ref><sp/>&amp;<sp/>cPacketsArrayMask];</highlight></codeline>
<codeline lineno="6712"><highlight class="normal"></highlight></codeline>
<codeline lineno="6713"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>hold<sp/>of<sp/>current<sp/>DAC<sp/>position<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6714"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a4eb72e73473daa4c5fe2c9dc6b840a93" kindref="member">fnAudioPosition</ref>(pin,<sp/>&amp;pos);</highlight></codeline>
<codeline lineno="6715"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Compensate<sp/>for<sp/>HW<sp/>FIFO<sp/>to<sp/>get<sp/>to<sp/>last<sp/>read<sp/>buffer<sp/>position<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6716"><highlight class="normal"><sp/><sp/><sp/><sp/>pos<sp/>+=<sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a2bef1e76e0d2a5184c48ee7cd6961573" kindref="member">hwLatency</ref>;</highlight></codeline>
<codeline lineno="6717"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Wrap<sp/>it<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6718"><highlight class="normal"><sp/><sp/><sp/><sp/>pos<sp/>%=<sp/>pRender-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1a6d8bb24a84a455a3621d7d357160fc39" kindref="member">hostBufferSize</ref>;</highlight></codeline>
<codeline lineno="6719"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>And<sp/>align<sp/>it,<sp/>not<sp/>sure<sp/>its<sp/>really<sp/>needed<sp/>though<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6720"><highlight class="normal"><sp/><sp/><sp/><sp/>pos<sp/>&amp;=<sp/>~(pRender-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1ac2141aef40e9aee4a859b91794ec0fc4" kindref="member">bytesPerFrame</ref><sp/>-<sp/>1);</highlight></codeline>
<codeline lineno="6721"><highlight class="normal"></highlight></codeline>
<codeline lineno="6722"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1abd6f079f77dad8c8489c060f8d68fedb" kindref="member">priming</ref>)</highlight></codeline>
<codeline lineno="6723"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>realOutBuf<sp/>=<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1afaabcdb7ba9f573a5ccb51ad217d9786" kindref="member">renderHead</ref><sp/>&amp;<sp/>0x1;</highlight></codeline>
<codeline lineno="6725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ioPacket-&gt;<ref refid="struct_____pa_i_o_packet_1af9b39c3b9381b31ad27daf1d9689e9ae" kindref="member">packet</ref><sp/>=<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1658ab65cd0eaf8d0c0c3b1904125df" kindref="member">packets</ref><sp/>+<sp/>realOutBuf;</highlight></codeline>
<codeline lineno="6726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ioPacket-&gt;<ref refid="struct_____pa_i_o_packet_1aac33f08703b3e5553760a3e1e0d68714" kindref="member">startByte</ref><sp/>=<sp/>realOutBuf<sp/>*<sp/>halfOutputBuffer;</highlight></codeline>
<codeline lineno="6727"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ioPacket-&gt;<ref refid="struct_____pa_i_o_packet_1a7f5be19ae9613a09a9eff411cea344f2" kindref="member">lengthBytes</ref><sp/>=<sp/>halfOutputBuffer;</highlight></codeline>
<codeline lineno="6728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1afaabcdb7ba9f573a5ccb51ad217d9786" kindref="member">renderHead</ref>;</highlight></codeline>
<codeline lineno="6729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>--pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1aa45f4971b33af9b928d1b158e0e508a2" kindref="member">pending</ref>;</highlight></codeline>
<codeline lineno="6730"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6731"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6732"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bytesToWrite<sp/>=<sp/>(pRender-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1a6d8bb24a84a455a3621d7d357160fc39" kindref="member">hostBufferSize</ref><sp/>+<sp/>pos<sp/>-<sp/>pRender-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1a9531d0af0db86e249feae8339dd7bfaf" kindref="member">lastPosition</ref>)<sp/>%<sp/>pRender-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1a6d8bb24a84a455a3621d7d357160fc39" kindref="member">hostBufferSize</ref>;</highlight></codeline>
<codeline lineno="6734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++pRender-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1a759db1d44a817fa5b51e8a81fe80d038" kindref="member">pollCntr</ref>;</highlight></codeline>
<codeline lineno="6735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="winfun_8c_1ab24f32995c1d94525943b4568cce20cb" kindref="member">if</ref><sp/>(bytesToWrite<sp/>&gt;=<sp/>halfOutputBuffer)</highlight></codeline>
<codeline lineno="6736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6737"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>realOutBuf<sp/>=<sp/>(pos<sp/>&lt;<sp/>halfOutputBuffer)<sp/>?<sp/>1U<sp/>:<sp/>0U;</highlight></codeline>
<codeline lineno="6738"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ioPacket-&gt;<ref refid="struct_____pa_i_o_packet_1af9b39c3b9381b31ad27daf1d9689e9ae" kindref="member">packet</ref><sp/>=<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1658ab65cd0eaf8d0c0c3b1904125df" kindref="member">packets</ref><sp/>+<sp/>realOutBuf;</highlight></codeline>
<codeline lineno="6739"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pRender-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1a9531d0af0db86e249feae8339dd7bfaf" kindref="member">lastPosition</ref><sp/>=<sp/>realOutBuf<sp/>?<sp/>0U<sp/>:<sp/>halfOutputBuffer;</highlight></codeline>
<codeline lineno="6740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ioPacket-&gt;<ref refid="struct_____pa_i_o_packet_1aac33f08703b3e5553760a3e1e0d68714" kindref="member">startByte</ref><sp/>=<sp/>realOutBuf<sp/>*<sp/>halfOutputBuffer;</highlight></codeline>
<codeline lineno="6741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ioPacket-&gt;<ref refid="struct_____pa_i_o_packet_1a7f5be19ae9613a09a9eff411cea344f2" kindref="member">lengthBytes</ref><sp/>=<sp/>halfOutputBuffer;</highlight></codeline>
<codeline lineno="6742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1afaabcdb7ba9f573a5ccb51ad217d9786" kindref="member">renderHead</ref>;</highlight></codeline>
<codeline lineno="6743"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>--pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1aa45f4971b33af9b928d1b158e0e508a2" kindref="member">pending</ref>;</highlight></codeline>
<codeline lineno="6744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a1ed56124518c5cb5bac27422912327e6" kindref="member">PA_HP_TRACE</ref>((pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog,<sp/></highlight><highlight class="stringliteral">&quot;Render<sp/>event<sp/>(WaveRTPolled)<sp/>:<sp/>idx=%u<sp/>head=%u<sp/>(pos<sp/>=<sp/>%4.1lf%%,<sp/>cnt=%u)&quot;</highlight><highlight class="normal">,<sp/>realOutBuf,<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1afaabcdb7ba9f573a5ccb51ad217d9786" kindref="member">renderHead</ref>,<sp/>(pos<sp/>*<sp/>100.0<sp/>/<sp/>pRender-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1a6d8bb24a84a455a3621d7d357160fc39" kindref="member">hostBufferSize</ref>),<sp/>pRender-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1a759db1d44a817fa5b51e8a81fe80d038" kindref="member">pollCntr</ref>));</highlight></codeline>
<codeline lineno="6745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pRender-&gt;<ref refid="struct_____pa_win_wdm_i_o_info_1a759db1d44a817fa5b51e8a81fe80d038" kindref="member">pollCntr</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6747"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6748"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="6749"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6750"><highlight class="normal"></highlight></codeline>
<codeline lineno="6751"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PaPinRenderSubmitHandler_WaveRTEvent(<ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref>*<sp/>pInfo,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>eventIndex)</highlight></codeline>
<codeline lineno="6752"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6753"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pin<sp/>=<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>;</highlight></codeline>
<codeline lineno="6754"><highlight class="normal"><sp/><sp/><sp/><sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a174161d8cef2629818fd34a192578992" kindref="member">renderPackets</ref>[pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a46af18819185c66ad788396981ea7b75" kindref="member">renderTail</ref><sp/>&amp;<sp/>cPacketsArrayMask].<ref refid="struct_____pa_i_o_packet_1af9b39c3b9381b31ad27daf1d9689e9ae" kindref="member">packet</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6755"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Call<sp/>barrier<sp/>(if<sp/>needed)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6756"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a964c737ddb76f5e51678617788646106" kindref="member">fnMemBarrier</ref>();</highlight></codeline>
<codeline lineno="6757"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a1ed56124518c5cb5bac27422912327e6" kindref="member">PA_HP_TRACE</ref>((pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog,<sp/></highlight><highlight class="stringliteral">&quot;Render<sp/>submit<sp/>(WaveRT)<sp/>:<sp/>submit=%u&quot;</highlight><highlight class="normal">,<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a46af18819185c66ad788396981ea7b75" kindref="member">renderTail</ref>));</highlight></codeline>
<codeline lineno="6758"><highlight class="normal"><sp/><sp/><sp/><sp/>++pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1aa45f4971b33af9b928d1b158e0e508a2" kindref="member">pending</ref>;</highlight></codeline>
<codeline lineno="6759"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1abd6f079f77dad8c8489c060f8d68fedb" kindref="member">priming</ref>)</highlight></codeline>
<codeline lineno="6760"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6761"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>--pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1abd6f079f77dad8c8489c060f8d68fedb" kindref="member">priming</ref>;</highlight></codeline>
<codeline lineno="6762"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1abd6f079f77dad8c8489c060f8d68fedb" kindref="member">priming</ref>)</highlight></codeline>
<codeline lineno="6763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a1ed56124518c5cb5bac27422912327e6" kindref="member">PA_HP_TRACE</ref>((pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog,<sp/></highlight><highlight class="stringliteral">&quot;Setting<sp/>WaveRT<sp/>event<sp/>for<sp/>priming<sp/>(2)&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="6765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SetEvent(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" kindref="member">events</ref>[0]);</highlight></codeline>
<codeline lineno="6766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6767"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6768"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="6769"><highlight class="normal">}</highlight></codeline>
<codeline lineno="6770"><highlight class="normal"></highlight></codeline>
<codeline lineno="6771"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a4949e4a8ef9f9dbe8cbee414ce69841d" kindref="member">PaError</ref><sp/>PaPinRenderSubmitHandler_WaveRTPolled(<ref refid="struct_____pa_process_thread_info" kindref="compound">PaProcessThreadInfo</ref>*<sp/>pInfo,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>eventIndex)</highlight></codeline>
<codeline lineno="6772"><highlight class="normal">{</highlight></codeline>
<codeline lineno="6773"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_____pa_win_wdm_pin" kindref="compound">PaWinWdmPin</ref>*<sp/>pin<sp/>=<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1a84417e7854458897d856bb65f6161299" kindref="member">pPin</ref>;</highlight></codeline>
<codeline lineno="6774"><highlight class="normal"><sp/><sp/><sp/><sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a174161d8cef2629818fd34a192578992" kindref="member">renderPackets</ref>[pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a46af18819185c66ad788396981ea7b75" kindref="member">renderTail</ref><sp/>&amp;<sp/>cPacketsArrayMask].<ref refid="struct_____pa_i_o_packet_1af9b39c3b9381b31ad27daf1d9689e9ae" kindref="member">packet</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="6775"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Call<sp/>barrier<sp/>(if<sp/>needed)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6776"><highlight class="normal"><sp/><sp/><sp/><sp/>pin-&gt;<ref refid="struct_____pa_win_wdm_pin_1a964c737ddb76f5e51678617788646106" kindref="member">fnMemBarrier</ref>();</highlight></codeline>
<codeline lineno="6777"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a1ed56124518c5cb5bac27422912327e6" kindref="member">PA_HP_TRACE</ref>((pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog,<sp/></highlight><highlight class="stringliteral">&quot;Render<sp/>submit<sp/>(WaveRTPolled)<sp/>:<sp/>submit=%u&quot;</highlight><highlight class="normal">,<sp/>pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a46af18819185c66ad788396981ea7b75" kindref="member">renderTail</ref>));</highlight></codeline>
<codeline lineno="6778"><highlight class="normal"><sp/><sp/><sp/><sp/>++pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1aa45f4971b33af9b928d1b158e0e508a2" kindref="member">pending</ref>;</highlight></codeline>
<codeline lineno="6779"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1abd6f079f77dad8c8489c060f8d68fedb" kindref="member">priming</ref>)</highlight></codeline>
<codeline lineno="6780"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6781"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>--pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1abd6f079f77dad8c8489c060f8d68fedb" kindref="member">priming</ref>;</highlight></codeline>
<codeline lineno="6782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1abd6f079f77dad8c8489c060f8d68fedb" kindref="member">priming</ref>)</highlight></codeline>
<codeline lineno="6783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="6784"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="pa__win__wdmks_8c_1a1ed56124518c5cb5bac27422912327e6" kindref="member">PA_HP_TRACE</ref>((pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;hLog,<sp/></highlight><highlight class="stringliteral">&quot;Setting<sp/>WaveRT<sp/>event<sp/>for<sp/>priming<sp/>(2)&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="6785"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SetEvent(pInfo-&gt;<ref refid="struct_____pa_process_thread_info_1a2864554c215847b4fa60f99bbed68323" kindref="member">stream</ref>-&gt;<ref refid="struct_____pa_win_wdm_stream_1a29a9901256d26f88976f259bac0605e8" kindref="member">render</ref>.<ref refid="struct_____pa_win_wdm_i_o_info_1ad1e42dc04910385e2d5daa31318c5c7d" kindref="member">events</ref>[0]);</highlight></codeline>
<codeline lineno="6786"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6787"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="6788"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="portaudio_8h_1a2e45bf8b5145f131a91c128af2bdaec7aeb09d15a48b6c1034728a9c518cfe4ba" kindref="member">paNoError</ref>;</highlight></codeline>
<codeline lineno="6789"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/portaudio-v19/src/hostapi/wdmks/pa_win_wdmks.c"/>
  </compounddef>
</doxygen>
