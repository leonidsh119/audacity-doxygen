<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.11">
  <compounddef id="lv2_2plugins_2eg-midigate_8lv2_2waflib_2ansiterm_8py" kind="file" language="Python">
    <compoundname>ansiterm.py</compoundname>
    <innerclass refid="classwaflib_1_1ansiterm_1_1_c_o_o_r_d" prot="public">waflib::ansiterm::COORD</innerclass>
    <innerclass refid="classwaflib_1_1ansiterm_1_1_s_m_a_l_l___r_e_c_t" prot="public">waflib::ansiterm::SMALL_RECT</innerclass>
    <innerclass refid="classwaflib_1_1ansiterm_1_1_c_o_n_s_o_l_e___s_c_r_e_e_n___b_u_f_f_e_r___i_n_f_o" prot="public">waflib::ansiterm::CONSOLE_SCREEN_BUFFER_INFO</innerclass>
    <innerclass refid="classwaflib_1_1ansiterm_1_1_c_o_n_s_o_l_e___c_u_r_s_o_r___i_n_f_o" prot="public">waflib::ansiterm::CONSOLE_CURSOR_INFO</innerclass>
    <innerclass refid="classwaflib_1_1ansiterm_1_1_ansi_term" prot="public">waflib::ansiterm::AnsiTerm</innerclass>
    <innernamespace refid="namespacewaflib_1_1ansiterm">waflib::ansiterm</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">#!<sp/>/usr/bin/env<sp/>python</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="comment">#<sp/>encoding:<sp/>utf-8</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">#<sp/>WARNING!<sp/>Do<sp/>not<sp/>edit!<sp/>http://waf.googlecode.com/git/docs/wafbook/single.html#_obtaining_the_waf_file</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>sys,os</highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="7"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>not(sys.stderr.isatty()</highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>sys.stdout.isatty()):</highlight></codeline>
<codeline lineno="8"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight><highlight class="stringliteral">&apos;not<sp/>a<sp/>tty&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="9"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>ctypes<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Structure,windll,c_short,c_ushort,c_ulong,c_int,byref,POINTER,c_long,c_wchar</highlight></codeline>
<codeline lineno="10"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">COORD(Structure):</highlight></codeline>
<codeline lineno="11"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_fields_=[(</highlight><highlight class="stringliteral">&quot;X&quot;</highlight><highlight class="normal">,c_short),(</highlight><highlight class="stringliteral">&quot;Y&quot;</highlight><highlight class="normal">,c_short)]</highlight></codeline>
<codeline lineno="12"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">SMALL_RECT(Structure):</highlight></codeline>
<codeline lineno="13"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_fields_=[(</highlight><highlight class="stringliteral">&quot;Left&quot;</highlight><highlight class="normal">,c_short),(</highlight><highlight class="stringliteral">&quot;Top&quot;</highlight><highlight class="normal">,c_short),(</highlight><highlight class="stringliteral">&quot;Right&quot;</highlight><highlight class="normal">,c_short),(</highlight><highlight class="stringliteral">&quot;Bottom&quot;</highlight><highlight class="normal">,c_short)]</highlight></codeline>
<codeline lineno="14"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">CONSOLE_SCREEN_BUFFER_INFO(Structure):</highlight></codeline>
<codeline lineno="15"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_fields_=[(</highlight><highlight class="stringliteral">&quot;Size&quot;</highlight><highlight class="normal">,COORD),(</highlight><highlight class="stringliteral">&quot;CursorPosition&quot;</highlight><highlight class="normal">,COORD),(</highlight><highlight class="stringliteral">&quot;Attributes&quot;</highlight><highlight class="normal">,c_short),(</highlight><highlight class="stringliteral">&quot;Window&quot;</highlight><highlight class="normal">,SMALL_RECT),(</highlight><highlight class="stringliteral">&quot;MaximumWindowSize&quot;</highlight><highlight class="normal">,COORD)]</highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">CONSOLE_CURSOR_INFO(Structure):</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_fields_=[(</highlight><highlight class="stringliteral">&apos;dwSize&apos;</highlight><highlight class="normal">,c_ulong),(</highlight><highlight class="stringliteral">&apos;bVisible&apos;</highlight><highlight class="normal">,c_int)]</highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/>windll.kernel32.GetStdHandle.argtypes=[c_ulong]</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/>windll.kernel32.GetStdHandle.restype=c_ulong</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/>windll.kernel32.GetConsoleScreenBufferInfo.argtypes=[c_ulong,POINTER(CONSOLE_SCREEN_BUFFER_INFO)]</highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/><sp/><sp/>windll.kernel32.GetConsoleScreenBufferInfo.restype=c_long</highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/>windll.kernel32.SetConsoleTextAttribute.argtypes=[c_ulong,c_ushort]</highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/>windll.kernel32.SetConsoleTextAttribute.restype=c_long</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/>windll.kernel32.FillConsoleOutputCharacterW.argtypes=[c_ulong,c_wchar,c_ulong,POINTER(COORD),POINTER(c_ulong)]</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/>windll.kernel32.FillConsoleOutputCharacterW.restype=c_long</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/>windll.kernel32.FillConsoleOutputAttribute.argtypes=[c_ulong,c_ushort,c_ulong,POINTER(COORD),POINTER(c_ulong)]</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/>windll.kernel32.FillConsoleOutputAttribute.restype=c_long</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/>windll.kernel32.SetConsoleCursorPosition.argtypes=[c_ulong,POINTER(COORD)]</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/>windll.kernel32.SetConsoleCursorPosition.restype=c_long</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/>windll.kernel32.SetConsoleCursorInfo.argtypes=[c_ulong,POINTER(CONSOLE_CURSOR_INFO)]</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/>windll.kernel32.SetConsoleCursorInfo.restype=c_long</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/>sbinfo=CONSOLE_SCREEN_BUFFER_INFO()</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/>csinfo=CONSOLE_CURSOR_INFO()</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/>hconsole=windll.kernel32.GetStdHandle(-11)</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/>windll.kernel32.GetConsoleScreenBufferInfo(hconsole,byref(sbinfo))</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>sbinfo.Size.X&lt;9<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>sbinfo.Size.Y&lt;9:</highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(</highlight><highlight class="stringliteral">&apos;small<sp/>console&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/>windll.kernel32.GetConsoleCursorInfo(hconsole,byref(csinfo))</highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>Exception:</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">pass</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>re,threading</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/>is_vista=getattr(sys,</highlight><highlight class="stringliteral">&quot;getwindowsversion&quot;</highlight><highlight class="normal">,</highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)</highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>sys.getwindowsversion()[0]&gt;=6</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_type=unicode</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>NameError:</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_type=str</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/>to_int=</highlight><highlight class="keyword">lambda</highlight><highlight class="normal"><sp/>number,default:number<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/><ref refid="lib_2expat_8h_1a14bb8924daea0b48c7803f281f66e390" kindref="member">int</ref>(number)</highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>default</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/>wlock=threading.Lock()</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/>STD_OUTPUT_HANDLE=-11</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/>STD_ERROR_HANDLE=-12</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">AnsiTerm(object):</highlight></codeline>
<codeline lineno="52" refid="classwaflib_1_1ansiterm_1_1_ansi_term_1ab397a7401f836bb9f96d9e54c6333821" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1ab397a7401f836bb9f96d9e54c6333821" kindref="member">__init__</ref>(self):</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a0fb424a10f22b89aba6cbbebf65589ac" kindref="member">encoding</ref>=sys.stdout.encoding</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1aa5e4b02b28ffb23ef4cddb01b866537c" kindref="member">hconsole</ref>=windll.kernel32.GetStdHandle(STD_OUTPUT_HANDLE)</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1aca319458521a5e2101565c007b9371cf" kindref="member">cursor_history</ref>=[]</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a046a1bf40ae2d55263bf7c692612e64d" kindref="member">orig_sbinfo</ref>=<ref refid="classwaflib_1_1ansiterm_1_1_c_o_n_s_o_l_e___s_c_r_e_e_n___b_u_f_f_e_r___i_n_f_o" kindref="compound">CONSOLE_SCREEN_BUFFER_INFO</ref>()</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a4f26502bfb0fcfac2e99a5091bc1d272" kindref="member">orig_csinfo</ref>=<ref refid="classwaflib_1_1ansiterm_1_1_c_o_n_s_o_l_e___c_u_r_s_o_r___i_n_f_o" kindref="compound">CONSOLE_CURSOR_INFO</ref>()</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>windll.kernel32.GetConsoleScreenBufferInfo(self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1aa5e4b02b28ffb23ef4cddb01b866537c" kindref="member">hconsole</ref>,byref(self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a046a1bf40ae2d55263bf7c692612e64d" kindref="member">orig_sbinfo</ref>))</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>windll.kernel32.GetConsoleCursorInfo(hconsole,byref(self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a4f26502bfb0fcfac2e99a5091bc1d272" kindref="member">orig_csinfo</ref>))</highlight></codeline>
<codeline lineno="60" refid="classwaflib_1_1ansiterm_1_1_ansi_term_1afdb1bac8f2508bdf2279320b85286196" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1afdb1bac8f2508bdf2279320b85286196" kindref="member">screen_buffer_info</ref>(self):</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sbinfo=<ref refid="classwaflib_1_1ansiterm_1_1_c_o_n_s_o_l_e___s_c_r_e_e_n___b_u_f_f_e_r___i_n_f_o" kindref="compound">CONSOLE_SCREEN_BUFFER_INFO</ref>()</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>windll.kernel32.GetConsoleScreenBufferInfo(self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1aa5e4b02b28ffb23ef4cddb01b866537c" kindref="member">hconsole</ref>,byref(sbinfo))</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>sbinfo</highlight></codeline>
<codeline lineno="64" refid="classwaflib_1_1ansiterm_1_1_ansi_term_1ae9df276c42e0569ad63c20c19de62b93" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1ae9df276c42e0569ad63c20c19de62b93" kindref="member">clear_line</ref>(self,param):</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mode=param<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/><ref refid="lib_2expat_8h_1a14bb8924daea0b48c7803f281f66e390" kindref="member">int</ref>(param)</highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>0</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sbinfo=self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1afdb1bac8f2508bdf2279320b85286196" kindref="member">screen_buffer_info</ref>()</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>mode==1:</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>line_start=<ref refid="classwaflib_1_1ansiterm_1_1_c_o_o_r_d" kindref="compound">COORD</ref>(0,sbinfo.CursorPosition.Y)</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>line_length=sbinfo.Size.X</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>mode==2:</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>line_start=<ref refid="classwaflib_1_1ansiterm_1_1_c_o_o_r_d" kindref="compound">COORD</ref>(sbinfo.CursorPosition.X,sbinfo.CursorPosition.Y)</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>line_length=sbinfo.Size.X-sbinfo.CursorPosition.X</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>line_start=sbinfo.CursorPosition</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>line_length=sbinfo.Size.X-sbinfo.CursorPosition.X</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>chars_written=c_ulong()</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>windll.kernel32.FillConsoleOutputCharacterW(self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1aa5e4b02b28ffb23ef4cddb01b866537c" kindref="member">hconsole</ref>,c_wchar(</highlight><highlight class="stringliteral">&apos;<sp/>&apos;</highlight><highlight class="normal">),line_length,line_start,byref(chars_written))</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>windll.kernel32.FillConsoleOutputAttribute(self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1aa5e4b02b28ffb23ef4cddb01b866537c" kindref="member">hconsole</ref>,sbinfo.Attributes,line_length,line_start,byref(chars_written))</highlight></codeline>
<codeline lineno="79" refid="classwaflib_1_1ansiterm_1_1_ansi_term_1aa94cc04f29c4c51e0013e5cb87c0fd07" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1aa94cc04f29c4c51e0013e5cb87c0fd07" kindref="member">clear_screen</ref>(self,param):</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mode=<ref refid="namespacewaflib_1_1ansiterm_1a2656c7dab888e042181e8dfbfb2ed8bb" kindref="member">to_int</ref>(param,0)</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sbinfo=self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1afdb1bac8f2508bdf2279320b85286196" kindref="member">screen_buffer_info</ref>()</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>mode==1:</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>clear_start=<ref refid="classwaflib_1_1ansiterm_1_1_c_o_o_r_d" kindref="compound">COORD</ref>(0,0)</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>clear_length=sbinfo.CursorPosition.X*sbinfo.CursorPosition.Y</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>mode==2:</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>clear_start=<ref refid="classwaflib_1_1ansiterm_1_1_c_o_o_r_d" kindref="compound">COORD</ref>(0,0)</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>clear_length=sbinfo.Size.X*sbinfo.Size.Y</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>windll.kernel32.SetConsoleCursorPosition(self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1aa5e4b02b28ffb23ef4cddb01b866537c" kindref="member">hconsole</ref>,clear_start)</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>clear_start=sbinfo.CursorPosition</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>clear_length=((sbinfo.Size.X-sbinfo.CursorPosition.X)+sbinfo.Size.X*(sbinfo.Size.Y-sbinfo.CursorPosition.Y))</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>chars_written=c_ulong()</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>windll.kernel32.FillConsoleOutputCharacterW(self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1aa5e4b02b28ffb23ef4cddb01b866537c" kindref="member">hconsole</ref>,c_wchar(</highlight><highlight class="stringliteral">&apos;<sp/>&apos;</highlight><highlight class="normal">),clear_length,clear_start,byref(chars_written))</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>windll.kernel32.FillConsoleOutputAttribute(self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1aa5e4b02b28ffb23ef4cddb01b866537c" kindref="member">hconsole</ref>,sbinfo.Attributes,clear_length,clear_start,byref(chars_written))</highlight></codeline>
<codeline lineno="95" refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a9f489138508401c64c6927f215d8d6da" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a9f489138508401c64c6927f215d8d6da" kindref="member">push_cursor</ref>(self,param):</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sbinfo=self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1afdb1bac8f2508bdf2279320b85286196" kindref="member">screen_buffer_info</ref>()</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.cursor_history.append(sbinfo.CursorPosition)</highlight></codeline>
<codeline lineno="98" refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a2093c2f7ded18188b0bf2989a0083a18" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a2093c2f7ded18188b0bf2989a0083a18" kindref="member">pop_cursor</ref>(self,param):</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1aca319458521a5e2101565c007b9371cf" kindref="member">cursor_history</ref>:</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>old_pos=self.cursor_history.pop()</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>windll.kernel32.SetConsoleCursorPosition(self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1aa5e4b02b28ffb23ef4cddb01b866537c" kindref="member">hconsole</ref>,old_pos)</highlight></codeline>
<codeline lineno="102" refid="classwaflib_1_1ansiterm_1_1_ansi_term_1aba842837a7fe351aa8459aa375249c69" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1aba842837a7fe351aa8459aa375249c69" kindref="member">set_cursor</ref>(self,param):</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y,sep,x=param.partition(</highlight><highlight class="stringliteral">&apos;;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x=<ref refid="namespacewaflib_1_1ansiterm_1a2656c7dab888e042181e8dfbfb2ed8bb" kindref="member">to_int</ref>(x,1)-1</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y=<ref refid="namespacewaflib_1_1ansiterm_1a2656c7dab888e042181e8dfbfb2ed8bb" kindref="member">to_int</ref>(y,1)-1</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sbinfo=self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1afdb1bac8f2508bdf2279320b85286196" kindref="member">screen_buffer_info</ref>()</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_pos=<ref refid="classwaflib_1_1ansiterm_1_1_c_o_o_r_d" kindref="compound">COORD</ref>(<ref refid="_compare_audio_command_8cpp_1abd8bbcfabb3ddef2ccaafb9928a37b95" kindref="member">min</ref>(<ref refid="libflac_2src_2flac_2encode_8c_1ac39d9cef6a5e030ba8d9e11121054268" kindref="member">max</ref>(0,x),sbinfo.Size.X),<ref refid="_compare_audio_command_8cpp_1abd8bbcfabb3ddef2ccaafb9928a37b95" kindref="member">min</ref>(<ref refid="libflac_2src_2flac_2encode_8c_1ac39d9cef6a5e030ba8d9e11121054268" kindref="member">max</ref>(0,y),sbinfo.Size.Y))</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>windll.kernel32.SetConsoleCursorPosition(self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1aa5e4b02b28ffb23ef4cddb01b866537c" kindref="member">hconsole</ref>,new_pos)</highlight></codeline>
<codeline lineno="109" refid="classwaflib_1_1ansiterm_1_1_ansi_term_1acd65956a7d56681cc669acca5bdd43fb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1acd65956a7d56681cc669acca5bdd43fb" kindref="member">set_column</ref>(self,param):</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x=<ref refid="namespacewaflib_1_1ansiterm_1a2656c7dab888e042181e8dfbfb2ed8bb" kindref="member">to_int</ref>(param,1)-1</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sbinfo=self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1afdb1bac8f2508bdf2279320b85286196" kindref="member">screen_buffer_info</ref>()</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_pos=<ref refid="classwaflib_1_1ansiterm_1_1_c_o_o_r_d" kindref="compound">COORD</ref>(<ref refid="_compare_audio_command_8cpp_1abd8bbcfabb3ddef2ccaafb9928a37b95" kindref="member">min</ref>(<ref refid="libflac_2src_2flac_2encode_8c_1ac39d9cef6a5e030ba8d9e11121054268" kindref="member">max</ref>(0,x),sbinfo.Size.X),sbinfo.CursorPosition.Y)</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>windll.kernel32.SetConsoleCursorPosition(self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1aa5e4b02b28ffb23ef4cddb01b866537c" kindref="member">hconsole</ref>,new_pos)</highlight></codeline>
<codeline lineno="114" refid="classwaflib_1_1ansiterm_1_1_ansi_term_1ade95c6eb1c7ed7928780aad4e6b4e268" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1ade95c6eb1c7ed7928780aad4e6b4e268" kindref="member">move_cursor</ref>(self,x_offset=0,y_offset=0):</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sbinfo=self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1afdb1bac8f2508bdf2279320b85286196" kindref="member">screen_buffer_info</ref>()</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>new_pos=<ref refid="classwaflib_1_1ansiterm_1_1_c_o_o_r_d" kindref="compound">COORD</ref>(<ref refid="_compare_audio_command_8cpp_1abd8bbcfabb3ddef2ccaafb9928a37b95" kindref="member">min</ref>(<ref refid="libflac_2src_2flac_2encode_8c_1ac39d9cef6a5e030ba8d9e11121054268" kindref="member">max</ref>(0,sbinfo.CursorPosition.X+x_offset),sbinfo.Size.X),<ref refid="_compare_audio_command_8cpp_1abd8bbcfabb3ddef2ccaafb9928a37b95" kindref="member">min</ref>(<ref refid="libflac_2src_2flac_2encode_8c_1ac39d9cef6a5e030ba8d9e11121054268" kindref="member">max</ref>(0,sbinfo.CursorPosition.Y+y_offset),sbinfo.Size.Y))</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>windll.kernel32.SetConsoleCursorPosition(self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1aa5e4b02b28ffb23ef4cddb01b866537c" kindref="member">hconsole</ref>,new_pos)</highlight></codeline>
<codeline lineno="118" refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a7725bd9ed185458669ad7601fb7ff9d9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a7725bd9ed185458669ad7601fb7ff9d9" kindref="member">move_up</ref>(self,param):</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1ade95c6eb1c7ed7928780aad4e6b4e268" kindref="member">move_cursor</ref>(y_offset=-<ref refid="namespacewaflib_1_1ansiterm_1a2656c7dab888e042181e8dfbfb2ed8bb" kindref="member">to_int</ref>(param,1))</highlight></codeline>
<codeline lineno="120" refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a7b2ea0403457b7cd8d0ac4088064d812" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a7b2ea0403457b7cd8d0ac4088064d812" kindref="member">move_down</ref>(self,param):</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1ade95c6eb1c7ed7928780aad4e6b4e268" kindref="member">move_cursor</ref>(y_offset=<ref refid="namespacewaflib_1_1ansiterm_1a2656c7dab888e042181e8dfbfb2ed8bb" kindref="member">to_int</ref>(param,1))</highlight></codeline>
<codeline lineno="122" refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a617dda0ced0a3e3f3443366d4a1c46bb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a617dda0ced0a3e3f3443366d4a1c46bb" kindref="member">move_left</ref>(self,param):</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1ade95c6eb1c7ed7928780aad4e6b4e268" kindref="member">move_cursor</ref>(x_offset=-<ref refid="namespacewaflib_1_1ansiterm_1a2656c7dab888e042181e8dfbfb2ed8bb" kindref="member">to_int</ref>(param,1))</highlight></codeline>
<codeline lineno="124" refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a1388984c5cb5051d6c48682d1cd998b7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a1388984c5cb5051d6c48682d1cd998b7" kindref="member">move_right</ref>(self,param):</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1ade95c6eb1c7ed7928780aad4e6b4e268" kindref="member">move_cursor</ref>(x_offset=<ref refid="namespacewaflib_1_1ansiterm_1a2656c7dab888e042181e8dfbfb2ed8bb" kindref="member">to_int</ref>(param,1))</highlight></codeline>
<codeline lineno="126" refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a8ce79cf478dc1bf0cec2c12e28103522" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a8ce79cf478dc1bf0cec2c12e28103522" kindref="member">next_line</ref>(self,param):</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sbinfo=self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1afdb1bac8f2508bdf2279320b85286196" kindref="member">screen_buffer_info</ref>()</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1ade95c6eb1c7ed7928780aad4e6b4e268" kindref="member">move_cursor</ref>(x_offset=-sbinfo.CursorPosition.X,y_offset=<ref refid="namespacewaflib_1_1ansiterm_1a2656c7dab888e042181e8dfbfb2ed8bb" kindref="member">to_int</ref>(param,1))</highlight></codeline>
<codeline lineno="129" refid="classwaflib_1_1ansiterm_1_1_ansi_term_1ac65f3453904e9c561f530b7c43e73f12" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1ac65f3453904e9c561f530b7c43e73f12" kindref="member">prev_line</ref>(self,param):</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sbinfo=self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1afdb1bac8f2508bdf2279320b85286196" kindref="member">screen_buffer_info</ref>()</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1ade95c6eb1c7ed7928780aad4e6b4e268" kindref="member">move_cursor</ref>(x_offset=-sbinfo.CursorPosition.X,y_offset=-<ref refid="namespacewaflib_1_1ansiterm_1a2656c7dab888e042181e8dfbfb2ed8bb" kindref="member">to_int</ref>(param,1))</highlight></codeline>
<codeline lineno="132" refid="classwaflib_1_1ansiterm_1_1_ansi_term_1ad097d16ecb1babcef5970faccad1e7e9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1ad097d16ecb1babcef5970faccad1e7e9" kindref="member">rgb2bgr</ref>(self,c):</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="hashrout_8h_1a9842e92184417c07866419916b2b3ce3" kindref="member">return</ref>((c&amp;1)&lt;&lt;2)|(c&amp;2)|((c&amp;4)&gt;&gt;2)</highlight></codeline>
<codeline lineno="134" refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a2b56ee3c8294f7e2e5bca7cc60e8ee05" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a2b56ee3c8294f7e2e5bca7cc60e8ee05" kindref="member">set_color</ref>(self,param):</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cols=param.split(</highlight><highlight class="stringliteral">&apos;;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sbinfo=<ref refid="classwaflib_1_1ansiterm_1_1_c_o_n_s_o_l_e___s_c_r_e_e_n___b_u_f_f_e_r___i_n_f_o" kindref="compound">CONSOLE_SCREEN_BUFFER_INFO</ref>()</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>windll.kernel32.GetConsoleScreenBufferInfo(self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1aa5e4b02b28ffb23ef4cddb01b866537c" kindref="member">hconsole</ref>,byref(sbinfo))</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>attr=sbinfo.Attributes</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>c<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>cols:</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>is_vista:</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c=<ref refid="lib_2expat_8h_1a14bb8924daea0b48c7803f281f66e390" kindref="member">int</ref>(c)</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c=<ref refid="namespacewaflib_1_1ansiterm_1a2656c7dab888e042181e8dfbfb2ed8bb" kindref="member">to_int</ref>(c,0)</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>29&lt;c&lt;38:</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>attr=(attr&amp;0xfff0)|self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1ad097d16ecb1babcef5970faccad1e7e9" kindref="member">rgb2bgr</ref>(c-30)</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>39&lt;c&lt;48:</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>attr=(attr&amp;0xff0f)|(self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1ad097d16ecb1babcef5970faccad1e7e9" kindref="member">rgb2bgr</ref>(c-40)&lt;&lt;4)</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>c==0:</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>attr=self.orig_sbinfo.Attributes</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>c==1:</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>attr|=0x08</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>c==4:</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>attr|=0x80</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>c==7:</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>attr=(attr&amp;0xff88)|((attr&amp;0x70)&gt;&gt;4)|((attr&amp;0x07)&lt;&lt;4)</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>windll.kernel32.SetConsoleTextAttribute(self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1aa5e4b02b28ffb23ef4cddb01b866537c" kindref="member">hconsole</ref>,attr)</highlight></codeline>
<codeline lineno="157" refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a594f6cf62d5e4ca33f2b88127fd6393d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a594f6cf62d5e4ca33f2b88127fd6393d" kindref="member">show_cursor</ref>(self,param):</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>csinfo.bVisible=1</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>windll.kernel32.SetConsoleCursorInfo(self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1aa5e4b02b28ffb23ef4cddb01b866537c" kindref="member">hconsole</ref>,byref(csinfo))</highlight></codeline>
<codeline lineno="160" refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a2ca4bde33edd4afa92c8bda3f01d1dc9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a2ca4bde33edd4afa92c8bda3f01d1dc9" kindref="member">hide_cursor</ref>(self,param):</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>csinfo.bVisible=0</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>windll.kernel32.SetConsoleCursorInfo(self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1aa5e4b02b28ffb23ef4cddb01b866537c" kindref="member">hconsole</ref>,byref(csinfo))</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ansi_command_table={</highlight><highlight class="stringliteral">&apos;A&apos;</highlight><highlight class="normal">:move_up,</highlight><highlight class="stringliteral">&apos;B&apos;</highlight><highlight class="normal">:move_down,</highlight><highlight class="stringliteral">&apos;C&apos;</highlight><highlight class="normal">:move_right,</highlight><highlight class="stringliteral">&apos;D&apos;</highlight><highlight class="normal">:move_left,</highlight><highlight class="stringliteral">&apos;E&apos;</highlight><highlight class="normal">:next_line,</highlight><highlight class="stringliteral">&apos;F&apos;</highlight><highlight class="normal">:prev_line,</highlight><highlight class="stringliteral">&apos;G&apos;</highlight><highlight class="normal">:set_column,</highlight><highlight class="stringliteral">&apos;H&apos;</highlight><highlight class="normal">:set_cursor,</highlight><highlight class="stringliteral">&apos;f&apos;</highlight><highlight class="normal">:set_cursor,</highlight><highlight class="stringliteral">&apos;J&apos;</highlight><highlight class="normal">:clear_screen,</highlight><highlight class="stringliteral">&apos;K&apos;</highlight><highlight class="normal">:clear_line,</highlight><highlight class="stringliteral">&apos;h&apos;</highlight><highlight class="normal">:show_cursor,</highlight><highlight class="stringliteral">&apos;l&apos;</highlight><highlight class="normal">:hide_cursor,</highlight><highlight class="stringliteral">&apos;m&apos;</highlight><highlight class="normal">:set_color,</highlight><highlight class="stringliteral">&apos;s&apos;</highlight><highlight class="normal">:push_cursor,</highlight><highlight class="stringliteral">&apos;u&apos;:pop_cursor,}</highlight></codeline>
<codeline lineno="164"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ansi_tokens=re.compile(&apos;(?:\x1b\[([0-9?;]*)([a-zA-Z])|([^\x1b]+))&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="165" refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a03ecdf1c9e54a69800aae320175c281b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a03ecdf1c9e54a69800aae320175c281b" kindref="member">write</ref>(self,text):</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wlock.acquire()</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>param,cmd,txt<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.ansi_tokens.findall(text):</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>cmd:</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmd_func=self.ansi_command_table.get(cmd)</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>cmd_func:</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmd_func(self,param)</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a8296f875a3fd0a03fc109073f2a73a3e" kindref="member">writeconsole</ref>(txt)</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">finally</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wlock.release()</highlight></codeline>
<codeline lineno="177" refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a8296f875a3fd0a03fc109073f2a73a3e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a8296f875a3fd0a03fc109073f2a73a3e" kindref="member">writeconsole</ref>(self,txt):</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>chars_written=c_int()</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>writeconsole=windll.kernel32.WriteConsoleA</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(txt,_type):</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>writeconsole=windll.kernel32.WriteConsoleW</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TINY_STEP=3000</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>x<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(0,len(txt),TINY_STEP):</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tiny=txt[x:x+TINY_STEP]</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a8296f875a3fd0a03fc109073f2a73a3e" kindref="member">writeconsole</ref>(self.<ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1aa5e4b02b28ffb23ef4cddb01b866537c" kindref="member">hconsole</ref>,tiny,len(tiny),byref(chars_written),</highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="186" refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a08667242c11cdfd8b74d64f8191d4938" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a08667242c11cdfd8b74d64f8191d4938" kindref="member">flush</ref>(self):</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">pass</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="188" refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a08e698612e76adc1aa3e26cdc5cb2009" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classwaflib_1_1ansiterm_1_1_ansi_term_1a08e698612e76adc1aa3e26cdc5cb2009" kindref="member">isatty</ref>(self):</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/>sys.stderr=sys.stdout=AnsiTerm()</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/>os.environ[</highlight><highlight class="stringliteral">&apos;TERM&apos;</highlight><highlight class="normal">]=</highlight><highlight class="stringliteral">&apos;vt100&apos;</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/lv2/lv2/plugins/eg-midigate.lv2/waflib/ansiterm.py"/>
  </compounddef>
</doxygen>
