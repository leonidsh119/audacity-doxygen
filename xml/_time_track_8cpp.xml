<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.11">
  <compounddef id="_time_track_8cpp" kind="file" language="C++">
    <compoundname>TimeTrack.cpp</compoundname>
    <includes refid="_audacity_8h" local="yes">Audacity.h</includes>
    <includes refid="_time_track_8h" local="yes">TimeTrack.h</includes>
    <includes local="no">wx/intl.h</includes>
    <includes refid="_a_color_8h" local="yes">AColor.h</includes>
    <includes refid="_ruler_8h" local="yes">widgets/Ruler.h</includes>
    <includes refid="src_2_envelope_8h" local="yes">Envelope.h</includes>
    <includes refid="_prefs_8h" local="yes">Prefs.h</includes>
    <includes refid="_internat_8h" local="yes">Internat.h</includes>
    <includes refid="_resample_8h" local="yes">Resample.h</includes>
    <includes refid="_view_info_8h" local="yes">ViewInfo.h</includes>
    <incdepgraph>
      <node id="54969">
        <label>wx/ffile.h</label>
      </node>
      <node id="54957">
        <label>wx/event.h</label>
      </node>
      <node id="54979">
        <label>wx/font.h</label>
      </node>
      <node id="54984">
        <label>Internat.h</label>
        <link refid="_internat_8h"/>
        <childnode refid="54965" relation="include">
        </childnode>
        <childnode refid="54960" relation="include">
        </childnode>
        <childnode refid="54959" relation="include">
        </childnode>
      </node>
      <node id="54966">
        <label>xml/XMLTagHandler.h</label>
        <link refid="_x_m_l_tag_handler_8h"/>
        <childnode refid="54950" relation="include">
        </childnode>
        <childnode refid="54960" relation="include">
        </childnode>
        <childnode refid="54967" relation="include">
        </childnode>
        <childnode refid="54968" relation="include">
        </childnode>
      </node>
      <node id="54983">
        <label>stdlib.h</label>
      </node>
      <node id="54991">
        <label>wx/wxchar.h</label>
      </node>
      <node id="54971">
        <label>wx/pen.h</label>
      </node>
      <node id="54961">
        <label>Experimental.h</label>
        <link refid="_experimental_8h"/>
        <childnode refid="54962" relation="include">
        </childnode>
      </node>
      <node id="54958">
        <label>wx/gdicmn.h</label>
      </node>
      <node id="54989">
        <label>ViewInfo.h</label>
        <link refid="_view_info_8h"/>
        <childnode refid="54955" relation="include">
        </childnode>
        <childnode refid="54990" relation="include">
        </childnode>
      </node>
      <node id="54987">
        <label>wx/fileconf.h</label>
      </node>
      <node id="54949">
        <label>C:/_dev/OpenU/Audacity/audacity/src/TimeTrack.cpp</label>
        <link refid="TimeTrack.cpp"/>
        <childnode refid="54950" relation="include">
        </childnode>
        <childnode refid="54951" relation="include">
        </childnode>
        <childnode refid="54973" relation="include">
        </childnode>
        <childnode refid="54974" relation="include">
        </childnode>
        <childnode refid="54975" relation="include">
        </childnode>
        <childnode refid="54982" relation="include">
        </childnode>
        <childnode refid="54985" relation="include">
        </childnode>
        <childnode refid="54984" relation="include">
        </childnode>
        <childnode refid="54988" relation="include">
        </childnode>
        <childnode refid="54989" relation="include">
        </childnode>
      </node>
      <node id="54977">
        <label>wx/dc.h</label>
      </node>
      <node id="54962">
        <label>wx/defs.h</label>
      </node>
      <node id="54981">
        <label>wx/window.h</label>
      </node>
      <node id="54973">
        <label>wx/intl.h</label>
      </node>
      <node id="54964">
        <label>audacity/Types.h</label>
        <link refid="include_2audacity_2_types_8h"/>
        <childnode refid="54960" relation="include">
        </childnode>
        <childnode refid="54965" relation="include">
        </childnode>
      </node>
      <node id="54985">
        <label>Prefs.h</label>
        <link refid="_prefs_8h"/>
        <childnode refid="54950" relation="include">
        </childnode>
        <childnode refid="54986" relation="include">
        </childnode>
        <childnode refid="54987" relation="include">
        </childnode>
      </node>
      <node id="54970">
        <label>wx/brush.h</label>
      </node>
      <node id="54950">
        <label>Audacity.h</label>
        <link refid="_audacity_8h"/>
      </node>
      <node id="54955">
        <label>vector</label>
      </node>
      <node id="54956">
        <label>wx/dynarray.h</label>
      </node>
      <node id="54974">
        <label>AColor.h</label>
        <link refid="_a_color_8h"/>
        <childnode refid="54970" relation="include">
        </childnode>
        <childnode refid="54971" relation="include">
        </childnode>
      </node>
      <node id="54960">
        <label>wx/string.h</label>
      </node>
      <node id="54982">
        <label>Envelope.h</label>
        <link refid="src_2_envelope_8h"/>
        <childnode refid="54983" relation="include">
        </childnode>
        <childnode refid="54972" relation="include">
        </childnode>
        <childnode refid="54955" relation="include">
        </childnode>
        <childnode refid="54956" relation="include">
        </childnode>
        <childnode refid="54970" relation="include">
        </childnode>
        <childnode refid="54971" relation="include">
        </childnode>
        <childnode refid="54966" relation="include">
        </childnode>
        <childnode refid="54984" relation="include">
        </childnode>
      </node>
      <node id="54992">
        <label>math.h</label>
      </node>
      <node id="54990">
        <label>SelectedRegion.h</label>
        <link refid="_selected_region_8h"/>
        <childnode refid="54950" relation="include">
        </childnode>
        <childnode refid="54961" relation="include">
        </childnode>
        <childnode refid="54962" relation="include">
        </childnode>
        <childnode refid="54991" relation="include">
        </childnode>
        <childnode refid="54992" relation="include">
        </childnode>
      </node>
      <node id="54965">
        <label>wx/arrstr.h</label>
      </node>
      <node id="54986">
        <label>wx/config.h</label>
      </node>
      <node id="54951">
        <label>TimeTrack.h</label>
        <link refid="_time_track_8h"/>
        <childnode refid="54952" relation="include">
        </childnode>
        <childnode refid="54970" relation="include">
        </childnode>
        <childnode refid="54971" relation="include">
        </childnode>
        <childnode refid="54972" relation="include">
        </childnode>
      </node>
      <node id="54952">
        <label>Track.h</label>
        <link refid="src_2track_8h"/>
        <childnode refid="54950" relation="include">
        </childnode>
        <childnode refid="54953" relation="include">
        </childnode>
        <childnode refid="54955" relation="include">
        </childnode>
        <childnode refid="54956" relation="include">
        </childnode>
        <childnode refid="54957" relation="include">
        </childnode>
        <childnode refid="54958" relation="include">
        </childnode>
        <childnode refid="54959" relation="include">
        </childnode>
        <childnode refid="54960" relation="include">
        </childnode>
        <childnode refid="54961" relation="include">
        </childnode>
        <childnode refid="54963" relation="include">
        </childnode>
        <childnode refid="54966" relation="include">
        </childnode>
      </node>
      <node id="54953">
        <label>MemoryX.h</label>
        <link refid="_memory_x_8h"/>
        <childnode refid="54954" relation="include">
        </childnode>
      </node>
      <node id="54988">
        <label>Resample.h</label>
        <link refid="_resample_8h"/>
        <childnode refid="54950" relation="include">
        </childnode>
        <childnode refid="54973" relation="include">
        </childnode>
        <childnode refid="54960" relation="include">
        </childnode>
        <childnode refid="54963" relation="include">
        </childnode>
      </node>
      <node id="54959">
        <label>wx/longlong.h</label>
      </node>
      <node id="54980">
        <label>wx/panel.h</label>
      </node>
      <node id="54976">
        <label>wx/bitmap.h</label>
      </node>
      <node id="54972">
        <label>algorithm</label>
      </node>
      <node id="54967">
        <label>stdio.h</label>
      </node>
      <node id="54963">
        <label>SampleFormat.h</label>
        <link refid="_sample_format_8h"/>
        <childnode refid="54950" relation="include">
        </childnode>
        <childnode refid="54962" relation="include">
        </childnode>
        <childnode refid="54964" relation="include">
        </childnode>
      </node>
      <node id="54978">
        <label>wx/dcmemory.h</label>
      </node>
      <node id="54975">
        <label>widgets/Ruler.h</label>
        <link refid="_ruler_8h"/>
        <childnode refid="54976" relation="include">
        </childnode>
        <childnode refid="54977" relation="include">
        </childnode>
        <childnode refid="54978" relation="include">
        </childnode>
        <childnode refid="54957" relation="include">
        </childnode>
        <childnode refid="54979" relation="include">
        </childnode>
        <childnode refid="54980" relation="include">
        </childnode>
        <childnode refid="54981" relation="include">
        </childnode>
        <childnode refid="54961" relation="include">
        </childnode>
      </node>
      <node id="54954">
        <label>memory</label>
      </node>
      <node id="54968">
        <label>XMLWriter.h</label>
        <link refid="_x_m_l_writer_8h"/>
        <childnode refid="54965" relation="include">
        </childnode>
        <childnode refid="54956" relation="include">
        </childnode>
        <childnode refid="54969" relation="include">
        </childnode>
      </node>
    </incdepgraph>
      <sectiondef kind="define">
      <memberdef kind="define" id="_time_track_8cpp_1ae505f04c61ec9d91b94eaa40af8c6fb5" prot="public" static="no">
        <name>TIMETRACK_MIN</name>
        <initializer>0.01</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/src/TimeTrack.cpp" line="29" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/src/TimeTrack.cpp" bodystart="29" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_time_track_8cpp_1a5a7eba6f2d4f03068254be8dc45bea80" prot="public" static="no">
        <name>TIMETRACK_MAX</name>
        <initializer>10.0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/src/TimeTrack.cpp" line="30" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/src/TimeTrack.cpp" bodystart="30" bodyend="-1"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/**********************************************************************</highlight></codeline>
<codeline lineno="2"><highlight class="comment"></highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/><sp/>Audacity:<sp/>A<sp/>Digital<sp/>Audio<sp/>Editor</highlight></codeline>
<codeline lineno="4"><highlight class="comment"></highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/><sp/>TimeTrack.cpp</highlight></codeline>
<codeline lineno="6"><highlight class="comment"></highlight></codeline>
<codeline lineno="7"><highlight class="comment"><sp/><sp/>Dr<sp/>William<sp/>Bland</highlight></codeline>
<codeline lineno="8"><highlight class="comment"></highlight></codeline>
<codeline lineno="9"><highlight class="comment">*******************************************************************/</highlight><highlight class="comment">/*******************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_audacity_8h" kindref="compound">Audacity.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_time_track_8h" kindref="compound">TimeTrack.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;wx/intl.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_a_color_8h" kindref="compound">AColor.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_ruler_8h" kindref="compound">widgets/Ruler.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="src_2_envelope_8h" kindref="compound">Envelope.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_prefs_8h" kindref="compound">Prefs.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_internat_8h" kindref="compound">Internat.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_resample_8h" kindref="compound">Resample.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_view_info_8h" kindref="compound">ViewInfo.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="comment">//TODO-MB:<sp/>are<sp/>these<sp/>sensible<sp/>values?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29" refid="_time_track_8cpp_1ae505f04c61ec9d91b94eaa40af8c6fb5" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>TIMETRACK_MIN<sp/>0.01</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30" refid="_time_track_8cpp_1a5a7eba6f2d4f03068254be8dc45bea80" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>TIMETRACK_MAX<sp/>10.0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight></codeline>
<codeline lineno="32" refid="class_track_factory_1ad5e4155e17aab29afed19db473ddb4fa" refkind="member"><highlight class="normal"><ref refid="class_time_track" kindref="compound">TimeTrack</ref><sp/>*<ref refid="class_track_factory_1ad5e4155e17aab29afed19db473ddb4fa" kindref="member">TrackFactory::NewTimeTrack</ref>()</highlight></codeline>
<codeline lineno="33"><highlight class="normal">{</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_time_track" kindref="compound">TimeTrack</ref>(mDirManager,<sp/>mZoomInfo);</highlight></codeline>
<codeline lineno="35"><highlight class="normal">}</highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight></codeline>
<codeline lineno="37" refid="class_time_track_1a655dd0ce74c73522d87cdce387c32eb3" refkind="member"><highlight class="normal"><ref refid="class_time_track_1a655dd0ce74c73522d87cdce387c32eb3" kindref="member">TimeTrack::TimeTrack</ref>(<ref refid="class_dir_manager" kindref="compound">DirManager</ref><sp/>*projDirManager,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_zoom_info" kindref="compound">ZoomInfo</ref><sp/>*zoomInfo):</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_track" kindref="compound">Track</ref>(projDirManager)</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/>,<sp/>mZoomInfo(zoomInfo)</highlight></codeline>
<codeline lineno="40"><highlight class="normal">{</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_track_1ac696598792865dc8f0d6e555ec6e1ee1" kindref="member">mHeight</ref><sp/>=<sp/>100;</highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/>mRangeLower<sp/>=<sp/>0.9;</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/>mRangeUpper<sp/>=<sp/>1.1;</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/>mDisplayLog<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/>mEnvelope<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_envelope" kindref="compound">Envelope</ref>();</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/>mEnvelope-&gt;<ref refid="class_envelope_1a45f0a9c67e5e9a66acc9debd4bdc6a37" kindref="member">SetTrackLen</ref>(1000000000.0);</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/>mEnvelope-&gt;<ref refid="class_envelope_1ad2ed64914b2d02981f892b813c72707f" kindref="member">SetInterpolateDB</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/>mEnvelope-&gt;<ref refid="class_envelope_1afd222aeb08ec8c091cf576b8bf0c7a3b" kindref="member">Flatten</ref>(1.0);</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/>mEnvelope-&gt;<ref refid="class_envelope_1a8dec76fbda8fa4dafacd5053fcd21bfc" kindref="member">Mirror</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/>mEnvelope-&gt;<ref refid="class_envelope_1a498cad9b8d16438f815720a0916964b5" kindref="member">SetOffset</ref>(0);</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/>mEnvelope-&gt;<ref refid="class_envelope_1aecfc3bd5b11d5b7a8eebdeedaab11e8e" kindref="member">SetRange</ref>(<ref refid="_time_track_8cpp_1ae505f04c61ec9d91b94eaa40af8c6fb5" kindref="member">TIMETRACK_MIN</ref>,<sp/><ref refid="_time_track_8cpp_1a5a7eba6f2d4f03068254be8dc45bea80" kindref="member">TIMETRACK_MAX</ref>);</highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_track_1aaa95f9df004e8bc2155ba530d00a6778" kindref="member">SetDefaultName</ref>(<ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Time<sp/>Track&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_track_1af91d1579e3d15a0d5fffa3348adae753" kindref="member">SetName</ref>(<ref refid="class_track_1ae9c9b6f2e53b0e55b214ae192b30ec60" kindref="member">GetDefaultName</ref>());</highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/>mRuler<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_ruler" kindref="compound">Ruler</ref>;</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/>mRuler-&gt;<ref refid="class_ruler_1a8ff0bef7704ab18dcfd7f5bfba7ad4ac" kindref="member">SetUseZoomInfo</ref>(0,<sp/>mZoomInfo);</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/>mRuler-&gt;<ref refid="class_ruler_1aa89718940d9126ca92100db6f2c8945e" kindref="member">SetLabelEdges</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/>mRuler-&gt;<ref refid="class_ruler_1ae26ec61780ad8b9a696a5125194355da" kindref="member">SetFormat</ref>(<ref refid="class_ruler_1af58442bc79afc26e7b9f7735e1f6e198a0d5f7027738e4fcb20f14cb4dcdb12bf" kindref="member">Ruler::TimeFormat</ref>);</highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/>blankBrush.SetColour(214,<sp/>214,<sp/>214);</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/>blankPen.SetColour(214,<sp/>214,<sp/>214);</highlight></codeline>
<codeline lineno="65"><highlight class="normal">}</highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight></codeline>
<codeline lineno="67" refid="class_time_track_1aff528ebbb4866dc187d75a1813b3f52a" refkind="member"><highlight class="normal"><ref refid="class_time_track_1a655dd0ce74c73522d87cdce387c32eb3" kindref="member">TimeTrack::TimeTrack</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_time_track" kindref="compound">TimeTrack</ref><sp/>&amp;orig):</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_track" kindref="compound">Track</ref>(orig)</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/>,<sp/>mZoomInfo(orig.mZoomInfo)</highlight></codeline>
<codeline lineno="70"><highlight class="normal">{</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/>Init(orig);<sp/><sp/></highlight><highlight class="comment">//<sp/>this<sp/>copies<sp/>the<sp/>TimeTrack<sp/>metadata<sp/>(name,<sp/>range,<sp/>etc)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/>mEnvelope<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_envelope" kindref="compound">Envelope</ref>();</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/>mEnvelope-&gt;<ref refid="class_envelope_1a45f0a9c67e5e9a66acc9debd4bdc6a37" kindref="member">SetTrackLen</ref>(1000000000.0);</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_time_track_1a1c9c8dafcbfd6887a731edbd8c63fa44" kindref="member">SetInterpolateLog</ref>(orig.<ref refid="class_time_track_1a270946a57e6c2992edcdf6848a6a3780" kindref="member">GetInterpolateLog</ref>());<sp/></highlight><highlight class="comment">//<sp/>this<sp/>calls<sp/>Envelope::SetInterpolateDB</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/>mEnvelope-&gt;<ref refid="class_envelope_1afd222aeb08ec8c091cf576b8bf0c7a3b" kindref="member">Flatten</ref>(1.0);</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/>mEnvelope-&gt;<ref refid="class_envelope_1a8dec76fbda8fa4dafacd5053fcd21bfc" kindref="member">Mirror</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/>mEnvelope-&gt;<ref refid="class_envelope_1a498cad9b8d16438f815720a0916964b5" kindref="member">SetOffset</ref>(0);</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/>mEnvelope-&gt;<ref refid="class_envelope_1aecfc3bd5b11d5b7a8eebdeedaab11e8e" kindref="member">SetRange</ref>(orig.mEnvelope-&gt;<ref refid="class_envelope_1ad5ddd2293653954e70ab48e02a3ee7a5" kindref="member">GetMinValue</ref>(),<sp/>orig.mEnvelope-&gt;<ref refid="class_envelope_1a52926076ca223b39d682fd168e2a17fb" kindref="member">GetMaxValue</ref>());</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/>mEnvelope-&gt;<ref refid="class_envelope_1ae42c4f792fbadbc7843e46d7e77dcb40" kindref="member">Paste</ref>(0.0,<sp/>orig.mEnvelope);</highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/>mRuler<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_ruler" kindref="compound">Ruler</ref>;</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/>mRuler-&gt;<ref refid="class_ruler_1a8ff0bef7704ab18dcfd7f5bfba7ad4ac" kindref="member">SetUseZoomInfo</ref>(0,<sp/>mZoomInfo);</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/>mRuler-&gt;<ref refid="class_ruler_1aa89718940d9126ca92100db6f2c8945e" kindref="member">SetLabelEdges</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/>mRuler-&gt;<ref refid="class_ruler_1ae26ec61780ad8b9a696a5125194355da" kindref="member">SetFormat</ref>(<ref refid="class_ruler_1af58442bc79afc26e7b9f7735e1f6e198a0d5f7027738e4fcb20f14cb4dcdb12bf" kindref="member">Ruler::TimeFormat</ref>);</highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/>blankBrush.SetColour(214,<sp/>214,<sp/>214);</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/>blankPen.SetColour(214,<sp/>214,<sp/>214);</highlight></codeline>
<codeline lineno="91"><highlight class="normal">}</highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Copy<sp/>the<sp/>track<sp/>metadata<sp/>but<sp/>not<sp/>the<sp/>contents.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>TimeTrack::Init(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_time_track" kindref="compound">TimeTrack</ref><sp/>&amp;orig)</highlight></codeline>
<codeline lineno="95"><highlight class="normal">{</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_track_1a947a448d4a6e9c7f2a6e4f36fb017ba5" kindref="member">Track::Init</ref>(orig);</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_track_1aaa95f9df004e8bc2155ba530d00a6778" kindref="member">SetDefaultName</ref>(orig.<ref refid="class_track_1ae9c9b6f2e53b0e55b214ae192b30ec60" kindref="member">GetDefaultName</ref>());</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_track_1af91d1579e3d15a0d5fffa3348adae753" kindref="member">SetName</ref>(orig.<ref refid="class_track_1a670b88686f99e151d6a305a709f130b1" kindref="member">GetName</ref>());</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_time_track_1aa5896d68ea4f71d80c7cda10438394a7" kindref="member">SetRangeLower</ref>(orig.<ref refid="class_time_track_1a4b1f56611ba90a95691a0b47107e4d22" kindref="member">GetRangeLower</ref>());</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_time_track_1aff49fb8cb170a1b8343ed719abb96e49" kindref="member">SetRangeUpper</ref>(orig.<ref refid="class_time_track_1a8d16c30d6a49657b1e3125ba16a3fae8" kindref="member">GetRangeUpper</ref>());</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_time_track_1a3a7af38b8f18f64cf2939d97c634ac37" kindref="member">SetDisplayLog</ref>(orig.<ref refid="class_time_track_1abae5d14db9f5a3f3ffc6c6c99278ed3a" kindref="member">GetDisplayLog</ref>());</highlight></codeline>
<codeline lineno="102"><highlight class="normal">}</highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight></codeline>
<codeline lineno="104" refid="class_time_track_1aa877a861359abb71c6a6c7ef6394a2e3" refkind="member"><highlight class="normal"><ref refid="class_time_track_1aa877a861359abb71c6a6c7ef6394a2e3" kindref="member">TimeTrack::~TimeTrack</ref>()</highlight></codeline>
<codeline lineno="105"><highlight class="normal">{</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>mEnvelope;</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/>mEnvelope<sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="108"><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>mRuler;</highlight></codeline>
<codeline lineno="110"><highlight class="normal">}</highlight></codeline>
<codeline lineno="111"><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"><ref refid="class_track" kindref="compound">Track</ref><sp/>*TimeTrack::Duplicate()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="113"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_time_track_1a655dd0ce74c73522d87cdce387c32eb3" kindref="member">TimeTrack</ref>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="115"><highlight class="normal">}</highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight></codeline>
<codeline lineno="117" refid="class_time_track_1a270946a57e6c2992edcdf6848a6a3780" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_time_track_1a270946a57e6c2992edcdf6848a6a3780" kindref="member">TimeTrack::GetInterpolateLog</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="118"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>mEnvelope-&gt;<ref refid="class_envelope_1abd472dcf0eb0f885452a0cad1dae0696" kindref="member">GetInterpolateDB</ref>();</highlight></codeline>
<codeline lineno="120"><highlight class="normal">}</highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight></codeline>
<codeline lineno="122" refid="class_time_track_1a1c9c8dafcbfd6887a731edbd8c63fa44" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_time_track_1a1c9c8dafcbfd6887a731edbd8c63fa44" kindref="member">TimeTrack::SetInterpolateLog</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>interpolateLog)<sp/>{</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/>mEnvelope-&gt;<ref refid="class_envelope_1ad2ed64914b2d02981f892b813c72707f" kindref="member">SetInterpolateDB</ref>(interpolateLog);</highlight></codeline>
<codeline lineno="124"><highlight class="normal">}</highlight></codeline>
<codeline lineno="125"><highlight class="normal"></highlight></codeline>
<codeline lineno="126"><highlight class="normal"></highlight><highlight class="comment">//Compute<sp/>the<sp/>(average)<sp/>warp<sp/>factor<sp/>between<sp/>two<sp/>non-warped<sp/>time<sp/>points</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="127" refid="class_time_track_1ad2c56595b36654d037a8ef122ce3bca7" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="class_time_track_1ad2c56595b36654d037a8ef122ce3bca7" kindref="member">TimeTrack::ComputeWarpFactor</ref>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>t0,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>t1)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="128"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_time_track_1abacec6fca980b03f0bf7a4f96310704a" kindref="member">GetEnvelope</ref>()-&gt;<ref refid="class_envelope_1ab4a29c49b1fbdac9551788cb2d50781c" kindref="member">AverageOfInverse</ref>(t0,<sp/>t1);</highlight></codeline>
<codeline lineno="130"><highlight class="normal">}</highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight></codeline>
<codeline lineno="132" refid="class_time_track_1ad8a3efc750c22ca2387d4ea41343c86b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="class_time_track_1ad8a3efc750c22ca2387d4ea41343c86b" kindref="member">TimeTrack::ComputeWarpedLength</ref>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>t0,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>t1)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="133"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_time_track_1abacec6fca980b03f0bf7a4f96310704a" kindref="member">GetEnvelope</ref>()-&gt;<ref refid="class_envelope_1a66abd2af2ac108e4a9959222d69e397e" kindref="member">IntegralOfInverse</ref>(t0,<sp/>t1);</highlight></codeline>
<codeline lineno="135"><highlight class="normal">}</highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight></codeline>
<codeline lineno="137" refid="class_time_track_1a76fa0dc4d125c058f9d7ae580bd07c28" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="class_time_track_1a76fa0dc4d125c058f9d7ae580bd07c28" kindref="member">TimeTrack::SolveWarpedLength</ref>(</highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>t0,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="test__lib_f_l_a_c_2format_8c_1ac94dc16b22556ba5fa815655f27442da" kindref="member">length</ref>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="138"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_time_track_1abacec6fca980b03f0bf7a4f96310704a" kindref="member">GetEnvelope</ref>()-&gt;<ref refid="class_envelope_1a2646b651b45e74bd9785cb1b966aad08" kindref="member">SolveIntegralOfInverse</ref>(t0,<sp/>length);</highlight></codeline>
<codeline lineno="140"><highlight class="normal">}</highlight></codeline>
<codeline lineno="141"><highlight class="normal"></highlight></codeline>
<codeline lineno="142" refid="class_time_track_1a3005f2118dbd1f70b15955d21a814ed0" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_time_track_1a3005f2118dbd1f70b15955d21a814ed0" kindref="member">TimeTrack::HandleXMLTag</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>wxChar<sp/>*<ref refid="structtag" kindref="compound">tag</ref>,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>wxChar<sp/>**attrs)</highlight></codeline>
<codeline lineno="143"><highlight class="normal">{</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!wxStrcmp(tag,<sp/>wxT(</highlight><highlight class="stringliteral">&quot;timetrack&quot;</highlight><highlight class="normal">)))<sp/>{</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>mRescaleXMLValues<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;<sp/></highlight><highlight class="comment">//<sp/>will<sp/>be<sp/>set<sp/>to<sp/>false<sp/>if<sp/>upper/lower<sp/>is<sp/>found</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>nValue;</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(*attrs)<sp/>{</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>wxChar<sp/>*attr<sp/>=<sp/>*attrs++;</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>wxChar<sp/>*<ref refid="lib_2expat_8h_1a4a30a13b813682e68c5b689b45c65971" kindref="member">value</ref><sp/>=<sp/>*attrs++;</highlight></codeline>
<codeline lineno="150"><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!value)</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="153"><highlight class="normal"></highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>wxString<sp/>strValue<sp/>=<sp/><ref refid="lib_2expat_8h_1a4a30a13b813682e68c5b689b45c65971" kindref="member">value</ref>;</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!wxStrcmp(attr,<sp/>wxT(</highlight><highlight class="stringliteral">&quot;name&quot;</highlight><highlight class="normal">))<sp/>&amp;&amp;<sp/><ref refid="class_x_m_l_value_checker_1adf2bcfece118875538ca2bdd528b8c23" kindref="member">XMLValueChecker::IsGoodString</ref>(strValue))</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_track_1a885c04ed00a08ddaa6a3b2d72c55b384" kindref="member">mName</ref><sp/>=<sp/>strValue;</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!wxStrcmp(attr,<sp/>wxT(</highlight><highlight class="stringliteral">&quot;height&quot;</highlight><highlight class="normal">))<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_x_m_l_value_checker_1adc0cf9db4d3e99dfdc8c82144e129103" kindref="member">XMLValueChecker::IsGoodInt</ref>(strValue)<sp/>&amp;&amp;<sp/>strValue.ToLong(&amp;nValue))</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_track_1ac696598792865dc8f0d6e555ec6e1ee1" kindref="member">mHeight</ref><sp/>=<sp/>nValue;</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!wxStrcmp(attr,<sp/>wxT(</highlight><highlight class="stringliteral">&quot;minimized&quot;</highlight><highlight class="normal">))<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_x_m_l_value_checker_1adc0cf9db4d3e99dfdc8c82144e129103" kindref="member">XMLValueChecker::IsGoodInt</ref>(strValue)<sp/>&amp;&amp;<sp/>strValue.ToLong(&amp;nValue))</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_track_1ab767c29441016ba672a1f105389190ff" kindref="member">mMinimized</ref><sp/>=<sp/>(nValue<sp/>!=<sp/>0);</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!wxStrcmp(attr,<sp/>wxT(</highlight><highlight class="stringliteral">&quot;rangelower&quot;</highlight><highlight class="normal">)))</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mRangeLower<sp/>=<sp/><ref refid="class_internat_1ab79e779c79e9ddf82270cb78e78d638d" kindref="member">Internat::CompatibleToDouble</ref>(value);</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mRescaleXMLValues<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!wxStrcmp(attr,<sp/>wxT(</highlight><highlight class="stringliteral">&quot;rangeupper&quot;</highlight><highlight class="normal">)))</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mRangeUpper<sp/>=<sp/><ref refid="class_internat_1ab79e779c79e9ddf82270cb78e78d638d" kindref="member">Internat::CompatibleToDouble</ref>(value);</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mRescaleXMLValues<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!wxStrcmp(attr,<sp/>wxT(</highlight><highlight class="stringliteral">&quot;displaylog&quot;</highlight><highlight class="normal">))<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_x_m_l_value_checker_1adc0cf9db4d3e99dfdc8c82144e129103" kindref="member">XMLValueChecker::IsGoodInt</ref>(strValue)<sp/>&amp;&amp;<sp/>strValue.ToLong(&amp;nValue))</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_time_track_1a3a7af38b8f18f64cf2939d97c634ac37" kindref="member">SetDisplayLog</ref>(nValue<sp/>!=<sp/>0);</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//TODO-MB:<sp/>This<sp/>causes<sp/>a<sp/>graphical<sp/>glitch,<sp/>TrackPanel<sp/>should<sp/>probably<sp/>be<sp/>Refresh()ed<sp/>after<sp/>loading.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>I<sp/>don&apos;t<sp/>know<sp/>where<sp/>to<sp/>do<sp/>this<sp/>though.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!wxStrcmp(attr,<sp/>wxT(</highlight><highlight class="stringliteral">&quot;interpolatelog&quot;</highlight><highlight class="normal">))<sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_x_m_l_value_checker_1adc0cf9db4d3e99dfdc8c82144e129103" kindref="member">XMLValueChecker::IsGoodInt</ref>(strValue)<sp/>&amp;&amp;<sp/>strValue.ToLong(&amp;nValue))</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_time_track_1a1c9c8dafcbfd6887a731edbd8c63fa44" kindref="member">SetInterpolateLog</ref>(nValue<sp/>!=<sp/>0);</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="185"><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="comment">//<sp/>while</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(mRescaleXMLValues)</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mEnvelope-&gt;<ref refid="class_envelope_1aecfc3bd5b11d5b7a8eebdeedaab11e8e" kindref="member">SetRange</ref>(0.0,<sp/>1.0);<sp/></highlight><highlight class="comment">//<sp/>this<sp/>will<sp/>be<sp/>restored<sp/>to<sp/>the<sp/>actual<sp/>range<sp/>later</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="191"><highlight class="normal"></highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="193"><highlight class="normal">}</highlight></codeline>
<codeline lineno="194"><highlight class="normal"></highlight></codeline>
<codeline lineno="195" refid="class_time_track_1a23b7aa1376fc8f939e317fdf47684689" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_time_track_1a23b7aa1376fc8f939e317fdf47684689" kindref="member">TimeTrack::HandleXMLEndTag</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>wxChar<sp/>*<sp/>WXUNUSED(<ref refid="structtag" kindref="compound">tag</ref>))</highlight></codeline>
<codeline lineno="196"><highlight class="normal">{</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(mRescaleXMLValues)</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>mRescaleXMLValues<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>mEnvelope-&gt;<ref refid="class_envelope_1a3c41e639b37089510d6e754ef5b44176" kindref="member">Rescale</ref>(mRangeLower,<sp/>mRangeUpper);</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>mEnvelope-&gt;<ref refid="class_envelope_1aecfc3bd5b11d5b7a8eebdeedaab11e8e" kindref="member">SetRange</ref>(<ref refid="_time_track_8cpp_1ae505f04c61ec9d91b94eaa40af8c6fb5" kindref="member">TIMETRACK_MIN</ref>,<sp/><ref refid="_time_track_8cpp_1a5a7eba6f2d4f03068254be8dc45bea80" kindref="member">TIMETRACK_MAX</ref>);</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="203"><highlight class="normal">}</highlight></codeline>
<codeline lineno="204"><highlight class="normal"></highlight></codeline>
<codeline lineno="205" refid="class_time_track_1a3f653989dbb1bfc995963a1a1948bfb1" refkind="member"><highlight class="normal"><ref refid="class_x_m_l_tag_handler" kindref="compound">XMLTagHandler</ref><sp/>*<ref refid="class_time_track_1a3f653989dbb1bfc995963a1a1948bfb1" kindref="member">TimeTrack::HandleXMLChild</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>wxChar<sp/>*<ref refid="structtag" kindref="compound">tag</ref>)</highlight></codeline>
<codeline lineno="206"><highlight class="normal">{</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!wxStrcmp(tag,<sp/>wxT(</highlight><highlight class="stringliteral">&quot;envelope&quot;</highlight><highlight class="normal">)))</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>mEnvelope;</highlight></codeline>
<codeline lineno="209"><highlight class="normal"></highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="211"><highlight class="normal">}</highlight></codeline>
<codeline lineno="212"><highlight class="normal"></highlight></codeline>
<codeline lineno="213" refid="class_time_track_1a82152e8a960bf5d375f0c590d815bac0" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_time_track_1a82152e8a960bf5d375f0c590d815bac0" kindref="member">TimeTrack::WriteXML</ref>(<ref refid="class_x_m_l_writer" kindref="compound">XMLWriter</ref><sp/>&amp;xmlFile)</highlight></codeline>
<codeline lineno="214"><highlight class="normal">{</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/>xmlFile.<ref refid="class_x_m_l_writer_1a38abb8ecc4a15db0272d43ff8bec1369" kindref="member">StartTag</ref>(wxT(</highlight><highlight class="stringliteral">&quot;timetrack&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="216"><highlight class="normal"></highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/>xmlFile.<ref refid="class_x_m_l_writer_1a631a2d04a50680a64f0ae48a61d4a4d1" kindref="member">WriteAttr</ref>(wxT(</highlight><highlight class="stringliteral">&quot;name&quot;</highlight><highlight class="normal">),<sp/><ref refid="class_track_1a885c04ed00a08ddaa6a3b2d72c55b384" kindref="member">mName</ref>);</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//xmlFile.WriteAttr(wxT(&quot;channel&quot;),<sp/>mChannel);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//xmlFile.WriteAttr(wxT(&quot;offset&quot;),<sp/>mOffset,<sp/>8);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/>xmlFile.<ref refid="class_x_m_l_writer_1a631a2d04a50680a64f0ae48a61d4a4d1" kindref="member">WriteAttr</ref>(wxT(</highlight><highlight class="stringliteral">&quot;height&quot;</highlight><highlight class="normal">),<sp/><ref refid="class_track_1ac54e9cb9c256f7dd3605f9a63e041479" kindref="member">GetActualHeight</ref>());</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/>xmlFile.<ref refid="class_x_m_l_writer_1a631a2d04a50680a64f0ae48a61d4a4d1" kindref="member">WriteAttr</ref>(wxT(</highlight><highlight class="stringliteral">&quot;minimized&quot;</highlight><highlight class="normal">),<sp/><ref refid="class_track_1ac31a25492781bb0cc61e5f544f59b3d5" kindref="member">GetMinimized</ref>());</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/>xmlFile.<ref refid="class_x_m_l_writer_1a631a2d04a50680a64f0ae48a61d4a4d1" kindref="member">WriteAttr</ref>(wxT(</highlight><highlight class="stringliteral">&quot;rangelower&quot;</highlight><highlight class="normal">),<sp/>mRangeLower,<sp/>12);</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/>xmlFile.<ref refid="class_x_m_l_writer_1a631a2d04a50680a64f0ae48a61d4a4d1" kindref="member">WriteAttr</ref>(wxT(</highlight><highlight class="stringliteral">&quot;rangeupper&quot;</highlight><highlight class="normal">),<sp/>mRangeUpper,<sp/>12);</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/>xmlFile.<ref refid="class_x_m_l_writer_1a631a2d04a50680a64f0ae48a61d4a4d1" kindref="member">WriteAttr</ref>(wxT(</highlight><highlight class="stringliteral">&quot;displaylog&quot;</highlight><highlight class="normal">),<sp/><ref refid="class_time_track_1abae5d14db9f5a3f3ffc6c6c99278ed3a" kindref="member">GetDisplayLog</ref>());</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/>xmlFile.<ref refid="class_x_m_l_writer_1a631a2d04a50680a64f0ae48a61d4a4d1" kindref="member">WriteAttr</ref>(wxT(</highlight><highlight class="stringliteral">&quot;interpolatelog&quot;</highlight><highlight class="normal">),<sp/><ref refid="class_time_track_1a270946a57e6c2992edcdf6848a6a3780" kindref="member">GetInterpolateLog</ref>());</highlight></codeline>
<codeline lineno="226"><highlight class="normal"></highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/>mEnvelope-&gt;<ref refid="class_envelope_1a893b472ea27b24c980d6e5efcd5c5e55" kindref="member">WriteXML</ref>(xmlFile);</highlight></codeline>
<codeline lineno="228"><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/>xmlFile.<ref refid="class_x_m_l_writer_1a5c4e63c2c9762b6a04ad4e48bb117678" kindref="member">EndTag</ref>(wxT(</highlight><highlight class="stringliteral">&quot;timetrack&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="230"><highlight class="normal">}</highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight></codeline>
<codeline lineno="232" refid="class_time_track_1ac15664abc03b775de3581c9b52aa8f89" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_time_track_1ac15664abc03b775de3581c9b52aa8f89" kindref="member">TimeTrack::Draw</ref>(wxDC<sp/>&amp;<sp/>dc,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>wxRect<sp/>&amp;<sp/>r,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_zoom_info" kindref="compound">ZoomInfo</ref><sp/>&amp;zoomInfo)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="233"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="_compare_audio_command_8cpp_1abd8bbcfabb3ddef2ccaafb9928a37b95" kindref="member">min</ref><sp/>=<sp/>zoomInfo.<ref refid="class_zoom_info_1aa7e0fefa3365826150c253c1ba6e4339" kindref="member">PositionToTime</ref>(0);</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="libflac_2src_2flac_2encode_8c_1ac39d9cef6a5e030ba8d9e11121054268" kindref="member">max</ref><sp/>=<sp/>zoomInfo.<ref refid="class_zoom_info_1aa7e0fefa3365826150c253c1ba6e4339" kindref="member">PositionToTime</ref>(r.width);</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(min<sp/>&gt;<sp/>max)</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxASSERT(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>min<sp/>=<sp/><ref refid="libflac_2src_2flac_2encode_8c_1ac39d9cef6a5e030ba8d9e11121054268" kindref="member">max</ref>;</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="241"><highlight class="normal"></highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/>dc.SetBrush(blankBrush);</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/>dc.SetPen(blankPen);</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/>dc.DrawRectangle(r);</highlight></codeline>
<codeline lineno="245"><highlight class="normal"></highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//copy<sp/>this<sp/>rectangle<sp/>away<sp/>for<sp/>future<sp/>use.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/>wxRect<sp/>mid<sp/>=<sp/>r;</highlight></codeline>
<codeline lineno="248"><highlight class="normal"></highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Draw<sp/>the<sp/>Ruler</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/>mRuler-&gt;<ref refid="class_ruler_1ac0cd3f26225eb23922e5c6399b39a2aa" kindref="member">SetBounds</ref>(r.x,<sp/>r.y,<sp/>r.x<sp/>+<sp/>r.width<sp/>-<sp/>1,<sp/>r.y<sp/>+<sp/>r.height<sp/>-<sp/>1);</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/>mRuler-&gt;<ref refid="class_ruler_1ad99f5a5adeeb2ca290a7df7760ded7bc" kindref="member">SetRange</ref>(min,<sp/>max);</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/>mRuler-&gt;<ref refid="class_ruler_1a36bc3f3483f08885a6e12523dfab6460" kindref="member">SetFlip</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);<sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>we<sp/>don&apos;t<sp/>do<sp/>this,<sp/>the<sp/>Ruler<sp/>doesn&apos;t<sp/>redraw<sp/>itself<sp/>when<sp/>the<sp/>envelope<sp/>is<sp/>modified.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>I<sp/>have<sp/>no<sp/>idea<sp/>why!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>LL:<sp/><sp/>It&apos;s<sp/>because<sp/>the<sp/>ruler<sp/>only<sp/>Invalidate()s<sp/>when<sp/>the<sp/>NEW<sp/>value<sp/>is<sp/>different</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>than<sp/>the<sp/>current<sp/>value.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/>mRuler-&gt;<ref refid="class_ruler_1a36bc3f3483f08885a6e12523dfab6460" kindref="member">SetFlip</ref>(<ref refid="class_track_1aa88d6a8dabe0be72aa34bdebdc41d07b" kindref="member">GetHeight</ref>()<sp/>&gt;<sp/>75<sp/>?<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">);<sp/></highlight><highlight class="comment">//<sp/>MB:<sp/>so<sp/>why<sp/>don&apos;t<sp/>we<sp/>just<sp/>call<sp/>Invalidate()?<sp/>:)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/>mRuler-&gt;<ref refid="class_ruler_1aca817fd9b5f108407de382ca3c4ce3e7" kindref="member">Draw</ref>(dc,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="259"><highlight class="normal"></highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>*envValues<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal">[mid.width];</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_time_track_1abacec6fca980b03f0bf7a4f96310704a" kindref="member">GetEnvelope</ref>()-&gt;<ref refid="class_envelope_1a5daec75b3aa3b0da7919fc986014e1db" kindref="member">GetValues</ref>(envValues,<sp/>mid.width,<sp/>0,<sp/>zoomInfo);</highlight></codeline>
<codeline lineno="262"><highlight class="normal"></highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/>dc.SetPen(<ref refid="class_a_color_1a9706bc519ec6f6b7f93ddc6371331f07" kindref="member">AColor::envelopePen</ref>);</highlight></codeline>
<codeline lineno="264"><highlight class="normal"></highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>logLower<sp/>=<sp/>log(<ref refid="libflac_2src_2flac_2encode_8c_1ac39d9cef6a5e030ba8d9e11121054268" kindref="member">std::max</ref>(1.0<ref refid="namespacelv2docgen_1a4405dc5a2509537b9ff3b4de10bc28d6" kindref="member">e</ref>-7,<sp/>mRangeLower)),<sp/>logUpper<sp/>=<sp/>log(<ref refid="libflac_2src_2flac_2encode_8c_1ac39d9cef6a5e030ba8d9e11121054268" kindref="member">std::max</ref>(1.0<ref refid="namespacelv2docgen_1a4405dc5a2509537b9ff3b4de10bc28d6" kindref="member">e</ref>-7,<sp/>mRangeUpper));</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="namespacewaflib_1_1_utils_1a15fc4f04cecad81fba9772c4e43d40f7" kindref="member">x</ref><sp/>=<sp/>0;<sp/><ref refid="namespacewaflib_1_1_utils_1a15fc4f04cecad81fba9772c4e43d40f7" kindref="member">x</ref><sp/>&lt;<sp/>mid.width;<sp/><ref refid="namespacewaflib_1_1_utils_1a15fc4f04cecad81fba9772c4e43d40f7" kindref="member">x</ref>++)</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>y;</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(mDisplayLog)</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y<sp/>=<sp/>(double)mid.height<sp/>*<sp/>(logUpper<sp/>-<sp/>log(envValues[<ref refid="namespacewaflib_1_1_utils_1a15fc4f04cecad81fba9772c4e43d40f7" kindref="member">x</ref>]))<sp/>/<sp/>(logUpper<sp/>-<sp/>logLower);</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y<sp/>=<sp/>(double)mid.height<sp/>*<sp/>(mRangeUpper<sp/>-<sp/>envValues[x])<sp/>/<sp/>(mRangeUpper<sp/>-<sp/>mRangeLower);</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>thisy<sp/>=<sp/>r.y<sp/>+<sp/>(<ref refid="lib_2expat_8h_1a14bb8924daea0b48c7803f281f66e390" kindref="member">int</ref>)y;</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_a_color_1a37c16741ff103f9bc70a0c4591ddde05" kindref="member">AColor::Line</ref>(dc,<sp/>mid.x<sp/>+<sp/>x,<sp/>thisy<sp/>-<sp/>1,<sp/>mid.x<sp/>+<sp/>x,<sp/>thisy+2);</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="276"><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(envValues)</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal">[]envValues;</highlight></codeline>
<codeline lineno="279"><highlight class="normal">}</highlight></codeline>
<codeline lineno="280"><highlight class="normal"></highlight></codeline>
<codeline lineno="281" refid="class_time_track_1a9ac9a629360ae911839bcd49fc88a85d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_time_track_1a9ac9a629360ae911839bcd49fc88a85d" kindref="member">TimeTrack::testMe</ref>()</highlight></codeline>
<codeline lineno="282"><highlight class="normal">{</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_time_track_1abacec6fca980b03f0bf7a4f96310704a" kindref="member">GetEnvelope</ref>()-&gt;<ref refid="class_envelope_1afd222aeb08ec8c091cf576b8bf0c7a3b" kindref="member">Flatten</ref>(0.0);</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_time_track_1abacec6fca980b03f0bf7a4f96310704a" kindref="member">GetEnvelope</ref>()-&gt;<ref refid="class_envelope_1aa0d5f77099711f3843108dbce4cf4ed2" kindref="member">Insert</ref>(<sp/>0.0,<sp/>0.2<sp/>);</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_time_track_1abacec6fca980b03f0bf7a4f96310704a" kindref="member">GetEnvelope</ref>()-&gt;<ref refid="class_envelope_1aa0d5f77099711f3843108dbce4cf4ed2" kindref="member">Insert</ref>(<sp/>5.0<sp/>-<sp/>0.001,<sp/>0.2<sp/>);</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_time_track_1abacec6fca980b03f0bf7a4f96310704a" kindref="member">GetEnvelope</ref>()-&gt;<ref refid="class_envelope_1aa0d5f77099711f3843108dbce4cf4ed2" kindref="member">Insert</ref>(<sp/>5.0<sp/>+<sp/>0.001,<sp/>1.3<sp/>);</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_time_track_1abacec6fca980b03f0bf7a4f96310704a" kindref="member">GetEnvelope</ref>()-&gt;<ref refid="class_envelope_1aa0d5f77099711f3843108dbce4cf4ed2" kindref="member">Insert</ref>(<sp/>10.0,<sp/>1.3<sp/>);</highlight></codeline>
<codeline lineno="288"><highlight class="normal"></highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>value1<sp/>=<sp/><ref refid="class_time_track_1abacec6fca980b03f0bf7a4f96310704a" kindref="member">GetEnvelope</ref>()-&gt;<ref refid="class_envelope_1ad6d739d852e20413e026baadc8a40729" kindref="member">Integral</ref>(2.0,<sp/>13.0);</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>expected1<sp/>=<sp/>(5.0<sp/>-<sp/>2.0)<sp/>*<sp/>0.2<sp/>+<sp/>(13.0<sp/>-<sp/>5.0)<sp/>*<sp/>1.3;</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>value2<sp/>=<sp/><ref refid="class_time_track_1abacec6fca980b03f0bf7a4f96310704a" kindref="member">GetEnvelope</ref>()-&gt;<ref refid="class_envelope_1a66abd2af2ac108e4a9959222d69e397e" kindref="member">IntegralOfInverse</ref>(2.0,<sp/>13.0);</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>expected2<sp/>=<sp/>(5.0<sp/>-<sp/>2.0)<sp/>/<sp/>0.2<sp/>+<sp/>(13.0<sp/>-<sp/>5.0)<sp/>/<sp/>1.3;</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>fabs(value1<sp/>-<sp/>expected1)<sp/>&gt;<sp/>0.01<sp/>)</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="octave__test_8m_1ac6d0e62c65e5715b13a5fcb381118888" kindref="member">printf</ref>(<sp/></highlight><highlight class="stringliteral">&quot;TimeTrack:<sp/><sp/>Integral<sp/>failed!<sp/>expected<sp/>%f<sp/>got<sp/>%f\n&quot;</highlight><highlight class="normal">,<sp/>expected1,<sp/>value1);</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>fabs(value2<sp/>-<sp/>expected2)<sp/>&gt;<sp/>0.01<sp/>)</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="octave__test_8m_1ac6d0e62c65e5715b13a5fcb381118888" kindref="member">printf</ref>(<sp/></highlight><highlight class="stringliteral">&quot;TimeTrack:<sp/><sp/>IntegralOfInverse<sp/>failed!<sp/>expected<sp/>%f<sp/>got<sp/>%f\n&quot;</highlight><highlight class="normal">,<sp/>expected2,<sp/>value2);</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="301"><highlight class="normal"></highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">/*double<sp/>reqt0<sp/>=<sp/>10.0<sp/>-<sp/>.1;</highlight></codeline>
<codeline lineno="303"><highlight class="comment"><sp/><sp/><sp/>double<sp/>reqt1<sp/>=<sp/>10.0<sp/>+<sp/>.1;</highlight></codeline>
<codeline lineno="304"><highlight class="comment"><sp/><sp/><sp/>double<sp/>t0<sp/>=<sp/>warp(<sp/>reqt0<sp/>);</highlight></codeline>
<codeline lineno="305"><highlight class="comment"><sp/><sp/><sp/>double<sp/>t1<sp/>=<sp/>warp(<sp/>reqt1<sp/>);</highlight></codeline>
<codeline lineno="306"><highlight class="comment"><sp/><sp/><sp/>if(<sp/>t0<sp/>&gt;<sp/>t1<sp/>)</highlight></codeline>
<codeline lineno="307"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="308"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(<sp/>&quot;TimeTrack:<sp/><sp/>Warping<sp/>reverses<sp/>an<sp/>interval!<sp/>[%.2f,%.2f]<sp/>-&gt;<sp/>[%.2f,%.2f]\n&quot;,</highlight></codeline>
<codeline lineno="309"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reqt0,<sp/>reqt1,</highlight></codeline>
<codeline lineno="310"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>t0,<sp/>t1<sp/>);</highlight></codeline>
<codeline lineno="311"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>}*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="312"><highlight class="normal">}</highlight></codeline>
<codeline lineno="313"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="C:/_dev/OpenU/Audacity/audacity/src/TimeTrack.cpp"/>
  </compounddef>
</doxygen>
