<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.11">
  <compounddef id="sndread_8c" kind="file" language="C++">
    <compoundname>sndread.c</compoundname>
    <includes local="yes">switches.h</includes>
    <includes local="yes">stdio.h</includes>
    <includes local="yes">string.h</includes>
    <includes local="no">stat.h</includes>
    <includes local="yes">stdlib.h</includes>
    <includes local="yes">sndfile.h</includes>
    <includes refid="xlisp_8h" local="yes">xlisp.h</includes>
    <includes refid="sound_8h" local="yes">sound.h</includes>
    <includes refid="sndfmt_8h" local="yes">sndfmt.h</includes>
    <includes refid="falloc_8h" local="yes">falloc.h</includes>
    <includes refid="sndread_8h" local="yes">sndread.h</includes>
    <includes refid="multiread_8h" local="yes">multiread.h</includes>
    <incdepgraph>
      <node id="13177">
        <label>stat.h</label>
      </node>
      <node id="13178">
        <label>stdlib.h</label>
      </node>
      <node id="13182">
        <label>setjmp.h</label>
      </node>
      <node id="13173">
        <label>C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndread.c</label>
        <link refid="sndread.c"/>
        <childnode refid="13174" relation="include">
        </childnode>
        <childnode refid="13175" relation="include">
        </childnode>
        <childnode refid="13176" relation="include">
        </childnode>
        <childnode refid="13177" relation="include">
        </childnode>
        <childnode refid="13178" relation="include">
        </childnode>
        <childnode refid="13179" relation="include">
        </childnode>
        <childnode refid="13180" relation="include">
        </childnode>
        <childnode refid="13184" relation="include">
        </childnode>
        <childnode refid="13190" relation="include">
        </childnode>
        <childnode refid="13191" relation="include">
        </childnode>
        <childnode refid="13194" relation="include">
        </childnode>
        <childnode refid="13195" relation="include">
        </childnode>
      </node>
      <node id="13194">
        <label>sndread.h</label>
        <link refid="sndread_8h"/>
      </node>
      <node id="13191">
        <label>falloc.h</label>
        <link refid="falloc_8h"/>
        <childnode refid="13192" relation="include">
        </childnode>
        <childnode refid="13193" relation="include">
        </childnode>
      </node>
      <node id="13180">
        <label>xlisp.h</label>
        <link refid="xlisp_8h"/>
        <childnode refid="13178" relation="include">
        </childnode>
        <childnode refid="13175" relation="include">
        </childnode>
        <childnode refid="13181" relation="include">
        </childnode>
        <childnode refid="13182" relation="include">
        </childnode>
        <childnode refid="13183" relation="include">
        </childnode>
      </node>
      <node id="13189">
        <label>cleanup.h</label>
        <link refid="cleanup_8h"/>
      </node>
      <node id="13179">
        <label>sndfile.h</label>
      </node>
      <node id="13188">
        <label>mem.h</label>
        <link refid="libnyquist_2nyquist_2cmt_2mem_8h"/>
      </node>
      <node id="13176">
        <label>string.h</label>
      </node>
      <node id="13192">
        <label>cque.h</label>
        <link refid="cque_8h"/>
      </node>
      <node id="13190">
        <label>sndfmt.h</label>
        <link refid="sndfmt_8h"/>
      </node>
      <node id="13184">
        <label>sound.h</label>
        <link refid="sound_8h"/>
        <childnode refid="13185" relation="include">
        </childnode>
        <childnode refid="13186" relation="include">
        </childnode>
      </node>
      <node id="13185">
        <label>math.h</label>
      </node>
      <node id="13174">
        <label>switches.h</label>
      </node>
      <node id="13186">
        <label>stdefs.h</label>
        <link refid="stdefs_8h"/>
        <childnode refid="13187" relation="include">
        </childnode>
      </node>
      <node id="13183">
        <label>xldmem.h</label>
        <link refid="xldmem_8h"/>
      </node>
      <node id="13181">
        <label>ctype.h</label>
      </node>
      <node id="13193">
        <label>debug.h</label>
        <link refid="libnyquist_2nyquist_2nyqsrc_2debug_8h"/>
      </node>
      <node id="13195">
        <label>multiread.h</label>
        <link refid="multiread_8h"/>
      </node>
      <node id="13175">
        <label>stdio.h</label>
      </node>
      <node id="13187">
        <label>cext.h</label>
        <link refid="cext_8h"/>
        <childnode refid="13174" relation="include">
        </childnode>
        <childnode refid="13175" relation="include">
        </childnode>
        <childnode refid="13176" relation="include">
        </childnode>
        <childnode refid="13185" relation="include">
        </childnode>
        <childnode refid="13188" relation="include">
        </childnode>
        <childnode refid="13189" relation="include">
        </childnode>
      </node>
    </incdepgraph>
      <sectiondef kind="define">
      <memberdef kind="define" id="sndread_8c_1a242939eadf7c7cc0573b8c713f0e635c" prot="public" static="no">
        <name>L_SET</name>
        <initializer>SEEK_SET</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndread.c" line="23" column="13" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndread.c" bodystart="23" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="sndread_8c_1a7196af563ec7bc3ce91752f4dc82f0bf" prot="public" static="no">
        <name>L_INCR</name>
        <initializer>SEEK_CUR</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndread.c" line="24" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndread.c" bodystart="24" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="sndread_8c_1a3edd319ff92fe698be953178dc1cec70" prot="public" static="no">
        <name>PROTECTION</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndread.c" line="25" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndread.c" bodystart="25" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="sndread_8c_1a7a68c9ffaac7dbcd652225dd7c06a54b" prot="public" static="no">
        <name>O_RDONLY</name>
        <initializer>0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndread.c" line="40" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndread.c" bodystart="40" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="var">
      <memberdef kind="variable" id="sndread_8c_1ab95ecaf4360109afab182113406b3412" prot="public" static="yes" mutable="no">
        <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
        <definition>int sndread_file_open_count</definition>
        <argsstring></argsstring>
        <name>sndread_file_open_count</name>
        <initializer>= 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndread.c" line="43" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndread.c" bodystart="43" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="sndread_8c_1a2970b75f883271f21e9ec25123c4e8f7" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>void read__fetch</definition>
        <argsstring>(read_susp_type susp, snd_list_type snd_list)</argsstring>
        <name>read__fetch</name>
        <param>
          <type><ref refid="sndread_8h_1a0a8629c0c64d285fcb81aa43348edc2a" kindref="member">read_susp_type</ref></type>
          <declname>susp</declname>
        </param>
        <param>
          <type><ref refid="sound_8h_1ab05388854adb60c2855a70276d2ceb65" kindref="member">snd_list_type</ref></type>
          <declname>snd_list</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndread.c" line="45" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndread.c" bodystart="45" bodyend="86"/>
      </memberdef>
      <memberdef kind="function" id="sndread_8c_1a04a7b4551dfc448703d6bc49d570f8fa" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>void read_free</definition>
        <argsstring>(snd_susp_type a_susp)</argsstring>
        <name>read_free</name>
        <param>
          <type><ref refid="sound_8h_1ab2d3b7883b72a75324f6636f10c7f903" kindref="member">snd_susp_type</ref></type>
          <declname>a_susp</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndread.c" line="89" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndread.c" bodystart="89" bodyend="95"/>
      </memberdef>
      <memberdef kind="function" id="sndread_8c_1a5db403b4a60b48a3bce3bdc5ecdd245c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>void read_print_tree</definition>
        <argsstring>(snd_susp_type a_susp, int n)</argsstring>
        <name>read_print_tree</name>
        <param>
          <type><ref refid="sound_8h_1ab2d3b7883b72a75324f6636f10c7f903" kindref="member">snd_susp_type</ref></type>
          <declname>a_susp</declname>
        </param>
        <param>
          <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
          <declname>n</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndread.c" line="98" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndread.c" bodystart="98" bodyend="100"/>
      </memberdef>
      <memberdef kind="function" id="sndread_8c_1a066599d7b1bf4fa0c6fbd856cac361a2" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="xldmem_8h_1a9a9ec6a5fbca2b40ed8d19faa799be8c" kindref="member">LVAL</ref></type>
        <definition>LVAL snd_make_read</definition>
        <argsstring>(unsigned char *filename, time_type offset, time_type t0, long *format, long *channels, long *mode, long *bits, long *swap, double *srate, double *dur, long *flags, long *byte_offset)</argsstring>
        <name>snd_make_read</name>
        <param>
          <type>unsigned char *</type>
          <declname>filename</declname>
        </param>
        <param>
          <type><ref refid="midifns_8h_1a3f787491db5dbc75c21b27d54e9ebae6" kindref="member">time_type</ref></type>
          <declname>offset</declname>
        </param>
        <param>
          <type><ref refid="midifns_8h_1a3f787491db5dbc75c21b27d54e9ebae6" kindref="member">time_type</ref></type>
          <declname>t0</declname>
        </param>
        <param>
          <type>long *</type>
          <declname>format</declname>
        </param>
        <param>
          <type>long *</type>
          <declname>channels</declname>
        </param>
        <param>
          <type>long *</type>
          <declname>mode</declname>
        </param>
        <param>
          <type>long *</type>
          <declname>bits</declname>
        </param>
        <param>
          <type>long *</type>
          <declname>swap</declname>
        </param>
        <param>
          <type>double *</type>
          <declname>srate</declname>
        </param>
        <param>
          <type>double *</type>
          <declname>dur</declname>
        </param>
        <param>
          <type>long *</type>
          <declname>flags</declname>
        </param>
        <param>
          <type>long *</type>
          <declname>byte_offset</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndread.c" line="103" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndread.c" bodystart="103" bodyend="298"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*<sp/>sndread.c<sp/>--<sp/>read<sp/>sound<sp/>files<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>CHANGELOG</highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/>*<sp/>29Jun95<sp/><sp/>RBD<sp/><sp/>ULAW<sp/>fixed<sp/>problems<sp/>with<sp/>signed<sp/>chars</highlight></codeline>
<codeline lineno="6"><highlight class="comment"><sp/>*<sp/>28Apr03<sp/><sp/>dm<sp/><sp/><sp/>explicitly<sp/>declare<sp/>sndread_file_open_count<sp/>as<sp/>int</highlight></codeline>
<codeline lineno="7"><highlight class="comment"><sp/>*<sp/>24Jul08<sp/><sp/>RBD<sp/>&amp;<sp/>Judy<sp/>Hawkins<sp/>--<sp/>replace<sp/>snd<sp/>with<sp/>PortAudio<sp/>and<sp/>libsndfile</highlight></codeline>
<codeline lineno="8"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;switches.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;stdio.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;string.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>UNIX</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;sys/file.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>#include<sp/>&lt;unistd.h&gt;<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>WINDOWS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;sys/stat.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="io_8h" kindref="compound">io.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stat.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>WINDOWS<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23" refid="sndread_8c_1a242939eadf7c7cc0573b8c713f0e635c" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>L_SET<sp/>SEEK_SET</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24" refid="sndread_8c_1a7196af563ec7bc3ce91752f4dc82f0bf" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>L_INCR<sp/>SEEK_CUR</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25" refid="sndread_8c_1a3edd319ff92fe698be953178dc1cec70" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PROTECTION<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>UNIX<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>mips</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;stdlib.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;sndfile.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="xlisp_8h" kindref="compound">xlisp.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="sound_8h" kindref="compound">sound.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="sndfmt_8h" kindref="compound">sndfmt.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="falloc_8h" kindref="compound">falloc.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="sndread_8h" kindref="compound">sndread.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="multiread_8h" kindref="compound">multiread.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>file.h<sp/>doesn&apos;t<sp/>define<sp/>O_RDONLY<sp/>under<sp/>RS6K<sp/>AIX<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>O_RDONLY</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="40" refid="sndread_8c_1a7a68c9ffaac7dbcd652225dd7c06a54b" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>O_RDONLY<sp/>0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>sndread_file_open_count<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight></codeline>
<codeline lineno="45" refid="sndread_8c_1a2970b75f883271f21e9ec25123c4e8f7" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="sndread_8c_1a2970b75f883271f21e9ec25123c4e8f7" kindref="member">read__fetch</ref>(susp,<sp/>snd_list)</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/>register<sp/><ref refid="structread__susp__struct" kindref="compound">read_susp_type</ref><sp/>susp;</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><ref refid="structsnd__list__struct" kindref="compound">snd_list_type</ref><sp/>snd_list;</highlight></codeline>
<codeline lineno="48"><highlight class="normal">{</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>n;<sp/></highlight><highlight class="comment">/*<sp/>jlh<sp/>Changed<sp/>type<sp/>to<sp/>long,<sp/>trying<sp/>to<sp/>make<sp/>move_samples_...<sp/>work<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structsample__block__node" kindref="compound">sample_block_type</ref><sp/><ref refid="lilv__test_8c_1af5a45dbcaa926b186e6f71d08212acc3" kindref="member">out</ref>;</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">register</highlight><highlight class="normal"><sp/><ref refid="sound_8h_1a83d17f7b465d1591f27cd28fc5eb8a03" kindref="member">sample_block_values_type</ref><sp/>out_ptr;</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>allow<sp/>up<sp/>to<sp/>4<sp/>bytes/sample:<sp/><sp/>jlh<sp/>--<sp/>does<sp/>this<sp/>need<sp/>to<sp/>be<sp/>8?<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>FIX<sp/>--<sp/>why<sp/>8?<sp/>for<sp/>doubles?<sp/>Maybe<sp/>it<sp/>should<sp/>be<sp/>sizeof(sample).<sp/>I<sp/>think</highlight></codeline>
<codeline lineno="54"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>this<sp/>buffer<sp/>was<sp/>here<sp/>to<sp/>allow<sp/>you<sp/>to<sp/>input<sp/>any<sp/>format<sp/>and<sp/>convert<sp/>to</highlight></codeline>
<codeline lineno="55"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>float.<sp/>The<sp/>assumption<sp/>was<sp/>no<sp/>sample<sp/>would<sp/>be<sp/>longer<sp/>than<sp/>4<sp/>bytes<sp/>and</highlight></codeline>
<codeline lineno="56"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>after<sp/>conversion,<sp/>samples<sp/>would<sp/>be<sp/>4<sp/>byte<sp/>floats.<sp/></highlight></codeline>
<codeline lineno="57"><highlight class="comment"><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>in_count;<sp/></highlight><highlight class="comment">/*<sp/>jlh<sp/>Trying<sp/>to<sp/>make<sp/>move_samples_...<sp/>work<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="falloc_8h_1aed8e636a68eb95ea3c7dc90189e78b43" kindref="member">falloc_sample_block</ref>(out,<sp/></highlight><highlight class="stringliteral">&quot;read__fetch&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/>out_ptr<sp/>=<sp/>out-&gt;<ref refid="structsample__block__node_1a921e4cd2359010f8ed736a116da8867e" kindref="member">samples</ref>;</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/>snd_list-&gt;<ref refid="structsnd__list__struct_1aaf6e754e36ceada326133f729fc4462c" kindref="member">block</ref><sp/>=<sp/><ref refid="lilv__test_8c_1af5a45dbcaa926b186e6f71d08212acc3" kindref="member">out</ref>;</highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/>in_count<sp/>=<sp/><ref refid="sndfile_8c_1aee45e707761d55cc2111328451ffc760" kindref="member">sf_readf_float</ref>(susp-&gt;sndfile,<sp/>out_ptr,<sp/><ref refid="sound_8h_1a3871670a207dd661a524b1328410fb0c" kindref="member">max_sample_block_len</ref>);</highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/>n<sp/>=<sp/>in_count;</highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>don&apos;t<sp/>read<sp/>too<sp/>many<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(n<sp/>&gt;<sp/>(susp-&gt;cnt<sp/>-<sp/>susp-&gt;susp.current))<sp/>{</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n<sp/>=<sp/>susp-&gt;cnt<sp/>-<sp/>susp-&gt;susp.current;</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/>snd_list-&gt;<ref refid="structsnd__list__struct_1a809aedecf6147df4ec4b45404cfab414" kindref="member">block_len</ref><sp/>=<sp/>n;</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/>susp-&gt;susp.current<sp/>+=<sp/>n;</highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(n<sp/>==<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>we<sp/>didn&apos;t<sp/>read<sp/>anything,<sp/>but<sp/>can&apos;t<sp/>return<sp/>length<sp/>zero,<sp/>so</highlight></codeline>
<codeline lineno="78"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>convert<sp/>snd_list<sp/>to<sp/>pointer<sp/>to<sp/>zero<sp/>block<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sound_8c_1a64f075d27a7672293c0c8d657aa51647" kindref="member">snd_list_terminate</ref>(snd_list);</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(n<sp/>&lt;<sp/><ref refid="sound_8h_1a3871670a207dd661a524b1328410fb0c" kindref="member">max_sample_block_len</ref>)<sp/>{</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>this<sp/>should<sp/>close<sp/>file<sp/>and<sp/>free<sp/>susp<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sound_8c_1aad7d8d5bb2bb14c5ba0c435f4ea20ebb" kindref="member">snd_list_unref</ref>(snd_list-&gt;<ref refid="structsnd__list__struct_1a7eb4e39c02b1fa81d1000b204f888777" kindref="member">u</ref>.<ref refid="structsnd__list__struct_1a3a9e571a923a7496eabe0d721e497fbf" kindref="member">next</ref>);</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>if<sp/>something<sp/>is<sp/>in<sp/>buffer,<sp/>terminate<sp/>by<sp/>pointing<sp/>to<sp/>zero<sp/>block<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>snd_list-&gt;<ref refid="structsnd__list__struct_1a7eb4e39c02b1fa81d1000b204f888777" kindref="member">u</ref>.<ref refid="structsnd__list__struct_1a3a9e571a923a7496eabe0d721e497fbf" kindref="member">next</ref><sp/>=<sp/><ref refid="nyquist_2nyqsrc_2nyx_8c_1aa08a9bd03e22919769a8f33094756c97" kindref="member">zero_snd_list</ref>;</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="86"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>read__fetch<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight></codeline>
<codeline lineno="89" refid="sndread_8c_1a04a7b4551dfc448703d6bc49d570f8fa" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="sndread_8c_1a04a7b4551dfc448703d6bc49d570f8fa" kindref="member">read_free</ref>(<ref refid="structsnd__susp__struct" kindref="compound">snd_susp_type</ref><sp/>a_susp)</highlight></codeline>
<codeline lineno="90"><highlight class="normal">{</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structread__susp__struct" kindref="compound">read_susp_type</ref><sp/>susp<sp/>=<sp/>(<ref refid="sndread_8h_1a0a8629c0c64d285fcb81aa43348edc2a" kindref="member">read_susp_type</ref>)<sp/>a_susp;</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sndfile_8c_1a276b87553823c937c62492206f0ed81e" kindref="member">sf_close</ref>(susp-&gt;<ref refid="structread__susp__struct_1a5462b07a95b5b8ba5a8cc23d017daf48" kindref="member">sndfile</ref>);</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/>sndread_file_open_count--;</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="falloc_8h_1a90be646acd537771c5401524877e0844" kindref="member">ffree_generic</ref>(susp,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structread__susp__struct" kindref="compound">read_susp_node</ref>),<sp/></highlight><highlight class="stringliteral">&quot;read_free&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="95"><highlight class="normal">}</highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight></codeline>
<codeline lineno="98" refid="sndread_8c_1a5db403b4a60b48a3bce3bdc5ecdd245c" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="sndread_8c_1a5db403b4a60b48a3bce3bdc5ecdd245c" kindref="member">read_print_tree</ref>(<ref refid="structsnd__susp__struct" kindref="compound">snd_susp_type</ref><sp/>a_susp,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n)</highlight></codeline>
<codeline lineno="99"><highlight class="normal">{</highlight></codeline>
<codeline lineno="100"><highlight class="normal">}</highlight></codeline>
<codeline lineno="101"><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight></codeline>
<codeline lineno="103" refid="sndread_8h_1a066599d7b1bf4fa0c6fbd856cac361a2" refkind="member"><highlight class="normal"><ref refid="structnode" kindref="compound">LVAL</ref><sp/><ref refid="sndread_8c_1a066599d7b1bf4fa0c6fbd856cac361a2" kindref="member">snd_make_read</ref>(</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*<ref refid="octave__test_8m_1a2ff994e16bf9521154de4cf659a3b689" kindref="member">filename</ref>,<sp/><sp/></highlight><highlight class="comment">/*<sp/>file<sp/>to<sp/>read<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><ref refid="midifns_8h_1a3f787491db5dbc75c21b27d54e9ebae6" kindref="member">time_type</ref><sp/><ref refid="layer12_8c_1a33d71f23ba2052d17f0b754dc35265b0" kindref="member">offset</ref>,<sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>offset<sp/>to<sp/>skip<sp/>(in<sp/>seconds)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><ref refid="midifns_8h_1a3f787491db5dbc75c21b27d54e9ebae6" kindref="member">time_type</ref><sp/>t0,<sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>start<sp/>time<sp/>of<sp/>resulting<sp/>sound<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>*<ref refid="_export_p_c_m_8cpp_1a317afff57d87a89158c2b038d37b2b08" kindref="member">format</ref>,<sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>AIFF,<sp/>IRCAM,<sp/>NeXT,<sp/>etc.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>*channels,<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>number<sp/>of<sp/>channels<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>*mode,<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>sample<sp/>format:<sp/>PCM,<sp/>ALAW,<sp/>etc.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>*<ref refid="metrics_8c_1a1eb8fc809d37cc6176f7f27374b063d0" kindref="member">bits</ref>,<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>BPS:<sp/>bits<sp/>per<sp/>sample<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>*swap,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>swap<sp/>bytes<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>*srate,<sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>srate:<sp/>sample<sp/>rate<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>*<ref refid="seqread_8c_1a3c79b5a9ee81c3835b8de9b0d900d2de" kindref="member">dur</ref>,<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>duration<sp/>(in<sp/>seconds)<sp/>to<sp/>read<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>*flags,<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>which<sp/>parameters<sp/>have<sp/>been<sp/>set<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>*byte_offset)<sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>byte<sp/>offset<sp/>in<sp/>file<sp/>of<sp/>first<sp/>sample<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="116"><highlight class="normal">{</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">register</highlight><highlight class="normal"><sp/><ref refid="structread__susp__struct" kindref="compound">read_susp_type</ref><sp/>susp;</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>srate<sp/>specified<sp/>as<sp/>input<sp/>parameter<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sound_8h_1a3a9d1d4a1c153390d2401a6e9f71b32c" kindref="member">sample_type</ref><sp/>scale_factor<sp/>=<sp/>1.0F;</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1a398121a5f562230ea7f772528fff5f84" kindref="member">sf_count_t</ref><sp/>frames;</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>actual_dur;</highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="falloc_8h_1a187500f957dfc9510ad0c87c0c92e39e" kindref="member">falloc_generic</ref>(susp,<sp/><ref refid="structread__susp__struct" kindref="compound">read_susp_node</ref>,<sp/></highlight><highlight class="stringliteral">&quot;snd_make_read&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(&amp;(susp-&gt;<ref refid="structread__susp__struct_1a4b43e49319e316b165cc2d1badfbc367" kindref="member">sf_info</ref>),<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="struct_s_f___i_n_f_o" kindref="compound">SF_INFO</ref>));</highlight></codeline>
<codeline lineno="125"><highlight class="normal"></highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structread__susp__struct_1a4b43e49319e316b165cc2d1badfbc367" kindref="member">sf_info</ref>.<ref refid="struct_s_f___i_n_f_o_1acfd248e20ab1c58b57aafc7b16404a5f" kindref="member">samplerate</ref><sp/>=<sp/><ref refid="cext_8h_1acd66e8cacf954c3bc3bba81d09425a12" kindref="member">ROUND</ref>(*srate);</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structread__susp__struct_1a4b43e49319e316b165cc2d1badfbc367" kindref="member">sf_info</ref>.<ref refid="struct_s_f___i_n_f_o_1aad5220b31d2672bf83d3cf4cea0b2826" kindref="member">channels</ref><sp/>=<sp/>*channels;</highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(*mode)<sp/>{</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="sndfmt_8h_1a5278e8a5145d960bceb36eb44b5ef089" kindref="member">SND_MODE_ADPCM</ref>:</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structread__susp__struct_1a4b43e49319e316b165cc2d1badfbc367" kindref="member">sf_info</ref>.<ref refid="struct_s_f___i_n_f_o_1a36a7c3ae9a8229797f19267b4ba07361" kindref="member">format</ref><sp/>=<sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea84028970a006395da0454b107749238e" kindref="member">SF_FORMAT_IMA_ADPCM</ref>;</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="sndfmt_8h_1a40b17abe7751bbe32789b9065b446b9e" kindref="member">SND_MODE_PCM</ref>:</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(*bits<sp/>==<sp/>8)<sp/>susp-&gt;<ref refid="structread__susp__struct_1a4b43e49319e316b165cc2d1badfbc367" kindref="member">sf_info</ref>.<ref refid="struct_s_f___i_n_f_o_1a36a7c3ae9a8229797f19267b4ba07361" kindref="member">format</ref><sp/>=<sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea8c9b17bb36d115f80ef61dcae7631b26" kindref="member">SF_FORMAT_PCM_S8</ref>;</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(*bits<sp/>==<sp/>16)<sp/>susp-&gt;<ref refid="structread__susp__struct_1a4b43e49319e316b165cc2d1badfbc367" kindref="member">sf_info</ref>.<ref refid="struct_s_f___i_n_f_o_1a36a7c3ae9a8229797f19267b4ba07361" kindref="member">format</ref><sp/>=<sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea63515ce839545c11d35dc8c8c4c5c261" kindref="member">SF_FORMAT_PCM_16</ref>;</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(*bits<sp/>==<sp/>24)<sp/>susp-&gt;<ref refid="structread__susp__struct_1a4b43e49319e316b165cc2d1badfbc367" kindref="member">sf_info</ref>.<ref refid="struct_s_f___i_n_f_o_1a36a7c3ae9a8229797f19267b4ba07361" kindref="member">format</ref><sp/>=<sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea160bd57540f1d3d6acbf2e29ea4769f4" kindref="member">SF_FORMAT_PCM_24</ref>;</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(*bits<sp/>==<sp/>32)<sp/>susp-&gt;<ref refid="structread__susp__struct_1a4b43e49319e316b165cc2d1badfbc367" kindref="member">sf_info</ref>.<ref refid="struct_s_f___i_n_f_o_1a36a7c3ae9a8229797f19267b4ba07361" kindref="member">format</ref><sp/>=<sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea741fa21e06429d59eb548d6f388d16b4" kindref="member">SF_FORMAT_PCM_32</ref>;</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structread__susp__struct_1a4b43e49319e316b165cc2d1badfbc367" kindref="member">sf_info</ref>.<ref refid="struct_s_f___i_n_f_o_1a36a7c3ae9a8229797f19267b4ba07361" kindref="member">format</ref><sp/>=<sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea63515ce839545c11d35dc8c8c4c5c261" kindref="member">SF_FORMAT_PCM_16</ref>;</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*bits<sp/>=<sp/>16;</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="sndfmt_8h_1af82e185deb3b67875700b5654c74e92c" kindref="member">SND_MODE_ULAW</ref>:</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structread__susp__struct_1a4b43e49319e316b165cc2d1badfbc367" kindref="member">sf_info</ref>.<ref refid="struct_s_f___i_n_f_o_1a36a7c3ae9a8229797f19267b4ba07361" kindref="member">format</ref><sp/>=<sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2feae3fd36f90782efc0ee6d00cc4a6f4060" kindref="member">SF_FORMAT_ULAW</ref>;</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="sndfmt_8h_1ae15e00abbccc7b0d84968fc6c3374189" kindref="member">SND_MODE_ALAW</ref>:</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structread__susp__struct_1a4b43e49319e316b165cc2d1badfbc367" kindref="member">sf_info</ref>.<ref refid="struct_s_f___i_n_f_o_1a36a7c3ae9a8229797f19267b4ba07361" kindref="member">format</ref><sp/>=<sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea88cd6729a685a388edbf6b971bc57d59" kindref="member">SF_FORMAT_ALAW</ref>;</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="sndfmt_8h_1ac139fb6c352bf4587edafcf81003ec00" kindref="member">SND_MODE_FLOAT</ref>:</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structread__susp__struct_1a4b43e49319e316b165cc2d1badfbc367" kindref="member">sf_info</ref>.<ref refid="struct_s_f___i_n_f_o_1a36a7c3ae9a8229797f19267b4ba07361" kindref="member">format</ref><sp/>=<sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea8b19f7e84eb0556faff33623830b489b" kindref="member">SF_FORMAT_FLOAT</ref>;</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="sndfmt_8h_1a8773cb415afebf58612272cbd9fdf72c" kindref="member">SND_MODE_UPCM</ref>:</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structread__susp__struct_1a4b43e49319e316b165cc2d1badfbc367" kindref="member">sf_info</ref>.<ref refid="struct_s_f___i_n_f_o_1a36a7c3ae9a8229797f19267b4ba07361" kindref="member">format</ref><sp/>=<sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea3828255dad74fc3ebb02b59afb28caae" kindref="member">SF_FORMAT_PCM_U8</ref>;</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*bits<sp/>=<sp/>8;</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="157"><highlight class="normal"></highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(*format<sp/>==<sp/><ref refid="sndfmt_8h_1afc2a68a57c543a3491f91f55eb96db91" kindref="member">SND_HEAD_RAW</ref>)<sp/>susp-&gt;<ref refid="structread__susp__struct_1a4b43e49319e316b165cc2d1badfbc367" kindref="member">sf_info</ref>.<ref refid="struct_s_f___i_n_f_o_1a36a7c3ae9a8229797f19267b4ba07361" kindref="member">format</ref><sp/>|=<sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea754f6ac6e6b293b1ffcb1d06412fa297" kindref="member">SF_FORMAT_RAW</ref>;</highlight></codeline>
<codeline lineno="159"><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(*swap)<sp/>{</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>set<sp/>format<sp/>to<sp/>perform<sp/>a<sp/>byte<sp/>swap<sp/>(change<sp/>from<sp/>cpu<sp/>endian-ness)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>write<sp/>the<sp/>code<sp/>so<sp/>it<sp/>will<sp/>only<sp/>compile<sp/>if<sp/>one<sp/>and<sp/>only<sp/>one<sp/></highlight></codeline>
<codeline lineno="163"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ENDIAN<sp/>setting<sp/>is<sp/>defined<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>XL_LITTLE_ENDIAN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>format<sp/>=<sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea0c342389e92c7a1cbbf5267cd25db357" kindref="member">SF_ENDIAN_BIG</ref>;</highlight></codeline>
<codeline lineno="166"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>XL_BIG_ENDIAN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>format<sp/>=<sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea5e4eee211f84815fdc7932cf26e2cda2" kindref="member">SF_ENDIAN_LITTLE</ref>;</highlight></codeline>
<codeline lineno="169"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structread__susp__struct_1a4b43e49319e316b165cc2d1badfbc367" kindref="member">sf_info</ref>.<ref refid="struct_s_f___i_n_f_o_1a36a7c3ae9a8229797f19267b4ba07361" kindref="member">format</ref><sp/>|=<sp/><ref refid="_export_p_c_m_8cpp_1a317afff57d87a89158c2b038d37b2b08" kindref="member">format</ref>;</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="172"><highlight class="normal"></highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structread__susp__struct_1a5462b07a95b5b8ba5a8cc23d017daf48" kindref="member">sndfile</ref><sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="cmdline_8c_1a8b58f7656a6b67929782488121de0b55" kindref="member">ok_to_open</ref>((</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*)<sp/>filename,<sp/></highlight><highlight class="stringliteral">&quot;rb&quot;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structread__susp__struct_1a5462b07a95b5b8ba5a8cc23d017daf48" kindref="member">sndfile</ref><sp/>=<sp/><ref refid="sndfile_8c_1a61bb810d2581bc860cd8884e22d6c7d2" kindref="member">sf_open</ref>((</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*)<sp/>filename,<sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1a775634eda7917b3f2142895169300799a125531fe9c895237bccd35736370e815" kindref="member">SFM_READ</ref>,</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;(susp-&gt;<ref refid="structread__susp__struct_1a4b43e49319e316b165cc2d1badfbc367" kindref="member">sf_info</ref>));</highlight></codeline>
<codeline lineno="177"><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!susp-&gt;<ref refid="structread__susp__struct_1a5462b07a95b5b8ba5a8cc23d017daf48" kindref="member">sndfile</ref>)<sp/>{</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/><ref refid="sndfile__load_8m_1a3a81ee160b23b01b04b7c08b35123218" kindref="member">error</ref>[240];</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sprintf(error,<sp/></highlight><highlight class="stringliteral">&quot;SND-READ:<sp/>Cannot<sp/>open<sp/>file<sp/>&apos;%s&apos;<sp/>because<sp/>of<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>filename,</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sndfile_8c_1a219fb20afbf20adbfa32c4a60721d8c0" kindref="member">sf_strerror</ref>(susp-&gt;<ref refid="structread__susp__struct_1a5462b07a95b5b8ba5a8cc23d017daf48" kindref="member">sndfile</ref>));</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="xldbug_8c_1aaebeabdcebf1b39c984723f1727ddeed" kindref="member">xlfail</ref>(error);</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(susp-&gt;<ref refid="structread__susp__struct_1a4b43e49319e316b165cc2d1badfbc367" kindref="member">sf_info</ref>.<ref refid="struct_s_f___i_n_f_o_1aad5220b31d2672bf83d3cf4cea0b2826" kindref="member">channels</ref><sp/>&lt;<sp/>1)<sp/>{</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sndfile_8c_1a276b87553823c937c62492206f0ed81e" kindref="member">sf_close</ref>(susp-&gt;<ref refid="structread__susp__struct_1a5462b07a95b5b8ba5a8cc23d017daf48" kindref="member">sndfile</ref>);</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="xldbug_8c_1aaebeabdcebf1b39c984723f1727ddeed" kindref="member">xlfail</ref>(</highlight><highlight class="stringliteral">&quot;Must<sp/>specify<sp/>1<sp/>or<sp/>more<sp/>channels&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="188"><highlight class="normal"></highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>report<sp/>samplerate<sp/>from<sp/>file,<sp/>but<sp/>if<sp/>user<sp/>provided<sp/>a<sp/>double</highlight></codeline>
<codeline lineno="190"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>as<sp/>sample<sp/>rate,<sp/>don&apos;t<sp/>replace<sp/>it<sp/>with<sp/>an<sp/>integer.</highlight></codeline>
<codeline lineno="191"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((susp-&gt;<ref refid="structread__susp__struct_1a4b43e49319e316b165cc2d1badfbc367" kindref="member">sf_info</ref>.<ref refid="struct_s_f___i_n_f_o_1a36a7c3ae9a8229797f19267b4ba07361" kindref="member">format</ref><sp/>&amp;<sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea4d9e4f32f119d026fdc74a88e9d41e87" kindref="member">SF_FORMAT_TYPEMASK</ref>)<sp/>!=<sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea754f6ac6e6b293b1ffcb1d06412fa297" kindref="member">SF_FORMAT_RAW</ref>)<sp/>{</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*srate<sp/>=<sp/>susp-&gt;<ref refid="structread__susp__struct_1a4b43e49319e316b165cc2d1badfbc367" kindref="member">sf_info</ref>.<ref refid="struct_s_f___i_n_f_o_1acfd248e20ab1c58b57aafc7b16404a5f" kindref="member">samplerate</ref>;</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>compute<sp/>dur<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/>frames<sp/>=<sp/><ref refid="sndfile_8c_1a73cc07589d395d7e36a2cecd1510f9f0" kindref="member">sf_seek</ref>(susp-&gt;<ref refid="structread__susp__struct_1a5462b07a95b5b8ba5a8cc23d017daf48" kindref="member">sndfile</ref>,<sp/>0,<sp/>SEEK_END);</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/>actual_dur<sp/>=<sp/>((double)<sp/>frames)<sp/>/<sp/>*srate;</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(offset<sp/>&lt;<sp/>0)<sp/>offset<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>round<sp/>offset<sp/>to<sp/>an<sp/>integer<sp/>frame<sp/>count<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/>frames<sp/>=<sp/>(<ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1a398121a5f562230ea7f772528fff5f84" kindref="member">sf_count_t</ref>)<sp/>(offset<sp/>*<sp/>*srate<sp/>+<sp/>0.5);</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/>offset<sp/>=<sp/>((double)<sp/>frames)<sp/>/<sp/>*srate;</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/>actual_dur<sp/>-=<sp/><ref refid="layer12_8c_1a33d71f23ba2052d17f0b754dc35265b0" kindref="member">offset</ref>;</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(actual_dur<sp/>&lt;<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sndfile_8c_1a276b87553823c937c62492206f0ed81e" kindref="member">sf_close</ref>(susp-&gt;<ref refid="structread__susp__struct_1a5462b07a95b5b8ba5a8cc23d017daf48" kindref="member">sndfile</ref>);</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="xldbug_8c_1aaebeabdcebf1b39c984723f1727ddeed" kindref="member">xlfail</ref>(</highlight><highlight class="stringliteral">&quot;SND-READ:<sp/>offset<sp/>is<sp/>beyond<sp/>end<sp/>of<sp/>file&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(actual_dur<sp/>&lt;<sp/>*dur)<sp/>*dur<sp/>=<sp/>actual_dur;</highlight></codeline>
<codeline lineno="208"><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sndfile_8c_1a73cc07589d395d7e36a2cecd1510f9f0" kindref="member">sf_seek</ref>(susp-&gt;<ref refid="structread__susp__struct_1a5462b07a95b5b8ba5a8cc23d017daf48" kindref="member">sndfile</ref>,<sp/>frames,<sp/>SEEK_SET);<sp/></highlight><highlight class="comment">/*<sp/>return<sp/>to<sp/>read<sp/>loc<sp/>in<sp/>file<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="210"><highlight class="normal"></highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>initialize<sp/>susp<sp/>state<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structread__susp__struct_1aa93f8c26d4f72c3b69fc682e65948b55" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a89e4d9a7c1f50a9a0b4bca5ec1c253be" kindref="member">sr</ref><sp/>=<sp/>*srate;</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structread__susp__struct_1aa93f8c26d4f72c3b69fc682e65948b55" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a5e783b62d30b458070fb80dc0e112594" kindref="member">t0</ref><sp/>=<sp/>t0;</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structread__susp__struct_1aa93f8c26d4f72c3b69fc682e65948b55" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a077478e200df3bc42489892597f15d47" kindref="member">mark</ref><sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structread__susp__struct_1aa93f8c26d4f72c3b69fc682e65948b55" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a4403d10e525f61c551eaa74440ee6b7d" kindref="member">print_tree</ref><sp/>=<sp/><ref refid="sndread_8c_1a5db403b4a60b48a3bce3bdc5ecdd245c" kindref="member">read_print_tree</ref>;<sp/></highlight><highlight class="comment">/*jlh<sp/>empty<sp/>function...<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structread__susp__struct_1aa93f8c26d4f72c3b69fc682e65948b55" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a8f9e3b02c2fc0ccbb63d88b97d44c89c" kindref="member">current</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structread__susp__struct_1aa93f8c26d4f72c3b69fc682e65948b55" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a8044ae9d2cfcbccffd2a60c9b6ce16fa" kindref="member">log_stop_cnt</ref><sp/>=<sp/><ref refid="sound_8h_1ac1ae4add974b9cfc6b5aaf8a578f01ab" kindref="member">UNKNOWN</ref>;</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>watch<sp/>for<sp/>overflow<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(*dur<sp/>*<sp/>*srate<sp/>+<sp/>0.5<sp/>&gt;<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal">)<sp/>0xFFFFFFFF)<sp/>{</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structread__susp__struct_1ad2d502eafdfec2f25b8bda4e3cd383c9" kindref="member">cnt</ref><sp/>=<sp/>0x7FFFFFFF;</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structread__susp__struct_1ad2d502eafdfec2f25b8bda4e3cd383c9" kindref="member">cnt</ref><sp/>=<sp/><ref refid="cext_8h_1acd66e8cacf954c3bc3bba81d09425a12" kindref="member">ROUND</ref>((*dur)<sp/>*<sp/>*srate);</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="224"><highlight class="normal"></highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(susp-&gt;<ref refid="structread__susp__struct_1a4b43e49319e316b165cc2d1badfbc367" kindref="member">sf_info</ref>.<ref refid="struct_s_f___i_n_f_o_1a36a7c3ae9a8229797f19267b4ba07361" kindref="member">format</ref><sp/>&amp;<sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea4d9e4f32f119d026fdc74a88e9d41e87" kindref="member">SF_FORMAT_TYPEMASK</ref>)<sp/>{</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea6c1fc181944f58b4bcd23a05acd34499" kindref="member">SF_FORMAT_WAV</ref>:<sp/>*format<sp/>=<sp/><ref refid="sndfmt_8h_1ae73e5fd9c5da6c5ab430520d12b36211" kindref="member">SND_HEAD_WAVE</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea6b3c3276356e59c65552aa8dc81c8f8b" kindref="member">SF_FORMAT_AIFF</ref>:<sp/>*format<sp/>=<sp/><ref refid="sndfmt_8h_1ae7c477c75ed445813104a23a2079d7fa" kindref="member">SND_HEAD_AIFF</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2feaf4bf74071da31239a8bbe3a34877d511" kindref="member">SF_FORMAT_AU</ref>:<sp/>*format<sp/>=<sp/><ref refid="sndfmt_8h_1a6a330ab79e8a0f24a06316bfab0f75df" kindref="member">SND_HEAD_NEXT</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea754f6ac6e6b293b1ffcb1d06412fa297" kindref="member">SF_FORMAT_RAW</ref>:<sp/>*format<sp/>=<sp/><ref refid="sndfmt_8h_1afc2a68a57c543a3491f91f55eb96db91" kindref="member">SND_HEAD_RAW</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea67e5cf6543280ccf166a2489658ab4ea" kindref="member">SF_FORMAT_PAF</ref>:<sp/>*format<sp/>=<sp/><ref refid="sndfmt_8h_1a4bee97932f77541c14da1aabd41d0a5c" kindref="member">SND_HEAD_PAF</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea589143a1c82410acb51792eba617ec02" kindref="member">SF_FORMAT_SVX</ref>:<sp/>*format<sp/>=<sp/><ref refid="sndfmt_8h_1a3fd3e4af518f36b174bdc77e1666ed72" kindref="member">SND_HEAD_SVX</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea8905ae7f3ab72cc5b667cf43a89d378b" kindref="member">SF_FORMAT_NIST</ref>:<sp/>*format<sp/>=<sp/><ref refid="sndfmt_8h_1abbcaa6daf3aa51b6833503358ff411a5" kindref="member">SND_HEAD_NIST</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2feaac658149adf5858ad555460103a72e36" kindref="member">SF_FORMAT_VOC</ref>:<sp/>*format<sp/>=<sp/><ref refid="sndfmt_8h_1af17358dae1f0e26ffe97a049f6291d0d" kindref="member">SND_HEAD_VOC</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea1550936375eaff26d88f01c5e57b679c" kindref="member">SF_FORMAT_W64</ref>:<sp/>*format<sp/>=<sp/><ref refid="sndfmt_8h_1aa6af10739f440f951748c15942ab1b74" kindref="member">SND_HEAD_W64</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2feace8c193d02de42380758f1428b95603f" kindref="member">SF_FORMAT_MAT4</ref>:<sp/>*format<sp/>=<sp/><ref refid="sndfmt_8h_1aef8d865ce2193e3db73ae63d97e9cc64" kindref="member">SND_HEAD_MAT4</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea81a423e6776be321f518ddf39d49755d" kindref="member">SF_FORMAT_MAT5</ref>:<sp/>*format<sp/>=<sp/><ref refid="sndfmt_8h_1abb9b5e32b913893a5be43c8b85d3210f" kindref="member">SND_HEAD_MAT5</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea339137ced07d99c95c80cea58165c2b0" kindref="member">SF_FORMAT_PVF</ref>:<sp/>*format<sp/>=<sp/><ref refid="sndfmt_8h_1af533b36efed939b87975b755e37ec9e9" kindref="member">SND_HEAD_PVF</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea61cf59e2b4e7782f59f21370397e3b42" kindref="member">SF_FORMAT_XI</ref>:<sp/>*format<sp/>=<sp/><ref refid="sndfmt_8h_1a85df9b76da02b874adc7734407ccf959" kindref="member">SND_HEAD_XI</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2feaf9786f5a4824ff5c5a1f8b12e2ca1b8a" kindref="member">SF_FORMAT_HTK</ref>:<sp/>*mode<sp/>=<sp/><ref refid="sndfmt_8h_1a26b4288ecd6ec3b291432e5a1cf5dbfa" kindref="member">SND_HEAD_HTK</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2feacba7b7998062f1749acf67a17ad57cf2" kindref="member">SF_FORMAT_SDS</ref>:<sp/>*mode<sp/>=<sp/><ref refid="sndfmt_8h_1a1a8fca4e8ac94dd093b90cb999944354" kindref="member">SND_HEAD_SDS</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fead9e4eb2bce984e40515ba901c1e6fee6" kindref="member">SF_FORMAT_AVR</ref>:<sp/>*mode<sp/>=<sp/><ref refid="sndfmt_8h_1a292a0356b3da5bd746eca03147e813b9" kindref="member">SND_HEAD_AVR</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2feaf84597ff85285cec0ef7a253ee7ee03b" kindref="member">SF_FORMAT_WAVEX</ref>:<sp/>*format<sp/>=<sp/><ref refid="sndfmt_8h_1ae73e5fd9c5da6c5ab430520d12b36211" kindref="member">SND_HEAD_WAVE</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea09f74ea32b2c1e5f6e8860a63fee39c7" kindref="member">SF_FORMAT_SD2</ref>:<sp/>*format<sp/>=<sp/><ref refid="sndfmt_8h_1a5a6462cfd0616316cf66c93e11a4cfb9" kindref="member">SND_HEAD_SD2</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2feae7dd912842b509d648d62915b996b06f" kindref="member">SF_FORMAT_FLAC</ref>:<sp/>*format<sp/>=<sp/><ref refid="sndfmt_8h_1a621fafe46d93bf05002208e2adae256a" kindref="member">SND_HEAD_FLAC</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2feaebb9b420892e6347299efea9b1de731a" kindref="member">SF_FORMAT_CAF</ref>:<sp/>*format<sp/>=<sp/><ref refid="sndfmt_8h_1a1003e225d98d454970a2400880d05bb6" kindref="member">SND_HEAD_CAF</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2feaaaef1f7e663487eefbe4106de44ea7fd" kindref="member">SF_FORMAT_OGG</ref>:<sp/>*format<sp/>=<sp/><ref refid="sndfmt_8h_1a54e4f6bac153e837804ca12247386ffa" kindref="member">SND_HEAD_OGG</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:<sp/>*format<sp/>=<sp/><ref refid="sndfmt_8h_1a63a85217f98aaa0baaa44589dc251981" kindref="member">SND_HEAD_NONE</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/>*channels<sp/>=<sp/>susp-&gt;<ref refid="structread__susp__struct_1a4b43e49319e316b165cc2d1badfbc367" kindref="member">sf_info</ref>.<ref refid="struct_s_f___i_n_f_o_1aad5220b31d2672bf83d3cf4cea0b2826" kindref="member">channels</ref>;</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(susp-&gt;<ref refid="structread__susp__struct_1a4b43e49319e316b165cc2d1badfbc367" kindref="member">sf_info</ref>.<ref refid="struct_s_f___i_n_f_o_1a36a7c3ae9a8229797f19267b4ba07361" kindref="member">format</ref><sp/>&amp;<sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2feae792e42fc6619187743f7741e7044240" kindref="member">SF_FORMAT_SUBMASK</ref>)<sp/>{</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea8c9b17bb36d115f80ef61dcae7631b26" kindref="member">SF_FORMAT_PCM_S8</ref>:<sp/>*bits<sp/>=<sp/>8;<sp/>*mode<sp/>=<sp/><ref refid="sndfmt_8h_1a40b17abe7751bbe32789b9065b446b9e" kindref="member">SND_MODE_PCM</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea63515ce839545c11d35dc8c8c4c5c261" kindref="member">SF_FORMAT_PCM_16</ref>:<sp/>*bits<sp/>=<sp/>16;<sp/>*mode<sp/>=<sp/><ref refid="sndfmt_8h_1a40b17abe7751bbe32789b9065b446b9e" kindref="member">SND_MODE_PCM</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea160bd57540f1d3d6acbf2e29ea4769f4" kindref="member">SF_FORMAT_PCM_24</ref>:<sp/>*bits<sp/>=<sp/>24;<sp/>*mode<sp/>=<sp/><ref refid="sndfmt_8h_1a40b17abe7751bbe32789b9065b446b9e" kindref="member">SND_MODE_PCM</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea741fa21e06429d59eb548d6f388d16b4" kindref="member">SF_FORMAT_PCM_32</ref>:<sp/>*bits<sp/>=<sp/>32;<sp/>*mode<sp/>=<sp/><ref refid="sndfmt_8h_1a40b17abe7751bbe32789b9065b446b9e" kindref="member">SND_MODE_PCM</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea3828255dad74fc3ebb02b59afb28caae" kindref="member">SF_FORMAT_PCM_U8</ref>:<sp/>*bits<sp/>=<sp/>8;<sp/>*mode<sp/>=<sp/><ref refid="sndfmt_8h_1a8773cb415afebf58612272cbd9fdf72c" kindref="member">SND_MODE_UPCM</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea8b19f7e84eb0556faff33623830b489b" kindref="member">SF_FORMAT_FLOAT</ref>:<sp/>*bits<sp/>=<sp/>32;<sp/>*mode<sp/>=<sp/><ref refid="sndfmt_8h_1ac139fb6c352bf4587edafcf81003ec00" kindref="member">SND_MODE_FLOAT</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea7f5de05a45409d1ce72c9a2ecbff1bd3" kindref="member">SF_FORMAT_DOUBLE</ref>:<sp/>*bits<sp/>=<sp/>64;<sp/>*mode<sp/>=<sp/><ref refid="sndfmt_8h_1ad8b1f236f37727cadbc33435798afb6e" kindref="member">SND_MODE_DOUBLE</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2feae3fd36f90782efc0ee6d00cc4a6f4060" kindref="member">SF_FORMAT_ULAW</ref>:<sp/>*bits<sp/>=<sp/>8;<sp/>*mode<sp/>=<sp/><ref refid="sndfmt_8h_1af82e185deb3b67875700b5654c74e92c" kindref="member">SND_MODE_ULAW</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea88cd6729a685a388edbf6b971bc57d59" kindref="member">SF_FORMAT_ALAW</ref>:<sp/>*bits<sp/>=<sp/>8;<sp/>*mode<sp/>=<sp/><ref refid="sndfmt_8h_1ae15e00abbccc7b0d84968fc6c3374189" kindref="member">SND_MODE_ALAW</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea84028970a006395da0454b107749238e" kindref="member">SF_FORMAT_IMA_ADPCM</ref>:<sp/>*bits<sp/>=<sp/>16;<sp/>*mode<sp/>=<sp/><ref refid="sndfmt_8h_1a5278e8a5145d960bceb36eb44b5ef089" kindref="member">SND_MODE_ADPCM</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2feae668a3aeec6b4ed1b13bf61bf826853e" kindref="member">SF_FORMAT_MS_ADPCM</ref>:<sp/>*bits<sp/>=<sp/>16;<sp/>*mode<sp/>=<sp/><ref refid="sndfmt_8h_1a5278e8a5145d960bceb36eb44b5ef089" kindref="member">SND_MODE_ADPCM</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2feaf83aeb49bdbb825a72f7e28a917b3ff8" kindref="member">SF_FORMAT_GSM610</ref>:<sp/>*bits<sp/>=<sp/>16;<sp/>*mode<sp/>=<sp/><ref refid="sndfmt_8h_1a40ea773c85417fcf12511036e06ee060" kindref="member">SND_MODE_GSM610</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea313dc159c6ef2fbb2aa8a8527ae679d6" kindref="member">SF_FORMAT_VOX_ADPCM</ref>:<sp/>*bits<sp/>=<sp/>16;<sp/>*mode<sp/>=<sp/><ref refid="sndfmt_8h_1a5278e8a5145d960bceb36eb44b5ef089" kindref="member">SND_MODE_ADPCM</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2feaac83013f62a7f7b43d9cf7738b0752da" kindref="member">SF_FORMAT_G721_32</ref>:<sp/>*bits<sp/>=<sp/>16;<sp/>*mode<sp/>=<sp/><ref refid="sndfmt_8h_1a5278e8a5145d960bceb36eb44b5ef089" kindref="member">SND_MODE_ADPCM</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2feada2bb516d73e8f64dbde9a30e9c2fe3a" kindref="member">SF_FORMAT_G723_24</ref>:<sp/>*bits<sp/>=<sp/>16;<sp/>*mode<sp/>=<sp/><ref refid="sndfmt_8h_1a5278e8a5145d960bceb36eb44b5ef089" kindref="member">SND_MODE_ADPCM</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2feaa5c30385e6f2292e273fd4c2897bee6b" kindref="member">SF_FORMAT_G723_40</ref>:<sp/>*bits<sp/>=<sp/>16;<sp/>*mode<sp/>=<sp/><ref refid="sndfmt_8h_1a5278e8a5145d960bceb36eb44b5ef089" kindref="member">SND_MODE_ADPCM</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea82f7b868e26a90aa9f35aca78dccd6cb" kindref="member">SF_FORMAT_DWVW_12</ref>:<sp/>*bits<sp/>=<sp/>12;<sp/>*mode<sp/>=<sp/><ref refid="sndfmt_8h_1a92fd747e25d61ead7939fd11dfe968d6" kindref="member">SND_MODE_DWVW</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2feaa4e811170b266013a8e48089466b1eaa" kindref="member">SF_FORMAT_DWVW_16</ref>:<sp/>*bits<sp/>=<sp/>16;<sp/>*mode<sp/>=<sp/><ref refid="sndfmt_8h_1a92fd747e25d61ead7939fd11dfe968d6" kindref="member">SND_MODE_DWVW</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea0f25d45633813e4d4e9115a635d4e44c" kindref="member">SF_FORMAT_DWVW_24</ref>:<sp/>*bits<sp/>=<sp/>24;<sp/>*mode<sp/>=<sp/><ref refid="sndfmt_8h_1a92fd747e25d61ead7939fd11dfe968d6" kindref="member">SND_MODE_DWVW</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea90c0d2cd326ee0c8535500290ddac4c6" kindref="member">SF_FORMAT_DWVW_N</ref>:<sp/>*bits<sp/>=<sp/>32;<sp/>*mode<sp/>=<sp/><ref refid="sndfmt_8h_1a92fd747e25d61ead7939fd11dfe968d6" kindref="member">SND_MODE_DWVW</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea8fed18695608391eec4fde4ef6aca65e" kindref="member">SF_FORMAT_DPCM_8</ref>:<sp/>*bits<sp/>=<sp/>8;<sp/>*mode<sp/>=<sp/><ref refid="sndfmt_8h_1abcb94da780e9ba9c70c36f6e9ecef6a7" kindref="member">SND_MODE_DPCM</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea1760953aad0c96ca1c85cac5b353b919" kindref="member">SF_FORMAT_DPCM_16</ref>:<sp/>*bits<sp/>=<sp/>16;<sp/>*mode<sp/>=<sp/><ref refid="sndfmt_8h_1abcb94da780e9ba9c70c36f6e9ecef6a7" kindref="member">SND_MODE_DPCM</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:<sp/>*mode<sp/>=<sp/><ref refid="sndfmt_8h_1a55a13a92bef5c0a7c32010cafab9b450" kindref="member">SND_MODE_UNKNOWN</ref>;<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/>sndread_file_open_count++;</highlight></codeline>
<codeline lineno="276"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>MACINTOSH</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(sndread_file_open_count<sp/>&gt;<sp/>24)<sp/>{</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="unix_2switches_8h_1a3d365a416f619366e3a28a11b450739d" kindref="member">nyquist_printf</ref>(</highlight><highlight class="stringliteral">&quot;Warning:<sp/>more<sp/>than<sp/>24<sp/>sound<sp/>files<sp/>are<sp/>now<sp/>open\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="280"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>report<sp/>info<sp/>back<sp/>to<sp/>caller<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((susp-&gt;<ref refid="structread__susp__struct_1a4b43e49319e316b165cc2d1badfbc367" kindref="member">sf_info</ref>.<ref refid="struct_s_f___i_n_f_o_1a36a7c3ae9a8229797f19267b4ba07361" kindref="member">format</ref><sp/>&amp;<sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea4d9e4f32f119d026fdc74a88e9d41e87" kindref="member">SF_FORMAT_TYPEMASK</ref>)<sp/>!=<sp/><ref refid="mac_2config_2i386_2lib-src_2libsndfile_2src_2sndfile_8h_1ac6bea760bc75e449a80b8cc28bf9a2fea754f6ac6e6b293b1ffcb1d06412fa297" kindref="member">SF_FORMAT_RAW</ref>)<sp/>{</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*flags<sp/>=<sp/><ref refid="sndfmt_8h_1a91f40d9ffe50cd5f95afd274a4ddda58" kindref="member">SND_HEAD_CHANNELS</ref><sp/>|<sp/><ref refid="sndfmt_8h_1a0fa3192645282d4116ef6fa430adcfd8" kindref="member">SND_HEAD_MODE</ref><sp/>|<sp/><ref refid="sndfmt_8h_1a4ff1f16b8954d537ca5c92a445a63f31" kindref="member">SND_HEAD_BITS</ref><sp/>|</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sndfmt_8h_1acb39404c6726195133fc3da0648f5a7c" kindref="member">SND_HEAD_SRATE</ref><sp/>|<sp/><ref refid="sndfmt_8h_1af31c7e59e2703e73a44ac5ec9ba6b9f7" kindref="member">SND_HEAD_LEN</ref><sp/>|<sp/><ref refid="sndfmt_8h_1a8458abed8b34c243c06214bbd702b9a6" kindref="member">SND_HEAD_TYPE</ref>;</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(susp-&gt;<ref refid="structread__susp__struct_1a4b43e49319e316b165cc2d1badfbc367" kindref="member">sf_info</ref>.<ref refid="struct_s_f___i_n_f_o_1aad5220b31d2672bf83d3cf4cea0b2826" kindref="member">channels</ref><sp/>==<sp/>1)<sp/>{</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structread__susp__struct_1aa93f8c26d4f72c3b69fc682e65948b55" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1addb182d5c03b9b8f864e4fd9871f7722" kindref="member">fetch</ref><sp/>=<sp/><ref refid="sndread_8c_1a2970b75f883271f21e9ec25123c4e8f7" kindref="member">read__fetch</ref>;</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structread__susp__struct_1aa93f8c26d4f72c3b69fc682e65948b55" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a39cc18ad890efb4f088c9d7636e3b5c0" kindref="member">free</ref><sp/>=<sp/><ref refid="sndread_8c_1a04a7b4551dfc448703d6bc49d570f8fa" kindref="member">read_free</ref>;</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structread__susp__struct_1aa93f8c26d4f72c3b69fc682e65948b55" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a4d5fa6ba6ea209e5159d06ea00320041" kindref="member">name</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;read&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="sound_8c_1a6ff362fbe32a9dfef6c14f1adc52f3b7" kindref="member">cvsound</ref>(<ref refid="sound_8c_1a11255fe781080fb7915f6ab9a5afc4ae" kindref="member">sound_create</ref>((<ref refid="structsnd__susp__struct" kindref="compound">snd_susp_type</ref>)susp,<sp/>t0,<sp/>*srate,<sp/></highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>scale_factor));</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structread__susp__struct_1aa93f8c26d4f72c3b69fc682e65948b55" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1addb182d5c03b9b8f864e4fd9871f7722" kindref="member">fetch</ref><sp/>=<sp/><ref refid="multiread_8c_1a531d38f97da42f5b5694a78d87266e75" kindref="member">multiread_fetch</ref>;</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structread__susp__struct_1aa93f8c26d4f72c3b69fc682e65948b55" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a39cc18ad890efb4f088c9d7636e3b5c0" kindref="member">free</ref><sp/>=<sp/><ref refid="multiread_8c_1a40aaec90cff37c5e0ee19ea2ea2858a9" kindref="member">multiread_free</ref>;</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structread__susp__struct_1aa93f8c26d4f72c3b69fc682e65948b55" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a4d5fa6ba6ea209e5159d06ea00320041" kindref="member">name</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;multiread&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="multiread_8c_1ac16117c57e61662bb30033c5e2b94d64" kindref="member">multiread_create</ref>(susp);</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="298"><highlight class="normal">}</highlight></codeline>
<codeline lineno="299"><highlight class="normal"></highlight></codeline>
<codeline lineno="300"><highlight class="normal"></highlight></codeline>
<codeline lineno="301"><highlight class="normal"></highlight></codeline>
<codeline lineno="302"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndread.c"/>
  </compounddef>
</doxygen>
