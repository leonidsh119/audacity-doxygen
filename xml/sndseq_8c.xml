<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.11">
  <compounddef id="sndseq_8c" kind="file" language="C++">
    <compoundname>sndseq.c</compoundname>
    <includes local="yes">stdio.h</includes>
    <includes local="yes">stdlib.h</includes>
    <includes refid="xlisp_8h" local="yes">xlisp.h</includes>
    <includes refid="sound_8h" local="yes">sound.h</includes>
    <includes refid="falloc_8h" local="yes">falloc.h</includes>
    <includes refid="scale_8h" local="yes">scale.h</includes>
    <includes refid="add_8h" local="yes">add.h</includes>
    <includes refid="extern_8h" local="yes">extern.h</includes>
    <includes refid="cext_8h" local="yes">cext.h</includes>
    <includes refid="assert_8h" local="yes">assert.h</includes>
    <incdepgraph>
      <node id="13204">
        <label>stdlib.h</label>
      </node>
      <node id="13207">
        <label>setjmp.h</label>
      </node>
      <node id="13217">
        <label>falloc.h</label>
        <link refid="falloc_8h"/>
        <childnode refid="13218" relation="include">
        </childnode>
        <childnode refid="13219" relation="include">
        </childnode>
      </node>
      <node id="13205">
        <label>xlisp.h</label>
        <link refid="xlisp_8h"/>
        <childnode refid="13204" relation="include">
        </childnode>
        <childnode refid="13203" relation="include">
        </childnode>
        <childnode refid="13206" relation="include">
        </childnode>
        <childnode refid="13207" relation="include">
        </childnode>
        <childnode refid="13208" relation="include">
        </childnode>
      </node>
      <node id="13223">
        <label>assert.h</label>
        <link refid="assert_8h"/>
      </node>
      <node id="13216">
        <label>cleanup.h</label>
        <link refid="cleanup_8h"/>
      </node>
      <node id="13215">
        <label>mem.h</label>
        <link refid="libnyquist_2nyquist_2cmt_2mem_8h"/>
      </node>
      <node id="13214">
        <label>string.h</label>
      </node>
      <node id="13218">
        <label>cque.h</label>
        <link refid="cque_8h"/>
      </node>
      <node id="13209">
        <label>sound.h</label>
        <link refid="sound_8h"/>
        <childnode refid="13210" relation="include">
        </childnode>
        <childnode refid="13211" relation="include">
        </childnode>
      </node>
      <node id="13210">
        <label>math.h</label>
      </node>
      <node id="13213">
        <label>switches.h</label>
      </node>
      <node id="13211">
        <label>stdefs.h</label>
        <link refid="stdefs_8h"/>
        <childnode refid="13212" relation="include">
        </childnode>
      </node>
      <node id="13208">
        <label>xldmem.h</label>
        <link refid="xldmem_8h"/>
      </node>
      <node id="13222">
        <label>extern.h</label>
        <link refid="extern_8h"/>
      </node>
      <node id="13206">
        <label>ctype.h</label>
      </node>
      <node id="13221">
        <label>add.h</label>
        <link refid="add_8h"/>
      </node>
      <node id="13202">
        <label>C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndseq.c</label>
        <link refid="sndseq.c"/>
        <childnode refid="13203" relation="include">
        </childnode>
        <childnode refid="13204" relation="include">
        </childnode>
        <childnode refid="13205" relation="include">
        </childnode>
        <childnode refid="13209" relation="include">
        </childnode>
        <childnode refid="13217" relation="include">
        </childnode>
        <childnode refid="13220" relation="include">
        </childnode>
        <childnode refid="13221" relation="include">
        </childnode>
        <childnode refid="13222" relation="include">
        </childnode>
        <childnode refid="13212" relation="include">
        </childnode>
        <childnode refid="13223" relation="include">
        </childnode>
      </node>
      <node id="13219">
        <label>debug.h</label>
        <link refid="libnyquist_2nyquist_2nyqsrc_2debug_8h"/>
      </node>
      <node id="13220">
        <label>scale.h</label>
        <link refid="scale_8h"/>
      </node>
      <node id="13203">
        <label>stdio.h</label>
      </node>
      <node id="13212">
        <label>cext.h</label>
        <link refid="cext_8h"/>
        <childnode refid="13213" relation="include">
        </childnode>
        <childnode refid="13203" relation="include">
        </childnode>
        <childnode refid="13214" relation="include">
        </childnode>
        <childnode refid="13210" relation="include">
        </childnode>
        <childnode refid="13215" relation="include">
        </childnode>
        <childnode refid="13216" relation="include">
        </childnode>
      </node>
    </incdepgraph>
    <innerclass refid="structsndseq__susp__struct" prot="public">sndseq_susp_struct</innerclass>
      <sectiondef kind="define">
      <memberdef kind="define" id="sndseq_8c_1ac6ddc52b75831f071590fb5caabc318e" prot="public" static="no">
        <name>SNDSEQDBG</name>
        <initializer>0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndseq.c" line="23" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndseq.c" bodystart="23" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="sndseq_8c_1af316c33cc298530f245e8b55330e86b5" prot="public" static="no">
        <name>D</name>
        <initializer><ref refid="sndfile__save_8m_1a55944e1fa1bcc1bfc6185bc610b0a930" kindref="member">if</ref> (<ref refid="sndseq_8c_1ac6ddc52b75831f071590fb5caabc318e" kindref="member">SNDSEQDBG</ref>)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndseq.c" line="24" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndseq.c" bodystart="24" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="typedef">
      <memberdef kind="typedef" id="sndseq_8c_1a6f486f016650bd4a84ce45feaf225221" prot="public" static="no">
        <type>struct <ref refid="structsndseq__susp__struct" kindref="compound">sndseq_susp_struct</ref></type>
        <definition>typedef struct sndseq_susp_struct  sndseq_susp_node</definition>
        <argsstring></argsstring>
        <name>sndseq_susp_node</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndseq.c" line="59" column="1"/>
      </memberdef>
      <memberdef kind="typedef" id="sndseq_8c_1aac8c2d8ca1aa3e3436b44941c78a3496" prot="public" static="no">
        <type>struct <ref refid="structsndseq__susp__struct" kindref="compound">sndseq_susp_struct</ref> *</type>
        <definition>typedef struct sndseq_susp_struct * sndseq_susp_type</definition>
        <argsstring></argsstring>
        <name>sndseq_susp_type</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndseq.c" line="59" column="1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="var">
      <memberdef kind="variable" id="sndseq_8c_1a463856efc8da127ad6c57d80d9a1aa8a" prot="public" static="no" mutable="no">
        <type><ref refid="xldmem_8h_1a9a9ec6a5fbca2b40ed8d19faa799be8c" kindref="member">LVAL</ref></type>
        <definition>LVAL s_stdout</definition>
        <argsstring></argsstring>
        <name>s_stdout</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndseq.c" line="66" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/xlisp/xlglob.c" bodystart="26" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="sndseq_8c_1af06af1c3131774aab1f7a74fa72ff36c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>void sndseq_fetch</definition>
        <argsstring>(snd_susp_type a_susp, snd_list_type snd_list)</argsstring>
        <name>sndseq_fetch</name>
        <param>
          <type><ref refid="sound_8h_1ab2d3b7883b72a75324f6636f10c7f903" kindref="member">snd_susp_type</ref></type>
          <declname>a_susp</declname>
        </param>
        <param>
          <type><ref refid="sound_8h_1ab05388854adb60c2855a70276d2ceb65" kindref="member">snd_list_type</ref></type>
          <declname>snd_list</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndseq.c" line="62" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndseq.c" bodystart="79" bodyend="260"/>
      </memberdef>
      <memberdef kind="function" id="sndseq_8c_1adbb75a4319888267c961cb87fba9bfc6" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>void sndseq_zero_fill_fetch</definition>
        <argsstring>(sndseq_susp_type, snd_list_type)</argsstring>
        <name>sndseq_zero_fill_fetch</name>
        <param>
          <type><ref refid="sndseq_8c_1aac8c2d8ca1aa3e3436b44941c78a3496" kindref="member">sndseq_susp_type</ref></type>
        </param>
        <param>
          <type><ref refid="sound_8h_1ab05388854adb60c2855a70276d2ceb65" kindref="member">snd_list_type</ref></type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndseq.c" line="63" column="1"/>
      </memberdef>
      <memberdef kind="function" id="sndseq_8c_1add89b256493e924d0fd6c395c62e7e74" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>void sndseq_free</definition>
        <argsstring>(snd_susp_type susp)</argsstring>
        <name>sndseq_free</name>
        <param>
          <type><ref refid="sound_8h_1ab2d3b7883b72a75324f6636f10c7f903" kindref="member">snd_susp_type</ref></type>
          <declname>susp</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndseq.c" line="64" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndseq.c" bodystart="263" bodyend="268"/>
      </memberdef>
      <memberdef kind="function" id="sndseq_8c_1acf8e4fac927cc5e4af6b6c984de96c02" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>void sndseq_mark</definition>
        <argsstring>(snd_susp_type a_susp)</argsstring>
        <name>sndseq_mark</name>
        <param>
          <type><ref refid="sound_8h_1ab2d3b7883b72a75324f6636f10c7f903" kindref="member">snd_susp_type</ref></type>
          <declname>a_susp</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndseq.c" line="68" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndseq.c" bodystart="68" bodyend="73"/>
      </memberdef>
      <memberdef kind="function" id="sndseq_8c_1a1b93625fe1dfaf829d76e66245218900" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>void sndseq_print_tree</definition>
        <argsstring>(snd_susp_type a_susp, int n)</argsstring>
        <name>sndseq_print_tree</name>
        <param>
          <type><ref refid="sound_8h_1ab2d3b7883b72a75324f6636f10c7f903" kindref="member">snd_susp_type</ref></type>
          <declname>a_susp</declname>
        </param>
        <param>
          <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
          <declname>n</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndseq.c" line="271" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndseq.c" bodystart="271" bodyend="285"/>
      </memberdef>
      <memberdef kind="function" id="sndseq_8c_1aa67b785294499fd2d608e12520f0f384" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8h_1a792cec4ed9d6d636d342d9365ba265ea" kindref="member">sound_type</ref></type>
        <definition>sound_type snd_make_sndseq</definition>
        <argsstring>(sound_type s1, LVAL closure)</argsstring>
        <name>snd_make_sndseq</name>
        <param>
          <type><ref refid="sound_8h_1a792cec4ed9d6d636d342d9365ba265ea" kindref="member">sound_type</ref></type>
          <declname>s1</declname>
        </param>
        <param>
          <type><ref refid="xldmem_8h_1a9a9ec6a5fbca2b40ed8d19faa799be8c" kindref="member">LVAL</ref></type>
          <declname>closure</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndseq.c" line="290" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndseq.c" bodystart="290" bodyend="338"/>
      </memberdef>
      <memberdef kind="function" id="sndseq_8c_1a15f118b528443de1370d4b18d7c5a44a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8h_1a792cec4ed9d6d636d342d9365ba265ea" kindref="member">sound_type</ref></type>
        <definition>sound_type snd_sndseq</definition>
        <argsstring>(sound_type s1, LVAL closure)</argsstring>
        <name>snd_sndseq</name>
        <param>
          <type><ref refid="sound_8h_1a792cec4ed9d6d636d342d9365ba265ea" kindref="member">sound_type</ref></type>
          <declname>s1</declname>
        </param>
        <param>
          <type><ref refid="xldmem_8h_1a9a9ec6a5fbca2b40ed8d19faa799be8c" kindref="member">LVAL</ref></type>
          <declname>closure</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndseq.c" line="341" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndseq.c" bodystart="341" bodyend="348"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*<sp/>sndseq.c<sp/>--<sp/>return<sp/>a<sp/>signal<sp/>until<sp/>its<sp/>logical<sp/>stop,<sp/>then</highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/><sp/><sp/>evaluate<sp/>a<sp/>closure<sp/>to<sp/>get<sp/>a<sp/>signal<sp/>and<sp/>convert<sp/>to<sp/>an<sp/>add</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/><sp/><sp/>of<sp/>two<sp/>signals<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>CHANGE<sp/>LOG</highlight></codeline>
<codeline lineno="6"><highlight class="comment"><sp/>*<sp/>--------------------------------------------------------------------</highlight></codeline>
<codeline lineno="7"><highlight class="comment"><sp/>*<sp/>28Apr03<sp/><sp/>dm<sp/><sp/>changes<sp/>for<sp/>portability<sp/>and<sp/>fix<sp/>compiler<sp/>warnings</highlight></codeline>
<codeline lineno="8"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;stdio.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>mips</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;stdlib.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="xlisp_8h" kindref="compound">xlisp.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="sound_8h" kindref="compound">sound.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="falloc_8h" kindref="compound">falloc.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="scale_8h" kindref="compound">scale.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="add_8h" kindref="compound">add.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="extern_8h" kindref="compound">extern.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="cext_8h" kindref="compound">cext.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="assert_8h" kindref="compound">assert.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight></codeline>
<codeline lineno="23" refid="sndseq_8c_1ac6ddc52b75831f071590fb5caabc318e" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>SNDSEQDBG<sp/>0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24" refid="sndseq_8c_1af316c33cc298530f245e8b55330e86b5" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>D<sp/>if<sp/>(SNDSEQDBG)<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Note:<sp/>this<sp/>structure<sp/>is<sp/>identical<sp/>to<sp/>an<sp/>add_susp<sp/>structure<sp/>up</highlight></codeline>
<codeline lineno="27"><highlight class="comment"><sp/><sp/><sp/>to<sp/>the<sp/>field<sp/>output_per_s2<sp/>so<sp/>that<sp/>we<sp/>can<sp/>convert<sp/>this<sp/>into</highlight></codeline>
<codeline lineno="28"><highlight class="comment"><sp/><sp/><sp/>an<sp/>add<sp/>after<sp/>eval&apos;ing<sp/>the<sp/>closure.<sp/><sp/>Since<sp/>this<sp/>struct<sp/>is<sp/>bigger</highlight></codeline>
<codeline lineno="29"><highlight class="comment"><sp/><sp/><sp/>than<sp/>an<sp/>add,<sp/>make<sp/>sure<sp/>not<sp/>to<sp/>clobber<sp/>the<sp/>&quot;free&quot;<sp/>routine<sp/></highlight></codeline>
<codeline lineno="30"><highlight class="comment"><sp/><sp/><sp/>(sndseq_free)<sp/>or<sp/>else<sp/>we&apos;ll<sp/>leak<sp/>memory.</highlight></codeline>
<codeline lineno="31"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32" refid="structsndseq__susp__struct" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structsndseq__susp__struct" kindref="compound">sndseq_susp_struct</ref><sp/>{</highlight></codeline>
<codeline lineno="33" refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structsnd__susp__struct" kindref="compound">snd_susp_node</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>;</highlight></codeline>
<codeline lineno="34" refid="structsndseq__susp__struct_1abe212e71f0fffcfd34b50894fba3ba33" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">boolean</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structsndseq__susp__struct_1abe212e71f0fffcfd34b50894fba3ba33" kindref="member">started</ref>;</highlight></codeline>
<codeline lineno="35" refid="structsndseq__susp__struct_1ad5a2331c3f5dd7cc5bc791f2a6d5b494" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structsndseq__susp__struct_1ad5a2331c3f5dd7cc5bc791f2a6d5b494" kindref="member">terminate_bits</ref>;</highlight></codeline>
<codeline lineno="36" refid="structsndseq__susp__struct_1ae69868d363f2288398b0dcc25e249ce3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structsndseq__susp__struct_1ae69868d363f2288398b0dcc25e249ce3" kindref="member">terminate_cnt</ref>;</highlight></codeline>
<codeline lineno="37" refid="structsndseq__susp__struct_1a5ec192e5b0a58d4f10cf16449885a5f0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structsndseq__susp__struct_1a5ec192e5b0a58d4f10cf16449885a5f0" kindref="member">logical_stop_bits</ref>;</highlight></codeline>
<codeline lineno="38" refid="structsndseq__susp__struct_1adba55e0931a7d924aeda8516bd3cc9d6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">boolean</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structsndseq__susp__struct_1adba55e0931a7d924aeda8516bd3cc9d6" kindref="member">logically_stopped</ref>;</highlight></codeline>
<codeline lineno="39" refid="structsndseq__susp__struct_1ad95ebdf5dc44b8033b18ff4bc8e7ec25" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structsound__struct" kindref="compound">sound_type</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structsndseq__susp__struct_1ad95ebdf5dc44b8033b18ff4bc8e7ec25" kindref="member">s1</ref>;</highlight></codeline>
<codeline lineno="40" refid="structsndseq__susp__struct_1a1b4a5072f021520588391fd6ad10dad3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structsndseq__susp__struct_1a1b4a5072f021520588391fd6ad10dad3" kindref="member">s1_cnt</ref>;</highlight></codeline>
<codeline lineno="41" refid="structsndseq__susp__struct_1ab5bac14310aecd2129e943c8aed7841d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structsample__block__node" kindref="compound">sample_block_type</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structsndseq__susp__struct_1ab5bac14310aecd2129e943c8aed7841d" kindref="member">s1_bptr</ref>;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>block<sp/>pointer<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42" refid="structsndseq__susp__struct_1a6ef4914e875145770733f3e79b54f2d0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sound_8h_1a83d17f7b465d1591f27cd28fc5eb8a03" kindref="member">sample_block_values_type</ref><sp/><sp/><sp/><sp/><ref refid="structsndseq__susp__struct_1a6ef4914e875145770733f3e79b54f2d0" kindref="member">s1_ptr</ref>;</highlight></codeline>
<codeline lineno="43" refid="structsndseq__susp__struct_1a75a750d3f6e731bebc9e217455961460" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structsound__struct" kindref="compound">sound_type</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structsndseq__susp__struct_1a75a750d3f6e731bebc9e217455961460" kindref="member">s2</ref>;</highlight></codeline>
<codeline lineno="44" refid="structsndseq__susp__struct_1abc4f99cbcc64b590073662e5be968288" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structsndseq__susp__struct_1abc4f99cbcc64b590073662e5be968288" kindref="member">s2_cnt</ref>;</highlight></codeline>
<codeline lineno="45" refid="structsndseq__susp__struct_1a3759a96ce36fdee293c2bc6be1a801a5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structsample__block__node" kindref="compound">sample_block_type</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structsndseq__susp__struct_1a3759a96ce36fdee293c2bc6be1a801a5" kindref="member">s2_bptr</ref>;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>block<sp/>pointer<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46" refid="structsndseq__susp__struct_1a89610d179e4eb86db8cbe65068412ec9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sound_8h_1a83d17f7b465d1591f27cd28fc5eb8a03" kindref="member">sample_block_values_type</ref><sp/><sp/><sp/><sp/><ref refid="structsndseq__susp__struct_1a89610d179e4eb86db8cbe65068412ec9" kindref="member">s2_ptr</ref>;</highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>support<sp/>for<sp/>interpolation<sp/>of<sp/>s2<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49" refid="structsndseq__susp__struct_1a0144b74e520a337f8225b38b06e19c3f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sound_8h_1a3a9d1d4a1c153390d2401a6e9f71b32c" kindref="member">sample_type</ref><sp/><ref refid="structsndseq__susp__struct_1a0144b74e520a337f8225b38b06e19c3f" kindref="member">s2_x1_sample</ref>;</highlight></codeline>
<codeline lineno="50" refid="structsndseq__susp__struct_1af81c0a094b63d2cc078bb819f5417ea5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="structsndseq__susp__struct_1af81c0a094b63d2cc078bb819f5417ea5" kindref="member">s2_phase</ref>;</highlight></codeline>
<codeline lineno="51" refid="structsndseq__susp__struct_1a049976a5eca9c1199900485f96b8da2a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="structsndseq__susp__struct_1a049976a5eca9c1199900485f96b8da2a" kindref="member">s2_phase_incr</ref>;</highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>support<sp/>for<sp/>ramp<sp/>between<sp/>samples<sp/>of<sp/>s2<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54" refid="structsndseq__susp__struct_1a8a95c278797322cb12beb29433187a61" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="structsndseq__susp__struct_1a8a95c278797322cb12beb29433187a61" kindref="member">output_per_s2</ref>;</highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>sndseq-specific<sp/>data<sp/>starts<sp/>here<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="57" refid="structsndseq__susp__struct_1a26f0502792041d79ded4c51991d1237e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structnode" kindref="compound">LVAL</ref><sp/><ref refid="structsndseq__susp__struct_1a26f0502792041d79ded4c51991d1237e" kindref="member">closure</ref>;</highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal">}<sp/><ref refid="sndseq_8c_1a6f486f016650bd4a84ce45feaf225221" kindref="member">sndseq_susp_node</ref>,<sp/>*<ref refid="sndseq_8c_1aac8c2d8ca1aa3e3436b44941c78a3496" kindref="member">sndseq_susp_type</ref>;</highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="sndseq_8c_1af06af1c3131774aab1f7a74fa72ff36c" kindref="member">sndseq_fetch</ref>(<ref refid="structsnd__susp__struct" kindref="compound">snd_susp_type</ref><sp/>a_susp,<sp/><ref refid="structsnd__list__struct" kindref="compound">snd_list_type</ref><sp/>snd_list);</highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="sndseq_8c_1adbb75a4319888267c961cb87fba9bfc6" kindref="member">sndseq_zero_fill_fetch</ref>(sndseq_susp_type,<sp/><ref refid="structsnd__list__struct" kindref="compound">snd_list_type</ref>);</highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="sndseq_8c_1add89b256493e924d0fd6c395c62e7e74" kindref="member">sndseq_free</ref>(<ref refid="structsnd__susp__struct" kindref="compound">snd_susp_type</ref><sp/><ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>);</highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/><ref refid="structnode" kindref="compound">LVAL</ref><sp/><ref refid="sndseq_8c_1a463856efc8da127ad6c57d80d9a1aa8a" kindref="member">s_stdout</ref>;</highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight></codeline>
<codeline lineno="68" refid="sndseq_8c_1acf8e4fac927cc5e4af6b6c984de96c02" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="sndseq_8c_1acf8e4fac927cc5e4af6b6c984de96c02" kindref="member">sndseq_mark</ref>(<ref refid="structsnd__susp__struct" kindref="compound">snd_susp_type</ref><sp/>a_susp)</highlight></codeline>
<codeline lineno="69"><highlight class="normal">{</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/>sndseq_susp_type<sp/><ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref><sp/>=<sp/>(<ref refid="sndseq_8c_1aac8c2d8ca1aa3e3436b44941c78a3496" kindref="member">sndseq_susp_type</ref>)<sp/>a_susp;</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sound_8c_1aacbcd25bfdd21a0dfd009fe0bfbe4ff5" kindref="member">sound_xlmark</ref>(susp-&gt;<ref refid="structsndseq__susp__struct_1ad95ebdf5dc44b8033b18ff4bc8e7ec25" kindref="member">s1</ref>);</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(susp-&gt;<ref refid="structsndseq__susp__struct_1a26f0502792041d79ded4c51991d1237e" kindref="member">closure</ref>)<sp/><ref refid="xldmem_8c_1ae8cb64b8b02eb280bb21f141a33f6a36" kindref="member">mark</ref>(susp-&gt;<ref refid="structsndseq__susp__struct_1a26f0502792041d79ded4c51991d1237e" kindref="member">closure</ref>);</highlight></codeline>
<codeline lineno="73"><highlight class="normal">}</highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>sndseq_fetch<sp/>returns<sp/>blocks<sp/>of<sp/>s1<sp/>until<sp/>the<sp/>logical<sp/>stop<sp/>time<sp/>of<sp/>s1<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight></codeline>
<codeline lineno="79" refid="sndseq_8c_1af06af1c3131774aab1f7a74fa72ff36c" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="sndseq_8c_1af06af1c3131774aab1f7a74fa72ff36c" kindref="member">sndseq_fetch</ref>(<ref refid="structsnd__susp__struct" kindref="compound">snd_susp_type</ref><sp/>a_susp,<sp/><ref refid="structsnd__list__struct" kindref="compound">snd_list_type</ref><sp/>snd_list)</highlight></codeline>
<codeline lineno="80"><highlight class="normal">{</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/>sndseq_susp_type<sp/><ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref><sp/>=<sp/>(<ref refid="sndseq_8c_1aac8c2d8ca1aa3e3436b44941c78a3496" kindref="member">sndseq_susp_type</ref>)<sp/>a_susp;</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>togo;</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n;</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structsample__block__node" kindref="compound">sample_block_type</ref><sp/><ref refid="lilv__test_8c_1af5a45dbcaa926b186e6f71d08212acc3" kindref="member">out</ref>;</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">register</highlight><highlight class="normal"><sp/><ref refid="sound_8h_1a83d17f7b465d1591f27cd28fc5eb8a03" kindref="member">sample_block_values_type</ref><sp/>out_ptr;</highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/>nyquist_printf(&quot;sndseq_fetch<sp/>called:<sp/>s1_cnt<sp/>%d\n&quot;,<sp/>susp-&gt;s1_cnt);<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="89"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>first<sp/>compute<sp/>how<sp/>many<sp/>samples<sp/>to<sp/>copy<sp/>(or<sp/>transfer)</highlight></codeline>
<codeline lineno="90"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>get<sp/>next<sp/>samples;<sp/>in<sp/>add,<sp/>the<sp/>call<sp/>is:</highlight></codeline>
<codeline lineno="93"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/>susp_check_term_log_block_samples(s1,<sp/>s1_bptr,<sp/>s1_ptr,<sp/>s1_cnt,<sp/>1,<sp/>3);</highlight></codeline>
<codeline lineno="94"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*</highlight></codeline>
<codeline lineno="95"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>the<sp/>plan<sp/>here<sp/>is<sp/>tricky:<sp/>if<sp/>s1<sp/>has<sp/>logically<sp/>stopped,<sp/>then<sp/>evaluate</highlight></codeline>
<codeline lineno="96"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>the<sp/>closure<sp/>to<sp/>get<sp/>signal<sp/>s2.<sp/><sp/>Then<sp/>convert<sp/>sndseq<sp/>into<sp/>an<sp/>add.</highlight></codeline>
<codeline lineno="97"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(susp-&gt;<ref refid="structsndseq__susp__struct_1a1b4a5072f021520588391fd6ad10dad3" kindref="member">s1_cnt</ref><sp/>==<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sound_8h_1a4269e8e845a8409c643c8e491d5e7b12" kindref="member">susp_get_block_samples</ref>(<ref refid="structsndseq__susp__struct_1ad95ebdf5dc44b8033b18ff4bc8e7ec25" kindref="member">s1</ref>,<sp/><ref refid="structsndseq__susp__struct_1ab5bac14310aecd2129e943c8aed7841d" kindref="member">s1_bptr</ref>,<sp/><ref refid="structsndseq__susp__struct_1a6ef4914e875145770733f3e79b54f2d0" kindref="member">s1_ptr</ref>,<sp/><ref refid="structsndseq__susp__struct_1a1b4a5072f021520588391fd6ad10dad3" kindref="member">s1_cnt</ref>);</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(susp-&gt;<ref refid="structsndseq__susp__struct_1a6ef4914e875145770733f3e79b54f2d0" kindref="member">s1_ptr</ref><sp/>==<sp/><ref refid="sound_8c_1a5917e1ea52952f15fd755fa27432113b" kindref="member">zero_block</ref>-&gt;<ref refid="structsample__block__node_1a921e4cd2359010f8ed736a116da8867e" kindref="member">samples</ref>)<sp/>{</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1ad5a2331c3f5dd7cc5bc791f2a6d5b494" kindref="member">terminate_bits</ref><sp/>=<sp/>1;<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>mark<sp/>s1<sp/>as<sp/>terminated<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/>nyquist_printf(&quot;sndseq_fetch:<sp/>s1-lsc<sp/>%d,<sp/>current<sp/>%d<sp/>cnt<sp/>%d\n&quot;,</highlight></codeline>
<codeline lineno="104"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;s1-&gt;logical_stop_cnt,<sp/>susp-&gt;s1-&gt;current,<sp/>susp-&gt;s1_cnt);<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="106"><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(susp-&gt;<ref refid="structsndseq__susp__struct_1ad95ebdf5dc44b8033b18ff4bc8e7ec25" kindref="member">s1</ref>-&gt;<ref refid="structsound__struct_1a51e65ef2c1784b5bc543a84ec90d5022" kindref="member">logical_stop_cnt</ref><sp/>!=<sp/><ref refid="sound_8h_1ac1ae4add974b9cfc6b5aaf8a578f01ab" kindref="member">UNKNOWN</ref><sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1ad95ebdf5dc44b8033b18ff4bc8e7ec25" kindref="member">s1</ref>-&gt;<ref refid="structsound__struct_1a51e65ef2c1784b5bc543a84ec90d5022" kindref="member">logical_stop_cnt</ref><sp/>==<sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1ad95ebdf5dc44b8033b18ff4bc8e7ec25" kindref="member">s1</ref>-&gt;<ref refid="structsound__struct_1a36de08aa7f68cf01c3f197548bc3e00f" kindref="member">current</ref><sp/>-<sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a1b4a5072f021520588391fd6ad10dad3" kindref="member">s1_cnt</ref>)<sp/>{</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="midifns_8h_1a3f787491db5dbc75c21b27d54e9ebae6" kindref="member">time_type</ref><sp/>now<sp/>=<sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a5e783b62d30b458070fb80dc0e112594" kindref="member">t0</ref><sp/>+<sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a8f9e3b02c2fc0ccbb63d88b97d44c89c" kindref="member">current</ref><sp/>/<sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a89e4d9a7c1f50a9a0b4bca5ec1c253be" kindref="member">sr</ref>;</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>note:<sp/>cons<sp/>args<sp/>are<sp/>protected<sp/>from<sp/>GC:<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structnode" kindref="compound">LVAL</ref><sp/>result;</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>delay;<sp/></highlight><highlight class="comment">/*<sp/>sample<sp/>delay<sp/>to<sp/>s2<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="113"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/>stats();gc();stats();*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="xlisp_8h_1a1479676ad1c6de6f93ba2044c0685617" kindref="member">xlsave1</ref>(result);</highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"><ref refid="sndseq_8c_1af316c33cc298530f245e8b55330e86b5" kindref="member">D</ref><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="unix_2switches_8h_1a3d365a416f619366e3a28a11b450739d" kindref="member">nyquist_printf</ref>(</highlight><highlight class="stringliteral">&quot;sndseq_fetch:<sp/>about<sp/>to<sp/>eval<sp/>closure<sp/>at<sp/>%g,<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;susp-&gt;susp.t0<sp/>%g,<sp/>susp.current<sp/>%d:\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>now,<sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a5e783b62d30b458070fb80dc0e112594" kindref="member">t0</ref>,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a8f9e3b02c2fc0ccbb63d88b97d44c89c" kindref="member">current</ref>);</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="xleval_8c_1a4e85c1af4b4cbfa71b83b42ebefb0a01" kindref="member">xleval</ref>(<ref refid="xldmem_8c_1a6020b108cda9dc1cb27b748db6afef0a" kindref="member">cons</ref>(susp-&gt;<ref refid="structsndseq__susp__struct_1a26f0502792041d79ded4c51991d1237e" kindref="member">closure</ref>,<sp/><ref refid="xlisp_8h_1a72509ef6a53e6298774f56615eaaf775" kindref="member">consa</ref>(<ref refid="xldmem_8c_1a136914cbe882831bbdd74a24b58c4759" kindref="member">cvflonum</ref>(now))));</highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a5ec192e5b0a58d4f10cf16449885a5f0" kindref="member">logical_stop_bits</ref><sp/>=<sp/>1;<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>mark<sp/>s1<sp/>as<sp/>logically<sp/>stopped<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="extern_8c_1a1676cd2b77ed1a51590fd74279b96312" kindref="member">exttypep</ref>(result,<sp/><ref refid="nyquist_2nyqsrc_2nyx_8c_1a5d46b7b169ac8631bca1d7d523817742" kindref="member">a_sound</ref>))<sp/>{</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a75a750d3f6e731bebc9e217455961460" kindref="member">s2</ref><sp/>=<sp/><ref refid="sound_8c_1ad56b2f689f0d4897c4d2c79356d6102d" kindref="member">sound_copy</ref>(<ref refid="sound_8h_1aa309e04f7a0ff565a69f56d34fd6f899" kindref="member">getsound</ref>(result));</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><ref refid="sndseq_8c_1af316c33cc298530f245e8b55330e86b5" kindref="member">D</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="unix_2switches_8h_1a3d365a416f619366e3a28a11b450739d" kindref="member">nyquist_printf</ref>(</highlight><highlight class="stringliteral">&quot;sndseq:<sp/>copied<sp/>result<sp/>from<sp/>closure<sp/>is<sp/>%p\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a75a750d3f6e731bebc9e217455961460" kindref="member">s2</ref>);</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/><ref refid="xldbug_8c_1a2d78bf523301185246193246684786a8" kindref="member">xlerror</ref>(</highlight><highlight class="stringliteral">&quot;closure<sp/>did<sp/>not<sp/>return<sp/>a<sp/>(monophonic)<sp/>sound&quot;</highlight><highlight class="normal">,<sp/>result);</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><ref refid="sndseq_8c_1af316c33cc298530f245e8b55330e86b5" kindref="member">D</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="unix_2switches_8h_1a3d365a416f619366e3a28a11b450739d" kindref="member">nyquist_printf</ref>(</highlight><highlight class="stringliteral">&quot;in<sp/>sndseq:<sp/>logically<sp/>stopped;<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%p<sp/>returned<sp/>from<sp/>evform\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a75a750d3f6e731bebc9e217455961460" kindref="member">s2</ref>);</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a26f0502792041d79ded4c51991d1237e" kindref="member">closure</ref><sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>allow<sp/>garbage<sp/>collection<sp/>now<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="macaboutbox_8c_1a263efce0e5cda1d387a1a43f94715445" kindref="member">NIL</ref>;</highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/****<sp/>Now<sp/>convert<sp/>to<sp/>add<sp/>****/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a077478e200df3bc42489892597f15d47" kindref="member">mark</ref><sp/>=<sp/><ref refid="libnyquist_2nyquist_2nyqsrc_2add_8c_1abf37804ec7b5a257873af665b86ab09d" kindref="member">add_mark</ref>;</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a8044ae9d2cfcbccffd2a60c9b6ce16fa" kindref="member">log_stop_cnt</ref><sp/>=<sp/><ref refid="sound_8h_1ac1ae4add974b9cfc6b5aaf8a578f01ab" kindref="member">UNKNOWN</ref>;<sp/></highlight><highlight class="comment">/*<sp/>will<sp/>be<sp/>recomputed<sp/>by<sp/>add<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a4403d10e525f61c551eaa74440ee6b7d" kindref="member">print_tree</ref><sp/>=<sp/><ref refid="libnyquist_2nyquist_2nyqsrc_2add_8c_1a5df6be35ec4c91243203e3923c7346a4" kindref="member">add_print_tree</ref>;</highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>assume<sp/>sample<sp/>rates<sp/>are<sp/>the<sp/>same<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(susp-&gt;<ref refid="structsndseq__susp__struct_1ad95ebdf5dc44b8033b18ff4bc8e7ec25" kindref="member">s1</ref>-&gt;<ref refid="structsound__struct_1aafecd01e13520f7fb83fe8e2ac2cd026" kindref="member">sr</ref><sp/>!=<sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a75a750d3f6e731bebc9e217455961460" kindref="member">s2</ref>-&gt;<ref refid="structsound__struct_1aafecd01e13520f7fb83fe8e2ac2cd026" kindref="member">sr</ref>)<sp/></highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="xldbug_8c_1aaebeabdcebf1b39c984723f1727ddeed" kindref="member">xlfail</ref>(</highlight><highlight class="stringliteral">&quot;in<sp/>sndseq:<sp/>sample<sp/>rates<sp/>must<sp/>match&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="142"><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>take<sp/>care<sp/>of<sp/>scale<sp/>factor,<sp/>if<sp/>any<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(susp-&gt;<ref refid="structsndseq__susp__struct_1a75a750d3f6e731bebc9e217455961460" kindref="member">s2</ref>-&gt;<ref refid="structsound__struct_1a7531e5d5bc141fa994e5d787bb2dea01" kindref="member">scale</ref><sp/>!=<sp/>1.0)<sp/>{</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>stdputstr(&quot;normalizing<sp/>next<sp/>sound<sp/>in<sp/>a<sp/>seq\n&quot;);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a75a750d3f6e731bebc9e217455961460" kindref="member">s2</ref><sp/>=<sp/><ref refid="scale_8c_1a522cb1783bdc22b2f003570150369224" kindref="member">snd_make_normalize</ref>(susp-&gt;<ref refid="structsndseq__susp__struct_1a75a750d3f6e731bebc9e217455961460" kindref="member">s2</ref>);</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="148"><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>figure<sp/>out<sp/>which<sp/>add<sp/>fetch<sp/>routine<sp/>to<sp/>use<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>delay<sp/>=<sp/><ref refid="cext_8h_1acd66e8cacf954c3bc3bba81d09425a12" kindref="member">ROUND</ref>((susp-&gt;<ref refid="structsndseq__susp__struct_1a75a750d3f6e731bebc9e217455961460" kindref="member">s2</ref>-&gt;<ref refid="structsound__struct_1a397d52ba2da4602200e85f49f62f28ea" kindref="member">t0</ref><sp/>-<sp/>now)<sp/>*<sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1ad95ebdf5dc44b8033b18ff4bc8e7ec25" kindref="member">s1</ref>-&gt;<ref refid="structsound__struct_1aafecd01e13520f7fb83fe8e2ac2cd026" kindref="member">sr</ref>);</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(susp-&gt;<ref refid="structsndseq__susp__struct_1ad5a2331c3f5dd7cc5bc791f2a6d5b494" kindref="member">terminate_bits</ref>)<sp/>{<sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>s1<sp/>is<sp/>done,<sp/>just<sp/>get<sp/>s2<sp/>now<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sound_8c_1a6160c7ed8621e6ca60d9c0875cd25f9f" kindref="member">sound_unref</ref>(susp-&gt;<ref refid="structsndseq__susp__struct_1ad95ebdf5dc44b8033b18ff4bc8e7ec25" kindref="member">s1</ref>);</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1ad95ebdf5dc44b8033b18ff4bc8e7ec25" kindref="member">s1</ref><sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(delay<sp/>&gt;<sp/>0)<sp/>{<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>need<sp/>to<sp/>fill<sp/>zeros<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1addb182d5c03b9b8f864e4fd9871f7722" kindref="member">fetch</ref><sp/>=<sp/><ref refid="libnyquist_2nyquist_2nyqsrc_2add_8c_1a8bce848220dedd5249ea57ef008a7eac" kindref="member">add_zero_fill_nn_fetch</ref>;</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a4d5fa6ba6ea209e5159d06ea00320041" kindref="member">name</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;sndseq:add_zero_fill_nn_fetch&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1addb182d5c03b9b8f864e4fd9871f7722" kindref="member">fetch</ref><sp/>=<sp/><ref refid="libnyquist_2nyquist_2nyqsrc_2add_8c_1a742f16121f20350a523acac99a4e6784" kindref="member">add_s2_nn_fetch</ref>;</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a4d5fa6ba6ea209e5159d06ea00320041" kindref="member">name</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;sndseq:add_s2_nn_fetch&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(delay<sp/>&gt;<sp/>0)<sp/>{<sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>fill<sp/>hole<sp/>between<sp/>s1<sp/>and<sp/>s2<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"><ref refid="sndseq_8c_1af316c33cc298530f245e8b55330e86b5" kindref="member">D</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="xlio_8c_1a48c6474ff667334385f7c6e4c350c51d" kindref="member">stdputstr</ref>(</highlight><highlight class="stringliteral">&quot;using<sp/>add_s1_nn_fetch\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1addb182d5c03b9b8f864e4fd9871f7722" kindref="member">fetch</ref><sp/>=<sp/><ref refid="libnyquist_2nyquist_2nyqsrc_2add_8c_1ad8020a7160db1815188268a9055dab9b" kindref="member">add_s1_nn_fetch</ref>;</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a4d5fa6ba6ea209e5159d06ea00320041" kindref="member">name</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;sndseq:add_s1_nn_fetch&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1addb182d5c03b9b8f864e4fd9871f7722" kindref="member">fetch</ref><sp/>=<sp/><ref refid="libnyquist_2nyquist_2nyqsrc_2add_8c_1a6a0aa5496364004224d151cc938c5b4a" kindref="member">add_s1_s2_nn_fetch</ref>;</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a4d5fa6ba6ea209e5159d06ea00320041" kindref="member">name</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;sndseq:add_s1_s2_nn_fetch&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="169"><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a049976a5eca9c1199900485f96b8da2a" kindref="member">s2_phase_incr</ref><sp/>=<sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a75a750d3f6e731bebc9e217455961460" kindref="member">s2</ref>-&gt;<ref refid="structsound__struct_1aafecd01e13520f7fb83fe8e2ac2cd026" kindref="member">sr</ref><sp/>/<sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a89e4d9a7c1f50a9a0b4bca5ec1c253be" kindref="member">sr</ref>;</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a8a95c278797322cb12beb29433187a61" kindref="member">output_per_s2</ref><sp/>=<sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a89e4d9a7c1f50a9a0b4bca5ec1c253be" kindref="member">sr</ref><sp/>/<sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a75a750d3f6e731bebc9e217455961460" kindref="member">s2</ref>-&gt;<ref refid="structsound__struct_1aafecd01e13520f7fb83fe8e2ac2cd026" kindref="member">sr</ref>;</highlight></codeline>
<codeline lineno="172"><highlight class="normal"></highlight></codeline>
<codeline lineno="173"><highlight class="normal"><ref refid="sndseq_8c_1af316c33cc298530f245e8b55330e86b5" kindref="member">D</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="xlio_8c_1a48c6474ff667334385f7c6e4c350c51d" kindref="member">stdputstr</ref>(</highlight><highlight class="stringliteral">&quot;in<sp/>sndseq:<sp/>calling<sp/>add&apos;s<sp/>fetch\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(*(susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1addb182d5c03b9b8f864e4fd9871f7722" kindref="member">fetch</ref>))(a_susp,<sp/>snd_list);</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><ref refid="sndseq_8c_1af316c33cc298530f245e8b55330e86b5" kindref="member">D</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="xlio_8c_1a48c6474ff667334385f7c6e4c350c51d" kindref="member">stdputstr</ref>(</highlight><highlight class="stringliteral">&quot;in<sp/>sndseq:<sp/>returned<sp/>from<sp/>add&apos;s<sp/>fetch\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/>gc();*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="xlisp_8h_1a8069423ebe9363c35a5801edda92de02" kindref="member">xlpop</ref>();</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="180"><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>don&apos;t<sp/>run<sp/>past<sp/>the<sp/>s1<sp/>input<sp/>sample<sp/>block:<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/>togo<sp/>=<sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a1b4a5072f021520588391fd6ad10dad3" kindref="member">s1_cnt</ref>;</highlight></codeline>
<codeline lineno="183"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/>nyquist_printf(&quot;sndseq_fetch:<sp/>togo<sp/>initially<sp/>%d<sp/>then<sp/>&quot;,<sp/>togo);<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>don&apos;t<sp/>run<sp/>past<sp/>terminate<sp/>time<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(susp-&gt;<ref refid="structsndseq__susp__struct_1ae69868d363f2288398b0dcc25e249ce3" kindref="member">terminate_cnt</ref><sp/>!=<sp/><ref refid="sound_8h_1ac1ae4add974b9cfc6b5aaf8a578f01ab" kindref="member">UNKNOWN</ref><sp/>&amp;&amp;</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1ae69868d363f2288398b0dcc25e249ce3" kindref="member">terminate_cnt</ref><sp/>&lt;=<sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a8f9e3b02c2fc0ccbb63d88b97d44c89c" kindref="member">current</ref><sp/>+<sp/>togo)<sp/>{</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>togo<sp/>=<sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1ae69868d363f2288398b0dcc25e249ce3" kindref="member">terminate_cnt</ref><sp/>-<sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a8f9e3b02c2fc0ccbb63d88b97d44c89c" kindref="member">current</ref>;</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>don&apos;t<sp/>run<sp/>past<sp/>logical<sp/>stop<sp/>time<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!susp-&gt;<ref refid="structsndseq__susp__struct_1adba55e0931a7d924aeda8516bd3cc9d6" kindref="member">logically_stopped</ref><sp/>&amp;&amp;<sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a8044ae9d2cfcbccffd2a60c9b6ce16fa" kindref="member">log_stop_cnt</ref><sp/>!=<sp/><ref refid="sound_8h_1ac1ae4add974b9cfc6b5aaf8a578f01ab" kindref="member">UNKNOWN</ref>)<sp/>{</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>to_stop<sp/>=<sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a8044ae9d2cfcbccffd2a60c9b6ce16fa" kindref="member">log_stop_cnt</ref><sp/>-<sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a8f9e3b02c2fc0ccbb63d88b97d44c89c" kindref="member">current</ref>;</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>togo<sp/>=<sp/><ref refid="libflac_2src_2lib_f_l_a_c_2include_2private_2macros_8h_1a74e75242132eaabbc1c512488a135926" kindref="member">MIN</ref>(togo,<sp/>to_stop);</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="libid3tag_2global_8h_1af576bf8ffa22a44e53018c67095ffbf0" kindref="member">assert</ref>(togo<sp/>&gt;=<sp/>0);</highlight></codeline>
<codeline lineno="197"><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/>nyquist_printf(&quot;%d\n&quot;,<sp/>togo);*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="200"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>two<sp/>cases:<sp/>copy<sp/>a<sp/>partial<sp/>block<sp/>or<sp/>manipulate<sp/>pointers<sp/>for<sp/>copyless</highlight></codeline>
<codeline lineno="201"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>transfer<sp/>of<sp/>whole<sp/>block<sp/>(may<sp/>not<sp/>be<sp/>full<sp/>block):</highlight></codeline>
<codeline lineno="202"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*</highlight></codeline>
<codeline lineno="203"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>copy<sp/>partial<sp/>block<sp/>when:</highlight></codeline>
<codeline lineno="204"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/>o<sp/>samples<sp/>begin<sp/>in<sp/>middle<sp/>of<sp/>block</highlight></codeline>
<codeline lineno="205"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/>o<sp/>stopping<sp/>time<sp/>is<sp/>before<sp/>end<sp/>of<sp/>block<sp/>(when<sp/>other<sp/>signal<sp/>splits</highlight></codeline>
<codeline lineno="206"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/><sp/>the<sp/>block<sp/>for<sp/>this<sp/>signal).<sp/><sp/>This<sp/>happens<sp/>if<sp/>the<sp/>logical</highlight></codeline>
<codeline lineno="207"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/><sp/>stop<sp/>time<sp/>was<sp/>externally<sp/>dictated<sp/>and<sp/>falls<sp/>mid-block.</highlight></codeline>
<codeline lineno="208"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/>transfer<sp/>(copyless)<sp/>block<sp/>when:</highlight></codeline>
<codeline lineno="209"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/>o<sp/>the<sp/>block<sp/>is<sp/>of<sp/>maximum<sp/>size</highlight></codeline>
<codeline lineno="210"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/>o<sp/>the<sp/>block<sp/>is<sp/>small<sp/>due<sp/>to<sp/>logical<sp/>stop<sp/>time<sp/>or<sp/>termination<sp/>time</highlight></codeline>
<codeline lineno="211"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(susp-&gt;<ref refid="structsndseq__susp__struct_1a6ef4914e875145770733f3e79b54f2d0" kindref="member">s1_ptr</ref><sp/>==<sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1ab5bac14310aecd2129e943c8aed7841d" kindref="member">s1_bptr</ref>-&gt;<ref refid="structsample__block__node_1a921e4cd2359010f8ed736a116da8867e" kindref="member">samples</ref><sp/>&amp;&amp;<sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a1b4a5072f021520588391fd6ad10dad3" kindref="member">s1_cnt</ref><sp/>==<sp/>togo)<sp/>{</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="214"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>we<sp/>want<sp/>to<sp/>copy<sp/>this<sp/>whole<sp/>block<sp/>(starting<sp/>at<sp/>the<sp/>beginning</highlight></codeline>
<codeline lineno="215"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>and<sp/>going<sp/>to<sp/>the<sp/>rest<sp/>of<sp/>the<sp/>block)<sp/>--<sp/>just<sp/>do<sp/>pointers.</highlight></codeline>
<codeline lineno="216"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="217"><highlight class="normal"></highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>just<sp/>fetch<sp/>and<sp/>pass<sp/>blocks<sp/>on<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="219"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/>nyquist_printf(&quot;sndseq<sp/>(s1_nn)<sp/>%x<sp/>starting<sp/>uncopy,<sp/>togo<sp/>%d\n&quot;,<sp/>susp,<sp/>togo);<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>snd_list-&gt;<ref refid="structsnd__list__struct_1aaf6e754e36ceada326133f729fc4462c" kindref="member">block</ref><sp/>=<sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1ab5bac14310aecd2129e943c8aed7841d" kindref="member">s1_bptr</ref>;</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>the<sp/>zero_block<sp/>indicates<sp/>termination,<sp/>don&apos;t<sp/>copy<sp/>it!<sp/>Use</highlight></codeline>
<codeline lineno="222"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>internal_zero_block<sp/>instead.<sp/><sp/>It<sp/>is<sp/>also<sp/>filled<sp/>with<sp/>zeros,</highlight></codeline>
<codeline lineno="223"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>but<sp/>does<sp/>not<sp/>indicate<sp/>termination.<sp/><sp/>We<sp/>must<sp/>check<sp/>for<sp/>zero_block</highlight></codeline>
<codeline lineno="224"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>because<sp/>the<sp/>signal<sp/>may<sp/>have<sp/>a<sp/>logical<sp/>stop<sp/>time<sp/>specified<sp/>that</highlight></codeline>
<codeline lineno="225"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>extends<sp/>beyond<sp/>its<sp/>termination<sp/>time.</highlight></codeline>
<codeline lineno="226"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(snd_list-&gt;<ref refid="structsnd__list__struct_1aaf6e754e36ceada326133f729fc4462c" kindref="member">block</ref><sp/>==<sp/><ref refid="sound_8c_1a5917e1ea52952f15fd755fa27432113b" kindref="member">zero_block</ref>)</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>snd_list-&gt;<ref refid="structsnd__list__struct_1aaf6e754e36ceada326133f729fc4462c" kindref="member">block</ref><sp/>=<sp/><ref refid="sound_8c_1abb923c4be4a1beafa5f79463091c3925" kindref="member">internal_zero_block</ref>;</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(snd_list-&gt;<ref refid="structsnd__list__struct_1aaf6e754e36ceada326133f729fc4462c" kindref="member">block</ref>-&gt;<ref refid="structsample__block__node_1aa59f54edaee6c4ab12b5e9eeca2d7699" kindref="member">refcnt</ref>)++;</highlight></codeline>
<codeline lineno="230"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/>nyquist_printf(&quot;sndseq<sp/>(s1_nn)<sp/>%x<sp/>shared<sp/>block<sp/>%x\n&quot;,<sp/>susp,<sp/>susp-&gt;s1_bptr);*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sound_8h_1a68ee99d63015ca2a41d7c82d8717cfeb" kindref="member">susp_took</ref>(<ref refid="structsndseq__susp__struct_1a1b4a5072f021520588391fd6ad10dad3" kindref="member">s1_cnt</ref>,<sp/>togo);</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>snd_list-&gt;<ref refid="structsnd__list__struct_1a809aedecf6147df4ec4b45404cfab414" kindref="member">block_len</ref><sp/>=<sp/>togo;</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="236"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>we<sp/>want<sp/>to<sp/>copy<sp/>a<sp/>partial<sp/>block</highlight></codeline>
<codeline lineno="237"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"></highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>snd_list<sp/>is<sp/>the<sp/>one<sp/>with<sp/>a<sp/>null<sp/>block<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>put<sp/>a<sp/>fresh,<sp/>clean<sp/>block<sp/>in<sp/>the<sp/>snd_list<sp/>(get<sp/>new<sp/>snd_list<sp/>later)<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="falloc_8h_1aed8e636a68eb95ea3c7dc90189e78b43" kindref="member">falloc_sample_block</ref>(out,<sp/></highlight><highlight class="stringliteral">&quot;sndseq_fetch&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>snd_list-&gt;<ref refid="structsnd__list__struct_1aaf6e754e36ceada326133f729fc4462c" kindref="member">block</ref><sp/>=<sp/><ref refid="lilv__test_8c_1af5a45dbcaa926b186e6f71d08212acc3" kindref="member">out</ref>;</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out_ptr<sp/>=<sp/>out-&gt;<ref refid="structsample__block__node_1a921e4cd2359010f8ed736a116da8867e" kindref="member">samples</ref>;</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>nyquist_printf(&quot;sndseq<sp/>(s1_nn)<sp/>%x<sp/>new<sp/>block<sp/>%x\n&quot;,<sp/>susp,<sp/>out);<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="245"><highlight class="normal"></highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n<sp/>=<sp/>togo;</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>nyquist_printf(&quot;sndseq<sp/>(s1_nn)<sp/>%x<sp/>starting<sp/>copy<sp/>loop,<sp/>togo<sp/>%d\n&quot;,<sp/>susp,<sp/>togo);<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(n--)<sp/>{<sp/></highlight><highlight class="comment">/*<sp/>the<sp/>inner<sp/>sample<sp/>computation<sp/>loop<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>scale?<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*out_ptr++<sp/>=<sp/>*(susp-&gt;<ref refid="structsndseq__susp__struct_1a6ef4914e875145770733f3e79b54f2d0" kindref="member">s1_ptr</ref>++);</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="comment">/*<sp/>inner<sp/>loop<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="252"><highlight class="normal"></highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="sound_8h_1a68ee99d63015ca2a41d7c82d8717cfeb" kindref="member">susp_took</ref>(<ref refid="structsndseq__susp__struct_1a1b4a5072f021520588391fd6ad10dad3" kindref="member">s1_cnt</ref>,<sp/>togo);</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>snd_list-&gt;<ref refid="structsnd__list__struct_1a809aedecf6147df4ec4b45404cfab414" kindref="member">block_len</ref><sp/>=<sp/>togo;</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="256"><highlight class="normal"></highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>add<sp/>a<sp/>new<sp/>snd_list<sp/>for<sp/>the<sp/>susp<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a8f9e3b02c2fc0ccbb63d88b97d44c89c" kindref="member">current</ref><sp/>+=<sp/>togo;</highlight></codeline>
<codeline lineno="259"><highlight class="normal"></highlight></codeline>
<codeline lineno="260"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>sndseq_fetch<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="261"><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"></highlight></codeline>
<codeline lineno="263" refid="sndseq_8c_1add89b256493e924d0fd6c395c62e7e74" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="sndseq_8c_1add89b256493e924d0fd6c395c62e7e74" kindref="member">sndseq_free</ref>(<ref refid="structsnd__susp__struct" kindref="compound">snd_susp_type</ref><sp/>a_susp)</highlight></codeline>
<codeline lineno="264"><highlight class="normal">{</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/>sndseq_susp_type<sp/><ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref><sp/>=<sp/>(<ref refid="sndseq_8c_1aac8c2d8ca1aa3e3436b44941c78a3496" kindref="member">sndseq_susp_type</ref>)<sp/>a_susp;</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sound_8c_1a6160c7ed8621e6ca60d9c0875cd25f9f" kindref="member">sound_unref</ref>(susp-&gt;<ref refid="structsndseq__susp__struct_1a75a750d3f6e731bebc9e217455961460" kindref="member">s2</ref>);</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="falloc_8h_1a90be646acd537771c5401524877e0844" kindref="member">ffree_generic</ref>(susp,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structsndseq__susp__struct" kindref="compound">sndseq_susp_node</ref>),<sp/></highlight><highlight class="stringliteral">&quot;sndseq_free&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="268"><highlight class="normal">}</highlight></codeline>
<codeline lineno="269"><highlight class="normal"></highlight></codeline>
<codeline lineno="270"><highlight class="normal"></highlight></codeline>
<codeline lineno="271" refid="sndseq_8c_1a1b93625fe1dfaf829d76e66245218900" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="sndseq_8c_1a1b93625fe1dfaf829d76e66245218900" kindref="member">sndseq_print_tree</ref>(<ref refid="structsnd__susp__struct" kindref="compound">snd_susp_type</ref><sp/>a_susp,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n)</highlight></codeline>
<codeline lineno="272"><highlight class="normal">{</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/>sndseq_susp_type<sp/><ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref><sp/>=<sp/>(<ref refid="sndseq_8c_1aac8c2d8ca1aa3e3436b44941c78a3496" kindref="member">sndseq_susp_type</ref>)<sp/>a_susp;</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sound_8c_1ad9f5e076a5a83912c647d0164fd9cf98" kindref="member">indent</ref>(n);</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="xlio_8c_1a48c6474ff667334385f7c6e4c350c51d" kindref="member">stdputstr</ref>(</highlight><highlight class="stringliteral">&quot;s1:&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sound_8c_1a1b2ca7c132e90e3ded840d25f8baa088" kindref="member">sound_print_tree_1</ref>(susp-&gt;<ref refid="structsndseq__susp__struct_1ad95ebdf5dc44b8033b18ff4bc8e7ec25" kindref="member">s1</ref>,<sp/>n);</highlight></codeline>
<codeline lineno="277"><highlight class="normal"></highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sound_8c_1ad9f5e076a5a83912c647d0164fd9cf98" kindref="member">indent</ref>(n);</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="xlio_8c_1a48c6474ff667334385f7c6e4c350c51d" kindref="member">stdputstr</ref>(</highlight><highlight class="stringliteral">&quot;closure:&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="xlio_8c_1ab2c9fa910569499da2fee915fa7ccef3" kindref="member">stdprint</ref>(susp-&gt;<ref refid="structsndseq__susp__struct_1a26f0502792041d79ded4c51991d1237e" kindref="member">closure</ref>);</highlight></codeline>
<codeline lineno="281"><highlight class="normal"></highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sound_8c_1ad9f5e076a5a83912c647d0164fd9cf98" kindref="member">indent</ref>(n);</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="xlio_8c_1a48c6474ff667334385f7c6e4c350c51d" kindref="member">stdputstr</ref>(</highlight><highlight class="stringliteral">&quot;s2:&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sound_8c_1a1b2ca7c132e90e3ded840d25f8baa088" kindref="member">sound_print_tree_1</ref>(susp-&gt;<ref refid="structsndseq__susp__struct_1a75a750d3f6e731bebc9e217455961460" kindref="member">s2</ref>,<sp/>n);</highlight></codeline>
<codeline lineno="285"><highlight class="normal">}</highlight></codeline>
<codeline lineno="286"><highlight class="normal"></highlight></codeline>
<codeline lineno="287"><highlight class="normal"></highlight></codeline>
<codeline lineno="288"><highlight class="normal"></highlight></codeline>
<codeline lineno="289"><highlight class="normal"></highlight></codeline>
<codeline lineno="290" refid="sndseq_8c_1aa67b785294499fd2d608e12520f0f384" refkind="member"><highlight class="normal"><ref refid="structsound__struct" kindref="compound">sound_type</ref><sp/><ref refid="sndseq_8c_1aa67b785294499fd2d608e12520f0f384" kindref="member">snd_make_sndseq</ref>(<ref refid="structsndseq__susp__struct_1ad95ebdf5dc44b8033b18ff4bc8e7ec25" kindref="member">s1</ref>,<sp/><ref refid="structsndseq__susp__struct_1a26f0502792041d79ded4c51991d1237e" kindref="member">closure</ref>)</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><ref refid="structsound__struct" kindref="compound">sound_type</ref><sp/><ref refid="structsndseq__susp__struct_1ad95ebdf5dc44b8033b18ff4bc8e7ec25" kindref="member">s1</ref>;</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><ref refid="structnode" kindref="compound">LVAL</ref><sp/><ref refid="structsndseq__susp__struct_1a26f0502792041d79ded4c51991d1237e" kindref="member">closure</ref>;</highlight></codeline>
<codeline lineno="293"><highlight class="normal">{</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">register</highlight><highlight class="normal"><sp/>sndseq_susp_type<sp/><ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>;</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>t0<sp/>specified<sp/>as<sp/>input<sp/>parameter<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="sound_8h_1a3a9d1d4a1c153390d2401a6e9f71b32c" kindref="member">sample_type</ref><sp/>scale_factor<sp/>=<sp/>1.0F;</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structsound__struct" kindref="compound">sound_type</ref><sp/>result;</highlight></codeline>
<codeline lineno="298"><highlight class="normal"></highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="xlisp_8h_1aca97fe39ef9ee285c1bac237226a7cef" kindref="member">xlprot1</ref>(closure);</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="falloc_8h_1a187500f957dfc9510ad0c87c0c92e39e" kindref="member">falloc_generic</ref>(susp,<sp/><ref refid="structsndseq__susp__struct" kindref="compound">sndseq_susp_node</ref>,<sp/></highlight><highlight class="stringliteral">&quot;snd_make_sndseq&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="301"><highlight class="normal"></highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(s1-&gt;scale<sp/>!=<sp/>1.0)<sp/>{</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>stdputstr(&quot;normalizing<sp/>first<sp/>sound<sp/>in<sp/>a<sp/>seq\n&quot;);<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s1<sp/>=<sp/><ref refid="scale_8c_1a522cb1783bdc22b2f003570150369224" kindref="member">snd_make_normalize</ref>(s1);</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="306"><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1addb182d5c03b9b8f864e4fd9871f7722" kindref="member">fetch</ref><sp/>=<sp/><ref refid="sndseq_8c_1af06af1c3131774aab1f7a74fa72ff36c" kindref="member">sndseq_fetch</ref>;</highlight></codeline>
<codeline lineno="308"><highlight class="normal"></highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1ae69868d363f2288398b0dcc25e249ce3" kindref="member">terminate_cnt</ref><sp/>=<sp/><ref refid="sound_8h_1ac1ae4add974b9cfc6b5aaf8a578f01ab" kindref="member">UNKNOWN</ref>;</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1ad5a2331c3f5dd7cc5bc791f2a6d5b494" kindref="member">terminate_bits</ref><sp/>=<sp/>0;<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>bits<sp/>for<sp/>s1<sp/>and<sp/>s2<sp/>termination<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a5ec192e5b0a58d4f10cf16449885a5f0" kindref="member">logical_stop_bits</ref><sp/>=<sp/>0;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>bits<sp/>for<sp/>s1<sp/>and<sp/>s2<sp/>logical<sp/>stop<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="312"><highlight class="normal"></highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>initialize<sp/>susp<sp/>state<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a39cc18ad890efb4f088c9d7636e3b5c0" kindref="member">free</ref><sp/>=<sp/><ref refid="sndseq_8c_1add89b256493e924d0fd6c395c62e7e74" kindref="member">sndseq_free</ref>;</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a89e4d9a7c1f50a9a0b4bca5ec1c253be" kindref="member">sr</ref><sp/>=<sp/>s1-&gt;sr;</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a5e783b62d30b458070fb80dc0e112594" kindref="member">t0</ref><sp/>=<sp/>s1-&gt;t0;</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a077478e200df3bc42489892597f15d47" kindref="member">mark</ref><sp/>=<sp/><ref refid="sndseq_8c_1acf8e4fac927cc5e4af6b6c984de96c02" kindref="member">sndseq_mark</ref>;</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a4403d10e525f61c551eaa74440ee6b7d" kindref="member">print_tree</ref><sp/>=<sp/><ref refid="sndseq_8c_1a1b93625fe1dfaf829d76e66245218900" kindref="member">sndseq_print_tree</ref>;</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a4d5fa6ba6ea209e5159d06ea00320041" kindref="member">name</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;sndseq&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1adba55e0931a7d924aeda8516bd3cc9d6" kindref="member">logically_stopped</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a8044ae9d2cfcbccffd2a60c9b6ce16fa" kindref="member">log_stop_cnt</ref><sp/>=<sp/>s1-&gt;logical_stop_cnt;</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!(susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a8044ae9d2cfcbccffd2a60c9b6ce16fa" kindref="member">log_stop_cnt</ref><sp/>&gt;=<sp/>0<sp/>||<sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a8044ae9d2cfcbccffd2a60c9b6ce16fa" kindref="member">log_stop_cnt</ref><sp/>==<sp/><ref refid="sound_8h_1ac1ae4add974b9cfc6b5aaf8a578f01ab" kindref="member">UNKNOWN</ref>))<sp/>{</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="xldbug_8c_1a2d78bf523301185246193246684786a8" kindref="member">xlerror</ref>(</highlight><highlight class="stringliteral">&quot;Behaviors<sp/>in<sp/>SEQ<sp/>must<sp/>appear<sp/>in<sp/>chronological<sp/>order&quot;</highlight><highlight class="normal">,<sp/>closure);</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1abe212e71f0fffcfd34b50894fba3ba33" kindref="member">started</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a3ba88e4bfa6575588f3038e158d17cc3" kindref="member">susp</ref>.<ref refid="structsnd__susp__struct_1a8f9e3b02c2fc0ccbb63d88b97d44c89c" kindref="member">current</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1ad95ebdf5dc44b8033b18ff4bc8e7ec25" kindref="member">s1</ref><sp/>=<sp/><ref refid="structsndseq__susp__struct_1ad95ebdf5dc44b8033b18ff4bc8e7ec25" kindref="member">s1</ref>;</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a1b4a5072f021520588391fd6ad10dad3" kindref="member">s1_cnt</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a75a750d3f6e731bebc9e217455961460" kindref="member">s2</ref><sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1abc4f99cbcc64b590073662e5be968288" kindref="member">s2_cnt</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1af81c0a094b63d2cc078bb819f5417ea5" kindref="member">s2_phase</ref><sp/>=<sp/>0.0;</highlight></codeline>
<codeline lineno="332"><highlight class="normal"></highlight><highlight class="comment">/*<sp/><sp/>susp-&gt;s2_phase_incr<sp/>=<sp/>??</highlight></codeline>
<codeline lineno="333"><highlight class="comment"><sp/><sp/><sp/><sp/>susp-&gt;output_per_s2<sp/>=<sp/>??<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/>susp-&gt;<ref refid="structsndseq__susp__struct_1a26f0502792041d79ded4c51991d1237e" kindref="member">closure</ref><sp/>=<sp/><ref refid="structsndseq__susp__struct_1a26f0502792041d79ded4c51991d1237e" kindref="member">closure</ref>;</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="sound_8c_1a11255fe781080fb7915f6ab9a5afc4ae" kindref="member">sound_create</ref>((<ref refid="structsnd__susp__struct" kindref="compound">snd_susp_type</ref>)susp,<sp/>susp-&gt;susp.<ref refid="structsnd__susp__struct_1a5e783b62d30b458070fb80dc0e112594" kindref="member">t0</ref>,<sp/>susp-&gt;susp.<ref refid="structsnd__susp__struct_1a89e4d9a7c1f50a9a0b4bca5ec1c253be" kindref="member">sr</ref>,<sp/>scale_factor);</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="xlisp_8h_1a7ce424962898d63de72f4ad0284c09a5" kindref="member">xlpopn</ref>(1);</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="338"><highlight class="normal">}</highlight></codeline>
<codeline lineno="339"><highlight class="normal"></highlight></codeline>
<codeline lineno="340"><highlight class="normal"></highlight></codeline>
<codeline lineno="341" refid="sndseq_8c_1a15f118b528443de1370d4b18d7c5a44a" refkind="member"><highlight class="normal"><ref refid="structsound__struct" kindref="compound">sound_type</ref><sp/><ref refid="sndseq_8c_1a15f118b528443de1370d4b18d7c5a44a" kindref="member">snd_sndseq</ref>(<ref refid="structsndseq__susp__struct_1ad95ebdf5dc44b8033b18ff4bc8e7ec25" kindref="member">s1</ref>,<sp/><ref refid="structsndseq__susp__struct_1a26f0502792041d79ded4c51991d1237e" kindref="member">closure</ref>)</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><ref refid="structsound__struct" kindref="compound">sound_type</ref><sp/><ref refid="structsndseq__susp__struct_1ad95ebdf5dc44b8033b18ff4bc8e7ec25" kindref="member">s1</ref>;</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><ref refid="structnode" kindref="compound">LVAL</ref><sp/><ref refid="structsndseq__susp__struct_1a26f0502792041d79ded4c51991d1237e" kindref="member">closure</ref>;</highlight></codeline>
<codeline lineno="344"><highlight class="normal">{</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structsound__struct" kindref="compound">sound_type</ref><sp/>s1_copy;</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/>s1_copy<sp/>=<sp/><ref refid="sound_8c_1ad56b2f689f0d4897c4d2c79356d6102d" kindref="member">sound_copy</ref>(s1);</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="sndseq_8c_1aa67b785294499fd2d608e12520f0f384" kindref="member">snd_make_sndseq</ref>(s1_copy,<sp/>closure);</highlight></codeline>
<codeline lineno="348"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libnyquist/nyquist/nyqsrc/sndseq.c"/>
  </compounddef>
</doxygen>
