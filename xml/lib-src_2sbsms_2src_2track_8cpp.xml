<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.11">
  <compounddef id="lib-src_2sbsms_2src_2track_8cpp" kind="file" language="C++">
    <compoundname>track.cpp</compoundname>
    <includes refid="lib-src_2sbsms_2src_2track_8h" local="yes">track.h</includes>
    <includes refid="real_8h" local="yes">real.h</includes>
    <includes refid="d_b_table_8h" local="yes">dBTable.h</includes>
    <includes refid="synth_table_8h" local="yes">synthTable.h</includes>
    <includes refid="sbsms_2src_2utils_8h" local="yes">utils.h</includes>
    <includes local="no">algorithm</includes>
    <incdepgraph>
      <node id="31804">
        <label>track.h</label>
        <link refid="lib-src_2sbsms_2src_2track_8h"/>
        <childnode refid="31805" relation="include">
        </childnode>
        <childnode refid="31808" relation="include">
        </childnode>
        <childnode refid="31809" relation="include">
        </childnode>
      </node>
      <node id="31803">
        <label>C:/_dev/OpenU/Audacity/audacity/lib-src/sbsms/src/track.cpp</label>
        <link refid="lib-src/sbsms/src/track.cpp"/>
        <childnode refid="31804" relation="include">
        </childnode>
        <childnode refid="31810" relation="include">
        </childnode>
        <childnode refid="31812" relation="include">
        </childnode>
        <childnode refid="31813" relation="include">
        </childnode>
        <childnode refid="31814" relation="include">
        </childnode>
        <childnode refid="31815" relation="include">
        </childnode>
      </node>
      <node id="31812">
        <label>dBTable.h</label>
        <link refid="d_b_table_8h"/>
        <childnode refid="31810" relation="include">
        </childnode>
      </node>
      <node id="31814">
        <label>utils.h</label>
        <link refid="sbsms_2src_2utils_8h"/>
        <childnode refid="31810" relation="include">
        </childnode>
        <childnode refid="31808" relation="include">
        </childnode>
        <childnode refid="31806" relation="include">
        </childnode>
      </node>
      <node id="31806">
        <label>sbsms.h</label>
        <link refid="sbsms_8h"/>
        <childnode refid="31807" relation="include">
        </childnode>
      </node>
      <node id="31813">
        <label>synthTable.h</label>
        <link refid="synth_table_8h"/>
        <childnode refid="31814" relation="include">
        </childnode>
      </node>
      <node id="31809">
        <label>vector</label>
      </node>
      <node id="31810">
        <label>real.h</label>
        <link refid="real_8h"/>
        <childnode refid="31808" relation="include">
        </childnode>
        <childnode refid="31806" relation="include">
        </childnode>
        <childnode refid="31811" relation="include">
        </childnode>
      </node>
      <node id="31811">
        <label>math.h</label>
      </node>
      <node id="31805">
        <label>trackpoint.h</label>
        <link refid="trackpoint_8h"/>
        <childnode refid="31806" relation="include">
        </childnode>
      </node>
      <node id="31808">
        <label>config.h</label>
      </node>
      <node id="31815">
        <label>algorithm</label>
      </node>
      <node id="31807">
        <label>stdio.h</label>
      </node>
    </incdepgraph>
    <innernamespace refid="namespace__sbsms__">_sbsms_</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#include<sp/>&quot;<ref refid="lib-src_2sbsms_2src_2track_8h" kindref="compound">track.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="real_8h" kindref="compound">real.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="d_b_table_8h" kindref="compound">dBTable.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="synth_table_8h" kindref="compound">synthTable.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="sbsms_2src_2utils_8h" kindref="compound">utils.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;algorithm&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="keyword">using<sp/>namespace<sp/></highlight><highlight class="normal"><ref refid="namespacestd" kindref="compound">std</ref>;</highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal"><ref refid="namespace__sbsms__" kindref="compound">_sbsms_</ref><sp/>{</highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight></codeline>
<codeline lineno="12" refid="class__sbsms___1_1_track_1a403afd5dfcd304e9218efc6ab8bec2a6" refkind="member"><highlight class="normal"><ref refid="class_track_1a108c752f54d215d88076e1feaf55f65c" kindref="member">Track :: Track</ref>(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>h,<sp/><ref refid="namespace__sbsms___1a92908dbd644f9cd709ffe3608e9e4510" kindref="member">TrackIndexType</ref><sp/>index,<sp/><ref refid="class__sbsms___1_1_track_point" kindref="compound">TrackPoint</ref><sp/>*<ref refid="xmltok_8h_1a94b60f3beb36ae85555d36dc9816769c" kindref="member">p</ref>,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="namespace__sbsms___1a3a161c3deff71e932c0ec86aad54eb7c" kindref="member">TimeType</ref><sp/>&amp;<ref refid="namespacepyportmidi_1_1midi_1ad2426758f88d23d7208984d5c99ec050" kindref="member">time</ref>,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>bStitch)</highlight></codeline>
<codeline lineno="13"><highlight class="normal">{</highlight></codeline>
<codeline lineno="14"><highlight class="normal"><sp/><sp/>this-&gt;h<sp/>=<sp/>h;</highlight></codeline>
<codeline lineno="15"><highlight class="normal"><sp/><sp/>jumpThresh<sp/>=<sp/>1.0e-5<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref><sp/>*<sp/>h;</highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/>this-&gt;index<sp/>=<sp/>index;</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/>bEnd<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/>bEnded<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/>bRender<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/>bSplit<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/>bMerge<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/>first<sp/>=<sp/><ref refid="namespacepyportmidi_1_1midi_1ad2426758f88d23d7208984d5c99ec050" kindref="member">time</ref>;</highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><ref refid="seqread_8c_1ac503262ae470564980711da4f78b1181" kindref="member">start</ref><sp/>=<sp/><ref refid="namespacepyportmidi_1_1midi_1ad2426758f88d23d7208984d5c99ec050" kindref="member">time</ref>;</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(bStitch)<sp/>{</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/>this-&gt;bStitch<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/>this-&gt;bStitch<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="seqread_8c_1ac503262ae470564980711da4f78b1181" kindref="member">start</ref><sp/>&gt;<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="seqread_8c_1ac503262ae470564980711da4f78b1181" kindref="member">start</ref>--;</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/>point.push_back(p);</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/>p-&gt;<ref refid="class__sbsms___1_1_track_point_1adc8e196bd7b0c5e235c0e80670126be0" kindref="member">owner</ref><sp/>=<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/>p-&gt;<ref refid="class__sbsms___1_1_track_point_1adb75b86c3b50e193a6158f372283fe35" kindref="member">refCount</ref>++;</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><ref refid="convtest_8m_1afb358f48b1646c750fb9da6c6585be2b" kindref="member">end</ref><sp/>=<sp/><ref refid="namespacepyportmidi_1_1midi_1ad2426758f88d23d7208984d5c99ec050" kindref="member">time</ref>;</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><ref refid="record_8c_1a6c49eed6a71ecf58a51b1f64f4ec8e55" kindref="member">last</ref><sp/>=<sp/><ref refid="namespacepyportmidi_1_1midi_1ad2426758f88d23d7208984d5c99ec050" kindref="member">time</ref>;</highlight></codeline>
<codeline lineno="37"><highlight class="normal">}</highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="39" refid="class__sbsms___1_1_track_1a416e75e66accc8eb9e3fafc3e8555216" refkind="member"><highlight class="normal"><ref refid="class_track_1a416e75e66accc8eb9e3fafc3e8555216" kindref="member">Track :: ~Track</ref>()<sp/>{</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(vector&lt;TrackPoint*&gt;::iterator<sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref><sp/>=<sp/>point.begin();</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref><sp/>!=<sp/>point.end();</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>++<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>)<sp/>{</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class__sbsms___1_1_track_point" kindref="compound">TrackPoint</ref><sp/>*tp<sp/>=<sp/>(*i);</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(tp)<sp/>{<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tp-&gt;<ref refid="class__sbsms___1_1_track_point_1afb7706d1a6c0e7df4fb520a9bf1cd83d" kindref="member">destroy</ref>();</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="48"><highlight class="normal">}</highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight></codeline>
<codeline lineno="50" refid="class__sbsms___1_1_track_1a0d1f6929a27141670bab71d02a8427cf" refkind="member"><highlight class="normal"><ref refid="namespace__sbsms___1a92908dbd644f9cd709ffe3608e9e4510" kindref="member">TrackIndexType</ref><sp/>Track<sp/>::<sp/>getIndex()</highlight></codeline>
<codeline lineno="51"><highlight class="normal">{</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>index;</highlight></codeline>
<codeline lineno="53"><highlight class="normal">}</highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight></codeline>
<codeline lineno="55" refid="class__sbsms___1_1_track_1a929e9160c9fc4730348a00eb593e0893" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="namespacepatest__suggested__vs__streaminfo__latency_1a8480c4acf54c3c5a9d64b0cea184042a" kindref="member">Track :: isFirst</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="namespace__sbsms___1a3a161c3deff71e932c0ec86aad54eb7c" kindref="member">TimeType</ref><sp/>&amp;<ref refid="namespacepyportmidi_1_1midi_1ad2426758f88d23d7208984d5c99ec050" kindref="member">time</ref>)</highlight></codeline>
<codeline lineno="56"><highlight class="normal">{</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(time<sp/>==<sp/>first);</highlight></codeline>
<codeline lineno="58"><highlight class="normal">}</highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight></codeline>
<codeline lineno="60" refid="class__sbsms___1_1_track_1a17872c1bd39dd08e25fe60a50a65f314" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>Track<sp/>::<sp/>isLast(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="namespace__sbsms___1a3a161c3deff71e932c0ec86aad54eb7c" kindref="member">TimeType</ref><sp/>&amp;<ref refid="namespacepyportmidi_1_1midi_1ad2426758f88d23d7208984d5c99ec050" kindref="member">time</ref>)</highlight></codeline>
<codeline lineno="61"><highlight class="normal">{</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(time<sp/>==<sp/><ref refid="record_8c_1a6c49eed6a71ecf58a51b1f64f4ec8e55" kindref="member">last</ref>);</highlight></codeline>
<codeline lineno="63"><highlight class="normal">}</highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight></codeline>
<codeline lineno="65" refid="class__sbsms___1_1_track_1a47ef00513d6b838f81eecda603edb11d" refkind="member"><highlight class="normal"><ref refid="namespace__sbsms___1a3a161c3deff71e932c0ec86aad54eb7c" kindref="member">TimeType</ref><sp/><ref refid="group__lavu__mem_1ga854352f53b148adc24983a58a1866d66" kindref="member">Track :: size</ref>()</highlight></codeline>
<codeline lineno="66"><highlight class="normal">{</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>point.size();</highlight></codeline>
<codeline lineno="68"><highlight class="normal">}</highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight></codeline>
<codeline lineno="70" refid="class__sbsms___1_1_track_1a20f737cba39bc3e100b448ae1a8ac703" refkind="member"><highlight class="normal"><ref refid="class__sbsms___1_1_track_point" kindref="compound">TrackPoint</ref><sp/>*Track<sp/>::<sp/>back()<sp/></highlight></codeline>
<codeline lineno="71"><highlight class="normal">{</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>point.back();<sp/></highlight></codeline>
<codeline lineno="73"><highlight class="normal">}</highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight></codeline>
<codeline lineno="75" refid="class__sbsms___1_1_track_1af9bbb0ac61ee905bf1a1a1e808cfa364" refkind="member"><highlight class="normal"><ref refid="class__sbsms___1_1_track_point" kindref="compound">TrackPoint</ref><sp/>*Track<sp/>::<sp/>getTrackPoint(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="namespace__sbsms___1a3a161c3deff71e932c0ec86aad54eb7c" kindref="member">TimeType</ref><sp/>&amp;<ref refid="namespacepyportmidi_1_1midi_1ad2426758f88d23d7208984d5c99ec050" kindref="member">time</ref>)</highlight></codeline>
<codeline lineno="76"><highlight class="normal">{</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>point[time<sp/>-<sp/>first];</highlight></codeline>
<codeline lineno="78"><highlight class="normal">}</highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight></codeline>
<codeline lineno="80" refid="class__sbsms___1_1_track_1a8d13355c843a0e2037e2e29027cbd2b6" refkind="member"><highlight class="normal"><ref refid="class__sbsms___1_1_s_b_s_m_s_track_point" kindref="compound">SBSMSTrackPoint</ref><sp/>*Track<sp/>::<sp/>getSBSMSTrackPoint(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="namespace__sbsms___1a3a161c3deff71e932c0ec86aad54eb7c" kindref="member">TimeType</ref><sp/>&amp;<ref refid="namespacepyportmidi_1_1midi_1ad2426758f88d23d7208984d5c99ec050" kindref="member">time</ref>)</highlight></codeline>
<codeline lineno="81"><highlight class="normal">{</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>getTrackPoint(time);</highlight></codeline>
<codeline lineno="83"><highlight class="normal">}</highlight></codeline>
<codeline lineno="84"><highlight class="normal"></highlight></codeline>
<codeline lineno="85" refid="class__sbsms___1_1_track_1af2b8a24b896e26e9e77434cddc841539" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>Track<sp/>::<sp/>jump(<ref refid="class__sbsms___1_1_track_point" kindref="compound">TrackPoint</ref><sp/>*tp0,<sp/><ref refid="class__sbsms___1_1_track_point" kindref="compound">TrackPoint</ref><sp/>*tp1)</highlight></codeline>
<codeline lineno="86"><highlight class="normal">{</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1a92dfdbd2db11a6f5f2218cc2933b8881" kindref="member">m</ref><sp/>&gt;<sp/>tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1a92dfdbd2db11a6f5f2218cc2933b8881" kindref="member">m</ref>)<sp/>{</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>cost<sp/>=<sp/>1.0e-4<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref><sp/>*<sp/><ref refid="namespace__sbsms___1a647f022e362cf7a49326587d23aca8aa" kindref="member">dBApprox</ref>(tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1a92dfdbd2db11a6f5f2218cc2933b8881" kindref="member">m</ref>,tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1a92dfdbd2db11a6f5f2218cc2933b8881" kindref="member">m</ref>);</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(cost<sp/>&gt;<sp/>jumpThresh);</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="93"><highlight class="normal">}</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="95" refid="class__sbsms___1_1_track_1aa578a1efb91028b133d0b6ab72df97d3" refkind="member"><highlight class="normal"><ref refid="class__sbsms___1_1_track_point" kindref="compound">TrackPoint</ref><sp/>*Track<sp/>::<sp/>updateFPH(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="namespace__sbsms___1a3a161c3deff71e932c0ec86aad54eb7c" kindref="member">TimeType</ref><sp/>&amp;<ref refid="namespacepyportmidi_1_1midi_1ad2426758f88d23d7208984d5c99ec050" kindref="member">time</ref>,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>mode,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>f0,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>f1)</highlight></codeline>
<codeline lineno="96"><highlight class="normal">{</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(time<sp/>==<sp/><ref refid="seqread_8c_1ac503262ae470564980711da4f78b1181" kindref="member">start</ref><sp/>&amp;&amp;<sp/>time<sp/>&lt;<sp/>first)<sp/>{</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class__sbsms___1_1_track_point" kindref="compound">TrackPoint</ref><sp/>*tp1<sp/>=<sp/>getTrackPoint(time+1);</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1ad7700dbd8aaa0686b44e673e5bdbfc1e" kindref="member">fSynth1</ref><sp/>=<sp/><ref refid="libflac_2src_2flac_2encode_8c_1ac39d9cef6a5e030ba8d9e11121054268" kindref="member">max</ref>(0.0<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref>,<ref refid="_compare_audio_command_8cpp_1abd8bbcfabb3ddef2ccaafb9928a37b95" kindref="member">min</ref>(6.0<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref>,f1<sp/>*<sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1a6e6b4b8a6a49334d10529fa6246506e0" kindref="member">f</ref>));</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1a969e3b568426e0293b39b1d2746ce645" kindref="member">fSynth0</ref><sp/>=<sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1ad7700dbd8aaa0686b44e673e5bdbfc1e" kindref="member">fSynth1</ref>;</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1a253c7f904e8090210a000e82c7117e75" kindref="member">phSynth</ref><sp/>=<sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1afa39d2e7c8f3ddc23e5ced47564ab01e" kindref="member">ph</ref>;</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(mode<sp/>==<sp/><ref refid="namespace__sbsms___1aea7c2cadef128d5fe8bb8fae87c5b7b2ab64683b26bf56d98d414854c6b0ad4f8" kindref="member">synthModeOutput</ref><sp/>&amp;&amp;<sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1aa69dd2e05ec930117c65125c5fb8be14" kindref="member">dupStereo</ref>)<sp/>{</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>tp1;</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(time<sp/>==<sp/><ref refid="record_8c_1a6c49eed6a71ecf58a51b1f64f4ec8e55" kindref="member">last</ref>)<sp/>{</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="record_8c_1a6c49eed6a71ecf58a51b1f64f4ec8e55" kindref="member">last</ref><sp/>&lt;<sp/><ref refid="convtest_8m_1afb358f48b1646c750fb9da6c6585be2b" kindref="member">end</ref>)<sp/>{</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class__sbsms___1_1_track_point" kindref="compound">TrackPoint</ref><sp/>*tp0<sp/>=<sp/>getTrackPoint(time);</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1a969e3b568426e0293b39b1d2746ce645" kindref="member">fSynth0</ref><sp/>=<sp/>tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1ad7700dbd8aaa0686b44e673e5bdbfc1e" kindref="member">fSynth1</ref>;</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class__sbsms___1_1_track_point" kindref="compound">TrackPoint</ref><sp/>*tp0<sp/>=<sp/>getTrackPoint(time);</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class__sbsms___1_1_track_point" kindref="compound">TrackPoint</ref><sp/>*tp1<sp/>=<sp/>getTrackPoint(time+1);</highlight></codeline>
<codeline lineno="113"><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(mode<sp/>==<sp/><ref refid="namespace__sbsms___1aea7c2cadef128d5fe8bb8fae87c5b7b2ab64683b26bf56d98d414854c6b0ad4f8" kindref="member">synthModeOutput</ref>)<sp/>{</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1aa69dd2e05ec930117c65125c5fb8be14" kindref="member">dupStereo</ref><sp/>&amp;&amp;<sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1aa69dd2e05ec930117c65125c5fb8be14" kindref="member">dupStereo</ref><sp/>&amp;&amp;<sp/>tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1aa69dd2e05ec930117c65125c5fb8be14" kindref="member">dupStereo</ref>-&gt;<ref refid="class__sbsms___1_1_track_point_1adc8e196bd7b0c5e235c0e80670126be0" kindref="member">owner</ref><sp/>==<sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1aa69dd2e05ec930117c65125c5fb8be14" kindref="member">dupStereo</ref>-&gt;<ref refid="class__sbsms___1_1_track_point_1adc8e196bd7b0c5e235c0e80670126be0" kindref="member">owner</ref>)<sp/>{</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dp<sp/>=<sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1afa39d2e7c8f3ddc23e5ced47564ab01e" kindref="member">ph</ref><sp/>-<sp/>tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1afa39d2e7c8f3ddc23e5ced47564ab01e" kindref="member">ph</ref>;</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dp0<sp/>=<sp/>0.5f*h*(tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1a6e6b4b8a6a49334d10529fa6246506e0" kindref="member">f</ref><sp/>+<sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1a6e6b4b8a6a49334d10529fa6246506e0" kindref="member">f</ref>);</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dw<sp/>=<sp/><ref refid="namespace__sbsms___1a9a161052e83b017009da47347c0d707c" kindref="member">canonPI</ref>(dp<sp/>-<sp/>dp0)/h;</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dpStereo<sp/>=<sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1aa69dd2e05ec930117c65125c5fb8be14" kindref="member">dupStereo</ref>-&gt;<ref refid="class__sbsms___1_1_track_point_1afa39d2e7c8f3ddc23e5ced47564ab01e" kindref="member">ph</ref><sp/>-<sp/>tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1aa69dd2e05ec930117c65125c5fb8be14" kindref="member">dupStereo</ref>-&gt;<ref refid="class__sbsms___1_1_track_point_1afa39d2e7c8f3ddc23e5ced47564ab01e" kindref="member">ph</ref>;</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dp0Stereo<sp/>=<sp/>0.5f*h*(tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1aa69dd2e05ec930117c65125c5fb8be14" kindref="member">dupStereo</ref>-&gt;<ref refid="class__sbsms___1_1_track_point_1a6e6b4b8a6a49334d10529fa6246506e0" kindref="member">f</ref><sp/>+<sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1aa69dd2e05ec930117c65125c5fb8be14" kindref="member">dupStereo</ref>-&gt;<ref refid="class__sbsms___1_1_track_point_1a6e6b4b8a6a49334d10529fa6246506e0" kindref="member">f</ref>);</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dwStereo<sp/>=<sp/><ref refid="namespace__sbsms___1a9a161052e83b017009da47347c0d707c" kindref="member">canonPI</ref>(dpStereo<sp/>-<sp/>dp0Stereo)/h;</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(dw<sp/>&gt;<sp/>.0013<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref><sp/>*<sp/>(tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1a6e6b4b8a6a49334d10529fa6246506e0" kindref="member">f</ref><sp/>+<sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1a6e6b4b8a6a49334d10529fa6246506e0" kindref="member">f</ref>))<sp/>{</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dw<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dwStereo<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(dwStereo<sp/>&gt;<sp/>.0013<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref><sp/>*<sp/>(tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1aa69dd2e05ec930117c65125c5fb8be14" kindref="member">dupStereo</ref>-&gt;<ref refid="class__sbsms___1_1_track_point_1a6e6b4b8a6a49334d10529fa6246506e0" kindref="member">f</ref><sp/>+<sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1aa69dd2e05ec930117c65125c5fb8be14" kindref="member">dupStereo</ref>-&gt;<ref refid="class__sbsms___1_1_track_point_1a6e6b4b8a6a49334d10529fa6246506e0" kindref="member">f</ref>))<sp/>{</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dwStereo<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>w0<sp/>=<sp/>0.5f<sp/>*<sp/>(tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1a6e6b4b8a6a49334d10529fa6246506e0" kindref="member">f</ref><sp/>+<sp/>tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1aa69dd2e05ec930117c65125c5fb8be14" kindref="member">dupStereo</ref>-&gt;<ref refid="class__sbsms___1_1_track_point_1a6e6b4b8a6a49334d10529fa6246506e0" kindref="member">f</ref><sp/>+<sp/>dw<sp/>+<sp/>dwStereo);</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>w1<sp/>=<sp/>0.5f<sp/>*<sp/>(tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1a6e6b4b8a6a49334d10529fa6246506e0" kindref="member">f</ref><sp/>+<sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1aa69dd2e05ec930117c65125c5fb8be14" kindref="member">dupStereo</ref>-&gt;<ref refid="class__sbsms___1_1_track_point_1a6e6b4b8a6a49334d10529fa6246506e0" kindref="member">f</ref><sp/>+<sp/>dw<sp/>+<sp/>dwStereo);</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dwSynth<sp/>=<sp/>0.5f<sp/>*<sp/><ref refid="namespace__sbsms___1a9a161052e83b017009da47347c0d707c" kindref="member">canonPI</ref>(dp<sp/>-<sp/>dpStereo)<sp/>/<sp/>n;</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!(bSplit<sp/>&amp;&amp;<sp/>time<sp/>==<sp/>first))<sp/>{</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1a969e3b568426e0293b39b1d2746ce645" kindref="member">fSynth0</ref><sp/>=<sp/><ref refid="libflac_2src_2flac_2encode_8c_1ac39d9cef6a5e030ba8d9e11121054268" kindref="member">max</ref>(0.0<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref>,<ref refid="_compare_audio_command_8cpp_1abd8bbcfabb3ddef2ccaafb9928a37b95" kindref="member">min</ref>(6.0<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref>,f0<sp/>*<sp/>(w0<sp/>+<sp/>dwSynth)));</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!(bMerge<sp/>&amp;&amp;<sp/>time<sp/>+<sp/>1<sp/>==<sp/><ref refid="record_8c_1a6c49eed6a71ecf58a51b1f64f4ec8e55" kindref="member">last</ref>))<sp/>{</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1ad7700dbd8aaa0686b44e673e5bdbfc1e" kindref="member">fSynth1</ref><sp/>=<sp/><ref refid="libflac_2src_2flac_2encode_8c_1ac39d9cef6a5e030ba8d9e11121054268" kindref="member">max</ref>(0.0<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref>,<ref refid="_compare_audio_command_8cpp_1abd8bbcfabb3ddef2ccaafb9928a37b95" kindref="member">min</ref>(6.0<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref>,f1<sp/>*<sp/>(w1<sp/>+<sp/>dwSynth)));</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dp<sp/>=<sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1afa39d2e7c8f3ddc23e5ced47564ab01e" kindref="member">ph</ref><sp/>-<sp/>tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1afa39d2e7c8f3ddc23e5ced47564ab01e" kindref="member">ph</ref>;</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dp0<sp/>=<sp/>0.5f*h*(tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1a6e6b4b8a6a49334d10529fa6246506e0" kindref="member">f</ref><sp/>+<sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1a6e6b4b8a6a49334d10529fa6246506e0" kindref="member">f</ref>);</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dw<sp/>=<sp/><ref refid="namespace__sbsms___1a9a161052e83b017009da47347c0d707c" kindref="member">canonPI</ref>(dp<sp/>-<sp/>dp0)/h;</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(dw<sp/>&gt;<sp/>.0013<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref><sp/>*<sp/>(tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1a6e6b4b8a6a49334d10529fa6246506e0" kindref="member">f</ref><sp/>+<sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1a6e6b4b8a6a49334d10529fa6246506e0" kindref="member">f</ref>))<sp/>{</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dw<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!(bSplit<sp/>&amp;&amp;<sp/>time<sp/>==<sp/>first))<sp/>{</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1a969e3b568426e0293b39b1d2746ce645" kindref="member">fSynth0</ref><sp/>=<sp/><ref refid="libflac_2src_2flac_2encode_8c_1ac39d9cef6a5e030ba8d9e11121054268" kindref="member">max</ref>(0.0<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref>,<ref refid="_compare_audio_command_8cpp_1abd8bbcfabb3ddef2ccaafb9928a37b95" kindref="member">min</ref>(6.0<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref>,f0<sp/>*<sp/>(tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1a6e6b4b8a6a49334d10529fa6246506e0" kindref="member">f</ref><sp/>+<sp/>dw)));</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!(bMerge<sp/>&amp;&amp;<sp/>time<sp/>+<sp/>1<sp/>==<sp/><ref refid="record_8c_1a6c49eed6a71ecf58a51b1f64f4ec8e55" kindref="member">last</ref>))<sp/>{</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1ad7700dbd8aaa0686b44e673e5bdbfc1e" kindref="member">fSynth1</ref><sp/>=<sp/><ref refid="libflac_2src_2flac_2encode_8c_1ac39d9cef6a5e030ba8d9e11121054268" kindref="member">max</ref>(0.0<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref>,<ref refid="_compare_audio_command_8cpp_1abd8bbcfabb3ddef2ccaafb9928a37b95" kindref="member">min</ref>(6.0<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref>,f1<sp/>*<sp/>(tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1a6e6b4b8a6a49334d10529fa6246506e0" kindref="member">f</ref><sp/>+<sp/>dw)));</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!(tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1a5b46d8f3bde3f3cb5bce87b282da3783" kindref="member">bSplit</ref><sp/>||<sp/>tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1ac01652a5fefbbf9367f5b1f03f34092e" kindref="member">bMerge</ref><sp/>||<sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1a5b46d8f3bde3f3cb5bce87b282da3783" kindref="member">bSplit</ref><sp/>||<sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1ac01652a5fefbbf9367f5b1f03f34092e" kindref="member">bMerge</ref>)<sp/>&amp;&amp;<sp/>jump(tp0,tp1))<sp/>{</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1ae337809570c1040e14fa32e8f445c804" kindref="member">bJump</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1aa69dd2e05ec930117c65125c5fb8be14" kindref="member">dupStereo</ref><sp/>&amp;&amp;<sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1aa69dd2e05ec930117c65125c5fb8be14" kindref="member">dupStereo</ref>)<sp/>{</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1aa69dd2e05ec930117c65125c5fb8be14" kindref="member">dupStereo</ref>-&gt;<ref refid="class__sbsms___1_1_track_point_1adc8e196bd7b0c5e235c0e80670126be0" kindref="member">owner</ref><sp/>==<sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1aa69dd2e05ec930117c65125c5fb8be14" kindref="member">dupStereo</ref>-&gt;<ref refid="class__sbsms___1_1_track_point_1adc8e196bd7b0c5e235c0e80670126be0" kindref="member">owner</ref>)<sp/>{</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1affca68ae23911daf5b458fa947299d04" kindref="member">bSyncStereo</ref><sp/>=<sp/>!jump(tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1aa69dd2e05ec930117c65125c5fb8be14" kindref="member">dupStereo</ref>,tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1aa69dd2e05ec930117c65125c5fb8be14" kindref="member">dupStereo</ref>);</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="160"><highlight class="normal"></highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1a5b46d8f3bde3f3cb5bce87b282da3783" kindref="member">bSplit</ref>)<sp/>{</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1ae337809570c1040e14fa32e8f445c804" kindref="member">bJump</ref>)<sp/>{</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1affca68ae23911daf5b458fa947299d04" kindref="member">bSyncStereo</ref>)<sp/>{</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1a253c7f904e8090210a000e82c7117e75" kindref="member">phSynth</ref><sp/>=<sp/><ref refid="namespace__sbsms___1a8968c25a1b5a6cfd2cc3d967685f3037" kindref="member">canon2PI</ref>(tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1aa69dd2e05ec930117c65125c5fb8be14" kindref="member">dupStereo</ref>-&gt;<ref refid="class__sbsms___1_1_track_point_1a253c7f904e8090210a000e82c7117e75" kindref="member">phSynth</ref><sp/>+<sp/>tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1afa39d2e7c8f3ddc23e5ced47564ab01e" kindref="member">ph</ref><sp/>-<sp/>tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1aa69dd2e05ec930117c65125c5fb8be14" kindref="member">dupStereo</ref>-&gt;<ref refid="class__sbsms___1_1_track_point_1afa39d2e7c8f3ddc23e5ced47564ab01e" kindref="member">ph</ref>);</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1a253c7f904e8090210a000e82c7117e75" kindref="member">phSynth</ref><sp/>=<sp/>tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1afa39d2e7c8f3ddc23e5ced47564ab01e" kindref="member">ph</ref>;</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="170"><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!(bMerge<sp/>&amp;&amp;<sp/>time<sp/>+<sp/>1<sp/>==<sp/><ref refid="record_8c_1a6c49eed6a71ecf58a51b1f64f4ec8e55" kindref="member">last</ref>))<sp/>{</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dw<sp/>=<sp/>(tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1ad7700dbd8aaa0686b44e673e5bdbfc1e" kindref="member">fSynth1</ref><sp/>-<sp/>tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1a969e3b568426e0293b39b1d2746ce645" kindref="member">fSynth0</ref>)<sp/>/<sp/>n;</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>w<sp/>=<sp/>tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1a969e3b568426e0293b39b1d2746ce645" kindref="member">fSynth0</ref><sp/>+<sp/>0.5f<sp/>*<sp/>dw;</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>iw<sp/>=<sp/><ref refid="real_8h_1a483e8f95ebd254c9279e0ada03a9a6e8" kindref="member">lrintf</ref>(w<sp/>*<sp/><ref refid="lib-src_2sbsms_2src_2track_8h_1a45fec6fa7488d43660c17f575f08c17c" kindref="member">WScale</ref>)<sp/>/<sp/><ref refid="lib-src_2sbsms_2src_2track_8h_1a45fec6fa7488d43660c17f575f08c17c" kindref="member">WScale</ref>;</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>idw<sp/>=<sp/><ref refid="real_8h_1a483e8f95ebd254c9279e0ada03a9a6e8" kindref="member">lrintf</ref>(dw<sp/>*<sp/>WScale)<sp/>/<sp/><ref refid="lib-src_2sbsms_2src_2track_8h_1a45fec6fa7488d43660c17f575f08c17c" kindref="member">WScale</ref>;</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1a253c7f904e8090210a000e82c7117e75" kindref="member">phSynth</ref><sp/>=<sp/><ref refid="namespace__sbsms___1a8968c25a1b5a6cfd2cc3d967685f3037" kindref="member">canon2PI</ref>(tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1a253c7f904e8090210a000e82c7117e75" kindref="member">phSynth</ref><sp/>+<sp/>n<sp/>*<sp/>iw<sp/>+<sp/>((n<sp/>*<sp/>(n<sp/>-<sp/>1))<sp/>&gt;&gt;<sp/>1)<sp/>*<sp/>idw);</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dp<sp/>=<sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1afa39d2e7c8f3ddc23e5ced47564ab01e" kindref="member">ph</ref><sp/>-<sp/>tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1afa39d2e7c8f3ddc23e5ced47564ab01e" kindref="member">ph</ref>;</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dp0<sp/>=<sp/>0.5f*h*(tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1a6e6b4b8a6a49334d10529fa6246506e0" kindref="member">f</ref><sp/>+<sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1a6e6b4b8a6a49334d10529fa6246506e0" kindref="member">f</ref>);</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dw<sp/>=<sp/><ref refid="namespace__sbsms___1a9a161052e83b017009da47347c0d707c" kindref="member">canonPI</ref>(dp<sp/>-<sp/>dp0)/h;</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(dw<sp/>&gt;<sp/>.0013<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref><sp/>*<sp/>(tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1a6e6b4b8a6a49334d10529fa6246506e0" kindref="member">f</ref><sp/>+<sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1a6e6b4b8a6a49334d10529fa6246506e0" kindref="member">f</ref>))<sp/>{</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dw<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!(bSplit<sp/>&amp;&amp;<sp/>time<sp/>==<sp/>first))<sp/>{</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1a969e3b568426e0293b39b1d2746ce645" kindref="member">fSynth0</ref><sp/>=<sp/><ref refid="libflac_2src_2flac_2encode_8c_1ac39d9cef6a5e030ba8d9e11121054268" kindref="member">max</ref>(0.0<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref>,<ref refid="_compare_audio_command_8cpp_1abd8bbcfabb3ddef2ccaafb9928a37b95" kindref="member">min</ref>(6.0<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref>,f0<sp/>*<sp/>(tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1a6e6b4b8a6a49334d10529fa6246506e0" kindref="member">f</ref><sp/>+<sp/>dw)));</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1a253c7f904e8090210a000e82c7117e75" kindref="member">phSynth</ref><sp/>=<sp/>tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1afa39d2e7c8f3ddc23e5ced47564ab01e" kindref="member">ph</ref>;</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!(bMerge<sp/>&amp;&amp;<sp/>time<sp/>+<sp/>1<sp/>==<sp/><ref refid="record_8c_1a6c49eed6a71ecf58a51b1f64f4ec8e55" kindref="member">last</ref>))<sp/>{</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1ad7700dbd8aaa0686b44e673e5bdbfc1e" kindref="member">fSynth1</ref><sp/>=<sp/><ref refid="libflac_2src_2flac_2encode_8c_1ac39d9cef6a5e030ba8d9e11121054268" kindref="member">max</ref>(0.0<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref>,<ref refid="_compare_audio_command_8cpp_1abd8bbcfabb3ddef2ccaafb9928a37b95" kindref="member">min</ref>(6.0<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref>,f1<sp/>*<sp/>(tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1a6e6b4b8a6a49334d10529fa6246506e0" kindref="member">f</ref><sp/>+<sp/>dw)));</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1a253c7f904e8090210a000e82c7117e75" kindref="member">phSynth</ref><sp/>=<sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1afa39d2e7c8f3ddc23e5ced47564ab01e" kindref="member">ph</ref>;</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="196"><highlight class="normal">}</highlight></codeline>
<codeline lineno="197"><highlight class="normal"></highlight></codeline>
<codeline lineno="198" refid="class__sbsms___1_1_track_1a8a3d7fdb6ca6fcfdabdc234ccb8ee91b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Track<sp/>::<sp/>updateM(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="namespace__sbsms___1a3a161c3deff71e932c0ec86aad54eb7c" kindref="member">TimeType</ref><sp/>&amp;<ref refid="namespacepyportmidi_1_1midi_1ad2426758f88d23d7208984d5c99ec050" kindref="member">time</ref>,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>mode)</highlight></codeline>
<codeline lineno="199"><highlight class="normal">{</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(mode<sp/>==<sp/><ref refid="namespace__sbsms___1aea7c2cadef128d5fe8bb8fae87c5b7b2a1e1a04941af58dae56623c1e7238de3c" kindref="member">synthModeTrial2</ref>)<sp/>{</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(time<sp/>==<sp/>first<sp/>&amp;&amp;<sp/>time<sp/>==<sp/><ref refid="seqread_8c_1ac503262ae470564980711da4f78b1181" kindref="member">start</ref>)<sp/>{</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class__sbsms___1_1_track_point" kindref="compound">TrackPoint</ref><sp/>*tp0<sp/>=<sp/>getTrackPoint(time);</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1a92dfdbd2db11a6f5f2218cc2933b8881" kindref="member">m</ref><sp/>=<sp/>(tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1a057cb31be565b9057bf2e2067013294c" kindref="member">m2</ref>&gt;0.0f?sqrt(tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1a057cb31be565b9057bf2e2067013294c" kindref="member">m2</ref>):0.0f);</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(time<sp/>&lt;<sp/><ref refid="record_8c_1a6c49eed6a71ecf58a51b1f64f4ec8e55" kindref="member">last</ref>)<sp/>{</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class__sbsms___1_1_track_point" kindref="compound">TrackPoint</ref><sp/>*tp1<sp/>=<sp/>getTrackPoint(time+1);</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1a92dfdbd2db11a6f5f2218cc2933b8881" kindref="member">m</ref><sp/>=<sp/>(tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1a057cb31be565b9057bf2e2067013294c" kindref="member">m2</ref>&gt;0.0f?sqrt(tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1a057cb31be565b9057bf2e2067013294c" kindref="member">m2</ref>):0.0f);</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="210"><highlight class="normal">}</highlight></codeline>
<codeline lineno="211"><highlight class="normal"></highlight></codeline>
<codeline lineno="212" refid="class__sbsms___1_1_track_1a16e09301c9565e20311d1d62d638aabb" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Track<sp/>::<sp/>step(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="namespace__sbsms___1a3a161c3deff71e932c0ec86aad54eb7c" kindref="member">TimeType</ref><sp/>&amp;<ref refid="namespacepyportmidi_1_1midi_1ad2426758f88d23d7208984d5c99ec050" kindref="member">time</ref>)</highlight></codeline>
<codeline lineno="213"><highlight class="normal">{</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(time<sp/>&gt;<sp/>first<sp/>&amp;&amp;<sp/>time<sp/>&lt;<sp/><ref refid="record_8c_1a6c49eed6a71ecf58a51b1f64f4ec8e55" kindref="member">last</ref>)<sp/>{</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class__sbsms___1_1_track_point" kindref="compound">TrackPoint</ref><sp/>*tp<sp/>=<sp/>point[time-first];</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/>tp-&gt;<ref refid="class__sbsms___1_1_track_point_1afb7706d1a6c0e7df4fb520a9bf1cd83d" kindref="member">destroy</ref>();</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/>point[time-first]<sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="219"><highlight class="normal">}</highlight></codeline>
<codeline lineno="220"><highlight class="normal"></highlight></codeline>
<codeline lineno="221" refid="class__sbsms___1_1_track_1af489c795dd5d88178147b04080ac3cc2" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Track<sp/>::<sp/>push_back(<ref refid="class__sbsms___1_1_track_point" kindref="compound">TrackPoint</ref><sp/>*<ref refid="xmltok_8h_1a94b60f3beb36ae85555d36dc9816769c" kindref="member">p</ref>)</highlight></codeline>
<codeline lineno="222"><highlight class="normal">{</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/>point.push_back(p);</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/>p-&gt;<ref refid="class__sbsms___1_1_track_point_1adc8e196bd7b0c5e235c0e80670126be0" kindref="member">owner</ref><sp/>=<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/>p-&gt;<ref refid="class__sbsms___1_1_track_point_1adb75b86c3b50e193a6158f372283fe35" kindref="member">refCount</ref>++;</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><ref refid="record_8c_1a6c49eed6a71ecf58a51b1f64f4ec8e55" kindref="member">last</ref>++;</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><ref refid="convtest_8m_1afb358f48b1646c750fb9da6c6585be2b" kindref="member">end</ref>++;</highlight></codeline>
<codeline lineno="228"><highlight class="normal">}</highlight></codeline>
<codeline lineno="229"><highlight class="normal"></highlight></codeline>
<codeline lineno="230" refid="class__sbsms___1_1_track_1a10204078b96732e59317aadc32649639" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Track<sp/>::<sp/>endTrack(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>bStitch)</highlight></codeline>
<codeline lineno="231"><highlight class="normal">{</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(bStitch)<sp/>{</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/>this-&gt;bStitch<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="convtest_8m_1afb358f48b1646c750fb9da6c6585be2b" kindref="member">end</ref>++;</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/>bEnded<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="238"><highlight class="normal">}</highlight></codeline>
<codeline lineno="239"><highlight class="normal"></highlight></codeline>
<codeline lineno="240" refid="class__sbsms___1_1_track_1a6679fbc2fbcbbe757fccc44165d0ff0d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Track<sp/>::<sp/>synth(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>*<ref refid="lilv__test_8c_1af5a45dbcaa926b186e6f71d08212acc3" kindref="member">out</ref>,</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="namespace__sbsms___1a3a161c3deff71e932c0ec86aad54eb7c" kindref="member">TimeType</ref><sp/>&amp;<ref refid="namespacepyportmidi_1_1midi_1ad2426758f88d23d7208984d5c99ec050" kindref="member">time</ref>,</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n,</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>mode,</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="poly-fir_8h_1aafc737ea9ef91f59cf9acd287fb8d085" kindref="member">c</ref>)</highlight></codeline>
<codeline lineno="245"><highlight class="normal">{</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>m0,<sp/>m1;</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>w0,<sp/>w1;</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>unused<sp/><sp/><sp/>float<sp/>dw;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>ph0,<sp/>ph1;</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>bTailStart;</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>bTailEnd;</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(time<sp/>&gt;=<sp/><ref refid="convtest_8m_1afb358f48b1646c750fb9da6c6585be2b" kindref="member">end</ref>)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(time<sp/>&lt;<sp/><ref refid="record_8c_1a6c49eed6a71ecf58a51b1f64f4ec8e55" kindref="member">last</ref>)<sp/>{</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class__sbsms___1_1_track_point" kindref="compound">TrackPoint</ref><sp/>*tp1<sp/>=<sp/>getTrackPoint(time+1);</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/>w1<sp/>=<sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1ad7700dbd8aaa0686b44e673e5bdbfc1e" kindref="member">fSynth1</ref>;</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/>m1<sp/>=<sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1a92dfdbd2db11a6f5f2218cc2933b8881" kindref="member">m</ref>;</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/>ph1<sp/>=<sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1a253c7f904e8090210a000e82c7117e75" kindref="member">phSynth</ref>;</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(bMerge<sp/>&amp;&amp;<sp/>time<sp/>+<sp/>1<sp/>==<sp/><ref refid="record_8c_1a6c49eed6a71ecf58a51b1f64f4ec8e55" kindref="member">last</ref>)<sp/>{</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>m1<sp/>=<sp/>0.0f;</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/>bTailStart<sp/>=<sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1ae337809570c1040e14fa32e8f445c804" kindref="member">bJump</ref>;</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/>bTailEnd<sp/>=<sp/>tp1-&gt;<ref refid="class__sbsms___1_1_track_point_1ae337809570c1040e14fa32e8f445c804" kindref="member">bJump</ref>;</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/>bTailStart<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/>bTailEnd<sp/>=<sp/>(<ref refid="record_8c_1a6c49eed6a71ecf58a51b1f64f4ec8e55" kindref="member">last</ref><sp/>!=<sp/><ref refid="convtest_8m_1afb358f48b1646c750fb9da6c6585be2b" kindref="member">end</ref>);</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(time<sp/>&gt;=<sp/>first)<sp/>{</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class__sbsms___1_1_track_point" kindref="compound">TrackPoint</ref><sp/>*tp0<sp/>=<sp/>getTrackPoint(time);</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/>w0<sp/>=<sp/>tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1a969e3b568426e0293b39b1d2746ce645" kindref="member">fSynth0</ref>;</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/>m0<sp/>=<sp/>tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1a92dfdbd2db11a6f5f2218cc2933b8881" kindref="member">m</ref>;</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/>ph0<sp/>=<sp/>tp0-&gt;<ref refid="class__sbsms___1_1_track_point_1a253c7f904e8090210a000e82c7117e75" kindref="member">phSynth</ref>;</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(bSplit<sp/>&amp;&amp;<sp/>time<sp/>==<sp/>first)<sp/>{</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>m0<sp/>=<sp/>0.0f;</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/>bTailStart<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="278"><highlight class="normal"></highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(bTailEnd)<sp/>{</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>fall<sp/>=<sp/><ref refid="_compare_audio_command_8cpp_1abd8bbcfabb3ddef2ccaafb9928a37b95" kindref="member">min</ref>(n,w0==0.0<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref>?384:<ref refid="_compare_audio_command_8cpp_1abd8bbcfabb3ddef2ccaafb9928a37b95" kindref="member">min</ref>(384,(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="real_8h_1a483e8f95ebd254c9279e0ada03a9a6e8" kindref="member">lrintf</ref>(<ref refid="fftr4_8c_1a598a3330b3c21701223ee0ca14316eca" kindref="member">PI</ref><sp/>*<sp/>4.0<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref><sp/>/<sp/>w0)));</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dm<sp/>=<sp/>m0<sp/>/<sp/>(float)fall;</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>w<sp/>=<sp/>w0;</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>*out2<sp/>=<sp/><ref refid="lilv__test_8c_1af5a45dbcaa926b186e6f71d08212acc3" kindref="member">out</ref>;</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>*<ref refid="convtest_8m_1afb358f48b1646c750fb9da6c6585be2b" kindref="member">end</ref><sp/>=<sp/>out<sp/>+<sp/>fall;</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>iph<sp/>=<sp/><ref refid="real_8h_1a483e8f95ebd254c9279e0ada03a9a6e8" kindref="member">lrintf</ref>(ph0<sp/>*<sp/><ref refid="lib-src_2sbsms_2src_2track_8h_1a45fec6fa7488d43660c17f575f08c17c" kindref="member">WScale</ref>);</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(iph&gt;=<ref refid="lib-src_2sbsms_2src_2track_8h_1abfc65a1034bec6a7d81f3ff368d2febf" kindref="member">W2PI</ref>)<sp/>iph<sp/>-=<sp/><ref refid="lib-src_2sbsms_2src_2track_8h_1abfc65a1034bec6a7d81f3ff368d2febf" kindref="member">W2PI</ref>;</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>iw<sp/>=<sp/><ref refid="real_8h_1a483e8f95ebd254c9279e0ada03a9a6e8" kindref="member">lrintf</ref>(w<sp/>*<sp/>WScale);</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(out2<sp/>!=<sp/>end)<sp/>{</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(iw<sp/>&lt;<sp/><ref refid="lib-src_2sbsms_2src_2track_8h_1a778760eada4f8afa20058d0c08a810d7" kindref="member">WPI</ref>)<sp/>{</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref><sp/>=<sp/>(iph&gt;&gt;<ref refid="lib-src_2sbsms_2src_2track_8h_1a1f97fc8b28e480f40534787f39b90c9e" kindref="member">PhShift</ref>)&amp;<ref refid="lib-src_2sbsms_2src_2track_8h_1ad657dc616a13678a5c3c964a796a393f" kindref="member">Ph1</ref>;</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref><sp/>=<sp/>iph&gt;&gt;<ref refid="lib-src_2sbsms_2src_2track_8h_1a2b8843acad228e9cf88ad12507920d98" kindref="member">WShift</ref>;</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*out2<sp/>+=<sp/>m0<sp/>*<sp/>(float)(<ref refid="namespace__sbsms___1a4fd8a5666954677b7bd6cabfd5905592" kindref="member">synthTable1</ref>[i]<sp/>+<sp/>f<sp/>*<sp/><ref refid="namespace__sbsms___1abeb508b163b33b08ec80ead37421be5a" kindref="member">synthTable2</ref>[i]);</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>out2++;</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>m0<sp/>-=<sp/>dm;</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>iph<sp/>+=<sp/>iw;</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>iph<sp/>&amp;=<sp/><ref refid="lib-src_2sbsms_2src_2track_8h_1aee3867e1aefaaa08143c7854041e3eff" kindref="member">W2PIMask</ref>;</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="300"><highlight class="normal"></highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(bTailStart)<sp/>{</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>rise<sp/>=<sp/><ref refid="_compare_audio_command_8cpp_1abd8bbcfabb3ddef2ccaafb9928a37b95" kindref="member">min</ref>(n,w1==0.0<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref>?384:<ref refid="_compare_audio_command_8cpp_1abd8bbcfabb3ddef2ccaafb9928a37b95" kindref="member">min</ref>(384,(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="real_8h_1a483e8f95ebd254c9279e0ada03a9a6e8" kindref="member">lrintf</ref>(<ref refid="fftr4_8c_1a598a3330b3c21701223ee0ca14316eca" kindref="member">PI</ref><sp/>*<sp/>3.0<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref><sp/>/<sp/>w1)));</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dm<sp/>=<sp/>m1<sp/>/<sp/>(float)rise;</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>w<sp/>=<sp/>w1;</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/>out<sp/>+=<sp/>n;</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>*<ref refid="convtest_8m_1afb358f48b1646c750fb9da6c6585be2b" kindref="member">end</ref><sp/>=<sp/>out-rise;</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>iph<sp/>=<sp/><ref refid="real_8h_1a483e8f95ebd254c9279e0ada03a9a6e8" kindref="member">lrintf</ref>(ph1<sp/>*<sp/><ref refid="lib-src_2sbsms_2src_2track_8h_1a45fec6fa7488d43660c17f575f08c17c" kindref="member">WScale</ref>);</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/>iph<sp/>&amp;=<sp/><ref refid="lib-src_2sbsms_2src_2track_8h_1aee3867e1aefaaa08143c7854041e3eff" kindref="member">W2PIMask</ref>;</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>iw<sp/>=<sp/><ref refid="real_8h_1a483e8f95ebd254c9279e0ada03a9a6e8" kindref="member">lrintf</ref>(w<sp/>*<sp/>WScale);</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(out<sp/>!=<sp/>end)<sp/>{</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>out--;</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>m1<sp/>-=<sp/>dm;</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>iph<sp/>-=<sp/>iw;</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(iph&lt;0)<sp/>iph<sp/>+=<sp/><ref refid="lib-src_2sbsms_2src_2track_8h_1abfc65a1034bec6a7d81f3ff368d2febf" kindref="member">W2PI</ref>;</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(iw<sp/>&lt;<sp/><ref refid="lib-src_2sbsms_2src_2track_8h_1a778760eada4f8afa20058d0c08a810d7" kindref="member">WPI</ref>)<sp/>{</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref><sp/>=<sp/>(iph&gt;&gt;<ref refid="lib-src_2sbsms_2src_2track_8h_1a1f97fc8b28e480f40534787f39b90c9e" kindref="member">PhShift</ref>)&amp;<ref refid="lib-src_2sbsms_2src_2track_8h_1ad657dc616a13678a5c3c964a796a393f" kindref="member">Ph1</ref>;</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref><sp/>=<sp/>iph&gt;&gt;<ref refid="lib-src_2sbsms_2src_2track_8h_1a2b8843acad228e9cf88ad12507920d98" kindref="member">WShift</ref>;</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*out<sp/>+=<sp/>m1<sp/>*<sp/>(float)(<ref refid="namespace__sbsms___1a4fd8a5666954677b7bd6cabfd5905592" kindref="member">synthTable1</ref>[i]<sp/>+<sp/>f<sp/>*<sp/><ref refid="namespace__sbsms___1abeb508b163b33b08ec80ead37421be5a" kindref="member">synthTable2</ref>[i]);</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="322"><highlight class="normal"></highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!(bTailStart<sp/>||<sp/>bTailEnd))<sp/>{</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dw<sp/>=<sp/>(w1<sp/>-<sp/>w0)<sp/>/<sp/>n;</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>w<sp/>=<sp/>w0<sp/>+<sp/>0.5f<sp/>*<sp/>dw;</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>dm<sp/>=<sp/>(m1<sp/>-<sp/>m0)<sp/>/<sp/>n;</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>iph<sp/>=<sp/><ref refid="real_8h_1a483e8f95ebd254c9279e0ada03a9a6e8" kindref="member">lrintf</ref>(ph0<sp/>*<sp/><ref refid="lib-src_2sbsms_2src_2track_8h_1a45fec6fa7488d43660c17f575f08c17c" kindref="member">WScale</ref>);</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(iph&gt;=<ref refid="lib-src_2sbsms_2src_2track_8h_1abfc65a1034bec6a7d81f3ff368d2febf" kindref="member">W2PI</ref>)<sp/>iph<sp/>-=<sp/><ref refid="lib-src_2sbsms_2src_2track_8h_1abfc65a1034bec6a7d81f3ff368d2febf" kindref="member">W2PI</ref>;</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>iw<sp/>=<sp/><ref refid="real_8h_1a483e8f95ebd254c9279e0ada03a9a6e8" kindref="member">lrintf</ref>(w<sp/>*<sp/>WScale);</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>idw<sp/>=<sp/><ref refid="real_8h_1a483e8f95ebd254c9279e0ada03a9a6e8" kindref="member">lrintf</ref>(dw<sp/>*<sp/>WScale);</highlight></codeline>
<codeline lineno="331"><highlight class="normal"></highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>*<ref refid="convtest_8m_1afb358f48b1646c750fb9da6c6585be2b" kindref="member">end</ref><sp/>=<sp/>out<sp/>+<sp/>n;</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(out<sp/>!=<sp/>end)<sp/>{</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(iw<sp/>&lt;<sp/><ref refid="lib-src_2sbsms_2src_2track_8h_1a778760eada4f8afa20058d0c08a810d7" kindref="member">WPI</ref>)<sp/>{</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref><sp/>=<sp/>(iph&gt;&gt;<ref refid="lib-src_2sbsms_2src_2track_8h_1a1f97fc8b28e480f40534787f39b90c9e" kindref="member">PhShift</ref>)&amp;<ref refid="lib-src_2sbsms_2src_2track_8h_1ad657dc616a13678a5c3c964a796a393f" kindref="member">Ph1</ref>;</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref><sp/>=<sp/>iph&gt;&gt;<ref refid="lib-src_2sbsms_2src_2track_8h_1a2b8843acad228e9cf88ad12507920d98" kindref="member">WShift</ref>;</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*out<sp/>+=<sp/>m0<sp/>*<sp/>(float)(<ref refid="namespace__sbsms___1a4fd8a5666954677b7bd6cabfd5905592" kindref="member">synthTable1</ref>[i]<sp/>+<sp/>f<sp/>*<sp/><ref refid="namespace__sbsms___1abeb508b163b33b08ec80ead37421be5a" kindref="member">synthTable2</ref>[i]);</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>iph<sp/>+=<sp/>iw;</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>iw<sp/>+=<sp/>idw;</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>iph<sp/>&amp;=<sp/><ref refid="lib-src_2sbsms_2src_2track_8h_1aee3867e1aefaaa08143c7854041e3eff" kindref="member">W2PIMask</ref>;</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>m0<sp/>+=<sp/>dm;</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>out++;</highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="346"><highlight class="normal">}</highlight></codeline>
<codeline lineno="347"><highlight class="normal"></highlight></codeline>
<codeline lineno="348" refid="class__sbsms___1_1_track_1aeb524a7e33da04d6904c0f38361d2b51" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Track<sp/>::<sp/>absorb()</highlight></codeline>
<codeline lineno="349"><highlight class="normal">{</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(vector&lt;TrackPoint*&gt;::iterator<sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref><sp/>=<sp/>point.begin();</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref><sp/>!=<sp/>point.end();</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>++<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>)<sp/>{</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class__sbsms___1_1_track_point" kindref="compound">TrackPoint</ref><sp/>*tp<sp/>=<sp/>(*i);</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/>tp-&gt;<ref refid="class__sbsms___1_1_track_point_1ab57863677e6a3cceabdf8657406be322" kindref="member">absorb</ref>();</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="356"><highlight class="normal">}</highlight></codeline>
<codeline lineno="357"><highlight class="normal"></highlight></codeline>
<codeline lineno="358"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/sbsms/src/track.cpp"/>
  </compounddef>
</doxygen>
