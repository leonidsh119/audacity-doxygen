<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.11">
  <compounddef id="replaygain__analysis_8c" kind="file" language="C++">
    <compoundname>replaygain_analysis.c</compoundname>
    <includes local="no">stdio.h</includes>
    <includes local="no">stdlib.h</includes>
    <includes local="no">string.h</includes>
    <includes local="no">math.h</includes>
    <includes refid="libflac_2include_2share_2compat_8h" local="yes">share/compat.h</includes>
    <includes refid="replaygain__analysis_8h" local="yes">share/replaygain_analysis.h</includes>
    <incdepgraph>
      <node id="9588">
        <label>sys/types.h</label>
        <link refid="lib-src_2libvorbis_2macos_2compat_2sys_2_types_8h"/>
        <childnode refid="9589" relation="include">
        </childnode>
        <childnode refid="9590" relation="include">
        </childnode>
        <childnode refid="9584" relation="include">
        </childnode>
      </node>
      <node id="9592">
        <label>stdarg.h</label>
      </node>
      <node id="9593">
        <label>share/replaygain_analysis.h</label>
        <link refid="replaygain__analysis_8h"/>
        <childnode refid="9594" relation="include">
        </childnode>
      </node>
      <node id="9583">
        <label>stdlib.h</label>
      </node>
      <node id="9581">
        <label>C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c</label>
        <link refid="replaygain_analysis.c"/>
        <childnode refid="9582" relation="include">
        </childnode>
        <childnode refid="9583" relation="include">
        </childnode>
        <childnode refid="9584" relation="include">
        </childnode>
        <childnode refid="9585" relation="include">
        </childnode>
        <childnode refid="9586" relation="include">
        </childnode>
        <childnode refid="9593" relation="include">
        </childnode>
      </node>
      <node id="9594">
        <label>stddef.h</label>
      </node>
      <node id="9590">
        <label>alloca.h</label>
      </node>
      <node id="9589">
        <label>MacTypes.h</label>
      </node>
      <node id="9584">
        <label>string.h</label>
      </node>
      <node id="9591">
        <label>utime.h</label>
      </node>
      <node id="9587">
        <label>unistd.h</label>
      </node>
      <node id="9585">
        <label>math.h</label>
      </node>
      <node id="9586">
        <label>share/compat.h</label>
        <link refid="libflac_2include_2share_2compat_8h"/>
        <childnode refid="9587" relation="include">
        </childnode>
        <childnode refid="9588" relation="include">
        </childnode>
        <childnode refid="9591" relation="include">
        </childnode>
        <childnode refid="9592" relation="include">
        </childnode>
      </node>
      <node id="9582">
        <label>stdio.h</label>
      </node>
    </incdepgraph>
    <innerclass refid="struct_replay_gain_filter" prot="public">ReplayGainFilter</innerclass>
      <sectiondef kind="define">
      <memberdef kind="define" id="replaygain__analysis_8c_1a6e48d077096a381796cf730813c4e7b6" prot="public" static="no">
        <name>YULE_ORDER</name>
        <initializer>10</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="105" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="105" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="replaygain__analysis_8c_1a19f16d9b2216a352d4f53718f23e1b1a" prot="public" static="no">
        <name>BUTTER_ORDER</name>
        <initializer>2</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="106" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="106" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="replaygain__analysis_8c_1ad786d09a1da01cd49af00eae1bca52b0" prot="public" static="no">
        <name>RMS_PERCENTILE</name>
        <initializer>0.95        /* percentile which is louder than <ref refid="nasm_8h_1aaf57ffcfef0bee04f46c6ada2a905a8c" kindref="member">the</ref> proposed level */</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="107" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="107" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="replaygain__analysis_8c_1abc84eacd7a842332bec7483f7cd1f1c4" prot="public" static="no">
        <name>RMS_WINDOW_TIME</name>
        <initializer>50           /* Time slice <ref refid="group__lavu__mem_1ga854352f53b148adc24983a58a1866d66" kindref="member">size</ref> [ms] */</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="108" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="108" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="replaygain__analysis_8c_1abe2fb6295aab9e83f4289d2130e72285" prot="public" static="no">
        <name>STEPS_per_dB</name>
        <initializer>100.          /* Table entries per dB */</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="109" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="109" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="replaygain__analysis_8c_1a79b96d027b3e38ca3231c6736b10ccca" prot="public" static="no">
        <name>MAX_dB</name>
        <initializer>120.          /* Table entries <ref refid="hashrout_8h_1a63bdfbdfaa50cfc85afcbff4ce2c16a6" kindref="member">for</ref> 0...MAX_dB (normal max. values are 70...80 dB) */</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="110" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="110" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="replaygain__analysis_8c_1ab08dffec08ac450d78d4c062b571939e" prot="public" static="no">
        <name>MAX_ORDER</name>
        <initializer>(<ref refid="replaygain__analysis_8c_1a19f16d9b2216a352d4f53718f23e1b1a" kindref="member">BUTTER_ORDER</ref> &gt; <ref refid="replaygain__analysis_8c_1a6e48d077096a381796cf730813c4e7b6" kindref="member">YULE_ORDER</ref> ? <ref refid="replaygain__analysis_8c_1a19f16d9b2216a352d4f53718f23e1b1a" kindref="member">BUTTER_ORDER</ref> : <ref refid="replaygain__analysis_8c_1a6e48d077096a381796cf730813c4e7b6" kindref="member">YULE_ORDER</ref>)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="112" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="112" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="replaygain__analysis_8c_1a905b376e4b2c8ed0c7db07f376044524" prot="public" static="no">
        <name>PINK_REF</name>
        <initializer>64.82 /* 298640883795 */                          /* calibration <ref refid="lib_2expat_8h_1a4a30a13b813682e68c5b689b45c65971" kindref="member">value</ref> */</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="113" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="113" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="var">
      <memberdef kind="variable" id="replaygain__analysis_8c_1aabc8862017299453f82ced09bf6b7785" prot="public" static="no" mutable="no">
        <type><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref></type>
        <definition>flac_float_t ReplayGainReferenceLoudness</definition>
        <argsstring></argsstring>
        <name>ReplayGainReferenceLoudness</name>
        <initializer>= 89.0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="103" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="103" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="replaygain__analysis_8c_1a6f6f713c4c2b88b256c16d79a7f1109c" prot="public" static="yes" mutable="no">
        <type><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref></type>
        <definition>flac_float_t linprebuf[MAX_ORDER *2]</definition>
        <argsstring>[MAX_ORDER *2]</argsstring>
        <name>linprebuf</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="115" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="115" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="replaygain__analysis_8c_1aef12aff3b8568057d07b41b014045ddc" prot="public" static="yes" mutable="no">
        <type><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref> *</type>
        <definition>flac_float_t* linpre</definition>
        <argsstring></argsstring>
        <name>linpre</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="116" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="116" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="replaygain__analysis_8c_1a33979f7ad576c4614f1238727ff389af" prot="public" static="yes" mutable="no">
        <type><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref> *</type>
        <definition>flac_float_t* lstepbuf</definition>
        <argsstring></argsstring>
        <name>lstepbuf</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="117" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="117" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="replaygain__analysis_8c_1aee1c3091c54ee91dce0f4395adb17c18" prot="public" static="yes" mutable="no">
        <type><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref> *</type>
        <definition>flac_float_t* lstep</definition>
        <argsstring></argsstring>
        <name>lstep</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="118" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="118" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="replaygain__analysis_8c_1a3342684d46946b3a4ef6d99318ccd7a7" prot="public" static="yes" mutable="no">
        <type><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref> *</type>
        <definition>flac_float_t* loutbuf</definition>
        <argsstring></argsstring>
        <name>loutbuf</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="119" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="119" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="replaygain__analysis_8c_1ab8f7c8d1b614d361d7aa563cc4151fd9" prot="public" static="yes" mutable="no">
        <type><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref> *</type>
        <definition>flac_float_t* lout</definition>
        <argsstring></argsstring>
        <name>lout</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="120" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="120" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="replaygain__analysis_8c_1afdda76ba876e46e004cad3144a2af37a" prot="public" static="yes" mutable="no">
        <type><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref></type>
        <definition>flac_float_t rinprebuf[MAX_ORDER *2]</definition>
        <argsstring>[MAX_ORDER *2]</argsstring>
        <name>rinprebuf</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="121" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="121" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="replaygain__analysis_8c_1a9ada032aa996b381fb0b83602946dc51" prot="public" static="yes" mutable="no">
        <type><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref> *</type>
        <definition>flac_float_t* rinpre</definition>
        <argsstring></argsstring>
        <name>rinpre</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="122" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="122" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="replaygain__analysis_8c_1a4aa44945b7cb0b0d01b63bcd3ff734d0" prot="public" static="yes" mutable="no">
        <type><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref> *</type>
        <definition>flac_float_t* rstepbuf</definition>
        <argsstring></argsstring>
        <name>rstepbuf</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="123" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="123" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="replaygain__analysis_8c_1a6da6a29297f847cd8685e63d71368a02" prot="public" static="yes" mutable="no">
        <type><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref> *</type>
        <definition>flac_float_t* rstep</definition>
        <argsstring></argsstring>
        <name>rstep</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="124" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="124" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="replaygain__analysis_8c_1a41cfb8f607bea7fe1f8c3bd955e615ff" prot="public" static="yes" mutable="no">
        <type><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref> *</type>
        <definition>flac_float_t* routbuf</definition>
        <argsstring></argsstring>
        <name>routbuf</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="125" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="125" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="replaygain__analysis_8c_1aa2692a984a669d311a0f04ce96654786" prot="public" static="yes" mutable="no">
        <type><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref> *</type>
        <definition>flac_float_t* rout</definition>
        <argsstring></argsstring>
        <name>rout</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="126" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="126" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="replaygain__analysis_8c_1a64c6b2287ad1805a6207fa4791a430c7" prot="public" static="yes" mutable="no">
        <type>unsigned <ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
        <definition>unsigned int sampleWindow</definition>
        <argsstring></argsstring>
        <name>sampleWindow</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="127" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="127" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="replaygain__analysis_8c_1a1abad4453a1413fe74bbf1d36fa6538b" prot="public" static="yes" mutable="no">
        <type>unsigned long</type>
        <definition>unsigned long totsamp</definition>
        <argsstring></argsstring>
        <name>totsamp</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="128" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="128" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="replaygain__analysis_8c_1a471b820b1b01cbe1896b3dcf9c3e0c4e" prot="public" static="yes" mutable="no">
        <type>double</type>
        <definition>double lsum</definition>
        <argsstring></argsstring>
        <name>lsum</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="129" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="129" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="replaygain__analysis_8c_1a2ec9b74a70fb16fb7b91c30cefa945d2" prot="public" static="yes" mutable="no">
        <type>double</type>
        <definition>double rsum</definition>
        <argsstring></argsstring>
        <name>rsum</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="130" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="130" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="replaygain__analysis_8c_1a8de17425cd2f0ea0e3efac9171e2ab1d" prot="public" static="yes" mutable="no">
        <type><ref refid="lib-src_2ffmpeg_2win32_2stdint_8h_1a6eb1e68cc391dd753bc8ce896dbb8315" kindref="member">uint32_t</ref></type>
        <definition>uint32_t A[120 *100]</definition>
        <argsstring>[120 *100]</argsstring>
        <name>A</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="136" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="136" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="replaygain__analysis_8c_1aec26c8c95c4933dc04c50deacfdc29cd" prot="public" static="yes" mutable="no">
        <type><ref refid="lib-src_2ffmpeg_2win32_2stdint_8h_1a6eb1e68cc391dd753bc8ce896dbb8315" kindref="member">uint32_t</ref></type>
        <definition>uint32_t B[120 *100]</definition>
        <argsstring>[120 *100]</argsstring>
        <name>B</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="137" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="137" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="replaygain__analysis_8c_1a5ae2a0126534ed691d385afe387c0a02" prot="public" static="yes" mutable="no">
        <type>struct <ref refid="struct_replay_gain_filter" kindref="compound">ReplayGainFilter</ref> *</type>
        <definition>struct ReplayGainFilter* replaygainfilter</definition>
        <argsstring></argsstring>
        <name>replaygainfilter</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="153" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="153" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="replaygain__analysis_8c_1a6d19ebd5feca6a9c0150e294dba870be" prot="public" static="yes" mutable="no">
        <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> struct <ref refid="struct_replay_gain_filter" kindref="compound">ReplayGainFilter</ref></type>
        <definition>const struct ReplayGainFilter ReplayGainFilters[]</definition>
        <argsstring>[]</argsstring>
        <name>ReplayGainFilters</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="153" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="155" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="replaygain__analysis_8c_1a8c62cf82b393223286130f18a4bb522a" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>static void filter</definition>
        <argsstring>(const flac_float_t *input, flac_float_t *output, size_t nSamples, const flac_float_t *a, const flac_float_t *b, size_t order, unsigned downsample)</argsstring>
        <name>filter</name>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref> *</type>
          <declname>input</declname>
        </param>
        <param>
          <type><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref> *</type>
          <declname>output</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>nSamples</declname>
        </param>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref> *</type>
          <declname>a</declname>
        </param>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref> *</type>
          <declname>b</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>order</declname>
        </param>
        <param>
          <type>unsigned</type>
          <declname>downsample</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="271" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="271" bodyend="298"/>
      </memberdef>
      <memberdef kind="function" id="replaygain__analysis_8c_1a79e04adf9f8737864f08e18011bd171d" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>struct <ref refid="struct_replay_gain_filter" kindref="compound">ReplayGainFilter</ref> *</type>
        <definition>static struct ReplayGainFilter* CreateGainFilter</definition>
        <argsstring>(long samplefreq)</argsstring>
        <name>CreateGainFilter</name>
        <param>
          <type>long</type>
          <declname>samplefreq</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="303" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="303" bodyend="337"/>
      </memberdef>
      <memberdef kind="function" id="replaygain__analysis_8c_1a4be5c36756e8d938ccc291646afe04b2" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref> *</type>
        <definition>static void* ReallocateWindowBuffer</definition>
        <argsstring>(unsigned window_size, flac_float_t **window_buffer)</argsstring>
        <name>ReallocateWindowBuffer</name>
        <param>
          <type>unsigned</type>
          <declname>window_size</declname>
        </param>
        <param>
          <type><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref> **</type>
          <declname>window_buffer</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="340" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="340" bodyend="349"/>
      </memberdef>
      <memberdef kind="function" id="replaygain__analysis_8c_1a1b691214ad15ade53974d4ab09fc1ae3" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
        <definition>static int ResetSampleFrequency</definition>
        <argsstring>(long samplefreq)</argsstring>
        <name>ResetSampleFrequency</name>
        <param>
          <type>long</type>
          <declname>samplefreq</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="352" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="352" bodyend="385"/>
      </memberdef>
      <memberdef kind="function" id="replaygain__analysis_8c_1ac181bc1172ad87376baaa7bcb2f6cfeb" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
        <definition>int ValidGainFrequency</definition>
        <argsstring>(long samplefreq)</argsstring>
        <name>ValidGainFrequency</name>
        <param>
          <type>long</type>
          <declname>samplefreq</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="388" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="388" bodyend="395"/>
      </memberdef>
      <memberdef kind="function" id="replaygain__analysis_8c_1a085bbbbfe4f7266e9f4b9180da006417" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
        <definition>int InitGainAnalysis</definition>
        <argsstring>(long samplefreq)</argsstring>
        <name>InitGainAnalysis</name>
        <param>
          <type>long</type>
          <declname>samplefreq</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="398" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="398" bodyend="414"/>
      </memberdef>
      <memberdef kind="function" id="replaygain__analysis_8c_1ad85a75d74c9050aea1e441b386e5b3f0" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
        <definition>int AnalyzeSamples</definition>
        <argsstring>(const flac_float_t *left_samples, const flac_float_t *right_samples, size_t num_samples, int num_channels)</argsstring>
        <name>AnalyzeSamples</name>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref> *</type>
          <declname>left_samples</declname>
        </param>
        <param>
          <type><ref refid="getopt1_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref> <ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref> *</type>
          <declname>right_samples</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>num_samples</declname>
        </param>
        <param>
          <type><ref refid="xmltok_8h_1a5a0d4a5641ce434f1d23533f2b2e6653" kindref="member">int</ref></type>
          <declname>num_channels</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="419" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="419" bodyend="518"/>
      </memberdef>
      <memberdef kind="function" id="replaygain__analysis_8c_1a73ddbdb39c560d246e5a631508f7aa97" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref></type>
        <definition>static flac_float_t analyzeResult</definition>
        <argsstring>(uint32_t *Array, size_t len)</argsstring>
        <name>analyzeResult</name>
        <param>
          <type><ref refid="lib-src_2ffmpeg_2win32_2stdint_8h_1a6eb1e68cc391dd753bc8ce896dbb8315" kindref="member">uint32_t</ref> *</type>
          <declname>Array</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>len</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="522" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="522" bodyend="546"/>
      </memberdef>
      <memberdef kind="function" id="replaygain__analysis_8c_1a1f99ccdd8d6f787da3fcfb14da92d54d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref></type>
        <definition>flac_float_t GetTitleGain</definition>
        <argsstring>(void)</argsstring>
        <name>GetTitleGain</name>
        <param>
          <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="550" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="550" bodyend="568"/>
      </memberdef>
      <memberdef kind="function" id="replaygain__analysis_8c_1ac905fea7f33238cea563607378e783ac" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref></type>
        <definition>flac_float_t GetAlbumGain</definition>
        <argsstring>(void)</argsstring>
        <name>GetAlbumGain</name>
        <param>
          <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" line="572" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c" bodystart="572" bodyend="575"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*</highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/>*<sp/><sp/>ReplayGainAnalysis<sp/>-<sp/>analyzes<sp/>input<sp/>samples<sp/>and<sp/>give<sp/>the<sp/>recommended<sp/>dB<sp/>change</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/>*<sp/><sp/>Copyright<sp/>(C)<sp/>2001<sp/>David<sp/>Robinson<sp/>and<sp/>Glen<sp/>Sawyer</highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/>*<sp/><sp/>This<sp/>library<sp/>is<sp/>free<sp/>software;<sp/>you<sp/>can<sp/>redistribute<sp/>it<sp/>and/or</highlight></codeline>
<codeline lineno="6"><highlight class="comment"><sp/>*<sp/><sp/>modify<sp/>it<sp/>under<sp/>the<sp/>terms<sp/>of<sp/>the<sp/>GNU<sp/>Lesser<sp/>General<sp/>Public</highlight></codeline>
<codeline lineno="7"><highlight class="comment"><sp/>*<sp/><sp/>License<sp/>as<sp/>published<sp/>by<sp/>the<sp/>Free<sp/>Software<sp/>Foundation;<sp/>either</highlight></codeline>
<codeline lineno="8"><highlight class="comment"><sp/>*<sp/><sp/>version<sp/>2.1<sp/>of<sp/>the<sp/>License,<sp/>or<sp/>(at<sp/>your<sp/>option)<sp/>any<sp/>later<sp/>version.</highlight></codeline>
<codeline lineno="9"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="10"><highlight class="comment"><sp/>*<sp/><sp/>This<sp/>library<sp/>is<sp/>distributed<sp/>in<sp/>the<sp/>hope<sp/>that<sp/>it<sp/>will<sp/>be<sp/>useful,</highlight></codeline>
<codeline lineno="11"><highlight class="comment"><sp/>*<sp/><sp/>but<sp/>WITHOUT<sp/>ANY<sp/>WARRANTY;<sp/>without<sp/>even<sp/>the<sp/>implied<sp/>warranty<sp/>of</highlight></codeline>
<codeline lineno="12"><highlight class="comment"><sp/>*<sp/><sp/>MERCHANTABILITY<sp/>or<sp/>FITNESS<sp/>FOR<sp/>A<sp/>PARTICULAR<sp/>PURPOSE.<sp/><sp/>See<sp/>the<sp/>GNU</highlight></codeline>
<codeline lineno="13"><highlight class="comment"><sp/>*<sp/><sp/>Lesser<sp/>General<sp/>Public<sp/>License<sp/>for<sp/>more<sp/>details.</highlight></codeline>
<codeline lineno="14"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="15"><highlight class="comment"><sp/>*<sp/><sp/>You<sp/>should<sp/>have<sp/>received<sp/>a<sp/>copy<sp/>of<sp/>the<sp/>GNU<sp/>Lesser<sp/>General<sp/>Public</highlight></codeline>
<codeline lineno="16"><highlight class="comment"><sp/>*<sp/><sp/>License<sp/>along<sp/>with<sp/>this<sp/>library;<sp/>if<sp/>not,<sp/>write<sp/>to<sp/>the<sp/>Free<sp/>Software</highlight></codeline>
<codeline lineno="17"><highlight class="comment"><sp/>*<sp/><sp/>Foundation,<sp/>Inc.,<sp/>51<sp/>Franklin<sp/>Street,<sp/>Fifth<sp/>Floor,<sp/>Boston,<sp/>MA<sp/><sp/>02110-1301<sp/><sp/>USA</highlight></codeline>
<codeline lineno="18"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="19"><highlight class="comment"><sp/>*<sp/><sp/>concept<sp/>and<sp/>filter<sp/>values<sp/>by<sp/>David<sp/>Robinson<sp/>(David@Robinson.org)</highlight></codeline>
<codeline lineno="20"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/>--<sp/>blame<sp/>him<sp/>if<sp/>you<sp/>think<sp/>the<sp/>idea<sp/>is<sp/>flawed</highlight></codeline>
<codeline lineno="21"><highlight class="comment"><sp/>*<sp/><sp/>original<sp/>coding<sp/>by<sp/>Glen<sp/>Sawyer<sp/>(glensawyer@hotmail.com)</highlight></codeline>
<codeline lineno="22"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/>--<sp/>blame<sp/>him<sp/>if<sp/>you<sp/>think<sp/>this<sp/>runs<sp/>too<sp/>slowly,<sp/>or<sp/>the<sp/>coding<sp/>is<sp/>otherwise<sp/>flawed</highlight></codeline>
<codeline lineno="23"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="24"><highlight class="comment"><sp/>*<sp/><sp/>lots<sp/>of<sp/>code<sp/>improvements<sp/>by<sp/>Frank<sp/>Klemm<sp/>(<sp/>http://www.uni-jena.de/~pfk/mpp/<sp/>)</highlight></codeline>
<codeline lineno="25"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/>--<sp/>credit<sp/>him<sp/>for<sp/>all<sp/>the<sp/>_good_<sp/>programming<sp/>;)</highlight></codeline>
<codeline lineno="26"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="27"><highlight class="comment"><sp/>*<sp/><sp/>minor<sp/>cosmetic<sp/>tweaks<sp/>to<sp/>integrate<sp/>with<sp/>FLAC<sp/>by<sp/>Josh<sp/>Coalson</highlight></codeline>
<codeline lineno="28"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="29"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="30"><highlight class="comment"><sp/>*<sp/><sp/>For<sp/>an<sp/>explanation<sp/>of<sp/>the<sp/>concepts<sp/>and<sp/>the<sp/>basic<sp/>algorithms<sp/>involved,<sp/>go<sp/>to:</highlight></codeline>
<codeline lineno="31"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/>http://www.replaygain.org/</highlight></codeline>
<codeline lineno="32"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="35"><highlight class="comment"><sp/>*<sp/><sp/>Here&apos;s<sp/>the<sp/>deal.<sp/>Call</highlight></codeline>
<codeline lineno="36"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="37"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/>InitGainAnalysis<sp/>(<sp/>long<sp/>samplefreq<sp/>);</highlight></codeline>
<codeline lineno="38"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="39"><highlight class="comment"><sp/>*<sp/><sp/>to<sp/>initialize<sp/>everything.<sp/>Call</highlight></codeline>
<codeline lineno="40"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="41"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/>AnalyzeSamples<sp/>(<sp/>const<sp/>flac_float_t*<sp/><sp/>left_samples,</highlight></codeline>
<codeline lineno="42"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>const<sp/>flac_float_t*<sp/><sp/>right_samples,</highlight></codeline>
<codeline lineno="43"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>size_t<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_samples,</highlight></codeline>
<codeline lineno="44"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>int<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_channels<sp/>);</highlight></codeline>
<codeline lineno="45"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="46"><highlight class="comment"><sp/>*<sp/><sp/>as<sp/>many<sp/>times<sp/>as<sp/>you<sp/>want,<sp/>with<sp/>as<sp/>many<sp/>or<sp/>as<sp/>few<sp/>samples<sp/>as<sp/>you<sp/>want.</highlight></codeline>
<codeline lineno="47"><highlight class="comment"><sp/>*<sp/><sp/>If<sp/>mono,<sp/>pass<sp/>the<sp/>sample<sp/>buffer<sp/>in<sp/>through<sp/>left_samples,<sp/>leave</highlight></codeline>
<codeline lineno="48"><highlight class="comment"><sp/>*<sp/><sp/>right_samples<sp/>NULL,<sp/>and<sp/>make<sp/>sure<sp/>num_channels<sp/>=<sp/>1.</highlight></codeline>
<codeline lineno="49"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="50"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/>GetTitleGain()</highlight></codeline>
<codeline lineno="51"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="52"><highlight class="comment"><sp/>*<sp/><sp/>will<sp/>return<sp/>the<sp/>recommended<sp/>dB<sp/>level<sp/>change<sp/>for<sp/>all<sp/>samples<sp/>analyzed</highlight></codeline>
<codeline lineno="53"><highlight class="comment"><sp/>*<sp/><sp/>SINCE<sp/>THE<sp/>LAST<sp/>TIME<sp/>you<sp/>called<sp/>GetTitleGain()<sp/>OR<sp/>InitGainAnalysis().</highlight></codeline>
<codeline lineno="54"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="55"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/>GetAlbumGain()</highlight></codeline>
<codeline lineno="56"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="57"><highlight class="comment"><sp/>*<sp/><sp/>will<sp/>return<sp/>the<sp/>recommended<sp/>dB<sp/>level<sp/>change<sp/>for<sp/>all<sp/>samples<sp/>analyzed</highlight></codeline>
<codeline lineno="58"><highlight class="comment"><sp/>*<sp/><sp/>since<sp/>InitGainAnalysis()<sp/>was<sp/>called<sp/>and<sp/>finalized<sp/>with<sp/>GetTitleGain().</highlight></codeline>
<codeline lineno="59"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="60"><highlight class="comment"><sp/>*<sp/><sp/>Pseudo-code<sp/>to<sp/>process<sp/>an<sp/>album:</highlight></codeline>
<codeline lineno="61"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="62"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/>flac_float_t<sp/><sp/><sp/><sp/><sp/><sp/><sp/>l_samples<sp/>[4096];</highlight></codeline>
<codeline lineno="63"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/>flac_float_t<sp/><sp/><sp/><sp/><sp/><sp/><sp/>r_samples<sp/>[4096];</highlight></codeline>
<codeline lineno="64"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/>size_t<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_samples;</highlight></codeline>
<codeline lineno="65"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/>unsigned<sp/>int<sp/><sp/>num_songs;</highlight></codeline>
<codeline lineno="66"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/>unsigned<sp/>int<sp/><sp/>i;</highlight></codeline>
<codeline lineno="67"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="68"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/>InitGainAnalysis<sp/>(<sp/>44100<sp/>);</highlight></codeline>
<codeline lineno="69"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/>for<sp/>(<sp/>i<sp/>=<sp/>1;<sp/>i<sp/>&lt;=<sp/>num_songs;<sp/>i++<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="70"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>while<sp/>(<sp/>(<sp/>num_samples<sp/>=<sp/>getSongSamples<sp/>(<sp/>song[i],<sp/>left_samples,<sp/>right_samples<sp/>)<sp/>)<sp/>&gt;<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="71"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AnalyzeSamples<sp/>(<sp/>left_samples,<sp/>right_samples,<sp/>num_samples,<sp/>2<sp/>);</highlight></codeline>
<codeline lineno="72"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fprintf<sp/>(&quot;Recommended<sp/>dB<sp/>change<sp/>for<sp/>song<sp/>%2d:<sp/>%+6.2f<sp/>dB\n&quot;,<sp/>i,<sp/>GetTitleGain()<sp/>);</highlight></codeline>
<codeline lineno="73"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="74"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/>fprintf<sp/>(&quot;Recommended<sp/>dB<sp/>change<sp/>for<sp/>whole<sp/>album:<sp/>%+6.2f<sp/>dB\n&quot;,<sp/>GetAlbumGain()<sp/>);</highlight></codeline>
<codeline lineno="75"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="78"><highlight class="comment"><sp/>*<sp/><sp/>So<sp/>here&apos;s<sp/>the<sp/>main<sp/>source<sp/>of<sp/>potential<sp/>code<sp/>confusion:</highlight></codeline>
<codeline lineno="79"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="80"><highlight class="comment"><sp/>*<sp/><sp/>The<sp/>filters<sp/>applied<sp/>to<sp/>the<sp/>incoming<sp/>samples<sp/>are<sp/>IIR<sp/>filters,</highlight></codeline>
<codeline lineno="81"><highlight class="comment"><sp/>*<sp/><sp/>meaning<sp/>they<sp/>rely<sp/>on<sp/>up<sp/>to<sp/>&lt;filter<sp/>order&gt;<sp/>number<sp/>of<sp/>previous<sp/>samples</highlight></codeline>
<codeline lineno="82"><highlight class="comment"><sp/>*<sp/><sp/>AND<sp/>up<sp/>to<sp/>&lt;filter<sp/>order&gt;<sp/>number<sp/>of<sp/>previous<sp/>filtered<sp/>samples.</highlight></codeline>
<codeline lineno="83"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="84"><highlight class="comment"><sp/>*<sp/><sp/>I<sp/>set<sp/>up<sp/>the<sp/>AnalyzeSamples<sp/>routine<sp/>to<sp/>minimize<sp/>memory<sp/>usage<sp/>and<sp/>interface</highlight></codeline>
<codeline lineno="85"><highlight class="comment"><sp/>*<sp/><sp/>complexity.<sp/>The<sp/>speed<sp/>isn&apos;t<sp/>compromised<sp/>too<sp/>much<sp/>(I<sp/>don&apos;t<sp/>think),<sp/>but<sp/>the</highlight></codeline>
<codeline lineno="86"><highlight class="comment"><sp/>*<sp/><sp/>internal<sp/>complexity<sp/>is<sp/>higher<sp/>than<sp/>it<sp/>should<sp/>be<sp/>for<sp/>such<sp/>a<sp/>relatively</highlight></codeline>
<codeline lineno="87"><highlight class="comment"><sp/>*<sp/><sp/>simple<sp/>routine.</highlight></codeline>
<codeline lineno="88"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="89"><highlight class="comment"><sp/>*<sp/><sp/>Optimization/clarity<sp/>suggestions<sp/>are<sp/>welcome.</highlight></codeline>
<codeline lineno="90"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>HAVE_CONFIG_H</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>include<sp/>&lt;config.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdio.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdlib.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;math.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="libflac_2include_2share_2compat_8h" kindref="compound">share/compat.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="replaygain__analysis_8h" kindref="compound">share/replaygain_analysis.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight></codeline>
<codeline lineno="103" refid="replaygain__analysis_8c_1aabc8862017299453f82ced09bf6b7785" refkind="member"><highlight class="normal"><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref><sp/><ref refid="replaygain__analysis_8c_1aabc8862017299453f82ced09bf6b7785" kindref="member">ReplayGainReferenceLoudness</ref><sp/>=<sp/>89.0;<sp/></highlight><highlight class="comment">/*<sp/>in<sp/>dB<sp/>SPL<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"></highlight></codeline>
<codeline lineno="105" refid="replaygain__analysis_8c_1a6e48d077096a381796cf730813c4e7b6" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>YULE_ORDER<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>10</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="106" refid="replaygain__analysis_8c_1a19f16d9b2216a352d4f53718f23e1b1a" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>BUTTER_ORDER<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>2</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="107" refid="replaygain__analysis_8c_1ad786d09a1da01cd49af00eae1bca52b0" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>RMS_PERCENTILE<sp/><sp/><sp/><sp/><sp/><sp/>0.95<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>percentile<sp/>which<sp/>is<sp/>louder<sp/>than<sp/>the<sp/>proposed<sp/>level<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="108" refid="replaygain__analysis_8c_1abc84eacd7a842332bec7483f7cd1f1c4" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>RMS_WINDOW_TIME<sp/><sp/><sp/><sp/>50<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Time<sp/>slice<sp/>size<sp/>[ms]<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="109" refid="replaygain__analysis_8c_1abe2fb6295aab9e83f4289d2130e72285" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>STEPS_per_dB<sp/><sp/><sp/><sp/><sp/><sp/>100.<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Table<sp/>entries<sp/>per<sp/>dB<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="110" refid="replaygain__analysis_8c_1a79b96d027b3e38ca3231c6736b10ccca" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MAX_dB<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>120.<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Table<sp/>entries<sp/>for<sp/>0...MAX_dB<sp/>(normal<sp/>max.<sp/>values<sp/>are<sp/>70...80<sp/>dB)<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"></highlight></codeline>
<codeline lineno="112" refid="replaygain__analysis_8c_1ab08dffec08ac450d78d4c062b571939e" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MAX_ORDER<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(BUTTER_ORDER<sp/>&gt;<sp/>YULE_ORDER<sp/>?<sp/>BUTTER_ORDER<sp/>:<sp/>YULE_ORDER)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="113" refid="replaygain__analysis_8c_1a905b376e4b2c8ed0c7db07f376044524" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>PINK_REF<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>64.82<sp/></highlight><highlight class="comment">/*<sp/>298640883795<sp/>*/</highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>calibration<sp/>value<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>linprebuf<sp/>[<ref refid="replaygain__analysis_8c_1ab08dffec08ac450d78d4c062b571939e" kindref="member">MAX_ORDER</ref><sp/>*<sp/>2];</highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>linpre;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>left<sp/>input<sp/>samples,<sp/>with<sp/>pre-buffer<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lstepbuf;</highlight></codeline>
<codeline lineno="118"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lstep;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>left<sp/>&quot;first<sp/>step&quot;<sp/>(i.e.<sp/>post<sp/>first<sp/>filter)<sp/>samples<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>loutbuf;</highlight></codeline>
<codeline lineno="120"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lout;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>left<sp/>&quot;out&quot;<sp/>(i.e.<sp/>post<sp/>second<sp/>filter)<sp/>samples<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rinprebuf<sp/>[<ref refid="replaygain__analysis_8c_1ab08dffec08ac450d78d4c062b571939e" kindref="member">MAX_ORDER</ref><sp/>*<sp/>2];</highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rinpre;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>right<sp/>input<sp/>samples<sp/>...<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rstepbuf;</highlight></codeline>
<codeline lineno="124"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rstep;</highlight></codeline>
<codeline lineno="125"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>routbuf;</highlight></codeline>
<codeline lineno="126"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rout;</highlight></codeline>
<codeline lineno="127"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sampleWindow;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>number<sp/>of<sp/>samples<sp/>required<sp/>to<sp/>reach<sp/>number<sp/>of<sp/>milliseconds<sp/>required<sp/>for<sp/>RMS<sp/>window<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><sp/><sp/><sp/>totsamp;</highlight></codeline>
<codeline lineno="129"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lsum;</highlight></codeline>
<codeline lineno="130"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rsum;</highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="lib-src_2ffmpeg_2win32_2stdint_8h_1a6eb1e68cc391dd753bc8ce896dbb8315" kindref="member">uint32_t</ref><sp/><sp/><ref refid="libnyquist_2nyquist_2nyqsrc_2add_8c_1a955f504eccf76b4eb2489c0adab03121" kindref="member">A</ref><sp/>[(size_t)(<ref refid="replaygain__analysis_8c_1abe2fb6295aab9e83f4289d2130e72285" kindref="member">STEPS_per_dB</ref><sp/>*<sp/><ref refid="replaygain__analysis_8c_1a79b96d027b3e38ca3231c6736b10ccca" kindref="member">MAX_dB</ref>)];</highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="lib-src_2ffmpeg_2win32_2stdint_8h_1a6eb1e68cc391dd753bc8ce896dbb8315" kindref="member">uint32_t</ref><sp/><sp/><ref refid="libnyquist_2nyquist_2nyqsrc_2add_8c_1a111da81ae5883147168bbb8366377b10" kindref="member">B</ref><sp/>[(size_t)(<ref refid="replaygain__analysis_8c_1abe2fb6295aab9e83f4289d2130e72285" kindref="member">STEPS_per_dB</ref><sp/>*<sp/><ref refid="replaygain__analysis_8c_1a79b96d027b3e38ca3231c6736b10ccca" kindref="member">MAX_dB</ref>)];</highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>[JEC]<sp/>Solaris<sp/>Forte<sp/>compiler<sp/>doesn&apos;t<sp/>like<sp/>float<sp/>calc<sp/>in<sp/>array<sp/>indices<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="lib-src_2ffmpeg_2win32_2stdint_8h_1a6eb1e68cc391dd753bc8ce896dbb8315" kindref="member">uint32_t</ref><sp/><sp/><ref refid="libnyquist_2nyquist_2nyqsrc_2add_8c_1a955f504eccf76b4eb2489c0adab03121" kindref="member">A</ref><sp/>[120<sp/>*<sp/>100];</highlight></codeline>
<codeline lineno="137"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="lib-src_2ffmpeg_2win32_2stdint_8h_1a6eb1e68cc391dd753bc8ce896dbb8315" kindref="member">uint32_t</ref><sp/><sp/><ref refid="libnyquist_2nyquist_2nyqsrc_2add_8c_1a111da81ae5883147168bbb8366377b10" kindref="member">B</ref><sp/>[120<sp/>*<sp/>100];</highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="139"><highlight class="normal"></highlight></codeline>
<codeline lineno="140"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>_MSC_VER</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>warning<sp/>(<sp/>disable<sp/>:<sp/>4305<sp/>)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight></codeline>
<codeline lineno="144" refid="struct_replay_gain_filter" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_replay_gain_filter" kindref="compound">ReplayGainFilter</ref><sp/>{</highlight></codeline>
<codeline lineno="145" refid="struct_replay_gain_filter_1a5ae0ffecc9971135049c04bdaaff4908" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="struct_replay_gain_filter_1a5ae0ffecc9971135049c04bdaaff4908" kindref="member">rate</ref>;</highlight></codeline>
<codeline lineno="146" refid="struct_replay_gain_filter_1a4a78bc4bc1878b806a36230c2add19b5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="struct_replay_gain_filter_1a4a78bc4bc1878b806a36230c2add19b5" kindref="member">downsample</ref>;</highlight></codeline>
<codeline lineno="147" refid="struct_replay_gain_filter_1a47d88bce1d1df5d2a4a7c391cd710fc3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref><sp/><ref refid="struct_replay_gain_filter_1a47d88bce1d1df5d2a4a7c391cd710fc3" kindref="member">BYule</ref>[<ref refid="replaygain__analysis_8c_1a6e48d077096a381796cf730813c4e7b6" kindref="member">YULE_ORDER</ref>+1];</highlight></codeline>
<codeline lineno="148" refid="struct_replay_gain_filter_1a308645ad3bbfc0444f1f1c4da997439e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref><sp/><ref refid="struct_replay_gain_filter_1a308645ad3bbfc0444f1f1c4da997439e" kindref="member">AYule</ref>[<ref refid="replaygain__analysis_8c_1a6e48d077096a381796cf730813c4e7b6" kindref="member">YULE_ORDER</ref>+1];</highlight></codeline>
<codeline lineno="149" refid="struct_replay_gain_filter_1abcf3ff4d38499794f51b6c074cf7258d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref><sp/><ref refid="struct_replay_gain_filter_1abcf3ff4d38499794f51b6c074cf7258d" kindref="member">BButter</ref>[<ref refid="replaygain__analysis_8c_1a19f16d9b2216a352d4f53718f23e1b1a" kindref="member">BUTTER_ORDER</ref>+1];</highlight></codeline>
<codeline lineno="150" refid="struct_replay_gain_filter_1aa759f17fb0e2cb02c3b3a5cc11a11a0f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref><sp/><ref refid="struct_replay_gain_filter_1aa759f17fb0e2cb02c3b3a5cc11a11a0f" kindref="member">AButter</ref>[<ref refid="replaygain__analysis_8c_1a19f16d9b2216a352d4f53718f23e1b1a" kindref="member">BUTTER_ORDER</ref>+1];</highlight></codeline>
<codeline lineno="151"><highlight class="normal">};</highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_replay_gain_filter" kindref="compound">ReplayGainFilter</ref><sp/>*replaygainfilter;</highlight></codeline>
<codeline lineno="154"><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_replay_gain_filter" kindref="compound">ReplayGainFilter</ref><sp/>ReplayGainFilters[]<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="156"><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>48000,<sp/>0,<sp/></highlight><highlight class="comment">/*<sp/>ORIGINAL<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>0.03857599435200,<sp/><sp/>-0.02160367184185,<sp/><sp/>-0.00123395316851,<sp/><sp/>-0.00009291677959,<sp/><sp/>-0.01655260341619,<sp/><sp/><sp/>0.02161526843274,<sp/><sp/>-0.02074045215285,<sp/><sp/><sp/>0.00594298065125,<sp/><sp/><sp/>0.00306428023191,<sp/><sp/><sp/>0.00012025322027,<sp/><sp/><sp/>0.00288463683916<sp/>},</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>1.00000000000000,<sp/><sp/>-3.84664617118067,<sp/><sp/><sp/>7.81501653005538,<sp/>-11.34170355132042,<sp/><sp/>13.05504219327545,<sp/>-12.28759895145294,<sp/><sp/><sp/>9.48293806319790,<sp/>-5.87257861775999,<sp/><sp/><sp/>2.75465861874613,<sp/><sp/><sp/>-0.86984376593551,<sp/><sp/><sp/>0.13919314567432<sp/>},</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>0.98621192462708,<sp/><sp/>-1.97242384925416,<sp/><sp/><sp/>0.98621192462708<sp/>},</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>1.00000000000000,<sp/><sp/>-1.97223372919527,<sp/><sp/><sp/>0.97261396931306<sp/>},</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="164"><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>44100,<sp/>0,<sp/></highlight><highlight class="comment">/*<sp/>ORIGINAL<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>0.05418656406430,<sp/><sp/>-0.02911007808948,<sp/><sp/>-0.00848709379851,<sp/><sp/>-0.00851165645469,<sp/><sp/>-0.00834990904936,<sp/><sp/><sp/>0.02245293253339,<sp/><sp/>-0.02596338512915,<sp/><sp/><sp/>0.01624864962975,<sp/><sp/>-0.00240879051584,<sp/><sp/><sp/>0.00674613682247,<sp/><sp/>-0.00187763777362<sp/>},</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>1.00000000000000,<sp/><sp/>-3.47845948550071,<sp/><sp/><sp/>6.36317777566148,<sp/><sp/>-8.54751527471874,<sp/><sp/><sp/>9.47693607801280,<sp/><sp/>-8.81498681370155,<sp/><sp/><sp/>6.85401540936998,<sp/><sp/>-4.39470996079559,<sp/><sp/><sp/>2.19611684890774,<sp/><sp/>-0.75104302451432,<sp/><sp/><sp/>0.13149317958808<sp/>},</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>0.98500175787242,<sp/><sp/>-1.97000351574484,<sp/><sp/><sp/>0.98500175787242<sp/>},</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>1.00000000000000,<sp/><sp/>-1.96977855582618,<sp/><sp/><sp/>0.97022847566350<sp/>},</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="172"><highlight class="normal"></highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>37800,<sp/>0,</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>0.10296717174470,<sp/><sp/>-0.04877975583256,<sp/><sp/>-0.02878009075237,<sp/><sp/>-0.03519509188311,<sp/><sp/><sp/>0.02888717172493,<sp/><sp/>-0.00609872684844,<sp/><sp/><sp/>0.00209851217112,<sp/><sp/><sp/>0.00911704668543,<sp/><sp/><sp/>0.01154404718589,<sp/><sp/>-0.00630293688700,<sp/><sp/><sp/>0.00107527155228<sp/>},</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>1.00000000000000,<sp/><sp/>-2.64848054923531,<sp/><sp/><sp/>3.58406058405771,<sp/><sp/>-3.83794914179161,<sp/><sp/><sp/>3.90142345804575,<sp/><sp/>-3.50179818637243,<sp/><sp/><sp/>2.67085284083076,<sp/><sp/>-1.82581142372418,<sp/><sp/><sp/>1.09530368139801,<sp/><sp/>-0.47689017820395,<sp/><sp/><sp/>0.11171431535905<sp/>},</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>0.98252400815195,<sp/><sp/>-1.96504801630391,<sp/><sp/><sp/>0.98252400815195<sp/>},</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>1.00000000000000,<sp/><sp/>-1.96474258269041,<sp/><sp/><sp/>0.96535344991740<sp/>},</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="180"><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>36000,<sp/>0,</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>0.11572297028613,<sp/><sp/>-0.04120916051252,<sp/><sp/>-0.04977731768022,<sp/><sp/>-0.01047308680426,<sp/><sp/><sp/>0.00750863219157,<sp/><sp/><sp/>0.00055507694408,<sp/><sp/><sp/>0.00140344192886,<sp/><sp/><sp/>0.01286095246036,<sp/><sp/><sp/>0.00998223033885,<sp/><sp/>-0.00725013810661,<sp/><sp/><sp/>0.00326503346879<sp/>},</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>1.00000000000000,<sp/><sp/>-2.43606802820871,<sp/><sp/><sp/>3.01907406973844,<sp/><sp/>-2.90372016038192,<sp/><sp/><sp/>2.67947188094303,<sp/><sp/>-2.17606479220391,<sp/><sp/><sp/>1.44912956803015,<sp/><sp/>-0.87785765549050,<sp/><sp/><sp/>0.53592202672557,<sp/><sp/>-0.26469344817509,<sp/><sp/><sp/>0.07495878059717<sp/>},</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>0.98165826840326,<sp/><sp/>-1.96331653680652,<sp/><sp/><sp/>0.98165826840326<sp/>},</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>1.00000000000000,<sp/><sp/>-1.96298008938934,<sp/><sp/><sp/>0.96365298422371<sp/>},</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="188"><highlight class="normal"></highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>32000,<sp/>0,<sp/></highlight><highlight class="comment">/*<sp/>ORIGINAL<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>0.15457299681924,<sp/><sp/>-0.09331049056315,<sp/><sp/>-0.06247880153653,<sp/><sp/><sp/>0.02163541888798,<sp/><sp/>-0.05588393329856,<sp/><sp/><sp/>0.04781476674921,<sp/><sp/><sp/>0.00222312597743,<sp/><sp/><sp/>0.03174092540049,<sp/><sp/>-0.01390589421898,<sp/><sp/><sp/>0.00651420667831,<sp/><sp/>-0.00881362733839<sp/>},</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>1.00000000000000,<sp/><sp/>-2.37898834973084,<sp/><sp/><sp/>2.84868151156327,<sp/><sp/>-2.64577170229825,<sp/><sp/><sp/>2.23697657451713,<sp/><sp/>-1.67148153367602,<sp/><sp/><sp/>1.00595954808547,<sp/><sp/>-0.45953458054983,<sp/><sp/><sp/>0.16378164858596,<sp/><sp/>-0.05032077717131,<sp/><sp/><sp/>0.02347897407020<sp/>},</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>0.97938932735214,<sp/><sp/>-1.95877865470428,<sp/><sp/><sp/>0.97938932735214<sp/>},</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>1.00000000000000,<sp/><sp/>-1.95835380975398,<sp/><sp/><sp/>0.95920349965459<sp/>},</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="196"><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>28000,<sp/>0,</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>0.23882392323383,<sp/><sp/>-0.22007791534089,<sp/><sp/>-0.06014581950332,<sp/><sp/><sp/>0.05004458058021,<sp/><sp/>-0.03293111254977,<sp/><sp/><sp/>0.02348678189717,<sp/><sp/><sp/>0.04290549799671,<sp/><sp/>-0.00938141862174,<sp/><sp/><sp/>0.00015095146303,<sp/><sp/>-0.00712601540885,<sp/><sp/>-0.00626520210162<sp/>},</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>1.00000000000000,<sp/><sp/>-2.06894080899139,<sp/><sp/><sp/>1.76944699577212,<sp/><sp/>-0.81404732584187,<sp/><sp/><sp/>0.25418286850232,<sp/><sp/>-0.30340791669762,<sp/><sp/><sp/>0.35616884070937,<sp/><sp/>-0.14967310591258,<sp/><sp/>-0.07024154183279,<sp/><sp/><sp/>0.11078404345174,<sp/><sp/>-0.03551838002425<sp/>},</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>0.97647981663949,<sp/><sp/>-1.95295963327897,<sp/><sp/><sp/>0.97647981663949<sp/>},</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>1.00000000000000,<sp/><sp/>-1.95240635772520,<sp/><sp/><sp/>0.95351290883275<sp/>},</highlight></codeline>
<codeline lineno="203"><highlight class="normal"></highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="205"><highlight class="normal"></highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>24000,<sp/>0,<sp/></highlight><highlight class="comment">/*<sp/>ORIGINAL<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>0.30296907319327,<sp/><sp/>-0.22613988682123,<sp/><sp/>-0.08587323730772,<sp/><sp/><sp/>0.03282930172664,<sp/><sp/>-0.00915702933434,<sp/><sp/>-0.02364141202522,<sp/><sp/>-0.00584456039913,<sp/><sp/><sp/>0.06276101321749,<sp/><sp/>-0.00000828086748,<sp/><sp/><sp/>0.00205861885564,<sp/><sp/>-0.02950134983287<sp/>},</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>1.00000000000000,<sp/><sp/>-1.61273165137247,<sp/><sp/><sp/>1.07977492259970,<sp/><sp/>-0.25656257754070,<sp/><sp/>-0.16276719120440,<sp/><sp/>-0.22638893773906,<sp/><sp/><sp/>0.39120800788284,<sp/><sp/>-0.22138138954925,<sp/><sp/><sp/>0.04500235387352,<sp/><sp/><sp/>0.02005851806501,<sp/><sp/><sp/>0.00302439095741<sp/>},</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>0.97531843204928,<sp/><sp/>-1.95063686409857,<sp/><sp/><sp/>0.97531843204928<sp/>},</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>1.00000000000000,<sp/><sp/>-1.95002759149878,<sp/><sp/><sp/>0.95124613669835<sp/>},</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="213"><highlight class="normal"></highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>22050,<sp/>0,<sp/></highlight><highlight class="comment">/*<sp/>ORIGINAL<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>0.33642304856132,<sp/><sp/>-0.25572241425570,<sp/><sp/>-0.11828570177555,<sp/><sp/><sp/>0.11921148675203,<sp/><sp/>-0.07834489609479,<sp/><sp/>-0.00469977914380,<sp/><sp/>-0.00589500224440,<sp/><sp/><sp/>0.05724228140351,<sp/><sp/><sp/>0.00832043980773,<sp/><sp/>-0.01635381384540,<sp/><sp/>-0.01760176568150<sp/>},</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>1.00000000000000,<sp/><sp/>-1.49858979367799,<sp/><sp/><sp/>0.87350271418188,<sp/><sp/><sp/>0.12205022308084,<sp/><sp/>-0.80774944671438,<sp/><sp/><sp/>0.47854794562326,<sp/><sp/>-0.12453458140019,<sp/><sp/>-0.04067510197014,<sp/><sp/><sp/>0.08333755284107,<sp/><sp/>-0.04237348025746,<sp/><sp/><sp/>0.02977207319925<sp/>},</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>0.97316523498161,<sp/><sp/>-1.94633046996323,<sp/><sp/><sp/>0.97316523498161<sp/>},</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>1.00000000000000,<sp/><sp/>-1.94561023566527,<sp/><sp/><sp/>0.94705070426118<sp/>},</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="221"><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>18900,<sp/>0,</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>0.38412657295385,<sp/><sp/>-0.44533729608120,<sp/><sp/><sp/>0.20426638066221,<sp/><sp/>-0.28031676047946,<sp/><sp/><sp/>0.31484202614802,<sp/><sp/>-0.26078311203207,<sp/><sp/><sp/>0.12925201224848,<sp/><sp/>-0.01141164696062,<sp/><sp/><sp/>0.03036522115769,<sp/><sp/>-0.03776339305406,<sp/><sp/><sp/>0.00692036603586<sp/>},</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>1.00000000000000,<sp/><sp/>-1.74403915585708,<sp/><sp/><sp/>1.96686095832499,<sp/><sp/>-2.10081452941881,<sp/><sp/><sp/>1.90753918182846,<sp/><sp/>-1.83814263754422,<sp/><sp/><sp/>1.36971352214969,<sp/><sp/>-0.77883609116398,<sp/><sp/><sp/>0.39266422457649,<sp/><sp/>-0.12529383592986,<sp/><sp/><sp/>0.05424760697665<sp/>},</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>0.96535326815829,<sp/><sp/>-1.93070653631658,<sp/><sp/><sp/>0.96535326815829<sp/>},</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>1.00000000000000,<sp/><sp/>-1.92950577983524,<sp/><sp/><sp/>0.93190729279793<sp/>},</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="229"><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>16000,<sp/>0,<sp/></highlight><highlight class="comment">/*<sp/>ORIGINAL<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>0.44915256608450,<sp/><sp/>-0.14351757464547,<sp/><sp/>-0.22784394429749,<sp/><sp/>-0.01419140100551,<sp/><sp/><sp/>0.04078262797139,<sp/><sp/>-0.12398163381748,<sp/><sp/><sp/>0.04097565135648,<sp/><sp/><sp/>0.10478503600251,<sp/><sp/>-0.01863887810927,<sp/><sp/>-0.03193428438915,<sp/><sp/><sp/>0.00541907748707<sp/>},</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>1.00000000000000,<sp/><sp/>-0.62820619233671,<sp/><sp/><sp/>0.29661783706366,<sp/><sp/>-0.37256372942400,<sp/><sp/><sp/>0.00213767857124,<sp/><sp/>-0.42029820170918,<sp/><sp/><sp/>0.22199650564824,<sp/><sp/><sp/>0.00613424350682,<sp/><sp/><sp/>0.06747620744683,<sp/><sp/><sp/>0.05784820375801,<sp/><sp/><sp/>0.03222754072173<sp/>},</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>0.96454515552826,<sp/><sp/>-1.92909031105652,<sp/><sp/><sp/>0.96454515552826<sp/>},</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>1.00000000000000,<sp/><sp/>-1.92783286977036,<sp/><sp/><sp/>0.93034775234268<sp/>},</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="237"><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>12000,<sp/>0,<sp/></highlight><highlight class="comment">/*<sp/>ORIGINAL<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>0.56619470757641,<sp/><sp/>-0.75464456939302,<sp/><sp/><sp/>0.16242137742230,<sp/><sp/><sp/>0.16744243493672,<sp/><sp/>-0.18901604199609,<sp/><sp/><sp/>0.30931782841830,<sp/><sp/>-0.27562961986224,<sp/><sp/><sp/>0.00647310677246,<sp/><sp/><sp/>0.08647503780351,<sp/><sp/>-0.03788984554840,<sp/><sp/>-0.00588215443421<sp/>},</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>1.00000000000000,<sp/><sp/>-1.04800335126349,<sp/><sp/><sp/>0.29156311971249,<sp/><sp/>-0.26806001042947,<sp/><sp/><sp/>0.00819999645858,<sp/><sp/><sp/>0.45054734505008,<sp/><sp/>-0.33032403314006,<sp/><sp/><sp/>0.06739368333110,<sp/><sp/>-0.04784254229033,<sp/><sp/><sp/>0.01639907836189,<sp/><sp/><sp/>0.01807364323573<sp/>},</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>0.96009142950541,<sp/><sp/>-1.92018285901082,<sp/><sp/><sp/>0.96009142950541<sp/>},</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>1.00000000000000,<sp/><sp/>-1.91858953033784,<sp/><sp/><sp/>0.92177618768381<sp/>},</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="245"><highlight class="normal"></highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>11025,<sp/>0,<sp/></highlight><highlight class="comment">/*<sp/>ORIGINAL<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>0.58100494960553,<sp/><sp/>-0.53174909058578,<sp/><sp/>-0.14289799034253,<sp/><sp/><sp/>0.17520704835522,<sp/><sp/><sp/>0.02377945217615,<sp/><sp/><sp/>0.15558449135573,<sp/><sp/>-0.25344790059353,<sp/><sp/><sp/>0.01628462406333,<sp/><sp/><sp/>0.06920467763959,<sp/><sp/>-0.03721611395801,<sp/><sp/>-0.00749618797172<sp/>},</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>1.00000000000000,<sp/><sp/>-0.51035327095184,<sp/><sp/>-0.31863563325245,<sp/><sp/>-0.20256413484477,<sp/><sp/><sp/>0.14728154134330,<sp/><sp/><sp/>0.38952639978999,<sp/><sp/>-0.23313271880868,<sp/><sp/>-0.05246019024463,<sp/><sp/>-0.02505961724053,<sp/><sp/><sp/>0.02442357316099,<sp/><sp/><sp/>0.01818801111503<sp/>},</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>0.95856916599601,<sp/><sp/>-1.91713833199203,<sp/><sp/><sp/>0.95856916599601<sp/>},</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>1.00000000000000,<sp/><sp/>-1.91542108074780,<sp/><sp/><sp/>0.91885558323625<sp/>},</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="253"><highlight class="normal"></highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>8000,<sp/>0,<sp/></highlight><highlight class="comment">/*<sp/>ORIGINAL<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>0.53648789255105,<sp/><sp/>-0.42163034350696,<sp/><sp/>-0.00275953611929,<sp/><sp/><sp/>0.04267842219415,<sp/><sp/>-0.10214864179676,<sp/><sp/><sp/>0.14590772289388,<sp/><sp/>-0.02459864859345,<sp/><sp/>-0.11202315195388,<sp/><sp/>-0.04060034127000,<sp/><sp/><sp/>0.04788665548180,<sp/><sp/>-0.02217936801134<sp/>},</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>1.00000000000000,<sp/><sp/>-0.25049871956020,<sp/><sp/>-0.43193942311114,<sp/><sp/>-0.03424681017675,<sp/><sp/>-0.04678328784242,<sp/><sp/><sp/>0.26408300200955,<sp/><sp/><sp/>0.15113130533216,<sp/><sp/>-0.17556493366449,<sp/><sp/>-0.18823009262115,<sp/><sp/><sp/>0.05477720428674,<sp/><sp/><sp/>0.04704409688120<sp/>},</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>0.94597685600279,<sp/><sp/>-1.89195371200558,<sp/><sp/><sp/>0.94597685600279<sp/>},</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>1.00000000000000,<sp/><sp/>-1.88903307939452,<sp/><sp/><sp/>0.89487434461664<sp/>},</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/>},</highlight></codeline>
<codeline lineno="261"><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal">};</highlight></codeline>
<codeline lineno="263"><highlight class="normal"></highlight></codeline>
<codeline lineno="264"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>_MSC_VER</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="265"><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>warning<sp/>(<sp/>default<sp/>:<sp/>4305<sp/>)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="266"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="267"><highlight class="normal"></highlight></codeline>
<codeline lineno="268"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>When<sp/>calling<sp/>this<sp/>procedure,<sp/>make<sp/>sure<sp/>that<sp/>ip[-order]<sp/>and<sp/>op[-order]<sp/>point<sp/>to<sp/>real<sp/>data!<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="269"><highlight class="normal"></highlight></codeline>
<codeline lineno="270"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="271"><highlight class="normal"><ref refid="mm_8c_1a2719b8cbe8dc1a5064a418269c72e528" kindref="member">filter</ref><sp/>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>*<sp/>input,<sp/><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>*<sp/><ref refid="namespacelv2specgen_1a653e2b7722801dea4d25040ac958b631" kindref="member">output</ref>,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>nSamples,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>*<sp/><ref refid="poly-fir_8h_1a8d3c3518d793541417a4845125da1ae1" kindref="member">a</ref>,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>*<sp/><ref refid="poly-fir_8h_1ab2d05693952610f937e5acb3c4a8fa1b" kindref="member">b</ref>,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="rfft2d_test_m_l_8m_1abc2d8236fc76d7a9d742d7eae7e459cd" kindref="member">order</ref>,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="struct_replay_gain_filter_1a4a78bc4bc1878b806a36230c2add19b5" kindref="member">downsample</ref><sp/>)</highlight></codeline>
<codeline lineno="272"><highlight class="normal">{</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/>y;</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><sp/><ref refid="rfft2d_test_m_l_8m_1adc468c70fb574ebd07287b38d0d0676d" kindref="member">k</ref>;</highlight></codeline>
<codeline lineno="276"><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>*<sp/>input_head<sp/>=<sp/>input;</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>*<sp/>input_tail;</highlight></codeline>
<codeline lineno="279"><highlight class="normal"></highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>*<sp/>output_head<sp/>=<sp/><ref refid="namespacelv2specgen_1a653e2b7722801dea4d25040ac958b631" kindref="member">output</ref>;</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>*<sp/>output_tail;</highlight></codeline>
<codeline lineno="282"><highlight class="normal"></highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>nSamples;<sp/>i++,<sp/>input_head<sp/>+=<sp/><ref refid="struct_replay_gain_filter_1a4a78bc4bc1878b806a36230c2add19b5" kindref="member">downsample</ref>,<sp/>++output_head<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="284"><highlight class="normal"></highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>input_tail<sp/>=<sp/>input_head;</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>output_tail<sp/>=<sp/>output_head;</highlight></codeline>
<codeline lineno="287"><highlight class="normal"></highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y<sp/>=<sp/>*input_head<sp/>*<sp/><ref refid="poly-fir_8h_1ab2d05693952610f937e5acb3c4a8fa1b" kindref="member">b</ref>[0];</highlight></codeline>
<codeline lineno="289"><highlight class="normal"></highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/>k<sp/>=<sp/>1;<sp/>k<sp/>&lt;=<sp/><ref refid="rfft2d_test_m_l_8m_1abc2d8236fc76d7a9d742d7eae7e459cd" kindref="member">order</ref>;<sp/>k++<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>input_tail<sp/>-=<sp/><ref refid="struct_replay_gain_filter_1a4a78bc4bc1878b806a36230c2add19b5" kindref="member">downsample</ref>;</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>--output_tail;</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y<sp/>+=<sp/>*input_tail<sp/>*<sp/>b[<ref refid="rfft2d_test_m_l_8m_1adc468c70fb574ebd07287b38d0d0676d" kindref="member">k</ref>]<sp/>-<sp/>*output_tail<sp/>*<sp/><ref refid="poly-fir_8h_1a8d3c3518d793541417a4845125da1ae1" kindref="member">a</ref>[<ref refid="rfft2d_test_m_l_8m_1adc468c70fb574ebd07287b38d0d0676d" kindref="member">k</ref>];</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="295"><highlight class="normal"></highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacelv2specgen_1a653e2b7722801dea4d25040ac958b631" kindref="member">output</ref>[<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>]<sp/>=<sp/>(<ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>)y;</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="298"><highlight class="normal">}</highlight></codeline>
<codeline lineno="299"><highlight class="normal"></highlight></codeline>
<codeline lineno="300"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>returns<sp/>a<sp/>INIT_GAIN_ANALYSIS_OK<sp/>if<sp/>successful,<sp/>INIT_GAIN_ANALYSIS_ERROR<sp/>if<sp/>not<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="301"><highlight class="normal"></highlight></codeline>
<codeline lineno="302"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_replay_gain_filter" kindref="compound">ReplayGainFilter</ref>*</highlight></codeline>
<codeline lineno="303"><highlight class="normal">CreateGainFilter<sp/>(<sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>samplefreq<sp/>)</highlight></codeline>
<codeline lineno="304"><highlight class="normal">{</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>maxrate<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="struct_replay_gain_filter_1a4a78bc4bc1878b806a36230c2add19b5" kindref="member">downsample</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_replay_gain_filter" kindref="compound">ReplayGainFilter</ref>*<sp/>gainfilter<sp/>=<sp/>malloc(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(*gainfilter));</highlight></codeline>
<codeline lineno="309"><highlight class="normal"></highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!gainfilter<sp/>)</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="312"><highlight class="normal"></highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(1)<sp/>{</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(ReplayGainFilters)/</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(ReplayGainFilters[0]);<sp/>++<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref><sp/>)<sp/>{</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(maxrate<sp/>&lt;<sp/>ReplayGainFilters[i].<ref refid="struct_replay_gain_filter_1a5ae0ffecc9971135049c04bdaaff4908" kindref="member">rate</ref>)</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>maxrate<sp/>=<sp/>ReplayGainFilters[<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>].<ref refid="struct_replay_gain_filter_1a5ae0ffecc9971135049c04bdaaff4908" kindref="member">rate</ref>;</highlight></codeline>
<codeline lineno="317"><highlight class="normal"></highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>ReplayGainFilters[i].rate<sp/>==<sp/>samplefreq<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*gainfilter<sp/>=<sp/>ReplayGainFilters[<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>];</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gainfilter-&gt;<ref refid="struct_replay_gain_filter_1a4a78bc4bc1878b806a36230c2add19b5" kindref="member">downsample</ref><sp/>=<sp/><ref refid="struct_replay_gain_filter_1a4a78bc4bc1878b806a36230c2add19b5" kindref="member">downsample</ref>;</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>gainfilter;</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="324"><highlight class="normal"></highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(samplefreq<sp/>&lt;<sp/>maxrate)</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="327"><highlight class="normal"></highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(samplefreq<sp/>&gt;<sp/>maxrate)<sp/>{</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>downsample<sp/>*=<sp/>2;</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>samplefreq<sp/>/=<sp/>2;</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="333"><highlight class="normal"></highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/>free(gainfilter);</highlight></codeline>
<codeline lineno="335"><highlight class="normal"></highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="337"><highlight class="normal">}</highlight></codeline>
<codeline lineno="338"><highlight class="normal"></highlight></codeline>
<codeline lineno="339"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*</highlight></codeline>
<codeline lineno="340"><highlight class="normal">ReallocateWindowBuffer(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>window_size,<sp/><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref><sp/>**window_buffer)</highlight></codeline>
<codeline lineno="341"><highlight class="normal">{</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<ref refid="xmltok_8h_1a94b60f3beb36ae85555d36dc9816769c" kindref="member">p</ref><sp/>=<sp/>realloc(</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*window_buffer,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(**window_buffer)<sp/>*<sp/>(window_size<sp/>+<sp/><ref refid="replaygain__analysis_8c_1ab08dffec08ac450d78d4c062b571939e" kindref="member">MAX_ORDER</ref>));</highlight></codeline>
<codeline lineno="344"><highlight class="normal"></highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(p)</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*window_buffer<sp/>=<sp/><ref refid="xmltok_8h_1a94b60f3beb36ae85555d36dc9816769c" kindref="member">p</ref>;</highlight></codeline>
<codeline lineno="347"><highlight class="normal"></highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="xmltok_8h_1a94b60f3beb36ae85555d36dc9816769c" kindref="member">p</ref>;</highlight></codeline>
<codeline lineno="349"><highlight class="normal">}</highlight></codeline>
<codeline lineno="350"><highlight class="normal"></highlight></codeline>
<codeline lineno="351"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="352"><highlight class="normal">ResetSampleFrequency<sp/>(<sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>samplefreq<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="354"><highlight class="normal"></highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/>free(replaygainfilter);</highlight></codeline>
<codeline lineno="356"><highlight class="normal"></highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/>replaygainfilter<sp/>=<sp/>CreateGainFilter(<sp/>samplefreq<sp/>);</highlight></codeline>
<codeline lineno="358"><highlight class="normal"></highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!<sp/>replaygainfilter)</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1a5865cb1cb4145a8390d2a1f61a729192" kindref="member">INIT_GAIN_ANALYSIS_ERROR</ref>;</highlight></codeline>
<codeline lineno="361"><highlight class="normal"></highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/>sampleWindow<sp/>=<sp/>(<ref refid="lib_2expat_8h_1a14bb8924daea0b48c7803f281f66e390" kindref="member">int</ref>)<sp/>ceil<sp/>((</highlight><highlight class="keywordtype">double</highlight><highlight class="normal">)samplefreq<sp/>*<sp/>(double)<ref refid="replaygain__analysis_8c_1abc84eacd7a842332bec7483f7cd1f1c4" kindref="member">RMS_WINDOW_TIME</ref><sp/>/<sp/>1000.0);</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/>sampleWindow<sp/>=</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(replaygainfilter-&gt;<ref refid="struct_replay_gain_filter_1a5ae0ffecc9971135049c04bdaaff4908" kindref="member">rate</ref><sp/>*<sp/><ref refid="replaygain__analysis_8c_1abc84eacd7a842332bec7483f7cd1f1c4" kindref="member">RMS_WINDOW_TIME</ref><sp/>+<sp/>1000-1)<sp/>/<sp/>1000;</highlight></codeline>
<codeline lineno="365"><highlight class="normal"></highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!<sp/>ReallocateWindowBuffer(sampleWindow,<sp/>&amp;lstepbuf)<sp/>||</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>!<sp/>ReallocateWindowBuffer(sampleWindow,<sp/>&amp;rstepbuf)<sp/>||</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>!<sp/>ReallocateWindowBuffer(sampleWindow,<sp/>&amp;loutbuf)<sp/><sp/>||</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>!<sp/>ReallocateWindowBuffer(sampleWindow,<sp/>&amp;routbuf)<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="370"><highlight class="normal"></highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1a5865cb1cb4145a8390d2a1f61a729192" kindref="member">INIT_GAIN_ANALYSIS_ERROR</ref>;</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="373"><highlight class="normal"></highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>zero<sp/>out<sp/>initial<sp/>values<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/><ref refid="replaygain__analysis_8c_1ab08dffec08ac450d78d4c062b571939e" kindref="member">MAX_ORDER</ref>;<sp/>i++<sp/>)</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>linprebuf[i]<sp/>=<sp/>lstepbuf[i]<sp/>=<sp/>loutbuf[i]<sp/>=<sp/>rinprebuf[i]<sp/>=<sp/>rstepbuf[i]<sp/>=<sp/>routbuf[i]<sp/>=<sp/>0.;</highlight></codeline>
<codeline lineno="377"><highlight class="normal"></highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/>lsum<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>0.;</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/>rsum<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>0.;</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/>totsamp<sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="381"><highlight class="normal"></highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/>memset<sp/>(<sp/><ref refid="libnyquist_2nyquist_2nyqsrc_2add_8c_1a955f504eccf76b4eb2489c0adab03121" kindref="member">A</ref>,<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="libnyquist_2nyquist_2nyqsrc_2add_8c_1a955f504eccf76b4eb2489c0adab03121" kindref="member">A</ref>)<sp/>);</highlight></codeline>
<codeline lineno="383"><highlight class="normal"></highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1ad6a093fcbac6a8bf38e4fa9e989b0b36" kindref="member">INIT_GAIN_ANALYSIS_OK</ref>;</highlight></codeline>
<codeline lineno="385"><highlight class="normal">}</highlight></codeline>
<codeline lineno="386"><highlight class="normal"></highlight></codeline>
<codeline lineno="387"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="388" refid="replaygain__analysis_8c_1ac181bc1172ad87376baaa7bcb2f6cfeb" refkind="member"><highlight class="normal"><ref refid="replaygain__analysis_8c_1ac181bc1172ad87376baaa7bcb2f6cfeb" kindref="member">ValidGainFrequency</ref><sp/>(<sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>samplefreq<sp/>)</highlight></codeline>
<codeline lineno="389"><highlight class="normal">{</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="struct_replay_gain_filter" kindref="compound">ReplayGainFilter</ref>*<sp/>gainfilter<sp/>=<sp/>CreateGainFilter(<sp/>samplefreq<sp/>);</highlight></codeline>
<codeline lineno="391"><highlight class="normal"></highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/>free(gainfilter);</highlight></codeline>
<codeline lineno="393"><highlight class="normal"></highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>gainfilter<sp/>!=<sp/>0;</highlight></codeline>
<codeline lineno="395"><highlight class="normal">}</highlight></codeline>
<codeline lineno="396"><highlight class="normal"></highlight></codeline>
<codeline lineno="397"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="398" refid="replaygain__analysis_8c_1a085bbbbfe4f7266e9f4b9180da006417" refkind="member"><highlight class="normal"><ref refid="replaygain__analysis_8c_1a085bbbbfe4f7266e9f4b9180da006417" kindref="member">InitGainAnalysis</ref><sp/>(<sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>samplefreq<sp/>)</highlight></codeline>
<codeline lineno="399"><highlight class="normal">{</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ResetSampleFrequency(samplefreq)<sp/>!=<sp/><ref refid="replaygain__analysis_8h_1ad6a093fcbac6a8bf38e4fa9e989b0b36" kindref="member">INIT_GAIN_ANALYSIS_OK</ref>)<sp/>{</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1a5865cb1cb4145a8390d2a1f61a729192" kindref="member">INIT_GAIN_ANALYSIS_ERROR</ref>;</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="403"><highlight class="normal"></highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/>linpre<sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>linprebuf<sp/>+<sp/><ref refid="replaygain__analysis_8c_1ab08dffec08ac450d78d4c062b571939e" kindref="member">MAX_ORDER</ref>;</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/>rinpre<sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>rinprebuf<sp/>+<sp/><ref refid="replaygain__analysis_8c_1ab08dffec08ac450d78d4c062b571939e" kindref="member">MAX_ORDER</ref>;</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/>lstep<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>lstepbuf<sp/><sp/>+<sp/><ref refid="replaygain__analysis_8c_1ab08dffec08ac450d78d4c062b571939e" kindref="member">MAX_ORDER</ref>;</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/>rstep<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>rstepbuf<sp/><sp/>+<sp/><ref refid="replaygain__analysis_8c_1ab08dffec08ac450d78d4c062b571939e" kindref="member">MAX_ORDER</ref>;</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/>lout<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>loutbuf<sp/><sp/><sp/>+<sp/><ref refid="replaygain__analysis_8c_1ab08dffec08ac450d78d4c062b571939e" kindref="member">MAX_ORDER</ref>;</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/>rout<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>routbuf<sp/><sp/><sp/>+<sp/><ref refid="replaygain__analysis_8c_1ab08dffec08ac450d78d4c062b571939e" kindref="member">MAX_ORDER</ref>;</highlight></codeline>
<codeline lineno="410"><highlight class="normal"></highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/>memset<sp/>(<sp/><ref refid="libnyquist_2nyquist_2nyqsrc_2add_8c_1a111da81ae5883147168bbb8366377b10" kindref="member">B</ref>,<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="libnyquist_2nyquist_2nyqsrc_2add_8c_1a111da81ae5883147168bbb8366377b10" kindref="member">B</ref>)<sp/>);</highlight></codeline>
<codeline lineno="412"><highlight class="normal"></highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1ad6a093fcbac6a8bf38e4fa9e989b0b36" kindref="member">INIT_GAIN_ANALYSIS_OK</ref>;</highlight></codeline>
<codeline lineno="414"><highlight class="normal">}</highlight></codeline>
<codeline lineno="415"><highlight class="normal"></highlight></codeline>
<codeline lineno="416"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>returns<sp/>GAIN_ANALYSIS_OK<sp/>if<sp/>successful,<sp/>GAIN_ANALYSIS_ERROR<sp/>if<sp/>not<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="417"><highlight class="normal"></highlight></codeline>
<codeline lineno="418"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="419" refid="replaygain__analysis_8c_1ad85a75d74c9050aea1e441b386e5b3f0" refkind="member"><highlight class="normal"><ref refid="replaygain__analysis_8c_1ad85a75d74c9050aea1e441b386e5b3f0" kindref="member">AnalyzeSamples</ref><sp/>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>*<sp/>left_samples,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>*<sp/>right_samples,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>num_samples,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>num_channels<sp/>)</highlight></codeline>
<codeline lineno="420"><highlight class="normal">{</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="struct_replay_gain_filter_1a4a78bc4bc1878b806a36230c2add19b5" kindref="member">downsample</ref><sp/>=<sp/>replaygainfilter-&gt;<ref refid="struct_replay_gain_filter_1a4a78bc4bc1878b806a36230c2add19b5" kindref="member">downsample</ref>;</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>*<sp/><sp/>curleft;</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>*<sp/><sp/>curright;</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>prebufsamples;</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>batchsamples;</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cursamples;</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cursamplepos;</highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="429"><highlight class="normal"></highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/>num_samples<sp/>/=<sp/><ref refid="struct_replay_gain_filter_1a4a78bc4bc1878b806a36230c2add19b5" kindref="member">downsample</ref>;</highlight></codeline>
<codeline lineno="431"><highlight class="normal"></highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>num_samples<sp/>==<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1a8d394f648baeabcf90bc9ae90c465540" kindref="member">GAIN_ANALYSIS_OK</ref>;</highlight></codeline>
<codeline lineno="434"><highlight class="normal"></highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/>cursamplepos<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/>batchsamples<sp/>=<sp/>num_samples;</highlight></codeline>
<codeline lineno="437"><highlight class="normal"></highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(<sp/>num_channels)<sp/>{</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><sp/>1:<sp/>right_samples<sp/>=<sp/>left_samples;</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><sp/>2:<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1affd76eb9312d6730c69e75702fa90811" kindref="member">GAIN_ANALYSIS_ERROR</ref>;</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="443"><highlight class="normal"></highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/>prebufsamples<sp/>=<sp/><ref refid="replaygain__analysis_8c_1ab08dffec08ac450d78d4c062b571939e" kindref="member">MAX_ORDER</ref>;</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal">)<sp/>prebufsamples<sp/>&gt;<sp/>num_samples)</highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>prebufsamples<sp/>=<sp/>num_samples;</highlight></codeline>
<codeline lineno="447"><highlight class="normal"></highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>prebufsamples;<sp/>++<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref><sp/>)<sp/>{</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>linprebuf[i+<ref refid="replaygain__analysis_8c_1ab08dffec08ac450d78d4c062b571939e" kindref="member">MAX_ORDER</ref>]<sp/>=<sp/>left_samples<sp/>[i<sp/>*<sp/><ref refid="struct_replay_gain_filter_1a4a78bc4bc1878b806a36230c2add19b5" kindref="member">downsample</ref>];</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rinprebuf[i+<ref refid="replaygain__analysis_8c_1ab08dffec08ac450d78d4c062b571939e" kindref="member">MAX_ORDER</ref>]<sp/>=<sp/>right_samples[i<sp/>*<sp/><ref refid="struct_replay_gain_filter_1a4a78bc4bc1878b806a36230c2add19b5" kindref="member">downsample</ref>];</highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="452"><highlight class="normal"></highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(<sp/>batchsamples<sp/>&gt;<sp/>0<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cursamples<sp/>=<sp/>batchsamples<sp/>&gt;<sp/>(long)(sampleWindow-totsamp)<sp/><sp/>?<sp/><sp/>(long)(sampleWindow<sp/>-<sp/>totsamp)<sp/><sp/>:<sp/><sp/>batchsamples;</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>cursamplepos<sp/>&lt;<sp/><ref refid="replaygain__analysis_8c_1ab08dffec08ac450d78d4c062b571939e" kindref="member">MAX_ORDER</ref><sp/>)<sp/>{</highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>downsample<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>curleft<sp/><sp/>=<sp/>linpre+cursamplepos;</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>curright<sp/>=<sp/>rinpre+cursamplepos;</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cursamples<sp/>&gt;<sp/><ref refid="replaygain__analysis_8c_1ab08dffec08ac450d78d4c062b571939e" kindref="member">MAX_ORDER</ref><sp/>-<sp/>cursamplepos<sp/>)</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cursamples<sp/>=<sp/><ref refid="replaygain__analysis_8c_1ab08dffec08ac450d78d4c062b571939e" kindref="member">MAX_ORDER</ref><sp/>-<sp/>cursamplepos;</highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>downsample<sp/>=<sp/>replaygainfilter-&gt;<ref refid="struct_replay_gain_filter_1a4a78bc4bc1878b806a36230c2add19b5" kindref="member">downsample</ref>;</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>curleft<sp/><sp/>=<sp/>left_samples<sp/><sp/>+<sp/>cursamplepos<sp/>*<sp/><ref refid="struct_replay_gain_filter_1a4a78bc4bc1878b806a36230c2add19b5" kindref="member">downsample</ref>;</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>curright<sp/>=<sp/>right_samples<sp/>+<sp/>cursamplepos<sp/>*<sp/><ref refid="struct_replay_gain_filter_1a4a78bc4bc1878b806a36230c2add19b5" kindref="member">downsample</ref>;</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="467"><highlight class="normal"></highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mm_8c_1a2719b8cbe8dc1a5064a418269c72e528" kindref="member">filter</ref><sp/>(<sp/>curleft<sp/>,<sp/>lstep<sp/>+<sp/>totsamp,<sp/>cursamples,<sp/>replaygainfilter-&gt;<ref refid="struct_replay_gain_filter_1a308645ad3bbfc0444f1f1c4da997439e" kindref="member">AYule</ref>,<sp/>replaygainfilter-&gt;<ref refid="struct_replay_gain_filter_1a47d88bce1d1df5d2a4a7c391cd710fc3" kindref="member">BYule</ref>,<sp/><ref refid="replaygain__analysis_8c_1a6e48d077096a381796cf730813c4e7b6" kindref="member">YULE_ORDER</ref>,<sp/>downsample<sp/>);</highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mm_8c_1a2719b8cbe8dc1a5064a418269c72e528" kindref="member">filter</ref><sp/>(<sp/>curright,<sp/>rstep<sp/>+<sp/>totsamp,<sp/>cursamples,<sp/>replaygainfilter-&gt;<ref refid="struct_replay_gain_filter_1a308645ad3bbfc0444f1f1c4da997439e" kindref="member">AYule</ref>,<sp/>replaygainfilter-&gt;<ref refid="struct_replay_gain_filter_1a47d88bce1d1df5d2a4a7c391cd710fc3" kindref="member">BYule</ref>,<sp/><ref refid="replaygain__analysis_8c_1a6e48d077096a381796cf730813c4e7b6" kindref="member">YULE_ORDER</ref>,<sp/>downsample<sp/>);</highlight></codeline>
<codeline lineno="470"><highlight class="normal"></highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mm_8c_1a2719b8cbe8dc1a5064a418269c72e528" kindref="member">filter</ref><sp/>(<sp/>lstep<sp/>+<sp/>totsamp,<sp/>lout<sp/>+<sp/>totsamp,<sp/>cursamples,<sp/>replaygainfilter-&gt;<ref refid="struct_replay_gain_filter_1aa759f17fb0e2cb02c3b3a5cc11a11a0f" kindref="member">AButter</ref>,<sp/>replaygainfilter-&gt;<ref refid="struct_replay_gain_filter_1abcf3ff4d38499794f51b6c074cf7258d" kindref="member">BButter</ref>,<sp/><ref refid="replaygain__analysis_8c_1a19f16d9b2216a352d4f53718f23e1b1a" kindref="member">BUTTER_ORDER</ref>,<sp/>1<sp/>);</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="mm_8c_1a2719b8cbe8dc1a5064a418269c72e528" kindref="member">filter</ref><sp/>(<sp/>rstep<sp/>+<sp/>totsamp,<sp/>rout<sp/>+<sp/>totsamp,<sp/>cursamples,<sp/>replaygainfilter-&gt;<ref refid="struct_replay_gain_filter_1aa759f17fb0e2cb02c3b3a5cc11a11a0f" kindref="member">AButter</ref>,<sp/>replaygainfilter-&gt;<ref refid="struct_replay_gain_filter_1abcf3ff4d38499794f51b6c074cf7258d" kindref="member">BButter</ref>,<sp/><ref refid="replaygain__analysis_8c_1a19f16d9b2216a352d4f53718f23e1b1a" kindref="member">BUTTER_ORDER</ref>,<sp/>1<sp/>);</highlight></codeline>
<codeline lineno="473"><highlight class="normal"></highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>cursamples;<sp/>i++<sp/>)<sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>the<sp/>squared<sp/>values<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lsum<sp/>+=<sp/>lout<sp/>[totsamp+<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>]<sp/>*<sp/>lout<sp/>[totsamp+<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>];</highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rsum<sp/>+=<sp/>rout<sp/>[totsamp+<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>]<sp/>*<sp/>rout<sp/>[totsamp+<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>];</highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="478"><highlight class="normal"></highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>batchsamples<sp/>-=<sp/>cursamples;</highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cursamplepos<sp/>+=<sp/>cursamples;</highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>totsamp<sp/><sp/><sp/><sp/><sp/><sp/>+=<sp/>cursamples;</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>totsamp<sp/>==<sp/>sampleWindow<sp/>)<sp/>{<sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>the<sp/>Root<sp/>Mean<sp/>Square<sp/>(RMS)<sp/>for<sp/>this<sp/>set<sp/>of<sp/>samples<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><sp/>val<sp/><sp/>=<sp/><ref refid="replaygain__analysis_8c_1abe2fb6295aab9e83f4289d2130e72285" kindref="member">STEPS_per_dB</ref><sp/>*<sp/>10.<sp/>*<sp/>log10<sp/>(<sp/>(lsum+rsum)<sp/>/<sp/>totsamp<sp/>*<sp/>0.5<sp/>+<sp/>1.<ref refid="namespacelv2docgen_1a4405dc5a2509537b9ff3b4de10bc28d6" kindref="member">e</ref>-37<sp/>);</highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>ival<sp/>=<sp/>(<ref refid="lib_2expat_8h_1a14bb8924daea0b48c7803f281f66e390" kindref="member">int</ref>)<sp/>val;</highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>ival<sp/>&lt;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0<sp/>)<sp/>ival<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>ival<sp/>&gt;=<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="libnyquist_2nyquist_2nyqsrc_2add_8c_1a955f504eccf76b4eb2489c0adab03121" kindref="member">A</ref>)/</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(*<ref refid="libnyquist_2nyquist_2nyqsrc_2add_8c_1a955f504eccf76b4eb2489c0adab03121" kindref="member">A</ref>))<sp/>)<sp/>ival<sp/>=<sp/>(<ref refid="lib_2expat_8h_1a14bb8924daea0b48c7803f281f66e390" kindref="member">int</ref>)(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="libnyquist_2nyquist_2nyqsrc_2add_8c_1a955f504eccf76b4eb2489c0adab03121" kindref="member">A</ref>)/</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(*A))<sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="libnyquist_2nyquist_2nyqsrc_2add_8c_1a955f504eccf76b4eb2489c0adab03121" kindref="member">A</ref><sp/>[ival]++;</highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lsum<sp/>=<sp/>rsum<sp/>=<sp/>0.;</highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memmove<sp/>(<sp/>loutbuf<sp/>,<sp/>loutbuf<sp/><sp/>+<sp/>totsamp,<sp/><ref refid="replaygain__analysis_8c_1ab08dffec08ac450d78d4c062b571939e" kindref="member">MAX_ORDER</ref><sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>)<sp/>);</highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memmove<sp/>(<sp/>routbuf<sp/>,<sp/>routbuf<sp/><sp/>+<sp/>totsamp,<sp/><ref refid="replaygain__analysis_8c_1ab08dffec08ac450d78d4c062b571939e" kindref="member">MAX_ORDER</ref><sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>)<sp/>);</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memmove<sp/>(<sp/>lstepbuf,<sp/>lstepbuf<sp/>+<sp/>totsamp,<sp/><ref refid="replaygain__analysis_8c_1ab08dffec08ac450d78d4c062b571939e" kindref="member">MAX_ORDER</ref><sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>)<sp/>);</highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memmove<sp/>(<sp/>rstepbuf,<sp/>rstepbuf<sp/>+<sp/>totsamp,<sp/><ref refid="replaygain__analysis_8c_1ab08dffec08ac450d78d4c062b571939e" kindref="member">MAX_ORDER</ref><sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>)<sp/>);</highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>totsamp<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>totsamp<sp/>&gt;<sp/>sampleWindow<sp/>)<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>somehow<sp/>I<sp/>really<sp/>screwed<sp/>up:<sp/>Error<sp/>in<sp/>programming!<sp/>Contact<sp/>author<sp/>about<sp/>totsamp<sp/>&gt;<sp/>sampleWindow<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1affd76eb9312d6730c69e75702fa90811" kindref="member">GAIN_ANALYSIS_ERROR</ref>;</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="498"><highlight class="normal"></highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>num_samples<sp/>&lt;<sp/><ref refid="replaygain__analysis_8c_1ab08dffec08ac450d78d4c062b571939e" kindref="member">MAX_ORDER</ref><sp/>)<sp/>{</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memmove<sp/>(<sp/>linprebuf,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>linprebuf<sp/>+<sp/>num_samples,<sp/>(<ref refid="replaygain__analysis_8c_1ab08dffec08ac450d78d4c062b571939e" kindref="member">MAX_ORDER</ref>-num_samples)<sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>)<sp/>);</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memmove<sp/>(<sp/>rinprebuf,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rinprebuf<sp/>+<sp/>num_samples,<sp/>(<ref refid="replaygain__analysis_8c_1ab08dffec08ac450d78d4c062b571939e" kindref="member">MAX_ORDER</ref>-num_samples)<sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>)<sp/>);</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy<sp/><sp/>(<sp/>linprebuf<sp/>+<sp/><ref refid="replaygain__analysis_8c_1ab08dffec08ac450d78d4c062b571939e" kindref="member">MAX_ORDER</ref><sp/>-<sp/>num_samples,<sp/>left_samples,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_samples<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>)<sp/>);</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>memcpy<sp/><sp/>(<sp/>rinprebuf<sp/>+<sp/><ref refid="replaygain__analysis_8c_1ab08dffec08ac450d78d4c062b571939e" kindref="member">MAX_ORDER</ref><sp/>-<sp/>num_samples,<sp/>right_samples,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num_samples<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>)<sp/>);</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>downsample<sp/>=<sp/>replaygainfilter-&gt;<ref refid="struct_replay_gain_filter_1a4a78bc4bc1878b806a36230c2add19b5" kindref="member">downsample</ref>;</highlight></codeline>
<codeline lineno="507"><highlight class="normal"></highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>left_samples<sp/><sp/>+=<sp/>(num_samples<sp/>-<sp/><ref refid="replaygain__analysis_8c_1ab08dffec08ac450d78d4c062b571939e" kindref="member">MAX_ORDER</ref>)<sp/>*<sp/>downsample;</highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>right_samples<sp/>+=<sp/>(num_samples<sp/>-<sp/><ref refid="replaygain__analysis_8c_1ab08dffec08ac450d78d4c062b571939e" kindref="member">MAX_ORDER</ref>)<sp/>*<sp/>downsample;</highlight></codeline>
<codeline lineno="510"><highlight class="normal"></highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/><ref refid="replaygain__analysis_8c_1ab08dffec08ac450d78d4c062b571939e" kindref="member">MAX_ORDER</ref>;<sp/>++<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref><sp/>)<sp/>{</highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>linprebuf[<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>]<sp/>=<sp/>left_samples<sp/>[i<sp/>*<sp/><ref refid="struct_replay_gain_filter_1a4a78bc4bc1878b806a36230c2add19b5" kindref="member">downsample</ref>];</highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rinprebuf[<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>]<sp/>=<sp/>right_samples[i<sp/>*<sp/><ref refid="struct_replay_gain_filter_1a4a78bc4bc1878b806a36230c2add19b5" kindref="member">downsample</ref>];</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="516"><highlight class="normal"></highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1a8d394f648baeabcf90bc9ae90c465540" kindref="member">GAIN_ANALYSIS_OK</ref>;</highlight></codeline>
<codeline lineno="518"><highlight class="normal">}</highlight></codeline>
<codeline lineno="519"><highlight class="normal"></highlight></codeline>
<codeline lineno="520"><highlight class="normal"></highlight></codeline>
<codeline lineno="521"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref></highlight></codeline>
<codeline lineno="522"><highlight class="normal">analyzeResult<sp/>(<sp/><ref refid="lib-src_2ffmpeg_2win32_2stdint_8h_1a6eb1e68cc391dd753bc8ce896dbb8315" kindref="member">uint32_t</ref>*<sp/>Array,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="lib_2expat_8h_1af86d325fecfc8f47b61fbf5a5146f582" kindref="member">len</ref><sp/>)</highlight></codeline>
<codeline lineno="523"><highlight class="normal">{</highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="lib-src_2ffmpeg_2win32_2stdint_8h_1a6eb1e68cc391dd753bc8ce896dbb8315" kindref="member">uint32_t</ref><sp/><sp/>elems;</highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="lib-src_2ffmpeg_2win32_2stdint_8h_1a37994e3b11c72957c6f454c6ec96d43d" kindref="member">int32_t</ref><sp/><sp/><sp/>upper;</highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="527"><highlight class="normal"></highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/>elems<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/><ref refid="lib_2expat_8h_1af86d325fecfc8f47b61fbf5a5146f582" kindref="member">len</ref>;<sp/>i++<sp/>)</highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>elems<sp/>+=<sp/>Array[i];</highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>elems<sp/>==<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="replaygain__analysis_8h_1ae104ebff7808aa018d42b28687a2d787" kindref="member">GAIN_NOT_ENOUGH_SAMPLES</ref>;</highlight></codeline>
<codeline lineno="533"><highlight class="normal"></highlight></codeline>
<codeline lineno="534"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>workaround<sp/>for<sp/>GCC<sp/>bug<sp/>#61423:<sp/>https://gcc.gnu.org/bugzilla/show_bug.cgi?id=61423<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="535"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/>upper<sp/>=<sp/>(<ref refid="lib-src_2ffmpeg_2win32_2stdint_8h_1a37994e3b11c72957c6f454c6ec96d43d" kindref="member">int32_t</ref>)<sp/>ceil<sp/>(elems<sp/>*<sp/>(1.<sp/>-<sp/><ref refid="replaygain__analysis_8c_1ad786d09a1da01cd49af00eae1bca52b0" kindref="member">RMS_PERCENTILE</ref>));</highlight></codeline>
<codeline lineno="537"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/>upper<sp/>=<sp/>(<ref refid="lib-src_2ffmpeg_2win32_2stdint_8h_1a37994e3b11c72957c6f454c6ec96d43d" kindref="member">int32_t</ref>)<sp/>(elems<sp/>/<sp/>20<sp/>+<sp/>((elems<sp/>%<sp/>20)<sp/>?<sp/>1<sp/>:<sp/>0));</highlight></codeline>
<codeline lineno="539"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/>i<sp/>=<sp/>len;<sp/>i--<sp/>&gt;<sp/>0;<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>(upper<sp/>-=<sp/>Array[i])<sp/>&lt;=<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="544"><highlight class="normal"></highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(<ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>)<sp/>((<ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>)<ref refid="replaygain__analysis_8c_1a905b376e4b2c8ed0c7db07f376044524" kindref="member">PINK_REF</ref><sp/>-<sp/>(<ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>)i<sp/>/<sp/>(<ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref>)<ref refid="replaygain__analysis_8c_1abe2fb6295aab9e83f4289d2130e72285" kindref="member">STEPS_per_dB</ref>);</highlight></codeline>
<codeline lineno="546"><highlight class="normal">}</highlight></codeline>
<codeline lineno="547"><highlight class="normal"></highlight></codeline>
<codeline lineno="548"><highlight class="normal"></highlight></codeline>
<codeline lineno="549"><highlight class="normal"><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref></highlight></codeline>
<codeline lineno="550" refid="replaygain__analysis_8c_1a1f99ccdd8d6f787da3fcfb14da92d54d" refkind="member"><highlight class="normal"><ref refid="replaygain__analysis_8c_1a1f99ccdd8d6f787da3fcfb14da92d54d" kindref="member">GetTitleGain</ref><sp/>(<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>)</highlight></codeline>
<codeline lineno="551"><highlight class="normal">{</highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref><sp/><sp/>retval;</highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>;</highlight></codeline>
<codeline lineno="554"><highlight class="normal"></highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/>retval<sp/>=<sp/>analyzeResult<sp/>(<sp/><ref refid="libnyquist_2nyquist_2nyqsrc_2add_8c_1a955f504eccf76b4eb2489c0adab03121" kindref="member">A</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="libnyquist_2nyquist_2nyqsrc_2add_8c_1a955f504eccf76b4eb2489c0adab03121" kindref="member">A</ref>)/</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(*<ref refid="libnyquist_2nyquist_2nyqsrc_2add_8c_1a955f504eccf76b4eb2489c0adab03121" kindref="member">A</ref>)<sp/>);</highlight></codeline>
<codeline lineno="556"><highlight class="normal"></highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="libnyquist_2nyquist_2nyqsrc_2add_8c_1a955f504eccf76b4eb2489c0adab03121" kindref="member">A</ref>)/</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(*<ref refid="libnyquist_2nyquist_2nyqsrc_2add_8c_1a955f504eccf76b4eb2489c0adab03121" kindref="member">A</ref>);<sp/>i++<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="libnyquist_2nyquist_2nyqsrc_2add_8c_1a111da81ae5883147168bbb8366377b10" kindref="member">B</ref>[<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>]<sp/>+=<sp/><ref refid="libnyquist_2nyquist_2nyqsrc_2add_8c_1a955f504eccf76b4eb2489c0adab03121" kindref="member">A</ref>[<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>];</highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="libnyquist_2nyquist_2nyqsrc_2add_8c_1a955f504eccf76b4eb2489c0adab03121" kindref="member">A</ref>[<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>]<sp/><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="561"><highlight class="normal"></highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/><ref refid="replaygain__analysis_8c_1ab08dffec08ac450d78d4c062b571939e" kindref="member">MAX_ORDER</ref>;<sp/>i++<sp/>)</highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>linprebuf[i]<sp/>=<sp/>lstepbuf[i]<sp/>=<sp/>loutbuf[i]<sp/>=<sp/>rinprebuf[i]<sp/>=<sp/>rstepbuf[i]<sp/>=<sp/>routbuf[i]<sp/>=<sp/>0.<ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref>;</highlight></codeline>
<codeline lineno="564"><highlight class="normal"></highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/>totsamp<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/>lsum<sp/><sp/><sp/><sp/>=<sp/>rsum<sp/>=<sp/>0.;</highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>retval;</highlight></codeline>
<codeline lineno="568"><highlight class="normal">}</highlight></codeline>
<codeline lineno="569"><highlight class="normal"></highlight></codeline>
<codeline lineno="570"><highlight class="normal"></highlight></codeline>
<codeline lineno="571"><highlight class="normal"><ref refid="replaygain__analysis_8h_1abc8087d43b5423b38699f7ea959ee32f" kindref="member">flac_float_t</ref></highlight></codeline>
<codeline lineno="572" refid="replaygain__analysis_8c_1ac905fea7f33238cea563607378e783ac" refkind="member"><highlight class="normal"><ref refid="replaygain__analysis_8c_1ac905fea7f33238cea563607378e783ac" kindref="member">GetAlbumGain</ref><sp/>(<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>)</highlight></codeline>
<codeline lineno="573"><highlight class="normal">{</highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>analyzeResult<sp/>(<sp/><ref refid="libnyquist_2nyquist_2nyqsrc_2add_8c_1a111da81ae5883147168bbb8366377b10" kindref="member">B</ref>,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="libnyquist_2nyquist_2nyqsrc_2add_8c_1a111da81ae5883147168bbb8366377b10" kindref="member">B</ref>)/</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(*<ref refid="libnyquist_2nyquist_2nyqsrc_2add_8c_1a111da81ae5883147168bbb8366377b10" kindref="member">B</ref>)<sp/>);</highlight></codeline>
<codeline lineno="575"><highlight class="normal">}</highlight></codeline>
<codeline lineno="576"><highlight class="normal"></highlight></codeline>
<codeline lineno="577"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>end<sp/>of<sp/>replaygain_analysis.c<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="C:/_dev/OpenU/Audacity/audacity/lib-src/libflac/src/share/replaygain_analysis/replaygain_analysis.c"/>
  </compounddef>
</doxygen>
