<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.11">
  <compounddef id="_audacity_app_8cpp" kind="file" language="C++">
    <compoundname>AudacityApp.cpp</compoundname>
    <includes refid="_audacity_8h" local="yes">Audacity.h</includes>
    <includes refid="_audacity_app_8h" local="yes">AudacityApp.h</includes>
    <includes refid="_translatable_string_array_8h" local="yes">TranslatableStringArray.h</includes>
    <includes local="no">wx/defs.h</includes>
    <includes refid="app_8h" local="no">wx/app.h</includes>
    <includes local="no">wx/bitmap.h</includes>
    <includes local="no">wx/docview.h</includes>
    <includes local="no">wx/event.h</includes>
    <includes local="no">wx/ipc.h</includes>
    <includes local="no">wx/log.h</includes>
    <includes local="no">wx/window.h</includes>
    <includes local="no">wx/intl.h</includes>
    <includes local="no">wx/menu.h</includes>
    <includes local="no">wx/msgdlg.h</includes>
    <includes local="no">wx/snglinst.h</includes>
    <includes local="no">wx/splash.h</includes>
    <includes local="no">wx/stdpaths.h</includes>
    <includes local="no">wx/sysopt.h</includes>
    <includes local="no">wx/fontmap.h</includes>
    <includes local="no">wx/fs_zip.h</includes>
    <includes local="no">wx/image.h</includes>
    <includes local="no">wx/dir.h</includes>
    <includes local="no">wx/file.h</includes>
    <includes local="no">wx/filename.h</includes>
    <includes refid="_audacity_logger_8h" local="yes">AudacityLogger.h</includes>
    <includes refid="_about_dialog_8h" local="yes">AboutDialog.h</includes>
    <includes refid="_a_color_8h" local="yes">AColor.h</includes>
    <includes refid="_audio_i_o_8h" local="yes">AudioIO.h</includes>
    <includes refid="_benchmark_8h" local="yes">Benchmark.h</includes>
    <includes refid="_dir_manager_8h" local="yes">DirManager.h</includes>
    <includes refid="_command_handler_8h" local="yes">commands/CommandHandler.h</includes>
    <includes refid="_app_command_event_8h" local="yes">commands/AppCommandEvent.h</includes>
    <includes refid="_contrast_8h" local="yes">effects/Contrast.h</includes>
    <includes refid="_a_slider_8h" local="yes">widgets/ASlider.h</includes>
    <includes refid="_f_fmpeg_8h" local="yes">FFmpeg.h</includes>
    <includes refid="_internat_8h" local="yes">Internat.h</includes>
    <includes refid="_lang_choice_8h" local="yes">LangChoice.h</includes>
    <includes refid="_languages_8h" local="yes">Languages.h</includes>
    <includes refid="_plugin_manager_8h" local="yes">PluginManager.h</includes>
    <includes refid="_prefs_8h" local="yes">Prefs.h</includes>
    <includes refid="_project_8h" local="yes">Project.h</includes>
    <includes refid="_screenshot_8h" local="yes">Screenshot.h</includes>
    <includes refid="_sequence_8h" local="yes">Sequence.h</includes>
    <includes refid="_wave_track_8h" local="yes">WaveTrack.h</includes>
    <includes refid="_prefs_dialog_8h" local="yes">prefs/PrefsDialog.h</includes>
    <includes refid="_theme_8h" local="yes">Theme.h</includes>
    <includes refid="_platform_compatibility_8h" local="yes">PlatformCompatibility.h</includes>
    <includes refid="_file_names_8h" local="yes">FileNames.h</includes>
    <includes refid="_auto_recovery_8h" local="yes">AutoRecovery.h</includes>
    <includes refid="_splash_dialog_8h" local="yes">SplashDialog.h</includes>
    <includes refid="src_2fft_8h" local="yes">FFT.h</includes>
    <includes refid="_block_file_8h" local="yes">BlockFile.h</includes>
    <includes refid="_o_d_manager_8h" local="yes">ondemand/ODManager.h</includes>
    <includes refid="_keyboard_8h" local="yes">commands/Keyboard.h</includes>
    <includes refid="_error_dialog_8h" local="yes">widgets/ErrorDialog.h</includes>
    <includes refid="_directories_prefs_8h" local="yes">prefs/DirectoriesPrefs.h</includes>
    <includes refid="_module_manager_8h" local="yes">ModuleManager.h</includes>
    <includes refid="_import_8h" local="yes">import/Import.h</includes>
    <includes refid="_experimental_8h" local="yes">Experimental.h</includes>
    <includes local="yes">../images/AudacityLogoWithName.xpm</includes>
    <incdepgraph>
      <node id="33558">
        <label>wx/dir.h</label>
      </node>
      <node id="33568">
        <label>wx/choice.h</label>
      </node>
      <node id="33681">
        <label>WaveClip.h</label>
        <link refid="_wave_clip_8h"/>
        <childnode refid="33554" relation="include">
        </childnode>
        <childnode refid="33604" relation="include">
        </childnode>
        <childnode refid="33666" relation="include">
        </childnode>
        <childnode refid="33573" relation="include">
        </childnode>
        <childnode refid="33612" relation="include">
        </childnode>
        <childnode refid="33575" relation="include">
        </childnode>
        <childnode refid="33682" relation="include">
        </childnode>
        <childnode refid="33680" relation="include">
        </childnode>
        <childnode refid="33638" relation="include">
        </childnode>
        <childnode refid="33609" relation="include">
        </childnode>
        <childnode refid="33580" relation="include">
        </childnode>
        <childnode refid="33595" relation="include">
        </childnode>
      </node>
      <node id="33686">
        <label>wx/treebook.h</label>
      </node>
      <node id="33705">
        <label>ModuleManager.h</label>
        <link refid="_module_manager_8h"/>
        <childnode refid="33623" relation="include">
        </childnode>
        <childnode refid="33642" relation="include">
        </childnode>
        <childnode refid="33595" relation="include">
        </childnode>
        <childnode refid="33649" relation="include">
        </childnode>
        <childnode refid="33641" relation="include">
        </childnode>
      </node>
      <node id="33625">
        <label>wx/html/htmlwin.h</label>
      </node>
      <node id="33624">
        <label>widgets/LinkingHtmlWindow.h</label>
        <link refid="_linking_html_window_8h"/>
        <childnode refid="33596" relation="include">
        </childnode>
        <childnode refid="33625" relation="include">
        </childnode>
        <childnode refid="33590" relation="include">
        </childnode>
        <childnode refid="33626" relation="include">
        </childnode>
      </node>
      <node id="33704">
        <label>PrefsPanel.h</label>
        <link refid="_prefs_panel_8h"/>
        <childnode refid="33621" relation="include">
        </childnode>
        <childnode refid="33572" relation="include">
        </childnode>
      </node>
      <node id="33610">
        <label>wx/hashmap.h</label>
      </node>
      <node id="33670">
        <label>toolbars/SelectionBarListener.h</label>
        <link refid="_selection_bar_listener_8h"/>
      </node>
      <node id="33668">
        <label>wx/gauge.h</label>
      </node>
      <node id="33615">
        <label>wx/ffile.h</label>
      </node>
      <node id="33559">
        <label>wx/event.h</label>
      </node>
      <node id="33689">
        <label>wx/font.h</label>
      </node>
      <node id="33649">
        <label>audacity/ModuleInterface.h</label>
        <link refid="_module_interface_8h"/>
        <childnode refid="33605" relation="include">
        </childnode>
        <childnode refid="33644" relation="include">
        </childnode>
        <childnode refid="33650" relation="include">
        </childnode>
      </node>
      <node id="33699">
        <label>ODTask.h</label>
        <link refid="_o_d_task_8h"/>
        <childnode refid="33573" relation="include">
        </childnode>
        <childnode refid="33697" relation="include">
        </childnode>
        <childnode refid="33651" relation="include">
        </childnode>
        <childnode refid="33595" relation="include">
        </childnode>
        <childnode refid="33700" relation="include">
        </childnode>
      </node>
      <node id="33674">
        <label>wx/dcclient.h</label>
      </node>
      <node id="33557">
        <label>wx/cmdline.h</label>
      </node>
      <node id="33582">
        <label>wx/stdpaths.h</label>
      </node>
      <node id="33695">
        <label>SplashDialog.h</label>
        <link refid="_splash_dialog_8h"/>
        <childnode refid="33596" relation="include">
        </childnode>
      </node>
      <node id="33602">
        <label>AudioIO.h</label>
        <link refid="_audio_i_o_8h"/>
        <childnode refid="33603" relation="include">
        </childnode>
        <childnode refid="33554" relation="include">
        </childnode>
        <childnode refid="33575" relation="include">
        </childnode>
        <childnode refid="33559" relation="include">
        </childnode>
        <childnode refid="33571" relation="include">
        </childnode>
        <childnode refid="33574" relation="include">
        </childnode>
        <childnode refid="33604" relation="include">
        </childnode>
      </node>
      <node id="33616">
        <label>commands/CommandHandler.h</label>
        <link refid="_command_handler_8h"/>
        <childnode refid="33555" relation="include">
        </childnode>
      </node>
      <node id="33619">
        <label>wx/slider.h</label>
      </node>
      <node id="33696">
        <label>FFT.h</label>
        <link refid="src_2fft_8h"/>
        <childnode refid="33567" relation="include">
        </childnode>
        <childnode refid="33654" relation="include">
        </childnode>
        <childnode refid="33575" relation="include">
        </childnode>
      </node>
      <node id="33643">
        <label>audacity/EffectInterface.h</label>
        <link refid="_effect_interface_8h"/>
        <childnode refid="33605" relation="include">
        </childnode>
        <childnode refid="33644" relation="include">
        </childnode>
        <childnode refid="33645" relation="include">
        </childnode>
        <childnode refid="33646" relation="include">
        </childnode>
        <childnode refid="33596" relation="include">
        </childnode>
      </node>
      <node id="33637">
        <label>Internat.h</label>
        <link refid="_internat_8h"/>
        <childnode refid="33606" relation="include">
        </childnode>
        <childnode refid="33571" relation="include">
        </childnode>
        <childnode refid="33638" relation="include">
        </childnode>
      </node>
      <node id="33612">
        <label>xml/XMLTagHandler.h</label>
        <link refid="_x_m_l_tag_handler_8h"/>
        <childnode refid="33554" relation="include">
        </childnode>
        <childnode refid="33571" relation="include">
        </childnode>
        <childnode refid="33613" relation="include">
        </childnode>
        <childnode refid="33614" relation="include">
        </childnode>
      </node>
      <node id="33583">
        <label>wx/sysopt.h</label>
      </node>
      <node id="33656">
        <label>TrackPanelListener.h</label>
        <link refid="_track_panel_listener_8h"/>
      </node>
      <node id="33654">
        <label>wx/wxchar.h</label>
      </node>
      <node id="33586">
        <label>wx/image.h</label>
      </node>
      <node id="33623">
        <label>wx/dynlib.h</label>
      </node>
      <node id="33601">
        <label>wx/pen.h</label>
      </node>
      <node id="33590">
        <label>wx/frame.h</label>
      </node>
      <node id="33573">
        <label>ondemand/ODTaskThread.h</label>
        <link refid="_o_d_task_thread_8h"/>
        <childnode refid="33574" relation="include">
        </childnode>
        <childnode refid="33554" relation="include">
        </childnode>
      </node>
      <node id="33645">
        <label>audacity/ConfigInterface.h</label>
        <link refid="_config_interface_8h"/>
        <childnode refid="33605" relation="include">
        </childnode>
      </node>
      <node id="33611">
        <label>wx/utils.h</label>
      </node>
      <node id="33622">
        <label>FFmpeg.h</label>
        <link refid="_f_fmpeg_8h"/>
        <childnode refid="33554" relation="include">
        </childnode>
        <childnode refid="33575" relation="include">
        </childnode>
        <childnode refid="33571" relation="include">
        </childnode>
        <childnode refid="33623" relation="include">
        </childnode>
        <childnode refid="33563" relation="include">
        </childnode>
        <childnode refid="33580" relation="include">
        </childnode>
        <childnode refid="33611" relation="include">
        </childnode>
        <childnode refid="33624" relation="include">
        </childnode>
        <childnode refid="33627" relation="include">
        </childnode>
        <childnode refid="33630" relation="include">
        </childnode>
        <childnode refid="33633" relation="include">
        </childnode>
        <childnode refid="33636" relation="include">
        </childnode>
        <childnode refid="33591" relation="include">
        </childnode>
        <childnode refid="33605" relation="include">
        </childnode>
      </node>
      <node id="33706">
        <label>import/Import.h</label>
        <link refid="_import_8h"/>
        <childnode refid="33595" relation="include">
        </childnode>
        <childnode refid="33606" relation="include">
        </childnode>
        <childnode refid="33571" relation="include">
        </childnode>
        <childnode refid="33596" relation="include">
        </childnode>
        <childnode refid="33660" relation="include">
        </childnode>
        <childnode refid="33707" relation="include">
        </childnode>
      </node>
      <node id="33698">
        <label>ondemand/ODManager.h</label>
        <link refid="_o_d_manager_8h"/>
        <childnode refid="33595" relation="include">
        </childnode>
        <childnode refid="33699" relation="include">
        </childnode>
        <childnode refid="33573" relation="include">
        </childnode>
        <childnode refid="33574" relation="include">
        </childnode>
        <childnode refid="33700" relation="include">
        </childnode>
      </node>
      <node id="33667">
        <label>wx/evtloop.h</label>
      </node>
      <node id="33631">
        <label>WrappedType.h</label>
        <link refid="_wrapped_type_8h"/>
        <childnode refid="33554" relation="include">
        </childnode>
      </node>
      <node id="33575">
        <label>Experimental.h</label>
        <link refid="_experimental_8h"/>
        <childnode refid="33567" relation="include">
        </childnode>
      </node>
      <node id="33565">
        <label>wx/timer.h</label>
      </node>
      <node id="33680">
        <label>wx/gdicmn.h</label>
      </node>
      <node id="33652">
        <label>ViewInfo.h</label>
        <link refid="_view_info_8h"/>
        <childnode refid="33595" relation="include">
        </childnode>
        <childnode refid="33653" relation="include">
        </childnode>
      </node>
      <node id="33665">
        <label>../Shuttle.h</label>
        <link refid="_shuttle_8h"/>
      </node>
      <node id="33635">
        <label>wx/fileconf.h</label>
      </node>
      <node id="33642">
        <label>map</label>
      </node>
      <node id="33683">
        <label>WaveTrackLocation.h</label>
        <link refid="_wave_track_location_8h"/>
      </node>
      <node id="33701">
        <label>commands/Keyboard.h</label>
        <link refid="_keyboard_8h"/>
        <childnode refid="33567" relation="include">
        </childnode>
        <childnode refid="33559" relation="include">
        </childnode>
        <childnode refid="33571" relation="include">
        </childnode>
      </node>
      <node id="33650">
        <label>audacity/PluginInterface.h</label>
        <link refid="_plugin_interface_8h"/>
        <childnode refid="33605" relation="include">
        </childnode>
        <childnode refid="33645" relation="include">
        </childnode>
        <childnode refid="33643" relation="include">
        </childnode>
        <childnode refid="33644" relation="include">
        </childnode>
        <childnode refid="33648" relation="include">
        </childnode>
        <childnode refid="33649" relation="include">
        </childnode>
      </node>
      <node id="33576">
        <label>TranslatableStringArray.h</label>
        <link refid="_translatable_string_array_8h"/>
        <childnode refid="33556" relation="include">
        </childnode>
        <childnode refid="33559" relation="include">
        </childnode>
      </node>
      <node id="33632">
        <label>wx/scrolbar.h</label>
      </node>
      <node id="33682">
        <label>RealFFTf.h</label>
        <link refid="_real_f_f_tf_8h"/>
        <childnode refid="33575" relation="include">
        </childnode>
      </node>
      <node id="33702">
        <label>widgets/ErrorDialog.h</label>
        <link refid="_error_dialog_8h"/>
        <childnode refid="33554" relation="include">
        </childnode>
        <childnode refid="33567" relation="include">
        </childnode>
        <childnode refid="33572" relation="include">
        </childnode>
      </node>
      <node id="33671">
        <label>toolbars/SpectralSelectionBarListener.h</label>
        <link refid="_spectral_selection_bar_listener_8h"/>
        <childnode refid="33554" relation="include">
        </childnode>
      </node>
      <node id="33669">
        <label>wx/stattext.h</label>
      </node>
      <node id="33564">
        <label>wx/socket.h</label>
      </node>
      <node id="33673">
        <label>wx/generic/dragimgg.h</label>
      </node>
      <node id="33644">
        <label>audacity/IdentInterface.h</label>
        <link refid="_ident_interface_8h"/>
        <childnode refid="33605" relation="include">
        </childnode>
      </node>
      <node id="33609">
        <label>wx/list.h</label>
      </node>
      <node id="33636">
        <label>wx/checkbox.h</label>
      </node>
      <node id="33579">
        <label>wx/menu.h</label>
      </node>
      <node id="33626">
        <label>HtmlWindow.h</label>
        <link refid="_html_window_8h"/>
        <childnode refid="33554" relation="include">
        </childnode>
        <childnode refid="33567" relation="include">
        </childnode>
        <childnode refid="33625" relation="include">
        </childnode>
      </node>
      <node id="33567">
        <label>wx/defs.h</label>
      </node>
      <node id="33572">
        <label>wx/window.h</label>
      </node>
      <node id="33561">
        <label>wx/intl.h</label>
      </node>
      <node id="33666">
        <label>../widgets/ProgressDialog.h</label>
        <link refid="_progress_dialog_8h"/>
        <childnode refid="33554" relation="include">
        </childnode>
        <childnode refid="33567" relation="include">
        </childnode>
        <childnode refid="33596" relation="include">
        </childnode>
        <childnode refid="33667" relation="include">
        </childnode>
        <childnode refid="33668" relation="include">
        </childnode>
        <childnode refid="33669" relation="include">
        </childnode>
        <childnode refid="33611" relation="include">
        </childnode>
      </node>
      <node id="33581">
        <label>wx/splash.h</label>
      </node>
      <node id="33663">
        <label>wx/bmpbuttn.h</label>
      </node>
      <node id="33605">
        <label>audacity/Types.h</label>
        <link refid="include_2audacity_2_types_8h"/>
        <childnode refid="33571" relation="include">
        </childnode>
        <childnode refid="33606" relation="include">
        </childnode>
      </node>
      <node id="33697">
        <label>BlockFile.h</label>
        <link refid="_block_file_8h"/>
        <childnode refid="33571" relation="include">
        </childnode>
        <childnode refid="33615" relation="include">
        </childnode>
        <childnode refid="33588" relation="include">
        </childnode>
        <childnode refid="33612" relation="include">
        </childnode>
        <childnode refid="33614" relation="include">
        </childnode>
        <childnode refid="33604" relation="include">
        </childnode>
      </node>
      <node id="33620">
        <label>widgets/ASlider.h</label>
        <link refid="_a_slider_8h"/>
        <childnode refid="33575" relation="include">
        </childnode>
        <childnode refid="33567" relation="include">
        </childnode>
        <childnode refid="33572" relation="include">
        </childnode>
        <childnode refid="33596" relation="include">
        </childnode>
        <childnode refid="33621" relation="include">
        </childnode>
        <childnode refid="33565" relation="include">
        </childnode>
      </node>
      <node id="33641">
        <label>PluginManager.h</label>
        <link refid="_plugin_manager_8h"/>
        <childnode refid="33567" relation="include">
        </childnode>
        <childnode refid="33569" relation="include">
        </childnode>
        <childnode refid="33635" relation="include">
        </childnode>
        <childnode refid="33571" relation="include">
        </childnode>
        <childnode refid="33642" relation="include">
        </childnode>
        <childnode refid="33643" relation="include">
        </childnode>
        <childnode refid="33648" relation="include">
        </childnode>
        <childnode refid="33649" relation="include">
        </childnode>
        <childnode refid="33650" relation="include">
        </childnode>
      </node>
      <node id="33640">
        <label>Languages.h</label>
        <link refid="_languages_8h"/>
        <childnode refid="33606" relation="include">
        </childnode>
        <childnode refid="33571" relation="include">
        </childnode>
        <childnode refid="33609" relation="include">
        </childnode>
      </node>
      <node id="33596">
        <label>wx/dialog.h</label>
      </node>
      <node id="33607">
        <label>Benchmark.h</label>
        <link refid="_benchmark_8h"/>
      </node>
      <node id="33694">
        <label>wx/mstream.h</label>
      </node>
      <node id="33588">
        <label>wx/filename.h</label>
      </node>
      <node id="33676">
        <label>Screenshot.h</label>
        <link refid="_screenshot_8h"/>
        <childnode refid="33554" relation="include">
        </childnode>
        <childnode refid="33567" relation="include">
        </childnode>
      </node>
      <node id="33659">
        <label>effects/EffectManager.h</label>
        <link refid="_effect_manager_8h"/>
        <childnode refid="33575" relation="include">
        </childnode>
        <childnode refid="33568" relation="include">
        </childnode>
        <childnode refid="33596" relation="include">
        </childnode>
        <childnode refid="33559" relation="include">
        </childnode>
        <childnode refid="33660" relation="include">
        </childnode>
        <childnode refid="33571" relation="include">
        </childnode>
        <childnode refid="33643" relation="include">
        </childnode>
        <childnode refid="33641" relation="include">
        </childnode>
        <childnode refid="33661" relation="include">
        </childnode>
      </node>
      <node id="33628">
        <label>wx/filectrl.h</label>
      </node>
      <node id="33688">
        <label>wx/colour.h</label>
      </node>
      <node id="33677">
        <label>Sequence.h</label>
        <link refid="_sequence_8h"/>
        <childnode refid="33595" relation="include">
        </childnode>
        <childnode refid="33571" relation="include">
        </childnode>
        <childnode refid="33569" relation="include">
        </childnode>
        <childnode refid="33604" relation="include">
        </childnode>
        <childnode refid="33612" relation="include">
        </childnode>
        <childnode refid="33614" relation="include">
        </childnode>
        <childnode refid="33573" relation="include">
        </childnode>
        <childnode refid="33605" relation="include">
        </childnode>
      </node>
      <node id="33646">
        <label>audacity/EffectAutomationParameters.h</label>
        <link refid="_effect_automation_parameters_8h"/>
        <childnode refid="33647" relation="include">
        </childnode>
        <childnode refid="33557" relation="include">
        </childnode>
        <childnode refid="33635" relation="include">
        </childnode>
        <childnode refid="33561" relation="include">
        </childnode>
      </node>
      <node id="33633">
        <label>Prefs.h</label>
        <link refid="_prefs_8h"/>
        <childnode refid="33554" relation="include">
        </childnode>
        <childnode refid="33634" relation="include">
        </childnode>
        <childnode refid="33635" relation="include">
        </childnode>
      </node>
      <node id="33600">
        <label>wx/brush.h</label>
      </node>
      <node id="33707">
        <label>wx/tokenzr.h</label>
      </node>
      <node id="33693">
        <label>wx/debug.h</label>
      </node>
      <node id="33658">
        <label>commands/CommandManager.h</label>
        <link refid="_command_manager_8h"/>
        <childnode refid="33575" relation="include">
        </childnode>
        <childnode refid="33593" relation="include">
        </childnode>
        <childnode refid="33595" relation="include">
        </childnode>
        <childnode refid="33571" relation="include">
        </childnode>
        <childnode refid="33569" relation="include">
        </childnode>
        <childnode refid="33579" relation="include">
        </childnode>
        <childnode refid="33610" relation="include">
        </childnode>
        <childnode refid="33555" relation="include">
        </childnode>
        <childnode refid="33612" relation="include">
        </childnode>
        <childnode refid="33605" relation="include">
        </childnode>
      </node>
      <node id="33554">
        <label>Audacity.h</label>
        <link refid="_audacity_8h"/>
      </node>
      <node id="33570">
        <label>wx/grid.h</label>
      </node>
      <node id="33617">
        <label>commands/AppCommandEvent.h</label>
        <link refid="_app_command_event_8h"/>
        <childnode refid="33559" relation="include">
        </childnode>
        <childnode refid="33554" relation="include">
        </childnode>
      </node>
      <node id="33595">
        <label>vector</label>
      </node>
      <node id="33661">
        <label>Effect.h</label>
        <link refid="src_2effects_2_effect_8h"/>
        <childnode refid="33554" relation="include">
        </childnode>
        <childnode refid="33593" relation="include">
        </childnode>
        <childnode refid="33662" relation="include">
        </childnode>
        <childnode refid="33663" relation="include">
        </childnode>
        <childnode refid="33569" relation="include">
        </childnode>
        <childnode refid="33561" relation="include">
        </childnode>
        <childnode refid="33571" relation="include">
        </childnode>
        <childnode refid="33664" relation="include">
        </childnode>
        <childnode refid="33645" relation="include">
        </childnode>
        <childnode refid="33643" relation="include">
        </childnode>
        <childnode refid="33575" relation="include">
        </childnode>
        <childnode refid="33653" relation="include">
        </childnode>
        <childnode refid="33665" relation="include">
        </childnode>
        <childnode refid="33637" relation="include">
        </childnode>
        <childnode refid="33666" relation="include">
        </childnode>
      </node>
      <node id="33629">
        <label>wx/filedlg.h</label>
      </node>
      <node id="33569">
        <label>wx/dynarray.h</label>
      </node>
      <node id="33684">
        <label>prefs/PrefsDialog.h</label>
        <link refid="_prefs_dialog_8h"/>
        <childnode refid="33595" relation="include">
        </childnode>
        <childnode refid="33685" relation="include">
        </childnode>
        <childnode refid="33559" relation="include">
        </childnode>
        <childnode refid="33596" relation="include">
        </childnode>
        <childnode refid="33571" relation="include">
        </childnode>
        <childnode refid="33686" relation="include">
        </childnode>
        <childnode refid="33572" relation="include">
        </childnode>
      </node>
      <node id="33651">
        <label>Project.h</label>
        <link refid="_project_8h"/>
        <childnode refid="33554" relation="include">
        </childnode>
        <childnode refid="33575" relation="include">
        </childnode>
        <childnode refid="33608" relation="include">
        </childnode>
        <childnode refid="33652" relation="include">
        </childnode>
        <childnode refid="33656" relation="include">
        </childnode>
        <childnode refid="33657" relation="include">
        </childnode>
        <childnode refid="33658" relation="include">
        </childnode>
        <childnode refid="33659" relation="include">
        </childnode>
        <childnode refid="33612" relation="include">
        </childnode>
        <childnode refid="33670" relation="include">
        </childnode>
        <childnode refid="33671" relation="include">
        </childnode>
        <childnode refid="33567" relation="include">
        </childnode>
        <childnode refid="33559" relation="include">
        </childnode>
        <childnode refid="33563" relation="include">
        </childnode>
        <childnode refid="33672" relation="include">
        </childnode>
        <childnode refid="33673" relation="include">
        </childnode>
        <childnode refid="33590" relation="include">
        </childnode>
        <childnode refid="33561" relation="include">
        </childnode>
        <childnode refid="33674" relation="include">
        </childnode>
        <childnode refid="33675" relation="include">
        </childnode>
      </node>
      <node id="33690">
        <label>PlatformCompatibility.h</label>
        <link refid="_platform_compatibility_8h"/>
        <childnode refid="33571" relation="include">
        </childnode>
      </node>
      <node id="33648">
        <label>audacity/ImporterInterface.h</label>
        <link refid="_importer_interface_8h"/>
        <childnode refid="33605" relation="include">
        </childnode>
        <childnode refid="33645" relation="include">
        </childnode>
        <childnode refid="33644" relation="include">
        </childnode>
      </node>
      <node id="33585">
        <label>wx/fs_zip.h</label>
      </node>
      <node id="33692">
        <label>AutoRecovery.h</label>
        <link refid="_auto_recovery_8h"/>
        <childnode refid="33651" relation="include">
        </childnode>
        <childnode refid="33612" relation="include">
        </childnode>
        <childnode refid="33614" relation="include">
        </childnode>
        <childnode refid="33693" relation="include">
        </childnode>
        <childnode refid="33569" relation="include">
        </childnode>
        <childnode refid="33615" relation="include">
        </childnode>
        <childnode refid="33610" relation="include">
        </childnode>
        <childnode refid="33694" relation="include">
        </childnode>
      </node>
      <node id="33687">
        <label>Theme.h</label>
        <link refid="_theme_8h"/>
        <childnode refid="33554" relation="include">
        </childnode>
        <childnode refid="33577" relation="include">
        </childnode>
        <childnode refid="33688" relation="include">
        </childnode>
        <childnode refid="33567" relation="include">
        </childnode>
        <childnode refid="33569" relation="include">
        </childnode>
        <childnode refid="33689" relation="include">
        </childnode>
        <childnode refid="33586" relation="include">
        </childnode>
      </node>
      <node id="33599">
        <label>AColor.h</label>
        <link refid="_a_color_8h"/>
        <childnode refid="33600" relation="include">
        </childnode>
        <childnode refid="33601" relation="include">
        </childnode>
      </node>
      <node id="33571">
        <label>wx/string.h</label>
      </node>
      <node id="33555">
        <label>AudacityApp.h</label>
        <link refid="_audacity_app_8h"/>
        <childnode refid="33554" relation="include">
        </childnode>
        <childnode refid="33556" relation="include">
        </childnode>
        <childnode refid="33557" relation="include">
        </childnode>
        <childnode refid="33558" relation="include">
        </childnode>
        <childnode refid="33559" relation="include">
        </childnode>
        <childnode refid="33560" relation="include">
        </childnode>
        <childnode refid="33561" relation="include">
        </childnode>
        <childnode refid="33562" relation="include">
        </childnode>
        <childnode refid="33563" relation="include">
        </childnode>
        <childnode refid="33564" relation="include">
        </childnode>
        <childnode refid="33565" relation="include">
        </childnode>
        <childnode refid="33566" relation="include">
        </childnode>
        <childnode refid="33573" relation="include">
        </childnode>
        <childnode refid="33575" relation="include">
        </childnode>
      </node>
      <node id="33660">
        <label>wx/listbox.h</label>
      </node>
      <node id="33580">
        <label>wx/msgdlg.h</label>
      </node>
      <node id="33603">
        <label>portaudio.h</label>
        <link refid="portaudio_8h"/>
      </node>
      <node id="33563">
        <label>wx/log.h</label>
      </node>
      <node id="33655">
        <label>math.h</label>
      </node>
      <node id="33708">
        <label>../images/AudacityLogoWithName.xpm</label>
      </node>
      <node id="33608">
        <label>DirManager.h</label>
        <link refid="_dir_manager_8h"/>
        <childnode refid="33609" relation="include">
        </childnode>
        <childnode refid="33571" relation="include">
        </childnode>
        <childnode refid="33588" relation="include">
        </childnode>
        <childnode refid="33610" relation="include">
        </childnode>
        <childnode refid="33611" relation="include">
        </childnode>
        <childnode refid="33605" relation="include">
        </childnode>
        <childnode refid="33612" relation="include">
        </childnode>
      </node>
      <node id="33589">
        <label>AudacityLogger.h</label>
        <link refid="_audacity_logger_8h"/>
        <childnode refid="33554" relation="include">
        </childnode>
        <childnode refid="33559" relation="include">
        </childnode>
        <childnode refid="33563" relation="include">
        </childnode>
        <childnode refid="33590" relation="include">
        </childnode>
        <childnode refid="33591" relation="include">
        </childnode>
        <childnode refid="33571" relation="include">
        </childnode>
        <childnode refid="33575" relation="include">
        </childnode>
      </node>
      <node id="33618">
        <label>effects/Contrast.h</label>
        <link refid="_contrast_8h"/>
        <childnode refid="33596" relation="include">
        </childnode>
        <childnode refid="33619" relation="include">
        </childnode>
      </node>
      <node id="33584">
        <label>wx/fontmap.h</label>
      </node>
      <node id="33653">
        <label>SelectedRegion.h</label>
        <link refid="_selected_region_8h"/>
        <childnode refid="33554" relation="include">
        </childnode>
        <childnode refid="33575" relation="include">
        </childnode>
        <childnode refid="33567" relation="include">
        </childnode>
        <childnode refid="33654" relation="include">
        </childnode>
        <childnode refid="33655" relation="include">
        </childnode>
      </node>
      <node id="33606">
        <label>wx/arrstr.h</label>
      </node>
      <node id="33634">
        <label>wx/config.h</label>
      </node>
      <node id="33592">
        <label>AboutDialog.h</label>
        <link refid="_about_dialog_8h"/>
        <childnode refid="33593" relation="include">
        </childnode>
        <childnode refid="33595" relation="include">
        </childnode>
        <childnode refid="33596" relation="include">
        </childnode>
        <childnode refid="33597" relation="include">
        </childnode>
        <childnode refid="33598" relation="include">
        </childnode>
        <childnode refid="33577" relation="include">
        </childnode>
      </node>
      <node id="33597">
        <label>wx/sizer.h</label>
      </node>
      <node id="33700">
        <label>wx/wx.h</label>
      </node>
      <node id="33562">
        <label>wx/snglinst.h</label>
      </node>
      <node id="33679">
        <label>Track.h</label>
        <link refid="src_2track_8h"/>
        <childnode refid="33554" relation="include">
        </childnode>
        <childnode refid="33593" relation="include">
        </childnode>
        <childnode refid="33595" relation="include">
        </childnode>
        <childnode refid="33569" relation="include">
        </childnode>
        <childnode refid="33559" relation="include">
        </childnode>
        <childnode refid="33680" relation="include">
        </childnode>
        <childnode refid="33638" relation="include">
        </childnode>
        <childnode refid="33571" relation="include">
        </childnode>
        <childnode refid="33575" relation="include">
        </childnode>
        <childnode refid="33604" relation="include">
        </childnode>
        <childnode refid="33612" relation="include">
        </childnode>
      </node>
      <node id="33574">
        <label>wx/thread.h</label>
      </node>
      <node id="33587">
        <label>wx/file.h</label>
      </node>
      <node id="33672">
        <label>wx/dragimag.h</label>
      </node>
      <node id="33691">
        <label>FileNames.h</label>
        <link refid="_file_names_8h"/>
        <childnode refid="33571" relation="include">
        </childnode>
        <childnode refid="33554" relation="include">
        </childnode>
      </node>
      <node id="33598">
        <label>wx/statbmp.h</label>
      </node>
      <node id="33664">
        <label>wx/tglbtn.h</label>
      </node>
      <node id="33703">
        <label>prefs/DirectoriesPrefs.h</label>
        <link refid="_directories_prefs_8h"/>
        <childnode refid="33669" relation="include">
        </childnode>
        <childnode refid="33591" relation="include">
        </childnode>
        <childnode refid="33704" relation="include">
        </childnode>
      </node>
      <node id="33578">
        <label>wx/ipc.h</label>
      </node>
      <node id="33685">
        <label>wx/button.h</label>
      </node>
      <node id="33593">
        <label>MemoryX.h</label>
        <link refid="_memory_x_8h"/>
        <childnode refid="33594" relation="include">
        </childnode>
      </node>
      <node id="33630">
        <label>ShuttleGui.h</label>
        <link refid="_shuttle_gui_8h"/>
        <childnode refid="33554" relation="include">
        </childnode>
        <childnode refid="33593" relation="include">
        </childnode>
        <childnode refid="33570" relation="include">
        </childnode>
        <childnode refid="33597" relation="include">
        </childnode>
        <childnode refid="33571" relation="include">
        </childnode>
        <childnode refid="33631" relation="include">
        </childnode>
        <childnode refid="33632" relation="include">
        </childnode>
      </node>
      <node id="33566">
        <label>widgets/FileHistory.h</label>
        <link refid="_file_history_8h"/>
        <childnode refid="33567" relation="include">
        </childnode>
        <childnode refid="33568" relation="include">
        </childnode>
        <childnode refid="33569" relation="include">
        </childnode>
        <childnode refid="33559" relation="include">
        </childnode>
        <childnode refid="33570" relation="include">
        </childnode>
        <childnode refid="33571" relation="include">
        </childnode>
        <childnode refid="33572" relation="include">
        </childnode>
      </node>
      <node id="33662">
        <label>set</label>
      </node>
      <node id="33675">
        <label>Menus.h</label>
        <link refid="_menus_8h"/>
        <childnode refid="33575" relation="include">
        </childnode>
      </node>
      <node id="33556">
        <label>wx/app.h</label>
        <link refid="app_8h"/>
      </node>
      <node id="33638">
        <label>wx/longlong.h</label>
      </node>
      <node id="33621">
        <label>wx/panel.h</label>
      </node>
      <node id="33678">
        <label>WaveTrack.h</label>
        <link refid="_wave_track_8h"/>
        <childnode refid="33679" relation="include">
        </childnode>
        <childnode refid="33604" relation="include">
        </childnode>
        <childnode refid="33681" relation="include">
        </childnode>
        <childnode refid="33575" relation="include">
        </childnode>
        <childnode refid="33666" relation="include">
        </childnode>
        <childnode refid="33595" relation="include">
        </childnode>
        <childnode refid="33680" relation="include">
        </childnode>
        <childnode refid="33638" relation="include">
        </childnode>
        <childnode refid="33574" relation="include">
        </childnode>
        <childnode refid="33683" relation="include">
        </childnode>
      </node>
      <node id="33639">
        <label>LangChoice.h</label>
        <link refid="_lang_choice_8h"/>
        <childnode refid="33571" relation="include">
        </childnode>
      </node>
      <node id="33627">
        <label>FileDialog.h</label>
        <link refid="_file_dialog_8h"/>
        <childnode refid="33567" relation="include">
        </childnode>
        <childnode refid="33628" relation="include">
        </childnode>
        <childnode refid="33629" relation="include">
        </childnode>
      </node>
      <node id="33577">
        <label>wx/bitmap.h</label>
      </node>
      <node id="33613">
        <label>stdio.h</label>
      </node>
      <node id="33591">
        <label>wx/textctrl.h</label>
      </node>
      <node id="33604">
        <label>SampleFormat.h</label>
        <link refid="_sample_format_8h"/>
        <childnode refid="33554" relation="include">
        </childnode>
        <childnode refid="33567" relation="include">
        </childnode>
        <childnode refid="33605" relation="include">
        </childnode>
      </node>
      <node id="33553">
        <label>C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp</label>
        <link refid="AudacityApp.cpp"/>
        <childnode refid="33554" relation="include">
        </childnode>
        <childnode refid="33555" relation="include">
        </childnode>
        <childnode refid="33576" relation="include">
        </childnode>
        <childnode refid="33567" relation="include">
        </childnode>
        <childnode refid="33556" relation="include">
        </childnode>
        <childnode refid="33577" relation="include">
        </childnode>
        <childnode refid="33560" relation="include">
        </childnode>
        <childnode refid="33559" relation="include">
        </childnode>
        <childnode refid="33578" relation="include">
        </childnode>
        <childnode refid="33563" relation="include">
        </childnode>
        <childnode refid="33572" relation="include">
        </childnode>
        <childnode refid="33561" relation="include">
        </childnode>
        <childnode refid="33579" relation="include">
        </childnode>
        <childnode refid="33580" relation="include">
        </childnode>
        <childnode refid="33562" relation="include">
        </childnode>
        <childnode refid="33581" relation="include">
        </childnode>
        <childnode refid="33582" relation="include">
        </childnode>
        <childnode refid="33583" relation="include">
        </childnode>
        <childnode refid="33584" relation="include">
        </childnode>
        <childnode refid="33585" relation="include">
        </childnode>
        <childnode refid="33586" relation="include">
        </childnode>
        <childnode refid="33558" relation="include">
        </childnode>
        <childnode refid="33587" relation="include">
        </childnode>
        <childnode refid="33588" relation="include">
        </childnode>
        <childnode refid="33589" relation="include">
        </childnode>
        <childnode refid="33592" relation="include">
        </childnode>
        <childnode refid="33599" relation="include">
        </childnode>
        <childnode refid="33602" relation="include">
        </childnode>
        <childnode refid="33607" relation="include">
        </childnode>
        <childnode refid="33608" relation="include">
        </childnode>
        <childnode refid="33616" relation="include">
        </childnode>
        <childnode refid="33617" relation="include">
        </childnode>
        <childnode refid="33618" relation="include">
        </childnode>
        <childnode refid="33620" relation="include">
        </childnode>
        <childnode refid="33622" relation="include">
        </childnode>
        <childnode refid="33637" relation="include">
        </childnode>
        <childnode refid="33639" relation="include">
        </childnode>
        <childnode refid="33640" relation="include">
        </childnode>
        <childnode refid="33641" relation="include">
        </childnode>
        <childnode refid="33633" relation="include">
        </childnode>
        <childnode refid="33651" relation="include">
        </childnode>
        <childnode refid="33676" relation="include">
        </childnode>
        <childnode refid="33677" relation="include">
        </childnode>
        <childnode refid="33678" relation="include">
        </childnode>
        <childnode refid="33684" relation="include">
        </childnode>
        <childnode refid="33687" relation="include">
        </childnode>
        <childnode refid="33690" relation="include">
        </childnode>
        <childnode refid="33691" relation="include">
        </childnode>
        <childnode refid="33692" relation="include">
        </childnode>
        <childnode refid="33695" relation="include">
        </childnode>
        <childnode refid="33696" relation="include">
        </childnode>
        <childnode refid="33697" relation="include">
        </childnode>
        <childnode refid="33698" relation="include">
        </childnode>
        <childnode refid="33701" relation="include">
        </childnode>
        <childnode refid="33702" relation="include">
        </childnode>
        <childnode refid="33703" relation="include">
        </childnode>
        <childnode refid="33705" relation="include">
        </childnode>
        <childnode refid="33706" relation="include">
        </childnode>
        <childnode refid="33575" relation="include">
        </childnode>
        <childnode refid="33708" relation="include">
        </childnode>
      </node>
      <node id="33647">
        <label>locale.h</label>
      </node>
      <node id="33560">
        <label>wx/docview.h</label>
      </node>
      <node id="33594">
        <label>memory</label>
      </node>
      <node id="33614">
        <label>XMLWriter.h</label>
        <link refid="_x_m_l_writer_8h"/>
        <childnode refid="33606" relation="include">
        </childnode>
        <childnode refid="33569" relation="include">
        </childnode>
        <childnode refid="33615" relation="include">
        </childnode>
      </node>
      <node id="33657">
        <label>AudioIOListener.h</label>
        <link refid="_audio_i_o_listener_8h"/>
        <childnode refid="33571" relation="include">
        </childnode>
      </node>
    </incdepgraph>
    <innerclass refid="class_i_p_c_conn" prot="public">IPCConn</innerclass>
    <innerclass refid="class_i_p_c_serv" prot="public">IPCServ</innerclass>
      <sectiondef kind="define">
      <memberdef kind="define" id="_audacity_app_8cpp_1abb252946b1cf0e5bb7b888a963595cac" prot="public" static="no">
        <name>IPC_APPL</name>
        <initializer>wxT(&quot;audacity&quot;)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" line="598" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" bodystart="598" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_audacity_app_8cpp_1ae6f29427716f4461d23d5d68c6c0053d" prot="public" static="no">
        <name>IPC_TOPIC</name>
        <initializer>wxT(&quot;System&quot;)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" line="599" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" bodystart="599" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_audacity_app_8cpp_1aff9507194463a6953ada6ae9cc911498" prot="public" static="no">
        <name>ID_RECENT_CLEAR</name>
        <initializer>6100</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" line="734" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" bodystart="734" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_audacity_app_8cpp_1a75ec73acb54f1278d01a5390341ac592" prot="public" static="no">
        <name>ID_RECENT_FIRST</name>
        <initializer>6101</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" line="735" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" bodystart="735" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_audacity_app_8cpp_1ae20c3675919cd63770ef4dd0e4491b06" prot="public" static="no">
        <name>ID_RECENT_LAST</name>
        <initializer>6112</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" line="736" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" bodystart="736" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_audacity_app_8cpp_1a5975c20da6517ea78aa936f45649a1af" prot="public" static="no">
        <name>ID_IPC_SERVER</name>
        <initializer>6200</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" line="739" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" bodystart="739" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_audacity_app_8cpp_1a70c6188780bf27a9bfbd75e0db1705ef" prot="public" static="no">
        <name>ID_IPC_SOCKET</name>
        <initializer>6201</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" line="740" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" bodystart="740" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_audacity_app_8cpp_1a637a38c6e303f285d55c2c64de60d518" prot="public" static="no">
        <name>kAudacityAppTimerID</name>
        <initializer>0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" line="743" column="9" bodyfile="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" bodystart="743" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="_audacity_app_8cpp_1a35e81a0d6753cf12f4858c98fe18d498" prot="public" static="no">
        <name>WL</name>
        <param><defname>lang</defname></param>
        <param><defname>sublang</defname></param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" line="980" column="10" bodyfile="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" bodystart="980" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="var">
      <memberdef kind="variable" id="_audacity_app_8cpp_1aae59f8c254000c0595b160a643fd06f4" prot="public" static="yes" mutable="no">
        <type><ref refid="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h_1abb452686968e48b67397da5f97445f5b" kindref="member">bool</ref></type>
        <definition>bool gInited</definition>
        <argsstring></argsstring>
        <name>gInited</name>
        <initializer>= <ref refid="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h_1a65e9886d74aaee76545e83dd09011727" kindref="member">false</ref></initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" line="258" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" bodystart="258" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="_audacity_app_8cpp_1a18ed05b54d97bcecaa6e1201d89cf9da" prot="public" static="no" mutable="no">
        <type><ref refid="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h_1abb452686968e48b67397da5f97445f5b" kindref="member">bool</ref></type>
        <definition>bool gIsQuitting</definition>
        <argsstring></argsstring>
        <name>gIsQuitting</name>
        <initializer>= <ref refid="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h_1a65e9886d74aaee76545e83dd09011727" kindref="member">false</ref></initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" line="259" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" bodystart="259" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="_audacity_app_8cpp_1aae3e89eb5110a0c4b2f3bf603f29097c" prot="public" static="yes" mutable="no">
        <type>wxArrayString</type>
        <definition>wxArrayString ofqueue</definition>
        <argsstring></argsstring>
        <name>ofqueue</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" line="591" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" bodystart="591" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="_audacity_app_8cpp_1afc200e5264e0301dbf43ea791e52e18f" prot="public" static="no" mutable="no">
        <type>wxLanguageInfo</type>
        <definition>wxLanguageInfo userLangs[]</definition>
        <argsstring>[]</argsstring>
        <name>userLangs</name>
        <initializer>=
{
   { wxLANGUAGE_USER_DEFINED, wxT(&quot;bs&quot;), WL(0, SUBLANG_DEFAULT) wxT(&quot;Bosnian&quot;), wxLayout_LeftToRight }
}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" line="984" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" bodystart="984" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="_audacity_app_8cpp_1acc4d5c7c1aac56df05e7969028118e4b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>DEFINE_EVENT_TYPE</definition>
        <argsstring>(EVT_OPEN_AUDIO_FILE)</argsstring>
        <name>DEFINE_EVENT_TYPE</name>
        <param>
          <type>EVT_OPEN_AUDIO_FILE</type>
        </param>
        <briefdescription>
<para>Custom events. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" line="236" column="1"/>
      </memberdef>
      <memberdef kind="function" id="_audacity_app_8cpp_1a57433ee769df637774b7ec93eb9e5981" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>DEFINE_EVENT_TYPE</definition>
        <argsstring>(EVT_LANGUAGE_CHANGE)</argsstring>
        <name>DEFINE_EVENT_TYPE</name>
        <param>
          <type>EVT_LANGUAGE_CHANGE</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" line="237" column="1"/>
      </memberdef>
      <memberdef kind="function" id="_audacity_app_8cpp_1aa0b4149f5dec489d58712e2271fb7f99" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>void QuitAudacity</definition>
        <argsstring>(bool bForce)</argsstring>
        <name>QuitAudacity</name>
        <param>
          <type><ref refid="mac_2config_2i386_2lib-src_2libsoxr_2soxr-config_8h_1abb452686968e48b67397da5f97445f5b" kindref="member">bool</ref></type>
          <declname>bForce</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" line="261" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" bodystart="261" bodyend="328"/>
      </memberdef>
      <memberdef kind="function" id="_audacity_app_8cpp_1a0ff2377b9672c14f6bc9431f397fb26b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>void QuitAudacity</definition>
        <argsstring>()</argsstring>
        <name>QuitAudacity</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" line="330" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" bodystart="330" bodyend="333"/>
      </memberdef>
      <memberdef kind="function" id="_audacity_app_8cpp_1a5d604abc17aee0ba2059e1132155c124" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="sound_8c_1ae35f5844602719cf66324f4de2a658b3" kindref="member">void</ref></type>
        <definition>void SaveWindowSize</definition>
        <argsstring>()</argsstring>
        <name>SaveWindowSize</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" line="335" column="1" bodyfile="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp" bodystart="335" bodyend="411"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/**********************************************************************</highlight></codeline>
<codeline lineno="2"><highlight class="comment"></highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/><sp/>Audacity:<sp/>A<sp/>Digital<sp/>Audio<sp/>Editor</highlight></codeline>
<codeline lineno="4"><highlight class="comment"></highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/><sp/>AudacityApp.cpp</highlight></codeline>
<codeline lineno="6"><highlight class="comment"></highlight></codeline>
<codeline lineno="7"><highlight class="comment"><sp/><sp/>Dominic<sp/>Mazzoni</highlight></codeline>
<codeline lineno="8"><highlight class="comment"></highlight></codeline>
<codeline lineno="9"><highlight class="comment">******************************************************************/</highlight><highlight class="comment">/*******************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="comment">//<sp/>This<sp/>may<sp/>be<sp/>used<sp/>to<sp/>debug<sp/>memory<sp/>leaks.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="comment">//<sp/>See:<sp/>Visual<sp/>Leak<sp/>Dectector<sp/>@<sp/>http://vld.codeplex.com/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;vld.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_audacity_8h" kindref="compound">Audacity.h</ref>&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">//<sp/>This<sp/>should<sp/>always<sp/>be<sp/>included<sp/>first</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_audacity_app_8h" kindref="compound">AudacityApp.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_translatable_string_array_8h" kindref="compound">TranslatableStringArray.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;wx/defs.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="app_8h" kindref="compound">wx/app.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;wx/bitmap.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;wx/docview.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;wx/event.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;wx/ipc.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;wx/log.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;wx/window.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;wx/intl.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;wx/menu.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;wx/msgdlg.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;wx/snglinst.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;wx/splash.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;wx/stdpaths.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;wx/sysopt.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;wx/fontmap.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;wx/fs_zip.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;wx/image.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;wx/dir.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;wx/file.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;wx/filename.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__WXGTK__</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;unistd.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight><highlight class="comment">//<sp/>chmod,<sp/>lstat,<sp/>geteuid</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__UNIX__</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="lib-src_2libvorbis_2macos_2compat_2sys_2_types_8h" kindref="compound">sys/types.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;sys/file.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;sys/stat.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_audacity_logger_8h" kindref="compound">AudacityLogger.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_about_dialog_8h" kindref="compound">AboutDialog.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_a_color_8h" kindref="compound">AColor.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_audio_i_o_8h" kindref="compound">AudioIO.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_benchmark_8h" kindref="compound">Benchmark.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_dir_manager_8h" kindref="compound">DirManager.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_command_handler_8h" kindref="compound">commands/CommandHandler.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_app_command_event_8h" kindref="compound">commands/AppCommandEvent.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_contrast_8h" kindref="compound">effects/Contrast.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_a_slider_8h" kindref="compound">widgets/ASlider.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_f_fmpeg_8h" kindref="compound">FFmpeg.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_internat_8h" kindref="compound">Internat.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_lang_choice_8h" kindref="compound">LangChoice.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_languages_8h" kindref="compound">Languages.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_plugin_manager_8h" kindref="compound">PluginManager.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_prefs_8h" kindref="compound">Prefs.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_project_8h" kindref="compound">Project.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_screenshot_8h" kindref="compound">Screenshot.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_sequence_8h" kindref="compound">Sequence.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_wave_track_8h" kindref="compound">WaveTrack.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_internat_8h" kindref="compound">Internat.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_prefs_dialog_8h" kindref="compound">prefs/PrefsDialog.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_theme_8h" kindref="compound">Theme.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_platform_compatibility_8h" kindref="compound">PlatformCompatibility.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_file_names_8h" kindref="compound">FileNames.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_auto_recovery_8h" kindref="compound">AutoRecovery.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_splash_dialog_8h" kindref="compound">SplashDialog.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="src_2fft_8h" kindref="compound">FFT.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_block_file_8h" kindref="compound">BlockFile.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_o_d_manager_8h" kindref="compound">ondemand/ODManager.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_keyboard_8h" kindref="compound">commands/Keyboard.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_error_dialog_8h" kindref="compound">widgets/ErrorDialog.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_directories_prefs_8h" kindref="compound">prefs/DirectoriesPrefs.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight><highlight class="comment">//temporarilly<sp/>commented<sp/>out<sp/>till<sp/>it<sp/>is<sp/>added<sp/>to<sp/>all<sp/>projects</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"></highlight><highlight class="comment">//#include<sp/>&quot;Profiler.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_module_manager_8h" kindref="compound">ModuleManager.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_import_8h" kindref="compound">import/Import.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_experimental_8h" kindref="compound">Experimental.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(EXPERIMENTAL_CRASH_REPORT)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;wx/debugrpt.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;wx/evtloop.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;wx/textdlg.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>EXPERIMENTAL_SCOREALIGN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="113"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_score_align_dialog_8h" kindref="compound">effects/ScoreAlignDialog.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"></highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>_DEBUG</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/>#ifdef<sp/>_MSC_VER</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#undef<sp/>THIS_FILE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*THIS_FILE=<sp/>__FILE__;</highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#define<sp/>new<sp/>new(_NORMAL_BLOCK,<sp/>THIS_FILE,<sp/>__LINE__)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/>#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"></highlight></codeline>
<codeline lineno="126"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Windows<sp/>specific<sp/>linker<sp/>control...only<sp/>needed<sp/>once<sp/>so</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="127"><highlight class="normal"></highlight><highlight class="comment">//<sp/>this<sp/>is<sp/>a<sp/>good<sp/>place<sp/>(unless<sp/>we<sp/>want<sp/>to<sp/>add<sp/>another<sp/>file).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(__WXMSW__)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"></highlight><highlight class="comment">//#if<sp/>wxCHECK_VERSION(3,<sp/>0,<sp/>2)<sp/>&amp;&amp;<sp/>!wxCHECK_VERSION(3,<sp/>1,<sp/>0)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="interface_2wx_2init_8h" kindref="compound">wx/init.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight><highlight class="comment">//#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight><highlight class="comment">//<sp/>These<sp/>lines<sp/>ensure<sp/>that<sp/>Audacity<sp/>gets<sp/>WindowsXP<sp/>themes.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Without<sp/>them<sp/>we<sp/>get<sp/>the<sp/>old-style<sp/>Windows98/2000<sp/>look<sp/>under<sp/>XP.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>if<sp/>!defined(__WXWINCE__)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/><sp/><sp/><sp/>pragma<sp/>comment(linker,&quot;\&quot;/manifestdependency:type=&apos;win32&apos;<sp/>name=&apos;Microsoft.Windows.Common-Controls&apos;<sp/>version=&apos;6.0.0.0&apos;<sp/>processorArchitecture=&apos;*&apos;<sp/>publicKeyToken=&apos;6595b64144ccf1df&apos;<sp/>language=&apos;*&apos;\&quot;&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight><highlight class="comment">//<sp/>These<sp/>lines<sp/>allows<sp/>conditional<sp/>inclusion<sp/>of<sp/>the<sp/>various<sp/>libraries</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="139"><highlight class="normal"></highlight><highlight class="comment">//<sp/>that<sp/>Audacity<sp/>can<sp/>use.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="140"><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>if<sp/>defined(USE_LIBFLAC)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/><sp/><sp/><sp/>pragma<sp/>comment(lib,<sp/>&quot;libflac++&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/><sp/><sp/><sp/>pragma<sp/>comment(lib,<sp/>&quot;libflac&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="145"><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>if<sp/>defined(USE_LIBID3TAG)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/><sp/><sp/><sp/>pragma<sp/>comment(lib,<sp/>&quot;libid3tag&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>if<sp/>defined(USE_LIBMAD)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/><sp/><sp/><sp/>pragma<sp/>comment(lib,<sp/>&quot;libmad&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"></highlight></codeline>
<codeline lineno="154"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>if<sp/>defined(USE_LIBTWOLAME)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/><sp/><sp/><sp/>pragma<sp/>comment(lib,<sp/>&quot;twolame&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"></highlight></codeline>
<codeline lineno="158"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>if<sp/>defined(USE_LIBVORBIS)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="159"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/><sp/><sp/><sp/>pragma<sp/>comment(lib,<sp/>&quot;libogg&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/><sp/><sp/><sp/>pragma<sp/>comment(lib,<sp/>&quot;libvorbis&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="161"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"></highlight></codeline>
<codeline lineno="163"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>if<sp/>defined(USE_LV2)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/><sp/><sp/><sp/>pragma<sp/>comment(lib,<sp/>&quot;lv2&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>if<sp/>defined(USE_MIDI)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/><sp/><sp/><sp/>pragma<sp/>comment(lib,<sp/>&quot;portsmf&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/><sp/><sp/><sp/>endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>if<sp/>defined(EXPERIMENTAL_MIDI_OUT)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="172"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/><sp/><sp/><sp/>pragma<sp/>comment(lib,<sp/>&quot;portmidi&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="173"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"></highlight></codeline>
<codeline lineno="175"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>if<sp/>defined(EXPERIMENTAL_SCOREALIGN)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/><sp/><sp/><sp/>pragma<sp/>comment(lib,<sp/>&quot;libscorealign&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>if<sp/>defined(USE_NYQUIST)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="180"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/><sp/><sp/><sp/>pragma<sp/>comment(lib,<sp/>&quot;libnyquist&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>if<sp/>defined(USE_PORTMIXER)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/><sp/><sp/><sp/>pragma<sp/>comment(lib,<sp/>&quot;portmixer&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="185"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>if<sp/>defined(USE_SBSMS)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="188"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/><sp/><sp/><sp/>pragma<sp/>comment(lib,<sp/>&quot;sbsms&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="189"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>if<sp/>defined(USE_SOUNDTOUCH)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="192"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/><sp/><sp/><sp/>pragma<sp/>comment(lib,<sp/>&quot;soundtouch&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="193"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>if<sp/>defined(USE_VAMP)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/><sp/><sp/><sp/>pragma<sp/>comment(lib,<sp/>&quot;libvamp&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>if<sp/>defined(__WXDEBUG__)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/><sp/><sp/><sp/>define<sp/>D<sp/>&quot;d&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="202"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/><sp/><sp/><sp/>define<sp/>D<sp/>&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="204"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>if<sp/>wxCHECK_VERSION(3,<sp/>1,<sp/>0)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="205"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/><sp/><sp/><sp/>define<sp/>V<sp/>&quot;31&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="206"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>elif<sp/>wxCHECK_VERSION(3,<sp/>0,<sp/>0)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="207"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/><sp/><sp/><sp/>define<sp/>V<sp/>&quot;30&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="208"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/><sp/><sp/><sp/>define<sp/>V<sp/>&quot;28&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="210"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="211"><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>if<sp/>defined(EXPERIMENTAL_CRASH_REPORT)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="213"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/><sp/><sp/><sp/>pragma<sp/>comment(lib,<sp/>&quot;wxmsw&quot;<sp/>V<sp/>&quot;u&quot;<sp/>D<sp/>&quot;_qa&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="214"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>pragma<sp/>comment(lib,<sp/>&quot;wxbase&quot;<sp/>V<sp/>&quot;u&quot;<sp/>D)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="216"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>pragma<sp/>comment(lib,<sp/>&quot;wxbase&quot;<sp/>V<sp/>&quot;u&quot;<sp/>D<sp/>&quot;_net&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="217"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>pragma<sp/>comment(lib,<sp/>&quot;wxmsw&quot;<sp/><sp/>V<sp/>&quot;u&quot;<sp/>D<sp/>&quot;_adv&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="218"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>pragma<sp/>comment(lib,<sp/>&quot;wxmsw&quot;<sp/><sp/>V<sp/>&quot;u&quot;<sp/>D<sp/>&quot;_core&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="219"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>pragma<sp/>comment(lib,<sp/>&quot;wxmsw&quot;<sp/><sp/>V<sp/>&quot;u&quot;<sp/>D<sp/>&quot;_html&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="220"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>pragma<sp/>comment(lib,<sp/>&quot;wxpng&quot;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>D)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="221"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>pragma<sp/>comment(lib,<sp/>&quot;wxzlib&quot;<sp/><sp/><sp/><sp/><sp/><sp/><sp/>D)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>pragma<sp/>comment(lib,<sp/>&quot;wxjpeg&quot;<sp/><sp/><sp/><sp/><sp/><sp/><sp/>D)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>pragma<sp/>comment(lib,<sp/>&quot;wxtiff&quot;<sp/><sp/><sp/><sp/><sp/><sp/><sp/>D)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="224"><highlight class="normal"></highlight></codeline>
<codeline lineno="225"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>undef<sp/>V</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"></highlight><highlight class="preprocessor">#<sp/><sp/>undef<sp/>D</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="227"><highlight class="normal"></highlight></codeline>
<codeline lineno="228"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/>//(__WXMSW__)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;../images/AudacityLogoWithName.xpm&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight></codeline>
<codeline lineno="235"><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"><ref refid="_audacity_app_8cpp_1acc4d5c7c1aac56df05e7969028118e4b" kindref="member">DEFINE_EVENT_TYPE</ref>(EVT_OPEN_AUDIO_FILE);</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><ref refid="_audacity_app_8cpp_1acc4d5c7c1aac56df05e7969028118e4b" kindref="member">DEFINE_EVENT_TYPE</ref>(EVT_LANGUAGE_CHANGE);</highlight></codeline>
<codeline lineno="238"><highlight class="normal"></highlight></codeline>
<codeline lineno="239"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="240"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__WXGTK__</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="241"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>wxOnAssert(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>wxChar<sp/>*fileName,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>lineNumber,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>wxChar<sp/>*msg)</highlight></codeline>
<codeline lineno="242"><highlight class="normal">{</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(msg)</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="octave__test_8m_1ac6d0e62c65e5715b13a5fcb381118888" kindref="member">printf</ref>(</highlight><highlight class="stringliteral">&quot;ASSERTION<sp/>FAILED:<sp/>%s\n%s:<sp/>%d\n&quot;</highlight><highlight class="normal">,<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*)wxString(msg).mb_str(),<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*)wxString(fileName).mb_str(),<sp/>lineNumber);</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="octave__test_8m_1ac6d0e62c65e5715b13a5fcb381118888" kindref="member">printf</ref>(</highlight><highlight class="stringliteral">&quot;ASSERTION<sp/>FAILED!\n%s:<sp/>%d\n&quot;</highlight><highlight class="normal">,<sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*)wxString(fileName).mb_str(),<sp/>lineNumber);</highlight></codeline>
<codeline lineno="247"><highlight class="normal"></highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Force<sp/>core<sp/>dump</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>*<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(*i)</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>exit(1);</highlight></codeline>
<codeline lineno="252"><highlight class="normal"></highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/>exit(0);</highlight></codeline>
<codeline lineno="254"><highlight class="normal">}</highlight></codeline>
<codeline lineno="255"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="256"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="257"><highlight class="normal"></highlight></codeline>
<codeline lineno="258"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>gInited<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="259" refid="_audacity_app_8h_1a18ed05b54d97bcecaa6e1201d89cf9da" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="_audacity_app_8cpp_1a18ed05b54d97bcecaa6e1201d89cf9da" kindref="member">gIsQuitting</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="260"><highlight class="normal"></highlight></codeline>
<codeline lineno="261" refid="_audacity_app_8h_1aa0b4149f5dec489d58712e2271fb7f99" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="_audacity_app_8cpp_1aa0b4149f5dec489d58712e2271fb7f99" kindref="member">QuitAudacity</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>bForce)</highlight></codeline>
<codeline lineno="262"><highlight class="normal">{</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(gIsQuitting)</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="265"><highlight class="normal"></highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/>gIsQuitting<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="267"><highlight class="normal"></highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><ref refid="app_8h_1a01fd2cb0a8fbaade87800e71a50e855d" kindref="member">wxTheApp</ref>-&gt;<ref refid="classwx_app_1aceb948ece9ba286f738ec3379a18bc52" kindref="member">SetExitOnFrameDelete</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="269"><highlight class="normal"></highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Try<sp/>to<sp/>close<sp/>each<sp/>open<sp/>window.<sp/><sp/>If<sp/>the<sp/>user<sp/>hits<sp/>Cancel</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>in<sp/>a<sp/>Save<sp/>Changes<sp/>dialog,<sp/>don&apos;t<sp/>continue.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>BG:<sp/>unless<sp/>force<sp/>is<sp/>true</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="273"><highlight class="normal"></highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>BG:<sp/>Are<sp/>there<sp/>any<sp/>projects<sp/>open?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//-<sp/><sp/><sp/>if<sp/>(!gAudacityProjects.IsEmpty())</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="276"><highlight class="normal"></highlight><highlight class="comment">/*start+*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="_project_8cpp_1abc1207c91a492b32e9c5971ddd301671" kindref="member">gAudacityProjects</ref>.IsEmpty())</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="279"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__WXMAC__</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_audacity_project_1a5b710f2cacfc84546519e01aadc13a0c" kindref="member">AudacityProject::DeleteClipboard</ref>();</highlight></codeline>
<codeline lineno="281"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="284"><highlight class="normal"></highlight><highlight class="comment">/*end+*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_audacity_app_8cpp_1a5d604abc17aee0ba2059e1132155c124" kindref="member">SaveWindowSize</ref>();</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(<ref refid="_project_8cpp_1abc1207c91a492b32e9c5971ddd301671" kindref="member">gAudacityProjects</ref>.Count())</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(bForce)</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_project_8cpp_1abc1207c91a492b32e9c5971ddd301671" kindref="member">gAudacityProjects</ref>[0]-&gt;Close(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="_project_8cpp_1abc1207c91a492b32e9c5971ddd301671" kindref="member">gAudacityProjects</ref>[0]-&gt;<ref refid="portburn__winxp_8cpp_1ad6f32ac62ea277a3e8a068ed1faeee1f" kindref="member">Close</ref>())</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gIsQuitting<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="303"><highlight class="normal"></highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_module_manager_1a3820c2a8ad37e263b7fb2ed3b3aa46eb" kindref="member">ModuleManager::Get</ref>().<ref refid="class_module_manager_1a570d7a26f2684ca2eb0dc1daedd18145" kindref="member">Dispatch</ref>(<ref refid="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359a913e9635708d7d591acff3136533b418" kindref="member">AppQuiting</ref>);</highlight></codeline>
<codeline lineno="305"><highlight class="normal"></highlight></codeline>
<codeline lineno="306"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>EXPERIMENTAL_SCOREALIGN</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><ref refid="_score_align_dialog_8h_1a5fb0edccb440a038cef2a017aa0a5f3d" kindref="member">CloseScoreAlignDialog</ref>();</highlight></codeline>
<codeline lineno="308"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><ref refid="_screenshot_8cpp_1ab6375ee29f481a1bac39dc55e280baa8" kindref="member">CloseScreenshotTools</ref>();</highlight></codeline>
<codeline lineno="310"><highlight class="normal"></highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//release<sp/>ODManager<sp/>Threads</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_o_d_manager_1a2f69d81832f89781eee588f411c6e15a" kindref="member">ODManager::Quit</ref>();</highlight></codeline>
<codeline lineno="313"><highlight class="normal"></highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//print<sp/>out<sp/>profile<sp/>if<sp/>we<sp/>have<sp/>one<sp/>by<sp/>deleting<sp/>it</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//temporarilly<sp/>commented<sp/>out<sp/>till<sp/>it<sp/>is<sp/>added<sp/>to<sp/>all<sp/>projects</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//delete<sp/>Profiler::Instance();</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="317"><highlight class="normal"></highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//DELETE<sp/>the<sp/>static<sp/>lock<sp/>for<sp/>audacity<sp/>projects</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_audacity_project_1af592e9483c612ec36c973189acf10055" kindref="member">AudacityProject::DeleteAllProjectsDeleteLock</ref>();</highlight></codeline>
<codeline lineno="320"><highlight class="normal"></highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//remove<sp/>our<sp/>logger</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/>std::unique_ptr&lt;wxLog&gt;{<sp/>wxLog::SetActiveTarget(<ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>};<sp/></highlight><highlight class="comment">//<sp/>DELETE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="323"><highlight class="normal"></highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(bForce)</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__group__funcmacro__procctrl_1ga3770f7ff142dab558f10ae354350874d" kindref="member">wxExit</ref>();</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="328"><highlight class="normal">}</highlight></codeline>
<codeline lineno="329"><highlight class="normal"></highlight></codeline>
<codeline lineno="330" refid="_audacity_app_8h_1a0ff2377b9672c14f6bc9431f397fb26b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="_audacity_app_8cpp_1aa0b4149f5dec489d58712e2271fb7f99" kindref="member">QuitAudacity</ref>()</highlight></codeline>
<codeline lineno="331"><highlight class="normal">{</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><ref refid="_audacity_app_8cpp_1aa0b4149f5dec489d58712e2271fb7f99" kindref="member">QuitAudacity</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="333"><highlight class="normal">}</highlight></codeline>
<codeline lineno="334"><highlight class="normal"></highlight></codeline>
<codeline lineno="335" refid="_audacity_app_8h_1a5d604abc17aee0ba2059e1132155c124" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="_audacity_app_8cpp_1a5d604abc17aee0ba2059e1132155c124" kindref="member">SaveWindowSize</ref>()</highlight></codeline>
<codeline lineno="336"><highlight class="normal">{</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="_audacity_app_8h_1a1739dbd936ddeaedf4722b5f0b331976" kindref="member">wxGetApp</ref>().GetWindowRectAlreadySaved())</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>validWindowForSaveWindowSize<sp/>=<sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_audacity_project" kindref="compound">AudacityProject</ref><sp/>*<sp/>validProject<sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>foundIconizedProject<sp/>=<sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;</highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>numProjects<sp/>=<sp/><ref refid="_project_8cpp_1abc1207c91a492b32e9c5971ddd301671" kindref="member">gAudacityProjects</ref>.Count();</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>numProjects;<sp/>i++)</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="_project_8cpp_1abc1207c91a492b32e9c5971ddd301671" kindref="member">gAudacityProjects</ref>[i]-&gt;IsIconized())<sp/>{</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>validWindowForSaveWindowSize<sp/>=<sp/><ref refid="cext_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>;</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>validProject<sp/>=<sp/><ref refid="_project_8cpp_1abc1207c91a492b32e9c5971ddd301671" kindref="member">gAudacityProjects</ref>[<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>];</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i<sp/>=<sp/>numProjects;</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>foundIconizedProject<sp/>=<sp/><sp/><ref refid="cext_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>;</highlight></codeline>
<codeline lineno="354"><highlight class="normal"></highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(validWindowForSaveWindowSize)</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxRect<sp/>windowRect<sp/>=<sp/>validProject-&gt;GetRect();</highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxRect<sp/>normalRect<sp/>=<sp/>validProject-&gt;<ref refid="class_audacity_project_1a3103dc608c996f86f6f94c46c5dd5065" kindref="member">GetNormalizedWindowState</ref>();</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>wndMaximized<sp/>=<sp/>validProject-&gt;IsMaximized();</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/Window/X&quot;</highlight><highlight class="normal">),<sp/>windowRect.GetX());</highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/Window/Y&quot;</highlight><highlight class="normal">),<sp/>windowRect.GetY());</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/Window/Width&quot;</highlight><highlight class="normal">),<sp/>windowRect.GetWidth());</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/Window/Height&quot;</highlight><highlight class="normal">),<sp/>windowRect.GetHeight());</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/Window/Maximized&quot;</highlight><highlight class="normal">),<sp/>wndMaximized);</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/Window/Normal_X&quot;</highlight><highlight class="normal">),<sp/>normalRect.GetX());</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/Window/Normal_Y&quot;</highlight><highlight class="normal">),<sp/>normalRect.GetY());</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/Window/Normal_Width&quot;</highlight><highlight class="normal">),<sp/>normalRect.GetWidth());</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/Window/Normal_Height&quot;</highlight><highlight class="normal">),<sp/>normalRect.GetHeight());</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/Window/Iconized&quot;</highlight><highlight class="normal">),<sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>);</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(foundIconizedProject)<sp/>{</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>validProject<sp/>=<sp/><ref refid="_project_8cpp_1abc1207c91a492b32e9c5971ddd301671" kindref="member">gAudacityProjects</ref>[0];</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>wndMaximized<sp/>=<sp/>validProject-&gt;IsMaximized();</highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxRect<sp/>normalRect<sp/>=<sp/>validProject-&gt;<ref refid="class_audacity_project_1a3103dc608c996f86f6f94c46c5dd5065" kindref="member">GetNormalizedWindowState</ref>();</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>store<sp/>only<sp/>the<sp/>normal<sp/>rectangle<sp/>because<sp/>the<sp/>itemized<sp/>rectangle</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>makes<sp/>no<sp/>sense<sp/>for<sp/>an<sp/>opening<sp/>project<sp/>window</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/Window/X&quot;</highlight><highlight class="normal">),<sp/>normalRect.GetX());</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/Window/Y&quot;</highlight><highlight class="normal">),<sp/>normalRect.GetY());</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/Window/Width&quot;</highlight><highlight class="normal">),<sp/>normalRect.GetWidth());</highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/Window/Height&quot;</highlight><highlight class="normal">),<sp/>normalRect.GetHeight());</highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/Window/Maximized&quot;</highlight><highlight class="normal">),<sp/>wndMaximized);</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/Window/Normal_X&quot;</highlight><highlight class="normal">),<sp/>normalRect.GetX());</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/Window/Normal_Y&quot;</highlight><highlight class="normal">),<sp/>normalRect.GetY());</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/Window/Normal_Width&quot;</highlight><highlight class="normal">),<sp/>normalRect.GetWidth());</highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/Window/Normal_Height&quot;</highlight><highlight class="normal">),<sp/>normalRect.GetHeight());</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/Window/Iconized&quot;</highlight><highlight class="normal">),<sp/><ref refid="cext_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>);</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>this<sp/>would<sp/>be<sp/>a<sp/>very<sp/>strange<sp/>case<sp/>that<sp/>might<sp/>possibly<sp/>occur<sp/>on<sp/>the<sp/>Mac</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Audacity<sp/>would<sp/>have<sp/>to<sp/>be<sp/>running<sp/>with<sp/>no<sp/>projects<sp/>open</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>in<sp/>this<sp/>case<sp/>we<sp/>are<sp/>going<sp/>to<sp/>write<sp/>only<sp/>the<sp/>default<sp/>values</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxRect<sp/>defWndRect;</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_project_8cpp_1a7145ee06a051e1b8f33a2c6c9e9932e4" kindref="member">GetDefaultWindowRect</ref>(&amp;defWndRect);</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/Window/X&quot;</highlight><highlight class="normal">),<sp/>defWndRect.GetX());</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/Window/Y&quot;</highlight><highlight class="normal">),<sp/>defWndRect.GetY());</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/Window/Width&quot;</highlight><highlight class="normal">),<sp/>defWndRect.GetWidth());</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/Window/Height&quot;</highlight><highlight class="normal">),<sp/>defWndRect.GetHeight());</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/Window/Maximized&quot;</highlight><highlight class="normal">),<sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>);</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/Window/Normal_X&quot;</highlight><highlight class="normal">),<sp/>defWndRect.GetX());</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/Window/Normal_Y&quot;</highlight><highlight class="normal">),<sp/>defWndRect.GetY());</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/Window/Normal_Width&quot;</highlight><highlight class="normal">),<sp/>defWndRect.GetWidth());</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/Window/Normal_Height&quot;</highlight><highlight class="normal">),<sp/>defWndRect.GetHeight());</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/Window/Iconized&quot;</highlight><highlight class="normal">),<sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>);</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Flush();</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><ref refid="_audacity_app_8h_1a1739dbd936ddeaedf4722b5f0b331976" kindref="member">wxGetApp</ref>().<ref refid="class_audacity_app_1ac063acdbedfc07101331440a4973ca14" kindref="member">SetWindowRectAlreadySaved</ref>(<ref refid="cext_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>);</highlight></codeline>
<codeline lineno="411"><highlight class="normal">}</highlight></codeline>
<codeline lineno="412"><highlight class="normal"></highlight></codeline>
<codeline lineno="413"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(__WXGTK__)<sp/>&amp;&amp;<sp/>defined(HAVE_GTK)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="414"><highlight class="normal"></highlight></codeline>
<codeline lineno="416"><highlight class="comment">//<sp/>Provide<sp/>the<sp/>ability<sp/>to<sp/>receive<sp/>notification<sp/>from<sp/>the<sp/>session<sp/>manager</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="417"><highlight class="normal"></highlight><highlight class="comment">//<sp/>when<sp/>the<sp/>user<sp/>is<sp/>logging<sp/>out<sp/>or<sp/>shutting<sp/>down.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="418"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="419"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Most<sp/>of<sp/>this<sp/>was<sp/>taken<sp/>from<sp/>nsNativeAppSupportUnix.cpp<sp/>from<sp/>Mozilla.</highlight></codeline>
<codeline lineno="421"><highlight class="comment"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="422"><highlight class="normal"></highlight><highlight class="comment">//<sp/>TODO:<sp/>May<sp/>need<sp/>updating.<sp/><sp/>Is<sp/>this<sp/>code<sp/>too<sp/>obsolete<sp/>(relying<sp/>on<sp/>Gnome2<sp/>so&apos;s)<sp/>to<sp/>be</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="423"><highlight class="normal"></highlight><highlight class="comment">//<sp/>worth<sp/>keeping<sp/>anymore?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="424"><highlight class="normal"></highlight><highlight class="comment">//<sp/>CB<sp/>suggests<sp/>we<sp/>use<sp/>libSM<sp/>directly<sp/>ref:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="425"><highlight class="normal"></highlight><highlight class="comment">//<sp/>http://www.x.org/archive/X11R7.7/doc/libSM/SMlib.html#The_Save_Yourself_Callback</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="426"><highlight class="normal"></highlight></codeline>
<codeline lineno="427"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;dlfcn.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="428"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>There<sp/>is<sp/>a<sp/>conflict<sp/>between<sp/>the<sp/>type<sp/>names<sp/>used<sp/>in<sp/>Glib<sp/>&gt;=<sp/>2.21<sp/>and<sp/>those<sp/>in</highlight></codeline>
<codeline lineno="429"><highlight class="comment"><sp/>*<sp/>wxGTK<sp/>(http://trac.wxwidgets.org/ticket/10883)</highlight></codeline>
<codeline lineno="430"><highlight class="comment"><sp/>*<sp/>Happily<sp/>we<sp/>can<sp/>avoid<sp/>the<sp/>hack,<sp/>as<sp/>we<sp/>only<sp/>need<sp/>some<sp/>of<sp/>the<sp/>headers,<sp/>not</highlight></codeline>
<codeline lineno="431"><highlight class="comment"><sp/>*<sp/>the<sp/>full<sp/>GTK<sp/>headers</highlight></codeline>
<codeline lineno="432"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="433"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;glib-object.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="434"><highlight class="normal"></highlight></codeline>
<codeline lineno="435"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">_GnomeProgram<sp/>GnomeProgram;</highlight></codeline>
<codeline lineno="436"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">_GnomeModuleInfo<sp/>GnomeModuleInfo;</highlight></codeline>
<codeline lineno="437"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">_GnomeClient<sp/>GnomeClient;</highlight></codeline>
<codeline lineno="438"><highlight class="normal"></highlight></codeline>
<codeline lineno="439"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">enum</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="440"><highlight class="normal">{</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/>GNOME_SAVE_GLOBAL,</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/>GNOME_SAVE_LOCAL,</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/>GNOME_SAVE_BOTH</highlight></codeline>
<codeline lineno="444"><highlight class="normal">}<sp/>GnomeSaveStyle;</highlight></codeline>
<codeline lineno="445"><highlight class="normal"></highlight></codeline>
<codeline lineno="446"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">enum</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="447"><highlight class="normal">{</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/>GNOME_INTERACT_NONE,</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/>GNOME_INTERACT_ERRORS,</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/>GNOME_INTERACT_ANY</highlight></codeline>
<codeline lineno="451"><highlight class="normal">}<sp/>GnomeInteractStyle;</highlight></codeline>
<codeline lineno="452"><highlight class="normal"></highlight></codeline>
<codeline lineno="453"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">enum</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="454"><highlight class="normal">{</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/>GNOME_DIALOG_ERROR,</highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/>GNOME_DIALOG_NORMAL</highlight></codeline>
<codeline lineno="457"><highlight class="normal">}<sp/>GnomeDialogType;</highlight></codeline>
<codeline lineno="458"><highlight class="normal"></highlight></codeline>
<codeline lineno="459"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>GnomeProgram<sp/>*<sp/>(*_gnome_program_init_fn)(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*,</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*,</highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>GnomeModuleInfo<sp/>*,</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="lib_2expat_8h_1a14bb8924daea0b48c7803f281f66e390" kindref="member">int</ref>,</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>**,</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*,</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...);</highlight></codeline>
<codeline lineno="466"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>GnomeModuleInfo<sp/>*<sp/>(*_libgnomeui_module_info_get_fn)();</highlight></codeline>
<codeline lineno="467"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>GnomeClient<sp/>*<sp/>(*_gnome_master_client_fn)(<ref refid="lib_2expat_8h_1a3980d15795c6349fecd06c1b035c1ae9" kindref="member">void</ref>);</highlight></codeline>
<codeline lineno="468"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/><ref refid="lib_2expat_8h_1a3980d15795c6349fecd06c1b035c1ae9" kindref="member">void</ref><sp/>(*GnomeInteractFunction)(GnomeClient<sp/>*,</highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gint,</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GnomeDialogType,</highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gpointer);</highlight></codeline>
<codeline lineno="472"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/><ref refid="lib_2expat_8h_1a3980d15795c6349fecd06c1b035c1ae9" kindref="member">void</ref><sp/>(*_gnome_client_request_interaction_fn)(GnomeClient<sp/>*,</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GnomeDialogType,</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GnomeInteractFunction,</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gpointer);</highlight></codeline>
<codeline lineno="476"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/><ref refid="lib_2expat_8h_1a3980d15795c6349fecd06c1b035c1ae9" kindref="member">void</ref><sp/>(*_gnome_interaction_key_return_fn)(gint,<sp/>gboolean);</highlight></codeline>
<codeline lineno="477"><highlight class="normal"></highlight></codeline>
<codeline lineno="478"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>_gnome_client_request_interaction_fn<sp/>gnome_client_request_interaction;</highlight></codeline>
<codeline lineno="479"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>_gnome_interaction_key_return_fn<sp/>gnome_interaction_key_return;</highlight></codeline>
<codeline lineno="480"><highlight class="normal"></highlight></codeline>
<codeline lineno="481"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>interact_cb(GnomeClient<sp/>*client,</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gint<sp/>key,</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GnomeDialogType<sp/><ref refid="namespacewaflib_1_1_tools_1_1tex_1a7638d43e3ce55594540ea118202a9a40" kindref="member">type</ref>,</highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gpointer<sp/><ref refid="lib_2expat_8h_1ac39e72a1de1cb50dbdc54b08d0432a24" kindref="member">data</ref>)</highlight></codeline>
<codeline lineno="485"><highlight class="normal">{</highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/>wxCloseEvent<sp/><ref refid="namespacelv2docgen_1a4405dc5a2509537b9ff3b4de10bc28d6" kindref="member">e</ref>(wxEVT_QUERY_END_SESSION,<sp/>wxID_ANY);</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/>e.SetEventObject(&amp;<ref refid="_audacity_app_8h_1a1739dbd936ddeaedf4722b5f0b331976" kindref="member">wxGetApp</ref>());</highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/>e.SetCanVeto(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="489"><highlight class="normal"></highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><ref refid="_audacity_app_8h_1a1739dbd936ddeaedf4722b5f0b331976" kindref="member">wxGetApp</ref>().ProcessEvent(e);</highlight></codeline>
<codeline lineno="491"><highlight class="normal"></highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/>gnome_interaction_key_return(key,<sp/>e.GetVeto());</highlight></codeline>
<codeline lineno="493"><highlight class="normal">}</highlight></codeline>
<codeline lineno="494"><highlight class="normal"></highlight></codeline>
<codeline lineno="495"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>gboolean<sp/>save_yourself_cb(GnomeClient<sp/>*client,</highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gint<sp/>phase,</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GnomeSaveStyle<sp/><ref refid="namespacelv2specgen_1a5a176513c7f83ab7518d32ef1dba5b81" kindref="member">style</ref>,</highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gboolean<sp/>shutdown,</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GnomeInteractStyle<sp/>interact,</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gboolean<sp/>fast,</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gpointer<sp/>user_data)</highlight></codeline>
<codeline lineno="502"><highlight class="normal">{</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!shutdown<sp/>||<sp/>interact<sp/>!=<sp/>GNOME_INTERACT_ANY)<sp/>{</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cext_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>;</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="506"><highlight class="normal"></highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="_project_8cpp_1abc1207c91a492b32e9c5971ddd301671" kindref="member">gAudacityProjects</ref>.IsEmpty())<sp/>{</highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cext_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>;</highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="510"><highlight class="normal"></highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/>gnome_client_request_interaction(client,</highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GNOME_DIALOG_NORMAL,</highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>interact_cb,</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="515"><highlight class="normal"></highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cext_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>;</highlight></codeline>
<codeline lineno="517"><highlight class="normal">}</highlight></codeline>
<codeline lineno="518"><highlight class="normal"></highlight></codeline>
<codeline lineno="519"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">GnomeShutdown</highlight></codeline>
<codeline lineno="520"><highlight class="normal">{</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/><sp/>GnomeShutdown()</highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>mArgv[0]<sp/>=<sp/><ref refid="strdup_8c_1a8c67487a889774f479e3dc226b4f27df" kindref="member">strdup</ref>(</highlight><highlight class="stringliteral">&quot;Audacity&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="525"><highlight class="normal"></highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>mGnomeui<sp/>=<sp/>dlopen(</highlight><highlight class="stringliteral">&quot;libgnomeui-2.so.0&quot;</highlight><highlight class="normal">,<sp/>RTLD_NOW);</highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!mGnomeui)<sp/>{</highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="530"><highlight class="normal"></highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>mGnome<sp/>=<sp/>dlopen(</highlight><highlight class="stringliteral">&quot;libgnome-2.so.0&quot;</highlight><highlight class="normal">,<sp/>RTLD_NOW);</highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!mGnome)<sp/>{</highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="535"><highlight class="normal"></highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>_gnome_program_init_fn<sp/>gnome_program_init<sp/>=<sp/>(_gnome_program_init_fn)</highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dlsym(mGnome,<sp/></highlight><highlight class="stringliteral">&quot;gnome_program_init&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>_libgnomeui_module_info_get_fn<sp/>libgnomeui_module_info_get<sp/>=<sp/>(_libgnomeui_module_info_get_fn)</highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dlsym(mGnomeui,<sp/></highlight><highlight class="stringliteral">&quot;libgnomeui_module_info_get&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>_gnome_master_client_fn<sp/>gnome_master_client<sp/>=<sp/>(_gnome_master_client_fn)</highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dlsym(mGnomeui,<sp/></highlight><highlight class="stringliteral">&quot;gnome_master_client&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="542"><highlight class="normal"></highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>gnome_client_request_interaction<sp/>=<sp/>(_gnome_client_request_interaction_fn)</highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dlsym(mGnomeui,<sp/></highlight><highlight class="stringliteral">&quot;gnome_client_request_interaction&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>gnome_interaction_key_return<sp/>=<sp/>(_gnome_interaction_key_return_fn)</highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dlsym(mGnomeui,<sp/></highlight><highlight class="stringliteral">&quot;gnome_interaction_key_return&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="547"><highlight class="normal"></highlight></codeline>
<codeline lineno="548"><highlight class="normal"></highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!gnome_program_init<sp/>||<sp/>!libgnomeui_module_info_get)<sp/>{</highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="552"><highlight class="normal"></highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>gnome_program_init(mArgv[0],</highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;1.0&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>libgnomeui_module_info_get(),</highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>1,</highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mArgv,</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="559"><highlight class="normal"></highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>mClient<sp/>=<sp/>gnome_master_client();</highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mClient<sp/>==<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>)<sp/>{</highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="564"><highlight class="normal"></highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>g_signal_connect(mClient,<sp/></highlight><highlight class="stringliteral">&quot;save-yourself&quot;</highlight><highlight class="normal">,<sp/>G_CALLBACK(save_yourself_cb),<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="567"><highlight class="normal"></highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/>~GnomeShutdown()</highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Do<sp/>not<sp/>dlclose()<sp/>the<sp/>libraries<sp/>here<sp/>lest<sp/>you<sp/>want<sp/>segfaults...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="571"><highlight class="normal"></highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>free(mArgv[0]);</highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="574"><highlight class="normal"></highlight></codeline>
<codeline lineno="575"><highlight class="normal"><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="576"><highlight class="normal"></highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*mArgv[1];</highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*mGnomeui;</highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*mGnome;</highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/>GnomeClient<sp/>*mClient;</highlight></codeline>
<codeline lineno="581"><highlight class="normal">};</highlight></codeline>
<codeline lineno="582"><highlight class="normal"></highlight></codeline>
<codeline lineno="583"><highlight class="normal"></highlight><highlight class="comment">//<sp/>This<sp/>variable<sp/>exists<sp/>to<sp/>call<sp/>the<sp/>constructor<sp/>and</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="584"><highlight class="normal"></highlight><highlight class="comment">//<sp/>connect<sp/>a<sp/>signal<sp/>for<sp/>the<sp/>&apos;save-yourself&apos;<sp/>message.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="585"><highlight class="normal">GnomeShutdown<sp/>GnomeShutdownInstance;</highlight></codeline>
<codeline lineno="586"><highlight class="normal"></highlight></codeline>
<codeline lineno="587"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="588"><highlight class="normal"></highlight></codeline>
<codeline lineno="589"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Where<sp/>drag/drop<sp/>or<sp/>&quot;Open<sp/>With&quot;<sp/>filenames<sp/>get<sp/>stored<sp/>until</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="590"><highlight class="normal"></highlight><highlight class="comment">//<sp/>the<sp/>timer<sp/>routine<sp/>gets<sp/>around<sp/>to<sp/>picking<sp/>them<sp/>up.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="591"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>wxArrayString<sp/>ofqueue;</highlight></codeline>
<codeline lineno="592"><highlight class="normal"></highlight></codeline>
<codeline lineno="593"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="594"><highlight class="normal"></highlight><highlight class="comment">//<sp/>DDE<sp/>support<sp/>for<sp/>opening<sp/>multiple<sp/>files<sp/>with<sp/>one<sp/>instance</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="595"><highlight class="normal"></highlight><highlight class="comment">//<sp/>of<sp/>Audacity.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="596"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="597"><highlight class="normal"></highlight></codeline>
<codeline lineno="598" refid="_audacity_app_8cpp_1abb252946b1cf0e5bb7b888a963595cac" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>IPC_APPL<sp/>wxT(&quot;audacity&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="599" refid="_audacity_app_8cpp_1ae6f29427716f4461d23d5d68c6c0053d" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>IPC_TOPIC<sp/>wxT(&quot;System&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="600"><highlight class="normal"></highlight></codeline>
<codeline lineno="601" refid="class_i_p_c_conn" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_i_p_c_conn" kindref="compound">IPCConn</ref><sp/>final<sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>wxConnection</highlight></codeline>
<codeline lineno="602"><highlight class="normal">{</highlight></codeline>
<codeline lineno="603"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="604" refid="class_i_p_c_conn_1a1d7e89d91d93912df319c7bc60c867d1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_i_p_c_conn_1a1d7e89d91d93912df319c7bc60c867d1" kindref="member">IPCConn</ref>()</highlight></codeline>
<codeline lineno="605"><highlight class="normal"><sp/><sp/><sp/>:<sp/>wxConnection()</highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="608"><highlight class="normal"></highlight></codeline>
<codeline lineno="609" refid="class_i_p_c_conn_1a1cb73ae3e93f450e8163feef763669aa" refkind="member"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_i_p_c_conn_1a1cb73ae3e93f450e8163feef763669aa" kindref="member">~IPCConn</ref>()</highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="612"><highlight class="normal"></highlight></codeline>
<codeline lineno="613" refid="class_i_p_c_conn_1acde784047cc5b667acfc1777ab79a492" refkind="member"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_i_p_c_conn_1acde784047cc5b667acfc1777ab79a492" kindref="member">OnExec</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>wxString<sp/>&amp;<sp/>WXUNUSED(topic),</highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>wxString<sp/>&amp;<sp/>data)</highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Add<sp/>the<sp/>filename<sp/>to<sp/>the<sp/>queue.<sp/><sp/>It<sp/>will<sp/>be<sp/>opened<sp/>by</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>OnTimer()<sp/>event<sp/>when<sp/>it<sp/>is<sp/>safe<sp/>to<sp/>do<sp/>so.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ofqueue.Add(data);</highlight></codeline>
<codeline lineno="619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="621"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="622"><highlight class="normal">};</highlight></codeline>
<codeline lineno="623"><highlight class="normal"></highlight></codeline>
<codeline lineno="624" refid="class_i_p_c_serv" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_i_p_c_serv" kindref="compound">IPCServ</ref><sp/>final<sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>wxServer</highlight></codeline>
<codeline lineno="625"><highlight class="normal">{</highlight></codeline>
<codeline lineno="626"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="627" refid="class_i_p_c_serv_1aa7a5a77898f824204eddfde10a33fa56" refkind="member"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_i_p_c_serv_1aa7a5a77898f824204eddfde10a33fa56" kindref="member">IPCServ</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>wxString<sp/>&amp;<sp/>appl)</highlight></codeline>
<codeline lineno="628"><highlight class="normal"><sp/><sp/><sp/>:<sp/>wxServer()</highlight></codeline>
<codeline lineno="629"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="630"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>Create(appl);</highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="632"><highlight class="normal"></highlight></codeline>
<codeline lineno="633" refid="class_i_p_c_serv_1aac3efd9d9e43f69fb5cde6971da95561" refkind="member"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_i_p_c_serv_1aac3efd9d9e43f69fb5cde6971da95561" kindref="member">~IPCServ</ref>()</highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="636"><highlight class="normal"></highlight></codeline>
<codeline lineno="637" refid="class_i_p_c_serv_1a4b81fc95c71bc407ea736443bd34e149" refkind="member"><highlight class="normal"><sp/><sp/><sp/>wxConnectionBase<sp/>*<ref refid="class_i_p_c_serv_1a4b81fc95c71bc407ea736443bd34e149" kindref="member">OnAcceptConnection</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>wxString<sp/>&amp;<sp/>topic)</highlight></codeline>
<codeline lineno="638"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(topic<sp/>!=<sp/><ref refid="_audacity_app_8cpp_1ae6f29427716f4461d23d5d68c6c0053d" kindref="member">IPC_TOPIC</ref>)<sp/>{</highlight></codeline>
<codeline lineno="640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="642"><highlight class="normal"></highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_i_p_c_conn" kindref="compound">IPCConn</ref>();</highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="645"><highlight class="normal">};</highlight></codeline>
<codeline lineno="646"><highlight class="normal"></highlight></codeline>
<codeline lineno="647"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(__WXMAC__)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="648"><highlight class="normal"></highlight><highlight class="comment">//<sp/>This<sp/>should<sp/>be<sp/>removed<sp/>when<sp/>Lame<sp/>and<sp/>FFmpeg<sp/>support<sp/>is<sp/>converted</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="649"><highlight class="normal"></highlight><highlight class="comment">//<sp/>from<sp/>loadable<sp/>libraries<sp/>to<sp/>commands.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="650"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="651"><highlight class="normal"></highlight><highlight class="comment">//<sp/>The<sp/>purpose<sp/>of<sp/>this<sp/>is<sp/>to<sp/>give<sp/>the<sp/>user<sp/>more<sp/>control<sp/>over<sp/>where<sp/>libraries</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="652"><highlight class="normal"></highlight><highlight class="comment">//<sp/>such<sp/>as<sp/>Lame<sp/>and<sp/>FFmpeg<sp/>get<sp/>loaded<sp/>from.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="653"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="654"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Since<sp/>absolute<sp/>pathnames<sp/>are<sp/>used<sp/>when<sp/>loading<sp/>these<sp/>libraries,<sp/>the<sp/>normal<sp/>search</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="655"><highlight class="normal"></highlight><highlight class="comment">//<sp/>path<sp/>would<sp/>be<sp/>DYLD_LIBRARY_PATH,<sp/>absolute<sp/>path,<sp/>DYLD_FALLBACK_LIBRARY_PATH.<sp/><sp/>This</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="656"><highlight class="normal"></highlight><highlight class="comment">//<sp/>means<sp/>that<sp/>DYLD_LIBRARY_PATH<sp/>can<sp/>override<sp/>what<sp/>the<sp/>user<sp/>actually<sp/>wants.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="657"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="658"><highlight class="normal"></highlight><highlight class="comment">//<sp/>So,<sp/>we<sp/>simply<sp/>clear<sp/>DYLD_LIBRARY_PATH<sp/>to<sp/>allow<sp/>the<sp/>users<sp/>choice<sp/>to<sp/>be<sp/>the<sp/>first</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="659"><highlight class="normal"></highlight><highlight class="comment">//<sp/>one<sp/>tried.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="660"><highlight class="normal">IMPLEMENT_APP_NO_MAIN(<ref refid="class_audacity_app" kindref="compound">AudacityApp</ref>)</highlight></codeline>
<codeline lineno="661"><highlight class="normal">IMPLEMENT_WX_THEME_SUPPORT</highlight></codeline>
<codeline lineno="662"><highlight class="normal"></highlight></codeline>
<codeline lineno="663"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="elements_8c_1a0ddf1224851353fc92bfbff6f499fa97" kindref="member">main</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="cmdline_8c_1aaffeb1bf2056ea44af5b5d0ee4d6ff07" kindref="member">argc</ref>,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*<ref refid="cmdline_8c_1ad407d5ba91709bd9b092003858600723" kindref="member">argv</ref>[])</highlight></codeline>
<codeline lineno="664"><highlight class="normal">{</highlight></codeline>
<codeline lineno="665"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="getopt_8c_1abc6595dbf6880c71628fecf0dbb23d66" kindref="member">getenv</ref>(</highlight><highlight class="stringliteral">&quot;DYLD_LIBRARY_PATH&quot;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>**environ;</highlight></codeline>
<codeline lineno="667"><highlight class="normal"></highlight></codeline>
<codeline lineno="668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>unsetenv(</highlight><highlight class="stringliteral">&quot;DYLD_LIBRARY_PATH&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>execve(argv[0],<sp/>argv,<sp/>environ);</highlight></codeline>
<codeline lineno="670"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="671"><highlight class="normal"></highlight></codeline>
<codeline lineno="672"><highlight class="normal"><sp/><sp/><sp/><ref refid="group__group__funcmacro__debug_1ga8db18cbe95b3b42c3017a8bf048b0839" kindref="member">wxDISABLE_DEBUG_SUPPORT</ref>();</highlight></codeline>
<codeline lineno="673"><highlight class="normal"></highlight></codeline>
<codeline lineno="674"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="include_2wx_2msw_2init_8h_1a4e8de691c2a17c59a55febc3cdf32d81" kindref="member">wxEntry</ref>(argc,<sp/>argv);</highlight></codeline>
<codeline lineno="675"><highlight class="normal">}</highlight></codeline>
<codeline lineno="676"><highlight class="normal"></highlight></codeline>
<codeline lineno="677"><highlight class="normal"></highlight><highlight class="preprocessor">#elif<sp/>defined(__WXMSW__)<sp/>&amp;&amp;<sp/>!wxCHECK_VERSION(3,<sp/>1,<sp/>0)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="678"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Disable<sp/>telling<sp/>Windows<sp/>that<sp/>we<sp/>support<sp/>HiDPI<sp/>displays.<sp/><sp/>It<sp/>is<sp/>forced<sp/>on</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="679"><highlight class="normal"></highlight><highlight class="comment">//<sp/>in<sp/>wxWidget<sp/>versions<sp/>between<sp/>3.0.0<sp/>and<sp/>3.1.0.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="680"><highlight class="normal">IMPLEMENT_APP_NO_MAIN(<ref refid="class_audacity_app" kindref="compound">AudacityApp</ref>)</highlight></codeline>
<codeline lineno="681"><highlight class="normal">IMPLEMENT_WX_THEME_SUPPORT</highlight></codeline>
<codeline lineno="682"><highlight class="normal"></highlight></codeline>
<codeline lineno="683"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;C&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="mapinls_8h_1a9aa60e1ead64be77ad551e745cbfd4d3" kindref="member">WINAPI</ref><sp/><ref refid="winmain_8cpp_1a661c2abc03926acfaeb93b4ae7db4943" kindref="member">WinMain</ref>(HINSTANCE<sp/>hInstance,</highlight></codeline>
<codeline lineno="684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>HINSTANCE<sp/>hPrevInstance,</highlight></codeline>
<codeline lineno="685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="include_2wx_2msw_2init_8h_1a1641e29b6f31620d98e6ca8f0206cc2f" kindref="member">wxCmdLineArgType</ref><sp/>WXUNUSED(lpCmdLine),</highlight></codeline>
<codeline lineno="686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nCmdShow)</highlight></codeline>
<codeline lineno="687"><highlight class="normal">{</highlight></codeline>
<codeline lineno="688"><highlight class="normal"><sp/><sp/><sp/><ref refid="group__group__funcmacro__debug_1ga8db18cbe95b3b42c3017a8bf048b0839" kindref="member">wxDISABLE_DEBUG_SUPPORT</ref>();</highlight></codeline>
<codeline lineno="689"><highlight class="normal"></highlight></codeline>
<codeline lineno="690"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Disable<sp/>setting<sp/>of<sp/>HiDPI<sp/>aware<sp/>mode</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="691"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//wxMSWDisableSettingHighDPIAware();</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="692"><highlight class="normal"></highlight></codeline>
<codeline lineno="693"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>NB:<sp/>We<sp/>pass<sp/>NULL<sp/>in<sp/>place<sp/>of<sp/>lpCmdLine<sp/>to<sp/>behave<sp/>the<sp/>same<sp/>as<sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="694"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/>Borland-specific<sp/>wWinMain()<sp/>above.<sp/>If<sp/>it<sp/>becomes<sp/>needed<sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="695"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/>to<sp/>pass<sp/>lpCmdLine<sp/>to<sp/>wxEntry()<sp/>here,<sp/>you&apos;ll<sp/>have<sp/>to<sp/>fix<sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/><sp/><sp/><sp/>wWinMain()<sp/>above<sp/>too.<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="697"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="include_2wx_2msw_2init_8h_1a4e8de691c2a17c59a55febc3cdf32d81" kindref="member">wxEntry</ref>(hInstance,<sp/>hPrevInstance,<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/>nCmdShow);</highlight></codeline>
<codeline lineno="698"><highlight class="normal">}</highlight></codeline>
<codeline lineno="699"><highlight class="normal"></highlight></codeline>
<codeline lineno="700"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="701"><highlight class="normal">IMPLEMENT_APP(<ref refid="class_audacity_app" kindref="compound">AudacityApp</ref>)</highlight></codeline>
<codeline lineno="702"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="703"><highlight class="normal"></highlight></codeline>
<codeline lineno="704"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__WXMAC__</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="705"><highlight class="normal"></highlight></codeline>
<codeline lineno="706"><highlight class="normal"></highlight><highlight class="comment">//<sp/>in<sp/>response<sp/>of<sp/>an<sp/>open-document<sp/>apple<sp/>event</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="707"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classwx_app_1a420a1cef557cfe2edaee6ffdaaa5f7fb" kindref="member">AudacityApp::MacOpenFile</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>wxString<sp/>&amp;fileName)</highlight></codeline>
<codeline lineno="708"><highlight class="normal">{</highlight></codeline>
<codeline lineno="709"><highlight class="normal"><sp/><sp/><sp/>ofqueue.Add(fileName);</highlight></codeline>
<codeline lineno="710"><highlight class="normal">}</highlight></codeline>
<codeline lineno="711"><highlight class="normal"></highlight></codeline>
<codeline lineno="712"><highlight class="normal"></highlight><highlight class="comment">//<sp/>in<sp/>response<sp/>of<sp/>a<sp/>print-document<sp/>apple<sp/>event</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="713"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classwx_app_1a1f6e5bc7e119f4394fddae1782acd047" kindref="member">AudacityApp::MacPrintFile</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>wxString<sp/>&amp;fileName)</highlight></codeline>
<codeline lineno="714"><highlight class="normal">{</highlight></codeline>
<codeline lineno="715"><highlight class="normal"><sp/><sp/><sp/>ofqueue.Add(fileName);</highlight></codeline>
<codeline lineno="716"><highlight class="normal">}</highlight></codeline>
<codeline lineno="717"><highlight class="normal"></highlight></codeline>
<codeline lineno="718"><highlight class="normal"></highlight><highlight class="comment">//<sp/>in<sp/>response<sp/>of<sp/>a<sp/>open-application<sp/>apple<sp/>event</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="719"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classwx_app_1adfccb56471d139a0bb29e96c3c6d12fa" kindref="member">AudacityApp::MacNewFile</ref>()</highlight></codeline>
<codeline lineno="720"><highlight class="normal">{</highlight></codeline>
<codeline lineno="721"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!gInited)</highlight></codeline>
<codeline lineno="722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="723"><highlight class="normal"></highlight></codeline>
<codeline lineno="724"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>method<sp/>should<sp/>only<sp/>be<sp/>used<sp/>on<sp/>the<sp/>Mac<sp/>platform</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="725"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>when<sp/>no<sp/>project<sp/>windows<sp/>are<sp/>open.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="726"><highlight class="normal"></highlight></codeline>
<codeline lineno="727"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="_project_8cpp_1abc1207c91a492b32e9c5971ddd301671" kindref="member">gAudacityProjects</ref>.GetCount()<sp/>==<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_project_8cpp_1a28032264c981ed85265ad34afc761335" kindref="member">CreateNewAudacityProject</ref>();</highlight></codeline>
<codeline lineno="729"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="730"><highlight class="normal">}</highlight></codeline>
<codeline lineno="731"><highlight class="normal"></highlight></codeline>
<codeline lineno="732"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/>//__WXMAC__</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="733"><highlight class="normal"></highlight></codeline>
<codeline lineno="734" refid="_audacity_app_8cpp_1aff9507194463a6953ada6ae9cc911498" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>ID_RECENT_CLEAR<sp/>6100</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="735" refid="_audacity_app_8cpp_1a75ec73acb54f1278d01a5390341ac592" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>ID_RECENT_FIRST<sp/>6101</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="736" refid="_audacity_app_8cpp_1ae20c3675919cd63770ef4dd0e4491b06" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>ID_RECENT_LAST<sp/><sp/>6112</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="737"><highlight class="normal"></highlight></codeline>
<codeline lineno="738"><highlight class="normal"></highlight><highlight class="comment">//<sp/>IPC<sp/>communication</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="739" refid="_audacity_app_8cpp_1a5975c20da6517ea78aa936f45649a1af" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>ID_IPC_SERVER<sp/><sp/><sp/>6200</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="740" refid="_audacity_app_8cpp_1a70c6188780bf27a9bfbd75e0db1705ef" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>ID_IPC_SOCKET<sp/><sp/><sp/>6201</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="741"><highlight class="normal"></highlight></codeline>
<codeline lineno="742"><highlight class="normal"></highlight><highlight class="comment">//<sp/>we<sp/>don&apos;t<sp/>really<sp/>care<sp/>about<sp/>the<sp/>timer<sp/>id,<sp/>but<sp/>set<sp/>this<sp/>value<sp/>just<sp/>in<sp/>case<sp/>we<sp/>do<sp/>in<sp/>the<sp/>future</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="743" refid="_audacity_app_8cpp_1a637a38c6e303f285d55c2c64de60d518" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>kAudacityAppTimerID<sp/>0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="744"><highlight class="normal"></highlight></codeline>
<codeline lineno="745"><highlight class="normal">BEGIN_EVENT_TABLE(<ref refid="class_audacity_app" kindref="compound">AudacityApp</ref>,<sp/><ref refid="classwx_app" kindref="compound">wxApp</ref>)</highlight></codeline>
<codeline lineno="746"><highlight class="normal"><sp/><sp/><sp/>EVT_QUERY_END_SESSION(<ref refid="class_audacity_app" kindref="compound">AudacityApp</ref>::OnEndSession)</highlight></codeline>
<codeline lineno="747"><highlight class="normal"></highlight></codeline>
<codeline lineno="748"><highlight class="normal"><sp/><sp/><sp/>EVT_TIMER(<ref refid="_audacity_app_8cpp_1a637a38c6e303f285d55c2c64de60d518" kindref="member">kAudacityAppTimerID</ref>,<sp/><ref refid="class_audacity_app" kindref="compound">AudacityApp</ref>::OnTimer)</highlight></codeline>
<codeline lineno="749"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__WXMAC__</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="750"><highlight class="normal"><sp/><sp/><sp/>EVT_MENU(wxID_NEW,<sp/><ref refid="class_audacity_app_1ac4cb49358b654144dd674b7174e42ae2" kindref="member">AudacityApp::OnMenuNew</ref>)</highlight></codeline>
<codeline lineno="751"><highlight class="normal"><sp/><sp/><sp/>EVT_MENU(wxID_OPEN,<sp/><ref refid="class_audacity_app" kindref="compound">AudacityApp</ref>::OnMenuOpen)</highlight></codeline>
<codeline lineno="752"><highlight class="normal"><sp/><sp/><sp/>EVT_MENU(wxID_ABOUT,<sp/><ref refid="class_audacity_app" kindref="compound">AudacityApp</ref>::OnMenuAbout)</highlight></codeline>
<codeline lineno="753"><highlight class="normal"><sp/><sp/><sp/>EVT_MENU(wxID_PREFERENCES,<sp/><ref refid="class_audacity_app" kindref="compound">AudacityApp</ref>::OnMenuPreferences)</highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/><sp/>EVT_MENU(wxID_EXIT,<sp/><ref refid="class_audacity_app" kindref="compound">AudacityApp</ref>::OnMenuExit)</highlight></codeline>
<codeline lineno="755"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="756"><highlight class="normal"></highlight></codeline>
<codeline lineno="757"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>__WXMSW__</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="758"><highlight class="normal"><sp/><sp/><sp/>EVT_SOCKET(<ref refid="_audacity_app_8cpp_1a5975c20da6517ea78aa936f45649a1af" kindref="member">ID_IPC_SERVER</ref>,<sp/><ref refid="class_audacity_app_1a36209198478f212c72bddcc944914818" kindref="member">AudacityApp::OnServerEvent</ref>)</highlight></codeline>
<codeline lineno="759"><highlight class="normal"><sp/><sp/><sp/>EVT_SOCKET(<ref refid="_audacity_app_8cpp_1a70c6188780bf27a9bfbd75e0db1705ef" kindref="member">ID_IPC_SOCKET</ref>,<sp/><ref refid="class_audacity_app" kindref="compound">AudacityApp</ref>::OnSocketEvent)</highlight></codeline>
<codeline lineno="760"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="761"><highlight class="normal"></highlight></codeline>
<codeline lineno="762"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Recent<sp/>file<sp/>event<sp/>handlers.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="763"><highlight class="normal"><sp/><sp/><sp/>EVT_MENU(<ref refid="_audacity_app_8cpp_1aff9507194463a6953ada6ae9cc911498" kindref="member">ID_RECENT_CLEAR</ref>,<sp/><ref refid="class_audacity_app_1a92f396b6e8d2305ae1575efbde329fc3" kindref="member">AudacityApp::OnMRUClear</ref>)</highlight></codeline>
<codeline lineno="764"><highlight class="normal"><sp/><sp/><sp/><ref refid="_track_panel_8cpp_1a71b7571eb34f9bd037742769f46ceee9" kindref="member">EVT_MENU_RANGE</ref>(<ref refid="_audacity_app_8cpp_1a75ec73acb54f1278d01a5390341ac592" kindref="member">ID_RECENT_FIRST</ref>,<sp/><ref refid="_audacity_app_8cpp_1ae20c3675919cd63770ef4dd0e4491b06" kindref="member">ID_RECENT_LAST</ref>,<sp/><ref refid="class_audacity_app" kindref="compound">AudacityApp</ref>::OnMRUFile)</highlight></codeline>
<codeline lineno="765"><highlight class="normal"></highlight></codeline>
<codeline lineno="766"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Handle<sp/>AppCommandEvents<sp/>(usually<sp/>from<sp/>a<sp/>script)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/><sp/><ref refid="_app_command_event_8h_1a92615cdbd1729ca447dd042254178d20" kindref="member">EVT_APP_COMMAND</ref>(wxID_ANY,<sp/><ref refid="class_audacity_app" kindref="compound">AudacityApp</ref>::OnReceiveCommand)</highlight></codeline>
<codeline lineno="768"><highlight class="normal"><ref refid="_batch_command_dialog_8cpp_1a8c3469324b3e5d3e6c44c23a418ab937" kindref="member">END_EVENT_TABLE</ref>()</highlight></codeline>
<codeline lineno="769"><highlight class="normal"></highlight></codeline>
<codeline lineno="770"><highlight class="normal"></highlight><highlight class="comment">//<sp/>backend<sp/>for<sp/>OnMRUFile</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="771"><highlight class="normal"></highlight><highlight class="comment">//<sp/>TODO:<sp/>Would<sp/>be<sp/>nice<sp/>to<sp/>make<sp/>this<sp/>handle<sp/>not<sp/>opening<sp/>a<sp/>file<sp/>with<sp/>more<sp/>panache.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="772"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>-<sp/>Inform<sp/>the<sp/>user<sp/>if<sp/>DefaultOpenPath<sp/>not<sp/>set.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="773"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>-<sp/>Switch<sp/>focus<sp/>to<sp/>correct<sp/>instance<sp/>of<sp/>project<sp/>window,<sp/>if<sp/>already<sp/>open.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="774" refid="class_audacity_app_1ae89d2eb1091271ab1ebeb1752b668af1" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_audacity_app" kindref="compound">AudacityApp</ref>::MRUOpen(<ref refid="getopt_8c_1a2c212835823e3c54a8ab6d95c652660e" kindref="member">const</ref><sp/>wxString<sp/>&amp;fullPathStr)<sp/>{</highlight></codeline>
<codeline lineno="775"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Most<sp/>of<sp/>the<sp/>checks<sp/>below<sp/>are<sp/>copied<sp/>from<sp/>AudacityProject::OpenFiles.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="776"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-<sp/>some<sp/>rationalisation<sp/>might<sp/>be<sp/>possible.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="777"><highlight class="normal"></highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_audacity_project" kindref="compound">AudacityProject</ref><sp/>*proj<sp/>=<sp/><ref refid="_project_8cpp_1a897aa047b58617a9acc187fc882e3bb4" kindref="member">GetActiveProject</ref>();</highlight></codeline>
<codeline lineno="779"><highlight class="normal"></highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!fullPathStr.IsEmpty())</highlight></codeline>
<codeline lineno="781"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>verify<sp/>that<sp/>the<sp/>file<sp/>exists</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(wxFile::Exists(fullPathStr))</highlight></codeline>
<codeline lineno="784"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="785"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/DefaultOpenPath&quot;</highlight><highlight class="normal">),<sp/><ref refid="filefn_8cpp_1ac51030bd42f56198d4cc482ace51dbb6" kindref="member">wxPathOnly</ref>(fullPathStr))<sp/>||</highlight></codeline>
<codeline lineno="786"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>!<ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Flush())</highlight></codeline>
<codeline lineno="787"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="788"><highlight class="normal"></highlight></codeline>
<codeline lineno="789"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Make<sp/>sure<sp/>it<sp/>isn&apos;t<sp/>already<sp/>open.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="790"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Test<sp/>here<sp/>even<sp/>though<sp/>AudacityProject::OpenFile()<sp/>also<sp/>now<sp/>checks,<sp/>because</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="791"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>that<sp/>method<sp/>does<sp/>not<sp/>return<sp/>the<sp/>bad<sp/>result.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="792"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>That<sp/>itself<sp/>may<sp/>be<sp/>a<sp/>FIXME.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="793"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_audacity_project_1a62798ced0fe2dcbd09aa219fd0258501" kindref="member">AudacityProject::IsAlreadyOpen</ref>(fullPathStr))</highlight></codeline>
<codeline lineno="794"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="795"><highlight class="normal"></highlight></codeline>
<codeline lineno="796"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>DMM:<sp/>If<sp/>the<sp/>project<sp/>is<sp/>dirty,<sp/>that<sp/>means<sp/>it&apos;s<sp/>been<sp/>touched<sp/>at</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="797"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>all,<sp/>and<sp/>it&apos;s<sp/>not<sp/>safe<sp/>to<sp/>open<sp/>a<sp/>NEW<sp/>project<sp/>directly<sp/>in<sp/>its</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="798"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>place.<sp/><sp/>Only<sp/>if<sp/>the<sp/>project<sp/>is<sp/>brand-NEW<sp/>clean<sp/>and<sp/>the<sp/>user</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="799"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>hasn&apos;t<sp/>done<sp/>any<sp/>action<sp/>at<sp/>all<sp/>is<sp/>it<sp/>safe<sp/>for<sp/>Open<sp/>to<sp/>take<sp/>place</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="800"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>inside<sp/>the<sp/>current<sp/>project.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="801"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="802"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>you<sp/>try<sp/>to<sp/>Open<sp/>a<sp/>NEW<sp/>project<sp/>inside<sp/>the<sp/>current<sp/>window<sp/>when</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="803"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>there<sp/>are<sp/>no<sp/>tracks,<sp/>but<sp/>there&apos;s<sp/>an<sp/>Undo<sp/>history,<sp/>etc,<sp/>then</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="804"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>bad<sp/>things<sp/>can<sp/>happen,<sp/>including<sp/>data<sp/>files<sp/>moving<sp/>to<sp/>the<sp/>NEW</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="805"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>project<sp/>directory,<sp/>etc.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="806"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!proj<sp/>||<sp/>proj-&gt;<ref refid="class_audacity_project_1a19c01d6b1d930b0540bde64a85761e20" kindref="member">GetDirty</ref>()<sp/>||<sp/>!proj-&gt;<ref refid="class_audacity_project_1acec1b52b86e930d7414cf0f20aefdda7" kindref="member">GetIsEmpty</ref>())<sp/>{</highlight></codeline>
<codeline lineno="807"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>proj<sp/>=<sp/><ref refid="_project_8cpp_1a28032264c981ed85265ad34afc761335" kindref="member">CreateNewAudacityProject</ref>();</highlight></codeline>
<codeline lineno="808"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="809"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>project<sp/>is<sp/>clean;<sp/>it&apos;s<sp/>never<sp/>been<sp/>touched.<sp/><sp/>Therefore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="810"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>all<sp/>relevant<sp/>member<sp/>variables<sp/>are<sp/>in<sp/>their<sp/>initial<sp/>state,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="811"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>and<sp/>it&apos;s<sp/>okay<sp/>to<sp/>open<sp/>a<sp/>NEW<sp/>project<sp/>inside<sp/>this<sp/>window.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="812"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>proj-&gt;<ref refid="class_audacity_project_1a967e90b06c1c965d7f7d4b8cbd32dc76" kindref="member">OpenFile</ref>(fullPathStr);</highlight></codeline>
<codeline lineno="813"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="814"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="815"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>File<sp/>doesn&apos;t<sp/>exist<sp/>-<sp/>remove<sp/>file<sp/>from<sp/>history</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="816"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxMessageBox(wxString::Format(<ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;%s<sp/>could<sp/>not<sp/>be<sp/>found.\n\nIt<sp/>has<sp/>been<sp/>removed<sp/>from<sp/>the<sp/>list<sp/>of<sp/>recent<sp/>files.&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="817"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fullPathStr.c_str()));</highlight></codeline>
<codeline lineno="818"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="819"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="820"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="821"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="822"><highlight class="normal">}</highlight></codeline>
<codeline lineno="823"><highlight class="normal"></highlight></codeline>
<codeline lineno="824" refid="class_audacity_app_1a92f396b6e8d2305ae1575efbde329fc3" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_audacity_app_1a92f396b6e8d2305ae1575efbde329fc3" kindref="member">AudacityApp::OnMRUClear</ref>(wxCommandEvent&amp;<sp/>WXUNUSED(event))</highlight></codeline>
<codeline lineno="825"><highlight class="normal">{</highlight></codeline>
<codeline lineno="826"><highlight class="normal"><sp/><sp/><sp/>mRecentFiles-&gt;Clear();</highlight></codeline>
<codeline lineno="827"><highlight class="normal">}</highlight></codeline>
<codeline lineno="828"><highlight class="normal"></highlight></codeline>
<codeline lineno="829"><highlight class="normal"></highlight><highlight class="comment">//vvv<sp/>Basically,<sp/>anything<sp/>from<sp/>Recent<sp/>Files<sp/>is<sp/>treated<sp/>as<sp/>a<sp/>.aup,<sp/>until<sp/>proven<sp/>otherwise,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="830"><highlight class="normal"></highlight><highlight class="comment">//<sp/>then<sp/>it<sp/>tries<sp/>to<sp/>Import().<sp/>Very<sp/>questionable<sp/>handling,<sp/>imo.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="831"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Better,<sp/>for<sp/>example,<sp/>to<sp/>check<sp/>the<sp/>file<sp/>type<sp/>early<sp/>on.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="832" refid="class_audacity_app_1a74f1cd0f6953c14bda7cf03efab63c25" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_audacity_app_1a74f1cd0f6953c14bda7cf03efab63c25" kindref="member">AudacityApp::OnMRUFile</ref>(wxCommandEvent&amp;<sp/>event)<sp/>{</highlight></codeline>
<codeline lineno="833"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n<sp/>=<sp/></highlight><highlight class="keyword">event</highlight><highlight class="normal">.GetId()<sp/>-<sp/><ref refid="_audacity_app_8cpp_1a75ec73acb54f1278d01a5390341ac592" kindref="member">ID_RECENT_FIRST</ref>;</highlight></codeline>
<codeline lineno="834"><highlight class="normal"><sp/><sp/><sp/>wxString<sp/>fullPathStr<sp/>=<sp/>mRecentFiles-&gt;GetHistoryFile(n);</highlight></codeline>
<codeline lineno="835"><highlight class="normal"></highlight></codeline>
<codeline lineno="836"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Try<sp/>to<sp/>open<sp/>only<sp/>if<sp/>not<sp/>already<sp/>open.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="837"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Test<sp/>IsAlreadyOpen()<sp/>here<sp/>even<sp/>though<sp/>AudacityProject::MRUOpen()<sp/>also<sp/>now<sp/>checks,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="838"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>because<sp/>we<sp/>don&apos;t<sp/>want<sp/>to<sp/>RemoveFileFromHistory()<sp/>just<sp/>because<sp/>it<sp/>already<sp/>exists,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="839"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>and<sp/>AudacityApp::OnMacOpenFile()<sp/>calls<sp/>MRUOpen()<sp/>directly.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="840"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>that<sp/>method<sp/>does<sp/>not<sp/>return<sp/>the<sp/>bad<sp/>result.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="841"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_audacity_project_1a62798ced0fe2dcbd09aa219fd0258501" kindref="member">AudacityProject::IsAlreadyOpen</ref>(fullPathStr)<sp/>&amp;&amp;<sp/>!MRUOpen(fullPathStr))</highlight></codeline>
<codeline lineno="842"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>mRecentFiles-&gt;RemoveFileFromHistory(n);</highlight></codeline>
<codeline lineno="843"><highlight class="normal">}</highlight></codeline>
<codeline lineno="844"><highlight class="normal"></highlight></codeline>
<codeline lineno="845" refid="class_audacity_app_1a50a762ae7432f25eb067c9946456f76d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_audacity_app_1a50a762ae7432f25eb067c9946456f76d" kindref="member">AudacityApp::OnTimer</ref>(wxTimerEvent&amp;<sp/>WXUNUSED(event))</highlight></codeline>
<codeline lineno="846"><highlight class="normal">{</highlight></codeline>
<codeline lineno="847"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Filenames<sp/>are<sp/>queued<sp/>when<sp/>Audacity<sp/>receives<sp/>the<sp/>a<sp/>few<sp/>of<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="848"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>AppleEvent<sp/>messages<sp/>(via<sp/>wxWidgets).<sp/><sp/>So,<sp/>open<sp/>any<sp/>that<sp/>are</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="849"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>in<sp/>the<sp/>queue<sp/>and<sp/>clean<sp/>the<sp/>queue.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="850"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(gInited)<sp/>{</highlight></codeline>
<codeline lineno="851"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ofqueue.GetCount())<sp/>{</highlight></codeline>
<codeline lineno="852"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Load<sp/>each<sp/>file<sp/>on<sp/>the<sp/>queue</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="853"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(ofqueue.GetCount())<sp/>{</highlight></codeline>
<codeline lineno="854"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxString<sp/><ref refid="lib_2expat_8h_1a1b49b495b59f9e73205b69ad1a2965b0" kindref="member">name</ref>(ofqueue[0]);</highlight></codeline>
<codeline lineno="855"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ofqueue.RemoveAt(0);</highlight></codeline>
<codeline lineno="856"><highlight class="normal"></highlight></codeline>
<codeline lineno="857"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Get<sp/>the<sp/>user&apos;s<sp/>attention<sp/>if<sp/>no<sp/>file<sp/>name<sp/>was<sp/>specified</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="858"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(name.IsEmpty())<sp/>{</highlight></codeline>
<codeline lineno="859"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Get<sp/>the<sp/>users<sp/>attention</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="860"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_audacity_project" kindref="compound">AudacityProject</ref><sp/>*project<sp/>=<sp/><ref refid="_project_8cpp_1a897aa047b58617a9acc187fc882e3bb4" kindref="member">GetActiveProject</ref>();</highlight></codeline>
<codeline lineno="861"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(project)<sp/>{</highlight></codeline>
<codeline lineno="862"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>project-&gt;Maximize();</highlight></codeline>
<codeline lineno="863"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>project-&gt;Raise();</highlight></codeline>
<codeline lineno="864"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>project-&gt;RequestUserAttention();</highlight></codeline>
<codeline lineno="865"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="866"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="867"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="868"><highlight class="normal"></highlight></codeline>
<codeline lineno="869"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO:<sp/>Handle<sp/>failures<sp/>better.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="870"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Some<sp/>failures<sp/>are<sp/>OK,<sp/>e.g.<sp/>file<sp/>not<sp/>found,<sp/>just<sp/>would-be-nices<sp/>to<sp/>do<sp/>better,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="871"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>so<sp/>FAIL_MSG<sp/>is<sp/>more<sp/>a<sp/>case<sp/>of<sp/>an<sp/>enhancement<sp/>request<sp/>than<sp/>an<sp/>actual<sp/><sp/>problem.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="872"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>LL:<sp/><sp/>In<sp/>all<sp/>but<sp/>one<sp/>case<sp/>an<sp/>appropriate<sp/>message<sp/>is<sp/>already<sp/>displayed.<sp/><sp/>The</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="873"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>instance<sp/>that<sp/>a<sp/>message<sp/>is<sp/>NOT<sp/>displayed<sp/>is<sp/>when<sp/>a<sp/>failure<sp/>to<sp/>write</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="874"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>to<sp/>the<sp/>config<sp/>file<sp/>has<sp/>occurred.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="875"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!MRUOpen(name))<sp/>{</highlight></codeline>
<codeline lineno="876"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxFAIL_MSG(wxT(</highlight><highlight class="stringliteral">&quot;MRUOpen<sp/>failed&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="877"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="878"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="879"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="880"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="881"><highlight class="normal"></highlight></codeline>
<codeline lineno="882"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>if<sp/>a<sp/>warning<sp/>for<sp/>missing<sp/>aliased<sp/>files<sp/>should<sp/>be<sp/>displayed</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="883"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ShouldShowMissingAliasedFileWarning())<sp/>{</highlight></codeline>
<codeline lineno="884"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>find<sp/>which<sp/>project<sp/>owns<sp/>the<sp/>blockfile</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="885"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>note:<sp/>there<sp/>may<sp/>be<sp/>more<sp/>than<sp/>1,<sp/>but<sp/>just<sp/>go<sp/>with<sp/>the<sp/>first<sp/>one.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="886"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>numProjects<sp/>=<sp/><ref refid="_project_8cpp_1abc1207c91a492b32e9c5971ddd301671" kindref="member">gAudacityProjects</ref>.Count();</highlight></codeline>
<codeline lineno="887"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxString<sp/>missingFileName;</highlight></codeline>
<codeline lineno="888"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_audacity_project" kindref="compound">AudacityProject</ref><sp/>*offendingProject<sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="889"><highlight class="normal"></highlight></codeline>
<codeline lineno="890"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>m_LastMissingBlockFileLock.Lock();</highlight></codeline>
<codeline lineno="891"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(numProjects<sp/>==<sp/>1)<sp/>{</highlight></codeline>
<codeline lineno="892"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>if<sp/>there<sp/>is<sp/>only<sp/>one<sp/>project<sp/>open,<sp/>no<sp/>need<sp/>to<sp/>search</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="893"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>offendingProject<sp/>=<sp/><ref refid="_project_8cpp_1abc1207c91a492b32e9c5971ddd301671" kindref="member">gAudacityProjects</ref>[0];</highlight></codeline>
<codeline lineno="894"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(numProjects<sp/>&gt;<sp/>1)<sp/>{</highlight></codeline>
<codeline lineno="895"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>numProjects;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="896"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>search<sp/>each<sp/>project<sp/>for<sp/>the<sp/>blockfile</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="897"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="_project_8cpp_1abc1207c91a492b32e9c5971ddd301671" kindref="member">gAudacityProjects</ref>[i]-&gt;GetDirManager()-&gt;ContainsBlockFile(m_LastMissingBlockFile))<sp/>{</highlight></codeline>
<codeline lineno="898"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>offendingProject<sp/>=<sp/><ref refid="_project_8cpp_1abc1207c91a492b32e9c5971ddd301671" kindref="member">gAudacityProjects</ref>[<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>];</highlight></codeline>
<codeline lineno="899"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="900"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="901"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="902"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="903"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>missingFileName<sp/>=<sp/>((<ref refid="class_alias_block_file" kindref="compound">AliasBlockFile</ref>*)m_LastMissingBlockFile)-&gt;GetAliasedFileName().GetFullPath();</highlight></codeline>
<codeline lineno="904"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>m_LastMissingBlockFileLock.Unlock();</highlight></codeline>
<codeline lineno="905"><highlight class="normal"></highlight></codeline>
<codeline lineno="906"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>if<sp/>there<sp/>are<sp/>no<sp/>projects<sp/>open,<sp/>don&apos;t<sp/>show<sp/>the<sp/>warning<sp/>(user<sp/>has<sp/>closed<sp/>it)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="907"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(offendingProject)<sp/>{</highlight></codeline>
<codeline lineno="908"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>offendingProject-&gt;Iconize(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="909"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>offendingProject-&gt;Raise();</highlight></codeline>
<codeline lineno="910"><highlight class="normal"></highlight></codeline>
<codeline lineno="911"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxString<sp/>errorMessage<sp/>=<sp/>wxString::Format(<ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight></codeline>
<codeline lineno="912"><highlight class="normal"></highlight><highlight class="stringliteral">&quot;One<sp/>or<sp/>more<sp/>external<sp/>audio<sp/>files<sp/>could<sp/>not<sp/>be<sp/>found.\n\</highlight></codeline>
<codeline lineno="913"><highlight class="stringliteral">It<sp/>is<sp/>possible<sp/>they<sp/>were<sp/>moved,<sp/>deleted,<sp/>or<sp/>the<sp/>drive<sp/>they<sp/>\</highlight></codeline>
<codeline lineno="914"><highlight class="stringliteral">were<sp/>on<sp/>was<sp/>unmounted.\n\</highlight></codeline>
<codeline lineno="915"><highlight class="stringliteral">Silence<sp/>is<sp/>being<sp/>substituted<sp/>for<sp/>the<sp/>affected<sp/>audio.\n\</highlight></codeline>
<codeline lineno="916"><highlight class="stringliteral">The<sp/>first<sp/>detected<sp/>missing<sp/>file<sp/>is:\n\</highlight></codeline>
<codeline lineno="917"><highlight class="stringliteral">%s\n\</highlight></codeline>
<codeline lineno="918"><highlight class="stringliteral">There<sp/>may<sp/>be<sp/>additional<sp/>missing<sp/>files.\n\</highlight></codeline>
<codeline lineno="919"><highlight class="stringliteral">Choose<sp/>File<sp/>&gt;<sp/>Check<sp/>Dependencies<sp/>to<sp/>view<sp/>a<sp/>list<sp/>of<sp/>\</highlight></codeline>
<codeline lineno="920"><highlight class="stringliteral">locations<sp/>of<sp/>the<sp/>missing<sp/>files.&quot;</highlight><highlight class="normal">),<sp/>missingFileName.c_str());</highlight></codeline>
<codeline lineno="921"><highlight class="normal"></highlight></codeline>
<codeline lineno="922"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>if<sp/>an<sp/>old<sp/>dialog<sp/>exists,<sp/>raise<sp/>it<sp/>if<sp/>it<sp/>is</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="923"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(offendingProject-&gt;<ref refid="class_audacity_project_1aa2a9b41d31ff4ab93b6ed2e977812c4d" kindref="member">GetMissingAliasFileDialog</ref>())<sp/>{</highlight></codeline>
<codeline lineno="924"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>offendingProject-&gt;<ref refid="class_audacity_project_1aa2a9b41d31ff4ab93b6ed2e977812c4d" kindref="member">GetMissingAliasFileDialog</ref>()-&gt;Raise();</highlight></codeline>
<codeline lineno="925"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="926"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_error_dialog_8cpp_1a323e62fa9d48fe13fe484d032cd5558e" kindref="member">ShowAliasMissingDialog</ref>(offendingProject,<sp/><ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Files<sp/>Missing&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="927"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>errorMessage,<sp/>wxT(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">),<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="928"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="929"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="930"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Only<sp/>show<sp/>this<sp/>warning<sp/>once<sp/>per<sp/>event<sp/>(playback/menu<sp/>item/etc).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="931"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>SetMissingAliasedFileWarningShouldShow(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="932"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="933"><highlight class="normal">}</highlight></codeline>
<codeline lineno="934"><highlight class="normal"></highlight></codeline>
<codeline lineno="935" refid="class_audacity_app_1a05e03a9a9caa436a87a803a4eea19d51" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_audacity_app_1a05e03a9a9caa436a87a803a4eea19d51" kindref="member">AudacityApp::MarkAliasedFilesMissingWarning</ref>(<ref refid="class_block_file" kindref="compound">BlockFile</ref><sp/>*<ref refid="poly-fir_8h_1ab2d05693952610f937e5acb3c4a8fa1b" kindref="member">b</ref>)</highlight></codeline>
<codeline lineno="936"><highlight class="normal">{</highlight></codeline>
<codeline lineno="937"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>reference<sp/>counting<sp/>provides<sp/>thread<sp/>safety.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="938"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(b)</highlight></codeline>
<codeline lineno="939"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>b-&gt;Ref();</highlight></codeline>
<codeline lineno="940"><highlight class="normal"></highlight></codeline>
<codeline lineno="941"><highlight class="normal"><sp/><sp/><sp/>m_LastMissingBlockFileLock.Lock();</highlight></codeline>
<codeline lineno="942"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_LastMissingBlockFile)</highlight></codeline>
<codeline lineno="943"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>m_LastMissingBlockFile-&gt;Deref();</highlight></codeline>
<codeline lineno="944"><highlight class="normal"></highlight></codeline>
<codeline lineno="945"><highlight class="normal"><sp/><sp/><sp/>m_LastMissingBlockFile<sp/>=<sp/><ref refid="poly-fir_8h_1ab2d05693952610f937e5acb3c4a8fa1b" kindref="member">b</ref>;</highlight></codeline>
<codeline lineno="946"><highlight class="normal"></highlight></codeline>
<codeline lineno="947"><highlight class="normal"><sp/><sp/><sp/>m_LastMissingBlockFileLock.Unlock();</highlight></codeline>
<codeline lineno="948"><highlight class="normal">}</highlight></codeline>
<codeline lineno="949"><highlight class="normal"></highlight></codeline>
<codeline lineno="950" refid="class_audacity_app_1aeb08d650377a0607ac251da0293813a7" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_audacity_app_1aeb08d650377a0607ac251da0293813a7" kindref="member">AudacityApp::SetMissingAliasedFileWarningShouldShow</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="poly-fir_8h_1ab2d05693952610f937e5acb3c4a8fa1b" kindref="member">b</ref>)</highlight></codeline>
<codeline lineno="951"><highlight class="normal">{</highlight></codeline>
<codeline lineno="952"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Note<sp/>that<sp/>this<sp/>is<sp/>can<sp/>be<sp/>called<sp/>by<sp/>both<sp/>the<sp/>main<sp/>thread<sp/>and<sp/>other<sp/>threads.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="953"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>I<sp/>don&apos;t<sp/>believe<sp/>we<sp/>need<sp/>a<sp/>mutex<sp/>because<sp/>we<sp/>are<sp/>checking<sp/>zero<sp/>vs<sp/>non-zero,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="954"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>and<sp/>the<sp/>setting<sp/>from<sp/>other<sp/>threads<sp/>will<sp/>always<sp/>be<sp/>non-zero<sp/>(true),<sp/>and<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="955"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>setting<sp/>from<sp/>the<sp/>main<sp/>thread<sp/>is<sp/>always<sp/>false.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="956"><highlight class="normal"><sp/><sp/><sp/>m_aliasMissingWarningShouldShow<sp/>=<sp/><ref refid="poly-fir_8h_1ab2d05693952610f937e5acb3c4a8fa1b" kindref="member">b</ref>;</highlight></codeline>
<codeline lineno="957"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>reset<sp/>the<sp/>warnings<sp/>as<sp/>they<sp/>were<sp/>probably<sp/>marked<sp/>by<sp/>a<sp/>previous<sp/>run</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="958"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_aliasMissingWarningShouldShow)<sp/>{</highlight></codeline>
<codeline lineno="959"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>MarkAliasedFilesMissingWarning(<ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="960"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="961"><highlight class="normal">}</highlight></codeline>
<codeline lineno="962"><highlight class="normal"></highlight></codeline>
<codeline lineno="963" refid="class_audacity_app_1abc0f3a085ee4f6319dd6bfd835a9f2c7" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_audacity_app_1abc0f3a085ee4f6319dd6bfd835a9f2c7" kindref="member">AudacityApp::ShouldShowMissingAliasedFileWarning</ref>()</highlight></codeline>
<codeline lineno="964"><highlight class="normal">{</highlight></codeline>
<codeline lineno="965"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>ret<sp/>=<sp/>m_LastMissingBlockFile<sp/>&amp;&amp;<sp/>m_aliasMissingWarningShouldShow;</highlight></codeline>
<codeline lineno="966"><highlight class="normal"></highlight></codeline>
<codeline lineno="967"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="968"><highlight class="normal">}</highlight></codeline>
<codeline lineno="969"><highlight class="normal"></highlight></codeline>
<codeline lineno="970" refid="class_audacity_app_1ad4333c2bc7745b74a84ac5722b5bb456" refkind="member"><highlight class="normal"><ref refid="class_audacity_logger" kindref="compound">AudacityLogger</ref><sp/>*<ref refid="class_audacity_app_1ad4333c2bc7745b74a84ac5722b5bb456" kindref="member">AudacityApp::GetLogger</ref>()</highlight></codeline>
<codeline lineno="971"><highlight class="normal">{</highlight></codeline>
<codeline lineno="972"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Use<sp/>dynamic_cast<sp/>so<sp/>that<sp/>we<sp/>get<sp/>a<sp/>NULL<sp/>ptr<sp/>if<sp/>we<sp/>haven&apos;t<sp/>yet</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="973"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>setup<sp/>our<sp/>logger.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="974"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">dynamic_cast&lt;</highlight><highlight class="normal"><ref refid="class_audacity_logger" kindref="compound">AudacityLogger</ref><sp/>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(wxLog::GetActiveTarget());</highlight></codeline>
<codeline lineno="975"><highlight class="normal">}</highlight></codeline>
<codeline lineno="976"><highlight class="normal"></highlight></codeline>
<codeline lineno="977"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(__WXMSW__)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="978"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>WL(lang,<sp/>sublang)<sp/>(lang),<sp/>(sublang),</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="979"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="980" refid="_audacity_app_8cpp_1a35e81a0d6753cf12f4858c98fe18d498" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>WL(lang,sublang)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="981"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="982"><highlight class="normal"></highlight></codeline>
<codeline lineno="983"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>!wxCHECK_VERSION(3,<sp/>0,<sp/>1)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="984" refid="_audacity_app_8cpp_1afc200e5264e0301dbf43ea791e52e18f" refkind="member"><highlight class="normal">wxLanguageInfo<sp/><ref refid="_audacity_app_8cpp_1afc200e5264e0301dbf43ea791e52e18f" kindref="member">userLangs</ref>[]<sp/>=</highlight></codeline>
<codeline lineno="985"><highlight class="normal">{</highlight></codeline>
<codeline lineno="986"><highlight class="normal"><sp/><sp/><sp/>{<sp/>wxLANGUAGE_USER_DEFINED,<sp/>wxT(</highlight><highlight class="stringliteral">&quot;bs&quot;</highlight><highlight class="normal">),<sp/><ref refid="_audacity_app_8cpp_1a35e81a0d6753cf12f4858c98fe18d498" kindref="member">WL</ref>(0,<sp/>SUBLANG_DEFAULT)<sp/>wxT(</highlight><highlight class="stringliteral">&quot;Bosnian&quot;</highlight><highlight class="normal">),<sp/>wxLayout_LeftToRight<sp/>}</highlight></codeline>
<codeline lineno="987"><highlight class="normal">};</highlight></codeline>
<codeline lineno="988"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="989"><highlight class="normal"></highlight></codeline>
<codeline lineno="990" refid="class_audacity_app_1a9aa53e5d0fe3321b95c34c3eb1b32b99" refkind="member"><highlight class="normal">wxString<sp/><ref refid="class_audacity_app_1a9aa53e5d0fe3321b95c34c3eb1b32b99" kindref="member">AudacityApp::InitLang</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>wxString<sp/>&amp;<sp/><ref refid="namespacewaflib_1_1_tools_1_1qt4_1a1410657c327d97e1b283cb08a32121f4" kindref="member">lang</ref><sp/>)</highlight></codeline>
<codeline lineno="991"><highlight class="normal">{</highlight></codeline>
<codeline lineno="992"><highlight class="normal"><sp/><sp/><sp/>wxString<sp/>result<sp/>=<sp/><ref refid="namespacewaflib_1_1_tools_1_1qt4_1a1410657c327d97e1b283cb08a32121f4" kindref="member">lang</ref>;</highlight></codeline>
<codeline lineno="993"><highlight class="normal"></highlight></codeline>
<codeline lineno="994"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mLocale)</highlight></codeline>
<codeline lineno="995"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>mLocale;</highlight></codeline>
<codeline lineno="996"><highlight class="normal"></highlight></codeline>
<codeline lineno="997"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(__WXMAC__)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="998"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>should<sp/>be<sp/>reviewed<sp/>again<sp/>during<sp/>the<sp/>wx3<sp/>conversion.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="999"><highlight class="normal"></highlight></codeline>
<codeline lineno="1000"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>On<sp/>OSX,<sp/>if<sp/>the<sp/>LANG<sp/>environment<sp/>variable<sp/>isn&apos;t<sp/>set<sp/>when</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1001"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>using<sp/>a<sp/>language<sp/>like<sp/>Japanese,<sp/>an<sp/>assertion<sp/>will<sp/>trigger</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1002"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>because<sp/>conversion<sp/>to<sp/>Japanese<sp/>from<sp/>&quot;?&quot;<sp/>doesn&apos;t<sp/>return<sp/>a</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1003"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>valid<sp/>length,<sp/>so<sp/>make<sp/>OSX<sp/>happy<sp/>by<sp/>defining/overriding</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1004"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>LANG<sp/>environment<sp/>variable<sp/>with<sp/>U.S.<sp/>English<sp/>for<sp/>now.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1005"><highlight class="normal"><sp/><sp/><sp/>wxSetEnv(wxT(</highlight><highlight class="stringliteral">&quot;LANG&quot;</highlight><highlight class="normal">),<sp/>wxT(</highlight><highlight class="stringliteral">&quot;en_US.UTF-8&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1006"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1007"><highlight class="normal"></highlight></codeline>
<codeline lineno="1008"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>wxLanguageInfo<sp/>*<ref refid="lib_2expat_8h_1a20806b446e455c50dc5653b7d43e3de2" kindref="member">info</ref><sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1009"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!lang.empty())<sp/>{</highlight></codeline>
<codeline lineno="1010"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>info<sp/>=<sp/>wxLocale::FindLanguageInfo(lang);</highlight></codeline>
<codeline lineno="1011"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!info)</highlight></codeline>
<codeline lineno="1012"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>::wxMessageBox(wxString::Format(<ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Language<sp/>\&quot;%s\&quot;<sp/>is<sp/>unknown&quot;</highlight><highlight class="normal">),<sp/>lang));</highlight></codeline>
<codeline lineno="1013"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1014"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!info)</highlight></codeline>
<codeline lineno="1015"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1016"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/><ref refid="_languages_8cpp_1a353959e3b441fd794c0151c0c87ed704" kindref="member">GetSystemLanguageCode</ref>();</highlight></codeline>
<codeline lineno="1017"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>info<sp/>=<sp/>wxLocale::FindLanguageInfo(result);</highlight></codeline>
<codeline lineno="1018"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!info)</highlight></codeline>
<codeline lineno="1019"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="1020"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1021"><highlight class="normal"><sp/><sp/><sp/>mLocale<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>wxLocale(info-&gt;Language);</highlight></codeline>
<codeline lineno="1022"><highlight class="normal"></highlight></codeline>
<codeline lineno="1023"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;<sp/>i&lt;audacityPathList.GetCount();<sp/>i++)</highlight></codeline>
<codeline lineno="1024"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>mLocale-&gt;AddCatalogLookupPathPrefix(audacityPathList[i]);</highlight></codeline>
<codeline lineno="1025"><highlight class="normal"></highlight></codeline>
<codeline lineno="1026"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>LL:<sp/><sp/>Must<sp/>add<sp/>the<sp/>wxWidgets<sp/>catalog<sp/>manually<sp/>since<sp/>the<sp/>search</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1027"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>paths<sp/>were<sp/>not<sp/>set<sp/>up<sp/>when<sp/>mLocale<sp/>was<sp/>created.<sp/><sp/>The</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1028"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>catalogs<sp/>are<sp/>search<sp/>in<sp/>LIFO<sp/>order,<sp/>so<sp/>add<sp/>wxstd<sp/>first.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1029"><highlight class="normal"><sp/><sp/><sp/>mLocale-&gt;AddCatalog(wxT(</highlight><highlight class="stringliteral">&quot;wxstd&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1030"><highlight class="normal"></highlight></codeline>
<codeline lineno="1031"><highlight class="normal"></highlight><highlight class="comment">//<sp/>AUDACITY_NAME<sp/>is<sp/>legitimately<sp/>used<sp/>on<sp/>some<sp/>*nix<sp/>configurations.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1032"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>AUDACITY_NAME</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1033"><highlight class="normal"><sp/><sp/><sp/>mLocale-&gt;AddCatalog(wxT(<ref refid="mac_2config_2i386_2src_2configunix_8h_1ab760c90c0d9919b5b48d4be67f0b81a4" kindref="member">AUDACITY_NAME</ref>));</highlight></codeline>
<codeline lineno="1034"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1035"><highlight class="normal"><sp/><sp/><sp/>mLocale-&gt;AddCatalog(<ref refid="_audacity_app_8cpp_1abb252946b1cf0e5bb7b888a963595cac" kindref="member">IPC_APPL</ref>);</highlight></codeline>
<codeline lineno="1036"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1037"><highlight class="normal"></highlight></codeline>
<codeline lineno="1038"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Initialize<sp/>internationalisation<sp/>(number<sp/>formats<sp/>etc.)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1039"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1040"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>must<sp/>go<sp/>_after_<sp/>creating<sp/>the<sp/>wxLocale<sp/>instance<sp/>because</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1041"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>creating<sp/>the<sp/>wxLocale<sp/>instance<sp/>sets<sp/>the<sp/>application-wide<sp/>locale.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1042"><highlight class="normal"></highlight></codeline>
<codeline lineno="1043"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_internat_1a5de09291f82ccdc28520ee813c05ac6b" kindref="member">Internat::Init</ref>();</highlight></codeline>
<codeline lineno="1044"><highlight class="normal"></highlight></codeline>
<codeline lineno="1045"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Notify<sp/>listeners<sp/>of<sp/>language<sp/>changes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1046"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1047"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxCommandEvent<sp/>evt(EVT_LANGUAGE_CHANGE);</highlight></codeline>
<codeline lineno="1048"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ProcessEvent(evt);</highlight></codeline>
<codeline lineno="1049"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1050"><highlight class="normal"></highlight></codeline>
<codeline lineno="1051"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="1052"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1053"><highlight class="normal"></highlight></codeline>
<codeline lineno="1054" refid="class_audacity_app_1a803c8274f9f7ead756cb99875ebe3ee7" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_audacity_app_1a803c8274f9f7ead756cb99875ebe3ee7" kindref="member">AudacityApp::OnFatalException</ref>()</highlight></codeline>
<codeline lineno="1055"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1056"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(EXPERIMENTAL_CRASH_REPORT)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1057"><highlight class="normal"><sp/><sp/><sp/>GenerateCrashReport(wxDebugReport::Context_Exception);</highlight></codeline>
<codeline lineno="1058"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1059"><highlight class="normal"></highlight></codeline>
<codeline lineno="1060"><highlight class="normal"><sp/><sp/><sp/>exit(-1);</highlight></codeline>
<codeline lineno="1061"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1062"><highlight class="normal"></highlight></codeline>
<codeline lineno="1063"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(EXPERIMENTAL_CRASH_REPORT)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1064"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>AudacityApp::GenerateCrashReport(wxDebugReport::Context<sp/>ctx)</highlight></codeline>
<codeline lineno="1065"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1066"><highlight class="normal"><sp/><sp/><sp/>wxDebugReportCompress<sp/>rpt;</highlight></codeline>
<codeline lineno="1067"><highlight class="normal"><sp/><sp/><sp/>rpt.AddAll(ctx);</highlight></codeline>
<codeline lineno="1068"><highlight class="normal"></highlight></codeline>
<codeline lineno="1069"><highlight class="normal"><sp/><sp/><sp/>wxFileName<sp/><ref refid="filters_8h_1af9d9c04c1350b9a6f62c9a09d378b91b" kindref="member">fn</ref>(<ref refid="class_file_names_1a6bf904497b02ca522212443c42945a47" kindref="member">FileNames::DataDir</ref>(),<sp/>wxT(</highlight><highlight class="stringliteral">&quot;audacity.cfg&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1070"><highlight class="normal"><sp/><sp/><sp/>rpt.AddFile(fn.GetFullPath(),<sp/>wxT(</highlight><highlight class="stringliteral">&quot;Audacity<sp/>Configuration&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1071"><highlight class="normal"><sp/><sp/><sp/>rpt.AddFile(<ref refid="class_file_names_1a6a0e344d4f73c63bc59319478fcd3586" kindref="member">FileNames::PluginRegistry</ref>(),<sp/>wxT(</highlight><highlight class="stringliteral">&quot;Plugin<sp/>Registry&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1072"><highlight class="normal"><sp/><sp/><sp/>rpt.AddFile(<ref refid="class_file_names_1a09d120f72f802c2dc0741c097142f8a9" kindref="member">FileNames::PluginSettings</ref>(),<sp/>wxT(</highlight><highlight class="stringliteral">&quot;Plugin<sp/>Settings&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1073"><highlight class="normal"></highlight></codeline>
<codeline lineno="1074"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ctx<sp/>==<sp/>wxDebugReport::Context_Current)</highlight></codeline>
<codeline lineno="1075"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1076"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>rpt.AddText(wxT(</highlight><highlight class="stringliteral">&quot;audiodev.txt&quot;</highlight><highlight class="normal">),<sp/><ref refid="_audio_i_o_8cpp_1a142d4fde5f1429059adcac9ea1f63425" kindref="member">gAudioIO</ref>-&gt;<ref refid="class_audio_i_o_1a134b6a56921f9c6bd197d80de4ddce48" kindref="member">GetDeviceInfo</ref>(),<sp/>wxT(</highlight><highlight class="stringliteral">&quot;Audio<sp/>Device<sp/>Info&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1077"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1078"><highlight class="normal"></highlight></codeline>
<codeline lineno="1079"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_audacity_logger" kindref="compound">AudacityLogger</ref><sp/>*logger<sp/>=<sp/>GetLogger();</highlight></codeline>
<codeline lineno="1080"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(logger)</highlight></codeline>
<codeline lineno="1081"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1082"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>rpt.AddText(wxT(</highlight><highlight class="stringliteral">&quot;log.txt&quot;</highlight><highlight class="normal">),<sp/>logger-&gt;GetLog(),<sp/>wxT(</highlight><highlight class="stringliteral">&quot;Audacity<sp/>Log&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1083"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1084"><highlight class="normal"></highlight></codeline>
<codeline lineno="1085"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>ok<sp/>=<sp/>wxDebugReportPreviewStd().Show(rpt);</highlight></codeline>
<codeline lineno="1086"><highlight class="normal"></highlight></codeline>
<codeline lineno="1087"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(__WXMSW__)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1088"><highlight class="normal"><sp/><sp/><sp/>wxEventLoop::SetCriticalWindow(<ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="1089"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1090"><highlight class="normal"></highlight></codeline>
<codeline lineno="1091"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ok<sp/>&amp;&amp;<sp/>rpt.Process())</highlight></codeline>
<codeline lineno="1092"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1093"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxTextEntryDialog<sp/>dlg(<ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,</highlight></codeline>
<codeline lineno="1094"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Report<sp/>generated<sp/>to:&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="1095"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Audacity<sp/>Support<sp/>Data&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="1096"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rpt.GetCompressedFileName(),</highlight></codeline>
<codeline lineno="1097"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxOK<sp/>|<sp/>wxCENTER);</highlight></codeline>
<codeline lineno="1098"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>dlg.SetName(dlg.GetTitle());</highlight></codeline>
<codeline lineno="1099"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>dlg.ShowModal();</highlight></codeline>
<codeline lineno="1100"><highlight class="normal"></highlight></codeline>
<codeline lineno="1101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxLogMessage(wxT(</highlight><highlight class="stringliteral">&quot;Report<sp/>generated<sp/>to:<sp/>%s&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="1102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rpt.GetCompressedFileName().c_str());</highlight></codeline>
<codeline lineno="1103"><highlight class="normal"></highlight></codeline>
<codeline lineno="1104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>rpt.Reset();</highlight></codeline>
<codeline lineno="1105"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1106"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1107"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1108"><highlight class="normal"></highlight></codeline>
<codeline lineno="1109" refid="class_audacity_app_1ab0e60c806e654235a1b3fb60c6b5664b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_audacity_app_1ab0e60c806e654235a1b3fb60c6b5664b" kindref="member">AudacityApp::FilterEvent</ref>(wxEvent<sp/>&amp;<sp/>event)</highlight></codeline>
<codeline lineno="1110"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1111"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>!wxCHECK_VERSION(3,<sp/>0,<sp/>0)<sp/>&amp;&amp;<sp/>defined(__WXGTK__)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1112"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>On<sp/>wxGTK,<sp/>there&apos;s<sp/>a<sp/>focus<sp/>issue<sp/>where<sp/>dialogs<sp/>do<sp/>not<sp/>automatically<sp/>pass<sp/>focus</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1113"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>to<sp/>the<sp/>first<sp/>child.<sp/><sp/>This<sp/>means<sp/>that<sp/>you<sp/>can<sp/>use<sp/>the<sp/>keyboard<sp/>to<sp/>navigate<sp/>within</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1114"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>dialog.<sp/><sp/>Watching<sp/>for<sp/>the<sp/>ACTIVATE<sp/>event<sp/>allows<sp/>us<sp/>to<sp/>set<sp/>the<sp/>focus<sp/>ourselves</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1115"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>when<sp/>each<sp/>dialog<sp/>opens.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1116"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1117"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>See<sp/>bug<sp/>#57</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1118"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1119"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(event.GetEventType()<sp/>==<sp/>wxEVT_ACTIVATE)</highlight></codeline>
<codeline lineno="1120"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxActivateEvent<sp/>&amp;<sp/><ref refid="namespacelv2docgen_1a4405dc5a2509537b9ff3b4de10bc28d6" kindref="member">e</ref><sp/>=<sp/>(wxActivateEvent<sp/>&amp;)<sp/>event;</highlight></codeline>
<codeline lineno="1122"><highlight class="normal"></highlight></codeline>
<codeline lineno="1123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(e.GetEventObject()<sp/>&amp;&amp;<sp/>e.GetActive()<sp/>&amp;&amp;<sp/>e.GetEventObject()-&gt;IsKindOf(CLASSINFO(wxDialog)))</highlight></codeline>
<codeline lineno="1124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((wxWindow<sp/>*)e.GetEventObject())-&gt;SetFocus();</highlight></codeline>
<codeline lineno="1126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1127"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1128"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1129"><highlight class="normal"></highlight></codeline>
<codeline lineno="1130"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Event_Skip;</highlight></codeline>
<codeline lineno="1131"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1132"><highlight class="normal"></highlight></codeline>
<codeline lineno="1133" refid="class_audacity_app_1aa27b7daaea956d250ca9cf7b0ea43037" refkind="member"><highlight class="normal"><ref refid="class_audacity_app_1aa27b7daaea956d250ca9cf7b0ea43037" kindref="member">AudacityApp::AudacityApp</ref>()</highlight></codeline>
<codeline lineno="1134"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1135"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Do<sp/>not<sp/>capture<sp/>crashes<sp/>in<sp/>debug<sp/>builds</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1136"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>!defined(__WXDEBUG__)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1137"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(EXPERIMENTAL_CRASH_REPORT)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1138"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(wxUSE_ON_FATAL_EXCEPTION)<sp/>&amp;&amp;<sp/>wxUSE_ON_FATAL_EXCEPTION</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1139"><highlight class="normal"><sp/><sp/><sp/><ref refid="group__group__funcmacro__appinitterm_1ga28a4fb827b93fa6bac18c9666c23ee10" kindref="member">wxHandleFatalExceptions</ref>();</highlight></codeline>
<codeline lineno="1140"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1141"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1142"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1143"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1144"><highlight class="normal"></highlight></codeline>
<codeline lineno="1145"><highlight class="normal"></highlight><highlight class="comment">//<sp/>The<sp/>`main<sp/>program&apos;<sp/>equivalent,<sp/>creating<sp/>the<sp/>windows<sp/>and<sp/>returning<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1146"><highlight class="normal"></highlight><highlight class="comment">//<sp/>main<sp/>frame</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1147" refid="class_audacity_app_1a285f156873feac61aa4297d166e0f2c1" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_audacity_app_1a285f156873feac61aa4297d166e0f2c1" kindref="member">AudacityApp::OnInit</ref>()</highlight></codeline>
<codeline lineno="1148"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1149"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Ensure<sp/>we<sp/>have<sp/>an<sp/>event<sp/>loop<sp/>during<sp/>initialization</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1150"><highlight class="normal"><sp/><sp/><sp/>wxEventLoopGuarantor<sp/>eventLoop;</highlight></codeline>
<codeline lineno="1151"><highlight class="normal"></highlight></codeline>
<codeline lineno="1152"><highlight class="normal"><sp/><sp/><sp/>std::unique_ptr<sp/>&lt;<sp/>wxLog<sp/>&gt;<sp/>{<sp/>wxLog::SetActiveTarget(</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_audacity_logger" kindref="compound">AudacityLogger</ref>)<sp/>};<sp/></highlight><highlight class="comment">//<sp/>DELETE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1153"><highlight class="normal"></highlight></codeline>
<codeline lineno="1154"><highlight class="normal"><sp/><sp/><sp/>mLocale<sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1155"><highlight class="normal"></highlight></codeline>
<codeline lineno="1156"><highlight class="normal"><sp/><sp/><sp/>m_aliasMissingWarningShouldShow<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1157"><highlight class="normal"><sp/><sp/><sp/>m_LastMissingBlockFile<sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1158"><highlight class="normal"></highlight></codeline>
<codeline lineno="1159"><highlight class="normal"><sp/><sp/><sp/>mChecker<sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1160"><highlight class="normal"><sp/><sp/><sp/>mIPCServ<sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1161"><highlight class="normal"></highlight></codeline>
<codeline lineno="1162"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(__WXMAC__)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1163"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Disable<sp/>window<sp/>animation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1164"><highlight class="normal"><sp/><sp/><sp/><ref refid="portburn__winxp_8cpp_1aac4548e0bceb8e1cd0072ae2564575de" kindref="member">wxSystemOptions::SetOption</ref>(wxMAC_WINDOW_PLAIN_TRANSITION,<sp/>1);</highlight></codeline>
<codeline lineno="1165"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1166"><highlight class="normal"></highlight></codeline>
<codeline lineno="1167"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>AUDACITY_NAME</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1168"><highlight class="normal"><sp/><sp/><sp/>wxString<sp/>appName<sp/>=<sp/>wxT(<ref refid="mac_2config_2i386_2src_2configunix_8h_1ab760c90c0d9919b5b48d4be67f0b81a4" kindref="member">AUDACITY_NAME</ref>);</highlight></codeline>
<codeline lineno="1169"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1170"><highlight class="normal"><sp/><sp/><sp/>wxString<sp/>appName<sp/>=<sp/>wxT(</highlight><highlight class="stringliteral">&quot;Audacity&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1171"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1172"><highlight class="normal"></highlight></codeline>
<codeline lineno="1173"><highlight class="normal"><sp/><sp/><sp/><ref refid="app_8h_1a01fd2cb0a8fbaade87800e71a50e855d" kindref="member">wxTheApp</ref>-&gt;<ref refid="classwx_app_console_1a31ba1a76d63a2265d981ceedbfd6d5cf" kindref="member">SetAppName</ref>(appName);</highlight></codeline>
<codeline lineno="1174"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Explicitly<sp/>set<sp/>since<sp/>OSX<sp/>will<sp/>use<sp/>it<sp/>for<sp/>the<sp/>&quot;Quit&quot;<sp/>menu<sp/>item</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1175"><highlight class="normal"><sp/><sp/><sp/><ref refid="app_8h_1a01fd2cb0a8fbaade87800e71a50e855d" kindref="member">wxTheApp</ref>-&gt;<ref refid="classwx_app_console_1a716fee0bf023e73e80c75dc9e817a8b2" kindref="member">SetAppDisplayName</ref>(wxT(</highlight><highlight class="stringliteral">&quot;Audacity&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1176"><highlight class="normal"><sp/><sp/><sp/><ref refid="app_8h_1a01fd2cb0a8fbaade87800e71a50e855d" kindref="member">wxTheApp</ref>-&gt;<ref refid="classwx_app_console_1afc276a78f5ad56d4f34fcf0e93872913" kindref="member">SetVendorName</ref>(wxT(</highlight><highlight class="stringliteral">&quot;Audacity&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1177"><highlight class="normal"></highlight></codeline>
<codeline lineno="1178"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Unused<sp/>strings<sp/>that<sp/>we<sp/>want<sp/>to<sp/>be<sp/>translated,<sp/>even<sp/>though</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1179"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>we&apos;re<sp/>not<sp/>using<sp/>them<sp/>yet...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1180"><highlight class="normal"><sp/><sp/><sp/>wxString<sp/>future1<sp/>=<sp/><ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Master<sp/>Gain<sp/>Control&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1181"><highlight class="normal"></highlight></codeline>
<codeline lineno="1182"><highlight class="normal"><sp/><sp/><sp/>::wxInitAllImageHandlers();</highlight></codeline>
<codeline lineno="1183"><highlight class="normal"></highlight></codeline>
<codeline lineno="1184"><highlight class="normal"><sp/><sp/><sp/>wxFileSystem::AddHandler(</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>wxZipFSHandler);</highlight></codeline>
<codeline lineno="1185"><highlight class="normal"></highlight></codeline>
<codeline lineno="1186"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1187"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Paths:<sp/>set<sp/>search<sp/>path<sp/>and<sp/>temp<sp/>dir<sp/>path</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1188"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1189"><highlight class="normal"></highlight></codeline>
<codeline lineno="1190"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__WXGTK__</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1191"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Search<sp/>path<sp/>(for<sp/>plug-ins,<sp/>translations<sp/>etc)<sp/>is<sp/>(in<sp/>this<sp/>order):</highlight></codeline>
<codeline lineno="1192"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>The<sp/>AUDACITY_PATH<sp/>environment<sp/>variable</highlight></codeline>
<codeline lineno="1193"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>The<sp/>current<sp/>directory</highlight></codeline>
<codeline lineno="1194"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>The<sp/>user&apos;s<sp/>.audacity-files<sp/>directory<sp/>in<sp/>their<sp/>home<sp/>directory</highlight></codeline>
<codeline lineno="1195"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>The<sp/>&quot;share&quot;<sp/>and<sp/>&quot;share/doc&quot;<sp/>directories<sp/>in<sp/>their<sp/>install<sp/>path<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1196"><highlight class="normal"><sp/><sp/><sp/>wxString<sp/>home<sp/>=<sp/>wxGetHomeDir();</highlight></codeline>
<codeline lineno="1197"><highlight class="normal"></highlight></codeline>
<codeline lineno="1198"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>On<sp/>Unix<sp/>systems,<sp/>the<sp/>default<sp/>temp<sp/>dir<sp/>is<sp/>in<sp/>/var/tmp.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1199"><highlight class="normal"><sp/><sp/><sp/>defaultTempDir.Printf(wxT(</highlight><highlight class="stringliteral">&quot;/var/tmp/audacity-%s&quot;</highlight><highlight class="normal">),<sp/>wxGetUserId().c_str());</highlight></codeline>
<codeline lineno="1200"><highlight class="normal"></highlight></codeline>
<codeline lineno="1201"><highlight class="normal"><sp/><sp/><sp/>wxString<sp/>pathVar<sp/>=<sp/>wxGetenv(wxT(</highlight><highlight class="stringliteral">&quot;AUDACITY_PATH&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1202"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pathVar<sp/>!=<sp/>wxT(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="1203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>AddMultiPathsToPathList(pathVar,<sp/>audacityPathList);</highlight></codeline>
<codeline lineno="1204"><highlight class="normal"><sp/><sp/><sp/>AddUniquePathToPathList(::<ref refid="filefn_8cpp_1ab0cc6ceca11d23f61cba353c01eeac06" kindref="member">wxGetCwd</ref>(),<sp/>audacityPathList);</highlight></codeline>
<codeline lineno="1205"><highlight class="normal"></highlight></codeline>
<codeline lineno="1206"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>AUDACITY_NAME</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1207"><highlight class="normal"><sp/><sp/><sp/>AddUniquePathToPathList(wxString::Format(wxT(</highlight><highlight class="stringliteral">&quot;%s/.%s-files&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="1208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>home.c_str(),<sp/>wxT(<ref refid="mac_2config_2i386_2src_2configunix_8h_1ab760c90c0d9919b5b48d4be67f0b81a4" kindref="member">AUDACITY_NAME</ref>)),</highlight></codeline>
<codeline lineno="1209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>audacityPathList);</highlight></codeline>
<codeline lineno="1210"><highlight class="normal"><sp/><sp/><sp/>AddUniquePathToPathList(wxString::Format(wxT(</highlight><highlight class="stringliteral">&quot;%s/share/%s&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="1211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxT(<ref refid="mac_2config_2i386_2src_2configunix_8h_1a643b6b7ac15874197420e2adbea8b6bb" kindref="member">INSTALL_PREFIX</ref>),<sp/>wxT(<ref refid="mac_2config_2i386_2src_2configunix_8h_1ab760c90c0d9919b5b48d4be67f0b81a4" kindref="member">AUDACITY_NAME</ref>)),</highlight></codeline>
<codeline lineno="1212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>audacityPathList);</highlight></codeline>
<codeline lineno="1213"><highlight class="normal"><sp/><sp/><sp/>AddUniquePathToPathList(wxString::Format(wxT(</highlight><highlight class="stringliteral">&quot;%s/share/doc/%s&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="1214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxT(<ref refid="mac_2config_2i386_2src_2configunix_8h_1a643b6b7ac15874197420e2adbea8b6bb" kindref="member">INSTALL_PREFIX</ref>),<sp/>wxT(<ref refid="mac_2config_2i386_2src_2configunix_8h_1ab760c90c0d9919b5b48d4be67f0b81a4" kindref="member">AUDACITY_NAME</ref>)),</highlight></codeline>
<codeline lineno="1215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>audacityPathList);</highlight></codeline>
<codeline lineno="1216"><highlight class="normal"></highlight><highlight class="preprocessor">#else<sp/>//AUDACITY_NAME</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1217"><highlight class="normal"><sp/><sp/><sp/>AddUniquePathToPathList(wxString::Format(wxT(</highlight><highlight class="stringliteral">&quot;%s/.audacity-files&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="1218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>home.c_str()),</highlight></codeline>
<codeline lineno="1219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>audacityPathList);</highlight></codeline>
<codeline lineno="1220"><highlight class="normal"><sp/><sp/><sp/>AddUniquePathToPathList(wxString::Format(wxT(</highlight><highlight class="stringliteral">&quot;%s/share/audacity&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="1221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxT(<ref refid="mac_2config_2i386_2src_2configunix_8h_1a643b6b7ac15874197420e2adbea8b6bb" kindref="member">INSTALL_PREFIX</ref>)),</highlight></codeline>
<codeline lineno="1222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>audacityPathList);</highlight></codeline>
<codeline lineno="1223"><highlight class="normal"><sp/><sp/><sp/>AddUniquePathToPathList(wxString::Format(wxT(</highlight><highlight class="stringliteral">&quot;%s/share/doc/audacity&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="1224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxT(<ref refid="mac_2config_2i386_2src_2configunix_8h_1a643b6b7ac15874197420e2adbea8b6bb" kindref="member">INSTALL_PREFIX</ref>)),</highlight></codeline>
<codeline lineno="1225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>audacityPathList);</highlight></codeline>
<codeline lineno="1226"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/>//AUDACITY_NAME</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1227"><highlight class="normal"></highlight></codeline>
<codeline lineno="1228"><highlight class="normal"><sp/><sp/><sp/>AddUniquePathToPathList(wxString::Format(wxT(</highlight><highlight class="stringliteral">&quot;%s/share/locale&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="1229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxT(<ref refid="mac_2config_2i386_2src_2configunix_8h_1a643b6b7ac15874197420e2adbea8b6bb" kindref="member">INSTALL_PREFIX</ref>)),</highlight></codeline>
<codeline lineno="1230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>audacityPathList);</highlight></codeline>
<codeline lineno="1231"><highlight class="normal"></highlight></codeline>
<codeline lineno="1232"><highlight class="normal"><sp/><sp/><sp/>AddUniquePathToPathList(wxString::Format(wxT(</highlight><highlight class="stringliteral">&quot;./locale&quot;</highlight><highlight class="normal">)),</highlight></codeline>
<codeline lineno="1233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>audacityPathList);</highlight></codeline>
<codeline lineno="1234"><highlight class="normal"></highlight></codeline>
<codeline lineno="1235"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/>//__WXGTK__</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1236"><highlight class="normal"></highlight></codeline>
<codeline lineno="1237"><highlight class="normal"><sp/><sp/><sp/>wxFileName<sp/>tmpFile;</highlight></codeline>
<codeline lineno="1238"><highlight class="normal"><sp/><sp/><sp/>tmpFile.AssignTempFileName(wxT(</highlight><highlight class="stringliteral">&quot;nn&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1239"><highlight class="normal"><sp/><sp/><sp/>wxString<sp/>tmpDirLoc<sp/>=<sp/>tmpFile.GetPath(wxPATH_GET_VOLUME);</highlight></codeline>
<codeline lineno="1240"><highlight class="normal"><sp/><sp/><sp/><ref refid="filefn_8cpp_1a147f3601590c8c29a97d1101e03b2b90" kindref="member">::wxRemoveFile</ref>(tmpFile.GetFullPath());</highlight></codeline>
<codeline lineno="1241"><highlight class="normal"></highlight></codeline>
<codeline lineno="1242"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>On<sp/>Mac<sp/>and<sp/>Windows<sp/>systems,<sp/>use<sp/>the<sp/>directory<sp/>which<sp/>contains<sp/>Audacity.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1243"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__WXMSW__</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1244"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>On<sp/>Windows,<sp/>the<sp/>path<sp/>to<sp/>the<sp/>Audacity<sp/>program<sp/>is<sp/>in<sp/>argv[0]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1245"><highlight class="normal"><sp/><sp/><sp/>wxString<sp/>progPath<sp/>=<sp/><ref refid="filefn_8cpp_1ac51030bd42f56198d4cc482ace51dbb6" kindref="member">wxPathOnly</ref>(argv[0]);</highlight></codeline>
<codeline lineno="1246"><highlight class="normal"><sp/><sp/><sp/>AddUniquePathToPathList(progPath,<sp/>audacityPathList);</highlight></codeline>
<codeline lineno="1247"><highlight class="normal"><sp/><sp/><sp/>AddUniquePathToPathList(progPath<sp/>+<sp/>wxT(</highlight><highlight class="stringliteral">&quot;\\Languages&quot;</highlight><highlight class="normal">),<sp/>audacityPathList);</highlight></codeline>
<codeline lineno="1248"><highlight class="normal"></highlight></codeline>
<codeline lineno="1249"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>See<sp/>bug<sp/>#1271<sp/>for<sp/>explanation<sp/>of<sp/>location</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1250"><highlight class="normal"><sp/><sp/><sp/>tmpDirLoc<sp/>=<sp/><ref refid="class_file_names_1a9f9f44a1857aa1e37de31515b41352ef" kindref="member">FileNames::MkDir</ref>(wxStandardPaths::Get().GetUserLocalDataDir());</highlight></codeline>
<codeline lineno="1251"><highlight class="normal"><sp/><sp/><sp/>defaultTempDir.Printf(wxT(</highlight><highlight class="stringliteral">&quot;%s\\SessionData&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="1252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>tmpDirLoc.c_str());</highlight></codeline>
<codeline lineno="1253"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/>//__WXWSW__</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1254"><highlight class="normal"></highlight></codeline>
<codeline lineno="1255"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__WXMAC__</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1256"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>On<sp/>Mac<sp/>OS<sp/>X,<sp/>the<sp/>path<sp/>to<sp/>the<sp/>Audacity<sp/>program<sp/>is<sp/>in<sp/>argv[0]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1257"><highlight class="normal"><sp/><sp/><sp/>wxString<sp/>progPath<sp/>=<sp/><ref refid="filefn_8cpp_1ac51030bd42f56198d4cc482ace51dbb6" kindref="member">wxPathOnly</ref>(argv[0]);</highlight></codeline>
<codeline lineno="1258"><highlight class="normal"></highlight></codeline>
<codeline lineno="1259"><highlight class="normal"><sp/><sp/><sp/>AddUniquePathToPathList(progPath,<sp/>audacityPathList);</highlight></codeline>
<codeline lineno="1260"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>Audacity<sp/>is<sp/>a<sp/>&quot;bundle&quot;<sp/>package,<sp/>then<sp/>the<sp/>root<sp/>directory<sp/>is</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1261"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>great-great-grandparent<sp/>of<sp/>the<sp/>directory<sp/>containing<sp/>the<sp/>executable.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1262"><highlight class="normal"><sp/><sp/><sp/>AddUniquePathToPathList(progPath<sp/>+<sp/>wxT(</highlight><highlight class="stringliteral">&quot;/../../../&quot;</highlight><highlight class="normal">),<sp/>audacityPathList);</highlight></codeline>
<codeline lineno="1263"><highlight class="normal"></highlight></codeline>
<codeline lineno="1264"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>These<sp/>allow<sp/>for<sp/>searching<sp/>the<sp/>&quot;bundle&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1265"><highlight class="normal"><sp/><sp/><sp/>AddUniquePathToPathList(progPath<sp/>+<sp/>wxT(</highlight><highlight class="stringliteral">&quot;/../&quot;</highlight><highlight class="normal">),<sp/>audacityPathList);</highlight></codeline>
<codeline lineno="1266"><highlight class="normal"><sp/><sp/><sp/>AddUniquePathToPathList(progPath<sp/>+<sp/>wxT(</highlight><highlight class="stringliteral">&quot;/../Resources&quot;</highlight><highlight class="normal">),<sp/>audacityPathList);</highlight></codeline>
<codeline lineno="1267"><highlight class="normal"></highlight></codeline>
<codeline lineno="1268"><highlight class="normal"><sp/><sp/><sp/>defaultTempDir.Printf(wxT(</highlight><highlight class="stringliteral">&quot;%s/audacity-%s&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="1269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>tmpDirLoc.c_str(),</highlight></codeline>
<codeline lineno="1270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxGetUserId().c_str());</highlight></codeline>
<codeline lineno="1271"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/>//__WXMAC__</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1272"><highlight class="normal"></highlight></codeline>
<codeline lineno="1273"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Define<sp/>languanges<sp/>for<sp/>which<sp/>we<sp/>have<sp/>translations,<sp/>but<sp/>that<sp/>are<sp/>not<sp/>yet</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1274"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>supported<sp/>by<sp/>wxWidgets.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1275"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1276"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO:<sp/><sp/>The<sp/>whole<sp/>Language<sp/>initialization<sp/>really<sp/>need<sp/>to<sp/>be<sp/>reworked.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1277"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>It&apos;s<sp/>all<sp/>over<sp/>the<sp/>place.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1278"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>!wxCHECK_VERSION(3,<sp/>0,<sp/>1)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1279"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0,<sp/>cnt<sp/>=<sp/>WXSIZEOF(userLangs);<sp/>i<sp/>&lt;<sp/>cnt;<sp/>i++)</highlight></codeline>
<codeline lineno="1280"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxLocale::AddLanguage(userLangs[i]);</highlight></codeline>
<codeline lineno="1282"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1283"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1284"><highlight class="normal"></highlight></codeline>
<codeline lineno="1285"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Initialize<sp/>preferences<sp/>and<sp/>language</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1286"><highlight class="normal"><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a3397c7599752b11699d31fed649bde31" kindref="member">InitPreferences</ref>();</highlight></codeline>
<codeline lineno="1287"><highlight class="normal"></highlight></codeline>
<codeline lineno="1288"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(__WXMSW__)<sp/>&amp;&amp;<sp/>!defined(__WXUNIVERSAL__)<sp/>&amp;&amp;<sp/>!defined(__CYGWIN__)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1289"><highlight class="normal"><sp/><sp/><sp/>this-&gt;AssociateFileTypes();</highlight></codeline>
<codeline lineno="1290"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1291"><highlight class="normal"></highlight></codeline>
<codeline lineno="1292"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO<sp/>-<sp/>read<sp/>the<sp/>number<sp/>of<sp/>files<sp/>to<sp/>store<sp/>in<sp/>history<sp/>from<sp/>preferences</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1293"><highlight class="normal"><sp/><sp/><sp/>mRecentFiles<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_file_history" kindref="compound">FileHistory</ref>(<ref refid="_audacity_app_8cpp_1ae20c3675919cd63770ef4dd0e4491b06" kindref="member">ID_RECENT_LAST</ref><sp/>-<sp/><ref refid="_audacity_app_8cpp_1a75ec73acb54f1278d01a5390341ac592" kindref="member">ID_RECENT_FIRST</ref><sp/>+<sp/>1,<sp/><ref refid="_audacity_app_8cpp_1aff9507194463a6953ada6ae9cc911498" kindref="member">ID_RECENT_CLEAR</ref>);</highlight></codeline>
<codeline lineno="1294"><highlight class="normal"><sp/><sp/><sp/>mRecentFiles-&gt;Load(*<ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>,<sp/>wxT(</highlight><highlight class="stringliteral">&quot;RecentFiles&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1295"><highlight class="normal"></highlight></codeline>
<codeline lineno="1296"><highlight class="normal"><sp/><sp/><sp/><ref refid="_theme_8cpp_1a778dd1fa4ed7e54e48ec7b65aba2363e" kindref="member">theTheme</ref>.<ref refid="class_theme_1a607ec13b1d2f75c3ca09e78853db8c7b" kindref="member">EnsureInitialised</ref>();</highlight></codeline>
<codeline lineno="1297"><highlight class="normal"></highlight></codeline>
<codeline lineno="1298"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>AColor<sp/>depends<sp/>on<sp/>theTheme.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1299"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_a_color_1a8a046b6440aca3d28ad9f64e1ee2ddfc" kindref="member">AColor::Init</ref>();</highlight></codeline>
<codeline lineno="1300"><highlight class="normal"></highlight></codeline>
<codeline lineno="1301"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Init<sp/>DirManager,<sp/>which<sp/>initializes<sp/>the<sp/>temp<sp/>directory</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1302"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>this<sp/>fails,<sp/>we<sp/>must<sp/>exit<sp/>the<sp/>program.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1303"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!InitTempDir())<sp/>{</highlight></codeline>
<codeline lineno="1304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a75e7db85d21d2e7202e0efc13286f6d9" kindref="member">FinishPreferences</ref>();</highlight></codeline>
<codeline lineno="1305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1306"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1307"><highlight class="normal"></highlight></codeline>
<codeline lineno="1308"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//&lt;&lt;&lt;&lt;<sp/>Try<sp/>to<sp/>avoid<sp/>dialogs<sp/>before<sp/>this<sp/>point.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1309"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>reason<sp/>is<sp/>that<sp/>InitTempDir<sp/>starts<sp/>the<sp/>single<sp/>instance<sp/>checker.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1310"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>we&apos;re<sp/>waiitng<sp/>in<sp/>a<sp/>dialog<sp/>before<sp/>then<sp/>we<sp/>can<sp/>very<sp/>easily</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1311"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>start<sp/>multiple<sp/>instances,<sp/>defeating<sp/>the<sp/>single<sp/>instance<sp/>checker.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1312"><highlight class="normal"></highlight></codeline>
<codeline lineno="1313"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Initialize<sp/>the<sp/>CommandHandler</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1314"><highlight class="normal"><sp/><sp/><sp/>InitCommandHandler();</highlight></codeline>
<codeline lineno="1315"><highlight class="normal"></highlight></codeline>
<codeline lineno="1316"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Initialize<sp/>the<sp/>PluginManager</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1317"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_plugin_manager_1aeea97bed99a6b179dd87dc6fbf1086f7" kindref="member">PluginManager::Get</ref>().<ref refid="class_plugin_manager_1a7b8344ee6e6081589b2599a4cdddc077" kindref="member">Initialize</ref>();</highlight></codeline>
<codeline lineno="1318"><highlight class="normal"></highlight></codeline>
<codeline lineno="1319"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Initialize<sp/>the<sp/>ModuleManager,<sp/>including<sp/>loading<sp/>found<sp/>modules</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1320"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_module_manager_1a3820c2a8ad37e263b7fb2ed3b3aa46eb" kindref="member">ModuleManager::Get</ref>().<ref refid="class_module_manager_1aa24d1307fc562d497706bcd9409a99a3" kindref="member">Initialize</ref>(*mCmdHandler);</highlight></codeline>
<codeline lineno="1321"><highlight class="normal"></highlight></codeline>
<codeline lineno="1322"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Parse<sp/>command<sp/>line<sp/>and<sp/>handle<sp/>options<sp/>that<sp/>might<sp/>require</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1323"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>immediate<sp/>exit...no<sp/>need<sp/>to<sp/>initialize<sp/>all<sp/>of<sp/>the<sp/>audio</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1324"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>stuff<sp/>to<sp/>display<sp/>the<sp/>version<sp/>string.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1325"><highlight class="normal"><sp/><sp/><sp/>wxCmdLineParser<sp/>*parser<sp/>=<sp/>ParseCommandLine();</highlight></codeline>
<codeline lineno="1326"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!parser)</highlight></codeline>
<codeline lineno="1327"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>parser;</highlight></codeline>
<codeline lineno="1329"><highlight class="normal"></highlight></codeline>
<codeline lineno="1330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Either<sp/>user<sp/>requested<sp/>help<sp/>or<sp/>a<sp/>parsing<sp/>error<sp/>occured</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>exit(1);</highlight></codeline>
<codeline lineno="1332"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1333"><highlight class="normal"></highlight></codeline>
<codeline lineno="1334"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(parser-&gt;Found(wxT(</highlight><highlight class="stringliteral">&quot;v&quot;</highlight><highlight class="normal">)))</highlight></codeline>
<codeline lineno="1335"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>parser;</highlight></codeline>
<codeline lineno="1337"><highlight class="normal"></highlight></codeline>
<codeline lineno="1338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxFprintf(<ref refid="namespacewaflib_1_1ansiterm_1a44bedfddf1392d636441272f5f3c95d4" kindref="member">stderr</ref>,<sp/>wxT(</highlight><highlight class="stringliteral">&quot;Audacity<sp/>v%s\n&quot;</highlight><highlight class="normal">),<sp/><ref refid="_audacity_8h_1a06785256c5408ee5ae69de8c7dfc57a5" kindref="member">AUDACITY_VERSION_STRING</ref>);</highlight></codeline>
<codeline lineno="1339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>exit(0);</highlight></codeline>
<codeline lineno="1340"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1341"><highlight class="normal"></highlight></codeline>
<codeline lineno="1342"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>lval;</highlight></codeline>
<codeline lineno="1343"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(parser-&gt;Found(wxT(</highlight><highlight class="stringliteral">&quot;b&quot;</highlight><highlight class="normal">),<sp/>&amp;lval))</highlight></codeline>
<codeline lineno="1344"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(lval<sp/>&lt;<sp/>256<sp/>||<sp/>lval<sp/>&gt;<sp/>100000000)</highlight></codeline>
<codeline lineno="1346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>parser;</highlight></codeline>
<codeline lineno="1348"><highlight class="normal"></highlight></codeline>
<codeline lineno="1349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxPrintf(<ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Block<sp/>size<sp/>must<sp/>be<sp/>within<sp/>256<sp/>to<sp/>100000000\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exit(1);</highlight></codeline>
<codeline lineno="1351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1352"><highlight class="normal"></highlight></codeline>
<codeline lineno="1353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_sequence_1a2ddf277686a187d37f233459a3be2f27" kindref="member">Sequence::SetMaxDiskBlockSize</ref>(lval);</highlight></codeline>
<codeline lineno="1354"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1355"><highlight class="normal"></highlight></codeline>
<codeline lineno="1356"><highlight class="normal"><sp/><sp/><sp/>wxString<sp/>fileName;</highlight></codeline>
<codeline lineno="1357"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(parser-&gt;Found(wxT(</highlight><highlight class="stringliteral">&quot;d&quot;</highlight><highlight class="normal">),<sp/>&amp;fileName))</highlight></codeline>
<codeline lineno="1358"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_auto_save_file" kindref="compound">AutoSaveFile</ref><sp/>asf;</highlight></codeline>
<codeline lineno="1360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(asf.<ref refid="class_auto_save_file_1a32fef2c7202bfc52499c4b96b7ba2f9d" kindref="member">Decode</ref>(fileName))</highlight></codeline>
<codeline lineno="1361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxPrintf(<ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;File<sp/>decoded<sp/>successfully\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxPrintf(<ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Decoding<sp/>failed\n&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>exit(1);</highlight></codeline>
<codeline lineno="1369"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1370"><highlight class="normal"></highlight></codeline>
<codeline lineno="1371"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>BG:<sp/>Create<sp/>a<sp/>temporary<sp/>window<sp/>to<sp/>set<sp/>as<sp/>the<sp/>top<sp/>window</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1372"><highlight class="normal"><sp/><sp/><sp/>wxImage<sp/>logoimage((</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>**)AudacityLogoWithName_xpm);</highlight></codeline>
<codeline lineno="1373"><highlight class="normal"><sp/><sp/><sp/>logoimage.Rescale(logoimage.GetWidth()<sp/>/<sp/>2,<sp/>logoimage.GetHeight()<sp/>/<sp/>2);</highlight></codeline>
<codeline lineno="1374"><highlight class="normal"><sp/><sp/><sp/>wxBitmap<sp/>logo(logoimage);</highlight></codeline>
<codeline lineno="1375"><highlight class="normal"></highlight></codeline>
<codeline lineno="1376"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_audacity_project" kindref="compound">AudacityProject</ref><sp/>*project;</highlight></codeline>
<codeline lineno="1377"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxSplashScreen<sp/>temporarywindow(</highlight></codeline>
<codeline lineno="1379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>logo,</highlight></codeline>
<codeline lineno="1380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxSPLASH_CENTRE_ON_SCREEN<sp/>|<sp/>wxSPLASH_NO_TIMEOUT,</highlight></codeline>
<codeline lineno="1381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0,</highlight></codeline>
<codeline lineno="1382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,</highlight></codeline>
<codeline lineno="1383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxID_ANY,</highlight></codeline>
<codeline lineno="1384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxDefaultPosition,</highlight></codeline>
<codeline lineno="1385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxDefaultSize,</highlight></codeline>
<codeline lineno="1386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxSTAY_ON_TOP);</highlight></codeline>
<codeline lineno="1387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>temporarywindow.SetTitle(<ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Audacity<sp/>is<sp/>starting<sp/>up...&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>SetTopWindow(&amp;temporarywindow);</highlight></codeline>
<codeline lineno="1389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxEventLoopBase::GetActive()-&gt;YieldFor(wxEVT_CATEGORY_UI);</highlight></codeline>
<codeline lineno="1390"><highlight class="normal"></highlight></codeline>
<codeline lineno="1391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//JKC:<sp/>Would<sp/>like<sp/>to<sp/>put<sp/>module<sp/>loading<sp/>here.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1392"><highlight class="normal"></highlight></codeline>
<codeline lineno="1393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>More<sp/>initialization</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1394"><highlight class="normal"></highlight></codeline>
<codeline lineno="1395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_sample_format_8cpp_1aeb7fed8a549dd3e3613b8bcfcc450b24" kindref="member">InitDitherers</ref>();</highlight></codeline>
<codeline lineno="1396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_audio_i_o_8cpp_1a5c082d9ef3612f42a4a78edffdf2a0db" kindref="member">InitAudioIO</ref>();</highlight></codeline>
<codeline lineno="1397"><highlight class="normal"></highlight></codeline>
<codeline lineno="1398"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__WXMAC__</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1399"><highlight class="normal"></highlight></codeline>
<codeline lineno="1400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>On<sp/>the<sp/>Mac,<sp/>users<sp/>don&apos;t<sp/>expect<sp/>a<sp/>program<sp/>to<sp/>quit<sp/>when<sp/>you<sp/>close<sp/>the<sp/>last<sp/>window.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Create<sp/>a<sp/>menubar<sp/>that<sp/>will<sp/>show<sp/>when<sp/>all<sp/>project<sp/>windows<sp/>are<sp/>closed.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1402"><highlight class="normal"></highlight></codeline>
<codeline lineno="1403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxMenu<sp/>*<ref refid="_mac_globals_8h_1a71d29aeaa7b953bc514e85471aff0ee0" kindref="member">fileMenu</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>wxMenu();</highlight></codeline>
<codeline lineno="1404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxMenu<sp/>*recentMenu<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>wxMenu();</highlight></codeline>
<codeline lineno="1405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>fileMenu-&gt;Append(wxID_NEW,<sp/>wxString(<ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;&amp;New&quot;</highlight><highlight class="normal">))<sp/>+<sp/>wxT(</highlight><highlight class="stringliteral">&quot;\tCtrl+N&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>fileMenu-&gt;Append(wxID_OPEN,<sp/>wxString(<ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;&amp;Open...&quot;</highlight><highlight class="normal">))<sp/>+<sp/>wxT(</highlight><highlight class="stringliteral">&quot;\tCtrl+O&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>fileMenu-&gt;AppendSubMenu(recentMenu,<sp/><ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Open<sp/>&amp;Recent...&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>fileMenu-&gt;Append(wxID_ABOUT,<sp/><ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;&amp;About<sp/>Audacity...&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>fileMenu-&gt;Append(wxID_PREFERENCES,<sp/>wxString(<ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;&amp;Preferences...&quot;</highlight><highlight class="normal">))<sp/>+<sp/>wxT(</highlight><highlight class="stringliteral">&quot;\tCtrl+,&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1410"><highlight class="normal"></highlight></codeline>
<codeline lineno="1411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>menuBar<sp/>=<sp/>std::make_unique&lt;wxMenuBar&gt;();</highlight></codeline>
<codeline lineno="1413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>menuBar-&gt;Append(fileMenu,<sp/><ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;&amp;File&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1414"><highlight class="normal"></highlight></codeline>
<codeline lineno="1415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>PRL:<sp/><sp/>Are<sp/>we<sp/>sure<sp/>wxWindows<sp/>will<sp/>not<sp/>leak<sp/>this<sp/>menuBar?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>online<sp/>documentation<sp/>is<sp/>not<sp/>explicit.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxMenuBar::MacSetCommonMenuBar(menuBar.release());</highlight></codeline>
<codeline lineno="1418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1419"><highlight class="normal"></highlight></codeline>
<codeline lineno="1420"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>mRecentFiles-&gt;UseMenu(recentMenu);</highlight></codeline>
<codeline lineno="1421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>mRecentFiles-&gt;AddFilesToMenu(recentMenu);</highlight></codeline>
<codeline lineno="1422"><highlight class="normal"></highlight></codeline>
<codeline lineno="1423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>SetExitOnFrameDelete(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1424"><highlight class="normal"></highlight></codeline>
<codeline lineno="1425"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/>//__WXMAC__</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1426"><highlight class="normal"></highlight></codeline>
<codeline lineno="1427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>project<sp/>=<sp/><ref refid="_project_8cpp_1a28032264c981ed85265ad34afc761335" kindref="member">CreateNewAudacityProject</ref>();</highlight></codeline>
<codeline lineno="1428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>mCmdHandler-&gt;SetProject(project);</highlight></codeline>
<codeline lineno="1429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxWindow<sp/>*<sp/>pWnd<sp/>=<sp/><ref refid="_module_manager_8cpp_1a3c00e7ff11f33ab6c65d46183a51aae2" kindref="member">MakeHijackPanel</ref>();</highlight></codeline>
<codeline lineno="1430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pWnd)</highlight></codeline>
<codeline lineno="1431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>project-&gt;Show(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pWnd-&gt;SetParent(project);</highlight></codeline>
<codeline lineno="1434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SetTopWindow(pWnd);</highlight></codeline>
<codeline lineno="1435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pWnd-&gt;Show(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1437"><highlight class="normal"></highlight></codeline>
<codeline lineno="1438"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>temporarywindow.Show(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1439"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1440"><highlight class="normal"></highlight></codeline>
<codeline lineno="1441"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>project-&gt;<ref refid="class_audacity_project_1a90a9ba27847b89218615939c29affb15" kindref="member">mShowSplashScreen</ref><sp/>)</highlight></codeline>
<codeline lineno="1442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>project-&gt;<ref refid="class_audacity_project_1ac966a22e6f796c9fed91be4169072a06" kindref="member">OnHelpWelcome</ref>();</highlight></codeline>
<codeline lineno="1443"><highlight class="normal"></highlight></codeline>
<codeline lineno="1444"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>JKC<sp/>10-Sep-2007:<sp/>Enable<sp/>monitoring<sp/>from<sp/>the<sp/>start.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1445"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>(recommended<sp/>by<sp/>lprod.org).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1446"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Monitoring<sp/>stops<sp/>again<sp/>after<sp/>any</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1447"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>PLAY<sp/>or<sp/>RECORD<sp/>completes.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1448"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>So<sp/>we<sp/>also<sp/>call<sp/>StartMonitoring<sp/>when<sp/>STOP<sp/>is<sp/>called.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1449"><highlight class="normal"><sp/><sp/><sp/>project-&gt;<ref refid="class_audacity_project_1adf30025df48438cd0a547361051ccfe5" kindref="member">MayStartMonitoring</ref>();</highlight></codeline>
<codeline lineno="1450"><highlight class="normal"></highlight></codeline>
<codeline lineno="1451"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/>#ifdef<sp/>USE_FFMPEG</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1452"><highlight class="normal"><sp/><sp/><sp/>FFmpegStartup();</highlight></codeline>
<codeline lineno="1453"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/>#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1454"><highlight class="normal"></highlight></codeline>
<codeline lineno="1455"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_importer_1a22d282adad95bbdce627953259d9d48c" kindref="member">Importer::Get</ref>().<ref refid="class_importer_1a4e0a11e0b6682371b36c8c68e275cd3f" kindref="member">Initialize</ref>();</highlight></codeline>
<codeline lineno="1456"><highlight class="normal"></highlight></codeline>
<codeline lineno="1457"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1458"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Auto-recovery</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1459"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1460"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>didRecoverAnything<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1461"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="_auto_recovery_8cpp_1a56ed23115d31c43cbc618f348f0537c8" kindref="member">ShowAutoRecoveryDialogIfNeeded</ref>(&amp;project,<sp/>&amp;didRecoverAnything))</highlight></codeline>
<codeline lineno="1462"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Important:<sp/>Prevent<sp/>deleting<sp/>any<sp/>temporary<sp/>files!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_dir_manager_1a560513b156de9ae75cdcf6e68ee29ea5" kindref="member">DirManager::SetDontDeleteTempFiles</ref>();</highlight></codeline>
<codeline lineno="1465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>parser;</highlight></codeline>
<codeline lineno="1466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_audacity_app_8cpp_1aa0b4149f5dec489d58712e2271fb7f99" kindref="member">QuitAudacity</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1468"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1469"><highlight class="normal"></highlight></codeline>
<codeline lineno="1470"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1471"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Remainder<sp/>of<sp/>command<sp/>line<sp/>parsing,<sp/>but<sp/>only<sp/>if<sp/>we<sp/>didn&apos;t<sp/>recover</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1472"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1473"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!didRecoverAnything)</highlight></codeline>
<codeline lineno="1474"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(parser-&gt;Found(wxT(</highlight><highlight class="stringliteral">&quot;t&quot;</highlight><highlight class="normal">)))</highlight></codeline>
<codeline lineno="1476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>parser;</highlight></codeline>
<codeline lineno="1478"><highlight class="normal"><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_benchmark_8cpp_1a91dbd072dbd15abbee041fce6eef22bb" kindref="member">RunBenchmark</ref>(<ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="1480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1482"><highlight class="normal"></highlight></codeline>
<codeline lineno="1483"><highlight class="normal"></highlight><highlight class="comment">//<sp/>As<sp/>of<sp/>wx3,<sp/>there&apos;s<sp/>no<sp/>need<sp/>to<sp/>process<sp/>the<sp/>filename<sp/>arguments<sp/>as<sp/>they</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1484"><highlight class="normal"></highlight><highlight class="comment">//<sp/>will<sp/>be<sp/>sent<sp/>view<sp/>the<sp/>MacOpenFile()<sp/>method.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1485"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>!defined(__WXMAC__)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0,<sp/>cnt<sp/>=<sp/>parser-&gt;GetParamCount();<sp/>i<sp/>&lt;<sp/>cnt;<sp/>i++)</highlight></codeline>
<codeline lineno="1487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MRUOpen(parser-&gt;GetParam(i));</highlight></codeline>
<codeline lineno="1489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1490"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1491"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1492"><highlight class="normal"></highlight></codeline>
<codeline lineno="1493"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>parser;</highlight></codeline>
<codeline lineno="1494"><highlight class="normal"></highlight></codeline>
<codeline lineno="1495"><highlight class="normal"><sp/><sp/><sp/>gInited<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1496"><highlight class="normal"></highlight></codeline>
<codeline lineno="1497"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_module_manager_1a3820c2a8ad37e263b7fb2ed3b3aa46eb" kindref="member">ModuleManager::Get</ref>().<ref refid="class_module_manager_1a570d7a26f2684ca2eb0dc1daedd18145" kindref="member">Dispatch</ref>(<ref refid="_scripter_callback_8cpp_1a9f2f762f76ca014f9381eeabccdef359a1714df437a6091c2065912b4f65d79b9" kindref="member">AppInitialized</ref>);</highlight></codeline>
<codeline lineno="1498"><highlight class="normal"></highlight></codeline>
<codeline lineno="1499"><highlight class="normal"><sp/><sp/><sp/>mWindowRectAlreadySaved<sp/>=<sp/><ref refid="cext_8h_1aa93f0eb578d23995850d61f7d61c55c1" kindref="member">FALSE</ref>;</highlight></codeline>
<codeline lineno="1500"><highlight class="normal"></highlight></codeline>
<codeline lineno="1501"><highlight class="normal"><sp/><sp/><sp/>mTimer.SetOwner(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>kAudacityAppTimerID);</highlight></codeline>
<codeline lineno="1502"><highlight class="normal"><sp/><sp/><sp/>mTimer.Start(200);</highlight></codeline>
<codeline lineno="1503"><highlight class="normal"></highlight></codeline>
<codeline lineno="1504"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="cext_8h_1aa8cecfc5c5c054d2875c03e77b7be15d" kindref="member">TRUE</ref>;</highlight></codeline>
<codeline lineno="1505"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1506"><highlight class="normal"></highlight></codeline>
<codeline lineno="1507"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>AudacityApp::InitCommandHandler()</highlight></codeline>
<codeline lineno="1508"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1509"><highlight class="normal"><sp/><sp/><sp/>mCmdHandler<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_command_handler" kindref="compound">CommandHandler</ref>(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1510"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//SetNextHandler(mCmdHandler);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1511"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1512"><highlight class="normal"></highlight></codeline>
<codeline lineno="1513"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>AudacityApp::DeInitCommandHandler()</highlight></codeline>
<codeline lineno="1514"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1515"><highlight class="normal"><sp/><sp/><sp/>wxASSERT(<ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>!=<sp/>mCmdHandler);</highlight></codeline>
<codeline lineno="1516"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>mCmdHandler;</highlight></codeline>
<codeline lineno="1517"><highlight class="normal"><sp/><sp/><sp/>mCmdHandler<sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1518"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1519"><highlight class="normal"></highlight></codeline>
<codeline lineno="1520"><highlight class="normal"></highlight><highlight class="comment">//<sp/>AppCommandEvent<sp/>callback<sp/>-<sp/>just<sp/>pass<sp/>the<sp/>event<sp/>on<sp/>to<sp/>the<sp/>CommandHandler</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1521" refid="class_audacity_app_1ae6f0848bca594f34dc0bb9cacf536e07" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_audacity_app_1ae6f0848bca594f34dc0bb9cacf536e07" kindref="member">AudacityApp::OnReceiveCommand</ref>(<ref refid="class_app_command_event" kindref="compound">AppCommandEvent</ref><sp/>&amp;event)</highlight></codeline>
<codeline lineno="1522"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1523"><highlight class="normal"><sp/><sp/><sp/>wxASSERT(<ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/>!=<sp/>mCmdHandler);</highlight></codeline>
<codeline lineno="1524"><highlight class="normal"><sp/><sp/><sp/>mCmdHandler-&gt;OnReceiveCommand(event);</highlight></codeline>
<codeline lineno="1525"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1526"><highlight class="normal"></highlight></codeline>
<codeline lineno="1527"><highlight class="normal"></highlight><highlight class="comment">//<sp/>We<sp/>now<sp/>disallow<sp/>temp<sp/>directory<sp/>name<sp/>that<sp/>puts<sp/>it<sp/>where<sp/>cleaner<sp/>apps<sp/>will<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1528"><highlight class="normal"></highlight><highlight class="comment">//<sp/>try<sp/>to<sp/>clean<sp/>out<sp/>the<sp/>files.<sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1529" refid="class_audacity_app_1a551a639cc462558c0e1f24fd1ac7b0ae" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_audacity_app_1a551a639cc462558c0e1f24fd1ac7b0ae" kindref="member">AudacityApp::IsTempDirectoryNameOK</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>wxString<sp/>&amp;<sp/>Name<sp/>){</highlight></codeline>
<codeline lineno="1530"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/><sp/>__WXMSW__<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1531"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1532"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1533"><highlight class="normal"><sp/><sp/><sp/>wxFileName<sp/>tmpFile;</highlight></codeline>
<codeline lineno="1534"><highlight class="normal"><sp/><sp/><sp/>tmpFile.AssignTempFileName(wxT(</highlight><highlight class="stringliteral">&quot;nn&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1535"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>use<sp/>Long<sp/>Path<sp/>to<sp/>expand<sp/>out<sp/>any<sp/>abbreviated<sp/>long<sp/>substrings.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1536"><highlight class="normal"><sp/><sp/><sp/>wxString<sp/>BadPath<sp/>=<sp/>tmpFile.GetLongPath();</highlight></codeline>
<codeline lineno="1537"><highlight class="normal"><sp/><sp/><sp/><ref refid="filefn_8cpp_1a147f3601590c8c29a97d1101e03b2b90" kindref="member">::wxRemoveFile</ref>(tmpFile.GetFullPath());</highlight></codeline>
<codeline lineno="1538"><highlight class="normal"><sp/><sp/><sp/>BadPath<sp/>=<sp/>BadPath.BeforeLast(<sp/></highlight><highlight class="charliteral">&apos;\\&apos;</highlight><highlight class="normal"><sp/>)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;\\&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1539"><highlight class="normal"><sp/><sp/><sp/>wxFileName<sp/>cmpFile(<sp/>Name<sp/>);</highlight></codeline>
<codeline lineno="1540"><highlight class="normal"><sp/><sp/><sp/>wxString<sp/>NameCanonical<sp/>=<sp/>cmpFile.GetLongPath(<sp/>)<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;\\&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1541"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>!(NameCanonical.StartsWith(<sp/>BadPath<sp/>));</highlight></codeline>
<codeline lineno="1542"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1543"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1544"><highlight class="normal"></highlight></codeline>
<codeline lineno="1545"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>AudacityApp::InitTempDir()</highlight></codeline>
<codeline lineno="1546"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1547"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>We<sp/>need<sp/>to<sp/>find<sp/>a<sp/>temp<sp/>directory<sp/>location.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1548"><highlight class="normal"></highlight></codeline>
<codeline lineno="1549"><highlight class="normal"><sp/><sp/><sp/>wxString<sp/>tempFromPrefs<sp/>=<sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Read(wxT(</highlight><highlight class="stringliteral">&quot;/Directories/TempDir&quot;</highlight><highlight class="normal">),<sp/>wxT(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1550"><highlight class="normal"><sp/><sp/><sp/>wxString<sp/>tempDefaultLoc<sp/>=<sp/><ref refid="_audacity_app_8h_1a1739dbd936ddeaedf4722b5f0b331976" kindref="member">wxGetApp</ref>().<ref refid="class_audacity_app_1a841018e439ee4c150680676585e71a1b" kindref="member">defaultTempDir</ref>;</highlight></codeline>
<codeline lineno="1551"><highlight class="normal"></highlight></codeline>
<codeline lineno="1552"><highlight class="normal"><sp/><sp/><sp/>wxString<sp/>temp<sp/>=<sp/>wxT(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1553"><highlight class="normal"></highlight></codeline>
<codeline lineno="1554"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/>#ifdef<sp/>__WXGTK__</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1555"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(tempFromPrefs.Length()<sp/>&gt;<sp/>0<sp/>&amp;&amp;<sp/>tempFromPrefs[0]<sp/>!=<sp/>wxT(</highlight><highlight class="charliteral">&apos;/&apos;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="1556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>tempFromPrefs<sp/>=<sp/>wxT(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1557"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/>#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1558"><highlight class="normal"></highlight></codeline>
<codeline lineno="1559"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Stop<sp/>wxWidgets<sp/>from<sp/>printing<sp/>its<sp/>own<sp/>error<sp/>messages</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1560"><highlight class="normal"></highlight></codeline>
<codeline lineno="1561"><highlight class="normal"><sp/><sp/><sp/>wxLogNull<sp/>logNo;</highlight></codeline>
<codeline lineno="1562"><highlight class="normal"></highlight></codeline>
<codeline lineno="1563"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Try<sp/>temp<sp/>dir<sp/>that<sp/>was<sp/>stored<sp/>in<sp/>prefs<sp/>first</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1564"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>!IsTempDirectoryNameOK(<sp/>tempFromPrefs<sp/>)<sp/>){</highlight></codeline>
<codeline lineno="1565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>;</highlight><highlight class="comment">//<sp/>Bad<sp/>name?<sp/><sp/>Don&apos;t<sp/>try<sp/>and<sp/>use<sp/>it.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1566"><highlight class="normal"><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(tempFromPrefs<sp/>!=<sp/>wxT(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="1567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="filefn_8cpp_1a1afeda5ff8348a6be57cdb029c628109" kindref="member">wxDirExists</ref>(tempFromPrefs))</highlight></codeline>
<codeline lineno="1568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>temp<sp/>=<sp/>tempFromPrefs;</highlight></codeline>
<codeline lineno="1569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="filefn_8cpp_1a1acd2a5b696b23db8c274816fe2b8e57" kindref="member">wxMkdir</ref>(tempFromPrefs,<sp/>0755))</highlight></codeline>
<codeline lineno="1570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>temp<sp/>=<sp/>tempFromPrefs;</highlight></codeline>
<codeline lineno="1571"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1572"><highlight class="normal"></highlight></codeline>
<codeline lineno="1573"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>that<sp/>didn&apos;t<sp/>work,<sp/>try<sp/>the<sp/>default<sp/>location</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1574"><highlight class="normal"></highlight></codeline>
<codeline lineno="1575"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(temp==wxT(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">)<sp/>&amp;&amp;<sp/>tempDefaultLoc<sp/>!=<sp/>wxT(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="1576"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="filefn_8cpp_1a1afeda5ff8348a6be57cdb029c628109" kindref="member">wxDirExists</ref>(tempDefaultLoc))</highlight></codeline>
<codeline lineno="1577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>temp<sp/>=<sp/>tempDefaultLoc;</highlight></codeline>
<codeline lineno="1578"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="filefn_8cpp_1a1acd2a5b696b23db8c274816fe2b8e57" kindref="member">wxMkdir</ref>(tempDefaultLoc,<sp/>0755))</highlight></codeline>
<codeline lineno="1579"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>temp<sp/>=<sp/>tempDefaultLoc;</highlight></codeline>
<codeline lineno="1580"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1581"><highlight class="normal"></highlight></codeline>
<codeline lineno="1582"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>temp<sp/>directory<sp/>ownership<sp/>on<sp/>*nix<sp/>systems<sp/>only</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1583"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/>#ifdef<sp/>__UNIX__</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1584"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">stat<sp/>tempStatBuf;</highlight></codeline>
<codeline lineno="1585"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>lstat(temp.mb_str(),<sp/>&amp;tempStatBuf)<sp/>!=<sp/>0<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="1586"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>temp.clear();</highlight></codeline>
<codeline lineno="1587"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1588"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1589"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>geteuid()<sp/>!=<sp/>tempStatBuf.st_uid<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="1590"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>temp.clear();</highlight></codeline>
<codeline lineno="1591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1592"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1593"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/>#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1594"><highlight class="normal"></highlight></codeline>
<codeline lineno="1595"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(temp<sp/>==<sp/>wxT(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="1596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Failed</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>!IsTempDirectoryNameOK(<sp/>tempFromPrefs<sp/>)<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="1598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxMessageBox(<ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Audacity<sp/>could<sp/>not<sp/>find<sp/>a<sp/>safe<sp/>place<sp/>to<sp/>store<sp/>temporary<sp/>files.\nAudacity<sp/>needs<sp/>a<sp/>place<sp/>where<sp/>automatic<sp/>cleanup<sp/>programs<sp/>won&apos;t<sp/>delete<sp/>the<sp/>temporary<sp/>files.\nPlease<sp/>enter<sp/>an<sp/>appropriate<sp/>directory<sp/>in<sp/>the<sp/>preferences<sp/>dialog.&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1600"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxMessageBox(<ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Audacity<sp/>could<sp/>not<sp/>find<sp/>a<sp/>place<sp/>to<sp/>store<sp/>temporary<sp/>files.\nPlease<sp/>enter<sp/>an<sp/>appropriate<sp/>directory<sp/>in<sp/>the<sp/>preferences<sp/>dialog.&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1602"><highlight class="normal"></highlight></codeline>
<codeline lineno="1603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Only<sp/>want<sp/>one<sp/>page<sp/>of<sp/>the<sp/>preferences</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_directories_prefs_factory" kindref="compound">DirectoriesPrefsFactory</ref><sp/>directoriesPrefsFactory;</highlight></codeline>
<codeline lineno="1605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_prefs_dialog_1abce19159c638bc50c25147e479275388" kindref="member">PrefsDialog::Factories</ref><sp/>factories;</highlight></codeline>
<codeline lineno="1606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>factories.push_back(&amp;directoriesPrefsFactory);</highlight></codeline>
<codeline lineno="1607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_global_prefs_dialog" kindref="compound">GlobalPrefsDialog</ref><sp/>dialog(<ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>,<sp/>factories);</highlight></codeline>
<codeline lineno="1608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>dialog.<ref refid="class_prefs_dialog_1ada786bf98260cc6f72c3aefcadb5aba4" kindref="member">ShowModal</ref>();</highlight></codeline>
<codeline lineno="1609"><highlight class="normal"></highlight></codeline>
<codeline lineno="1610"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxMessageBox(<ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Audacity<sp/>is<sp/>now<sp/>going<sp/>to<sp/>exit.<sp/>Please<sp/>launch<sp/>Audacity<sp/>again<sp/>to<sp/>use<sp/>the<sp/>new<sp/>temporary<sp/>directory.&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1611"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1612"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1613"><highlight class="normal"></highlight></codeline>
<codeline lineno="1614"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>permissions<sp/>don&apos;t<sp/>always<sp/>seem<sp/>to<sp/>be<sp/>set<sp/>on</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1615"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>some<sp/>platforms.<sp/><sp/>Hopefully<sp/>this<sp/>fixes<sp/>it...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1616"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/>#ifdef<sp/>__UNIX__</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1617"><highlight class="normal"><sp/><sp/><sp/>chmod(<ref refid="_internat_8h_1a2ae58fbfc522b438be110a26a1a1ebaa" kindref="member">OSFILENAME</ref>(temp),<sp/>0755);</highlight></codeline>
<codeline lineno="1618"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/>#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1619"><highlight class="normal"></highlight></codeline>
<codeline lineno="1620"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>bSuccess<sp/>=<sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/Directories/TempDir&quot;</highlight><highlight class="normal">),<sp/>temp)<sp/>&amp;&amp;<sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Flush();</highlight></codeline>
<codeline lineno="1621"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_dir_manager_1aeaa74f74860153cd04044f5212d3da82" kindref="member">DirManager::SetTempDir</ref>(temp);</highlight></codeline>
<codeline lineno="1622"><highlight class="normal"></highlight></codeline>
<codeline lineno="1623"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Make<sp/>sure<sp/>the<sp/>temp<sp/>dir<sp/>isn&apos;t<sp/>locked<sp/>by<sp/>another<sp/>process.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1624"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!CreateSingleInstanceChecker(temp))</highlight></codeline>
<codeline lineno="1625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1626"><highlight class="normal"></highlight></codeline>
<codeline lineno="1627"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>bSuccess;</highlight></codeline>
<codeline lineno="1628"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1629"><highlight class="normal"></highlight></codeline>
<codeline lineno="1630"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Return<sp/>true<sp/>if<sp/>there<sp/>are<sp/>no<sp/>other<sp/>instances<sp/>of<sp/>Audacity<sp/>running,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1631"><highlight class="normal"></highlight><highlight class="comment">//<sp/>false<sp/>otherwise.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1632"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1633"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Use<sp/>&quot;dir&quot;<sp/>for<sp/>creating<sp/>lockfiles<sp/>(on<sp/>OS<sp/>X<sp/>and<sp/>Unix).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1634"><highlight class="normal"></highlight></codeline>
<codeline lineno="1635"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>AudacityApp::CreateSingleInstanceChecker(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>wxString<sp/>&amp;dir)</highlight></codeline>
<codeline lineno="1636"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1637"><highlight class="normal"><sp/><sp/><sp/>wxString<sp/><ref refid="lib_2expat_8h_1a1b49b495b59f9e73205b69ad1a2965b0" kindref="member">name</ref><sp/>=<sp/>wxString::Format(wxT(</highlight><highlight class="stringliteral">&quot;audacity-lock-%s&quot;</highlight><highlight class="normal">),<sp/>wxGetUserId().c_str());</highlight></codeline>
<codeline lineno="1638"><highlight class="normal"><sp/><sp/><sp/>mChecker<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>wxSingleInstanceChecker();</highlight></codeline>
<codeline lineno="1639"><highlight class="normal"></highlight></codeline>
<codeline lineno="1640"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(__UNIX__)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1641"><highlight class="normal"><sp/><sp/><sp/>wxString<sp/>sockFile(dir<sp/>+<sp/>wxT(</highlight><highlight class="stringliteral">&quot;/.audacity.sock&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1642"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1643"><highlight class="normal"></highlight></codeline>
<codeline lineno="1644"><highlight class="normal"><sp/><sp/><sp/>wxString<sp/>runningTwoCopiesStr<sp/>=<sp/><ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Running<sp/>two<sp/>copies<sp/>of<sp/>Audacity<sp/>simultaneously<sp/>may<sp/>cause\ndata<sp/>loss<sp/>or<sp/>cause<sp/>your<sp/>system<sp/>to<sp/>crash.\n\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1645"><highlight class="normal"></highlight></codeline>
<codeline lineno="1646"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!mChecker-&gt;Create(name,<sp/>dir))<sp/>{</highlight></codeline>
<codeline lineno="1647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Error<sp/>initializing<sp/>the<sp/>wxSingleInstanceChecker.<sp/><sp/>We<sp/>don&apos;t<sp/>know</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>whether<sp/>there<sp/>is<sp/>another<sp/>instance<sp/>running<sp/>or<sp/>not.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1649"><highlight class="normal"></highlight></codeline>
<codeline lineno="1650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxString<sp/>prompt<sp/>=</highlight></codeline>
<codeline lineno="1651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Audacity<sp/>was<sp/>not<sp/>able<sp/>to<sp/>lock<sp/>the<sp/>temporary<sp/>files<sp/>directory.\nThis<sp/>folder<sp/>may<sp/>be<sp/>in<sp/>use<sp/>by<sp/>another<sp/>copy<sp/>of<sp/>Audacity.\n&quot;</highlight><highlight class="normal">)<sp/>+</highlight></codeline>
<codeline lineno="1652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>runningTwoCopiesStr<sp/>+</highlight></codeline>
<codeline lineno="1653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Do<sp/>you<sp/>still<sp/>want<sp/>to<sp/>start<sp/>Audacity?&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="namespacelv2specgen_1a7dac92a6e76f9cbfb25e902b88b09867" kindref="member">action</ref><sp/>=<sp/>wxMessageBox(prompt,</highlight></codeline>
<codeline lineno="1655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Error<sp/>Locking<sp/>Temporary<sp/>Folder&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="1656"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxYES_NO<sp/>|<sp/>wxICON_EXCLAMATION,</highlight></codeline>
<codeline lineno="1657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="1658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(action<sp/>==<sp/>wxNO)<sp/>{</highlight></codeline>
<codeline lineno="1659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>mChecker;</highlight></codeline>
<codeline lineno="1660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1662"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1663"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>mChecker-&gt;IsAnotherRunning()<sp/>)<sp/>{</highlight></codeline>
<codeline lineno="1664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Parse<sp/>the<sp/>command<sp/>line<sp/>to<sp/>ensure<sp/>correct<sp/>syntax,<sp/>but</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ignore<sp/>options<sp/>and<sp/>only<sp/>use<sp/>the<sp/>filenames,<sp/>if<sp/>any.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxCmdLineParser<sp/>*parser<sp/>=<sp/>ParseCommandLine();</highlight></codeline>
<codeline lineno="1667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!parser)</highlight></codeline>
<codeline lineno="1668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Complaints<sp/>have<sp/>already<sp/>been<sp/>made</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1672"><highlight class="normal"></highlight></codeline>
<codeline lineno="1673"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(__WXMSW__)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>On<sp/>Windows,<sp/>we<sp/>attempt<sp/>to<sp/>make<sp/>a<sp/>connection</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1675"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>to<sp/>an<sp/>already<sp/>active<sp/>Audacity.<sp/><sp/>If<sp/>successful,<sp/>we<sp/>send</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>first<sp/>command<sp/>line<sp/>argument<sp/>(the<sp/>audio<sp/>file<sp/>name)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1677"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>to<sp/>that<sp/>Audacity<sp/>for<sp/>processing.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1678"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxClient<sp/>client;</highlight></codeline>
<codeline lineno="1679"><highlight class="normal"></highlight></codeline>
<codeline lineno="1680"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>We<sp/>try<sp/>up<sp/>to<sp/>50<sp/>times<sp/>since<sp/>there&apos;s<sp/>a<sp/>small<sp/>window</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1681"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>where<sp/>the<sp/>server<sp/>may<sp/>not<sp/>have<sp/>been<sp/>fully<sp/>initialized.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1682"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>50;<sp/>i++)</highlight></codeline>
<codeline lineno="1683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxConnectionBase<sp/>*<ref refid="namespacemw2html_1a97cceba50a9da89b1bab3ff979d41a2b" kindref="member">conn</ref><sp/>=<sp/>client.MakeConnection(wxEmptyString,<sp/><ref refid="_audacity_app_8cpp_1abb252946b1cf0e5bb7b888a963595cac" kindref="member">IPC_APPL</ref>,<sp/><ref refid="_audacity_app_8cpp_1ae6f29427716f4461d23d5d68c6c0053d" kindref="member">IPC_TOPIC</ref>);</highlight></codeline>
<codeline lineno="1685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(conn)</highlight></codeline>
<codeline lineno="1686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>ok<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(parser-&gt;GetParamCount()<sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="1689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Send<sp/>each<sp/>parameter<sp/>to<sp/>existing<sp/>Audacity</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1691"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0,<sp/>cnt<sp/>=<sp/>parser-&gt;GetParamCount();<sp/>i<sp/>&lt;<sp/>cnt;<sp/>i++)</highlight></codeline>
<codeline lineno="1692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1693"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ok<sp/>=<sp/>conn-&gt;Execute(parser-&gt;GetParam(i));</highlight></codeline>
<codeline lineno="1694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Send<sp/>an<sp/>empty<sp/>string<sp/>to<sp/>force<sp/>existing<sp/>Audacity<sp/>to<sp/>front</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ok<sp/>=<sp/>conn-&gt;Execute(wxEmptyString);</highlight></codeline>
<codeline lineno="1700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1701"><highlight class="normal"></highlight></codeline>
<codeline lineno="1702"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/><ref refid="namespacemw2html_1a97cceba50a9da89b1bab3ff979d41a2b" kindref="member">conn</ref>;</highlight></codeline>
<codeline lineno="1703"><highlight class="normal"></highlight></codeline>
<codeline lineno="1704"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ok)</highlight></codeline>
<codeline lineno="1705"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1706"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>parser;</highlight></codeline>
<codeline lineno="1707"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1709"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1710"><highlight class="normal"></highlight></codeline>
<codeline lineno="1711"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxMilliSleep(10);</highlight></codeline>
<codeline lineno="1712"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1713"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>On<sp/>Unix-like<sp/>machines,<sp/>we<sp/>use<sp/>a<sp/>local<sp/>(file<sp/>based)<sp/>socket<sp/>to</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>send<sp/>the<sp/>first<sp/>command<sp/>line<sp/>argument<sp/>to<sp/>an<sp/>already<sp/>running</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Audacity.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxUNIXaddress<sp/>addr;</highlight></codeline>
<codeline lineno="1718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>addr.Filename(sockFile);</highlight></codeline>
<codeline lineno="1719"><highlight class="normal"></highlight></codeline>
<codeline lineno="1720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Setup<sp/>the<sp/>socket</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxSocketClient<sp/>*sock<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>wxSocketClient();</highlight></codeline>
<codeline lineno="1722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>sock-&gt;SetFlags(wxSOCKET_WAITALL);</highlight></codeline>
<codeline lineno="1723"><highlight class="normal"></highlight></codeline>
<codeline lineno="1724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>We<sp/>try<sp/>up<sp/>to<sp/>50<sp/>times<sp/>since<sp/>there&apos;s<sp/>a<sp/>small<sp/>window</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>where<sp/>the<sp/>server<sp/>may<sp/>not<sp/>have<sp/>been<sp/>fully<sp/>initialized.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>50;<sp/>i++)</highlight></codeline>
<codeline lineno="1727"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Connect<sp/>to<sp/>the<sp/>existing<sp/>Audacity</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sock-&gt;Connect(addr,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(sock-&gt;IsConnected())</highlight></codeline>
<codeline lineno="1731"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1732"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0,<sp/>cnt<sp/>=<sp/>parser-&gt;GetParamCount();<sp/>i<sp/>&lt;<sp/>cnt;<sp/>i++)</highlight></codeline>
<codeline lineno="1733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Send<sp/>the<sp/>filename</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxString<sp/>param<sp/>=<sp/>parser-&gt;GetParam(i);</highlight></codeline>
<codeline lineno="1736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sock-&gt;WriteMsg((</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>wxChar<sp/>*)<sp/>param.c_str(),<sp/>(param.Len()<sp/>+<sp/>1)<sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(wxChar));</highlight></codeline>
<codeline lineno="1737"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1738"><highlight class="normal"></highlight></codeline>
<codeline lineno="1739"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sock-&gt;Destroy();</highlight></codeline>
<codeline lineno="1740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>parser;</highlight></codeline>
<codeline lineno="1741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1743"><highlight class="normal"></highlight></codeline>
<codeline lineno="1744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxMilliSleep(100);</highlight></codeline>
<codeline lineno="1745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1746"><highlight class="normal"></highlight></codeline>
<codeline lineno="1747"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>sock-&gt;Destroy();</highlight></codeline>
<codeline lineno="1748"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1749"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>There<sp/>is<sp/>another<sp/>copy<sp/>of<sp/>Audacity<sp/>running.<sp/><sp/>Force<sp/>quit.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1750"><highlight class="normal"></highlight></codeline>
<codeline lineno="1751"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxString<sp/>prompt<sp/>=</highlight></codeline>
<codeline lineno="1752"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;The<sp/>system<sp/>has<sp/>detected<sp/>that<sp/>another<sp/>copy<sp/>of<sp/>Audacity<sp/>is<sp/>running.\n&quot;</highlight><highlight class="normal">)<sp/>+</highlight></codeline>
<codeline lineno="1753"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>runningTwoCopiesStr<sp/>+</highlight></codeline>
<codeline lineno="1754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Use<sp/>the<sp/>New<sp/>or<sp/>Open<sp/>commands<sp/>in<sp/>the<sp/>currently<sp/>running<sp/>Audacity\nprocess<sp/>to<sp/>open<sp/>multiple<sp/>projects<sp/>simultaneously.\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1755"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxMessageBox(prompt,<sp/><ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Audacity<sp/>is<sp/>already<sp/>running&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="1756"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxOK<sp/>|<sp/>wxICON_ERROR);</highlight></codeline>
<codeline lineno="1757"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>parser;</highlight></codeline>
<codeline lineno="1758"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>mChecker;</highlight></codeline>
<codeline lineno="1759"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1760"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1761"><highlight class="normal"></highlight></codeline>
<codeline lineno="1762"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(__WXMSW__)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1763"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Create<sp/>the<sp/>DDE<sp/>IPC<sp/>server</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1764"><highlight class="normal"><sp/><sp/><sp/>mIPCServ<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_i_p_c_serv" kindref="compound">IPCServ</ref>(<ref refid="_audacity_app_8cpp_1abb252946b1cf0e5bb7b888a963595cac" kindref="member">IPC_APPL</ref>);</highlight></codeline>
<codeline lineno="1765"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1766"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="structmask" kindref="compound">mask</ref><sp/>=<sp/>umask(077);</highlight></codeline>
<codeline lineno="1767"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keyword">remove</highlight><highlight class="normal">(<ref refid="_internat_8h_1a2ae58fbfc522b438be110a26a1a1ebaa" kindref="member">OSFILENAME</ref>(sockFile));</highlight></codeline>
<codeline lineno="1768"><highlight class="normal"><sp/><sp/><sp/>wxUNIXaddress<sp/>addr;</highlight></codeline>
<codeline lineno="1769"><highlight class="normal"><sp/><sp/><sp/>addr.Filename(sockFile);</highlight></codeline>
<codeline lineno="1770"><highlight class="normal"><sp/><sp/><sp/>mIPCServ<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>wxSocketServer(addr,<sp/>wxSOCKET_NOWAIT);</highlight></codeline>
<codeline lineno="1771"><highlight class="normal"><sp/><sp/><sp/>umask(mask);</highlight></codeline>
<codeline lineno="1772"><highlight class="normal"></highlight></codeline>
<codeline lineno="1773"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!mIPCServ<sp/>||<sp/>!mIPCServ-&gt;IsOk())</highlight></codeline>
<codeline lineno="1774"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1775"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO:<sp/><sp/>Complain<sp/>here</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1776"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1777"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1778"><highlight class="normal"></highlight></codeline>
<codeline lineno="1779"><highlight class="normal"><sp/><sp/><sp/>mIPCServ-&gt;SetEventHandler(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/><ref refid="_audacity_app_8cpp_1a5975c20da6517ea78aa936f45649a1af" kindref="member">ID_IPC_SERVER</ref>);</highlight></codeline>
<codeline lineno="1780"><highlight class="normal"><sp/><sp/><sp/>mIPCServ-&gt;SetNotify(wxSOCKET_CONNECTION_FLAG);</highlight></codeline>
<codeline lineno="1781"><highlight class="normal"><sp/><sp/><sp/>mIPCServ-&gt;Notify(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1782"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1783"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1784"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1785"><highlight class="normal"></highlight></codeline>
<codeline lineno="1786"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(__UNIX__)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1787"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_audacity_app_1a36209198478f212c72bddcc944914818" kindref="member">AudacityApp::OnServerEvent</ref>(wxSocketEvent<sp/>&amp;<sp/>evt)</highlight></codeline>
<codeline lineno="1788"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1789"><highlight class="normal"><sp/><sp/><sp/>wxSocketBase<sp/>*sock;</highlight></codeline>
<codeline lineno="1790"><highlight class="normal"></highlight></codeline>
<codeline lineno="1791"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Accept<sp/>all<sp/>pending<sp/>connection<sp/>requests</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1792"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1793"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1794"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>sock<sp/>=<sp/>mIPCServ-&gt;Accept(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1795"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(sock)</highlight></codeline>
<codeline lineno="1796"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1797"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Setup<sp/>the<sp/>socket</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1798"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sock-&gt;SetEventHandler(*</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>ID_IPC_SOCKET);</highlight></codeline>
<codeline lineno="1799"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sock-&gt;SetNotify(wxSOCKET_INPUT_FLAG<sp/>|<sp/>wxSOCKET_LOST_FLAG);</highlight></codeline>
<codeline lineno="1800"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sock-&gt;Notify(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1801"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1802"><highlight class="normal"><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(sock);</highlight></codeline>
<codeline lineno="1803"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1804"><highlight class="normal"></highlight></codeline>
<codeline lineno="1805"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_audacity_app_1af07c8411fcf1462e2373c2c3ba32b6a7" kindref="member">AudacityApp::OnSocketEvent</ref>(wxSocketEvent<sp/>&amp;<sp/>evt)</highlight></codeline>
<codeline lineno="1806"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1807"><highlight class="normal"><sp/><sp/><sp/>wxSocketBase<sp/>*sock<sp/>=<sp/>evt.GetSocket();</highlight></codeline>
<codeline lineno="1808"><highlight class="normal"></highlight></codeline>
<codeline lineno="1809"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(evt.GetSocketEvent()<sp/>==<sp/>wxSOCKET_LOST)</highlight></codeline>
<codeline lineno="1810"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1811"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>sock-&gt;Destroy();</highlight></codeline>
<codeline lineno="1812"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1813"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1814"><highlight class="normal"></highlight></codeline>
<codeline lineno="1815"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Read<sp/>the<sp/>length<sp/>of<sp/>the<sp/>filename<sp/>and<sp/>bail<sp/>if<sp/>we<sp/>have<sp/>a<sp/>short<sp/>read</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1816"><highlight class="normal"><sp/><sp/><sp/>wxChar<sp/><ref refid="lib_2expat_8h_1a1b49b495b59f9e73205b69ad1a2965b0" kindref="member">name</ref>[PATH_MAX];</highlight></codeline>
<codeline lineno="1817"><highlight class="normal"><sp/><sp/><sp/>sock-&gt;ReadMsg(&amp;name,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(name));</highlight></codeline>
<codeline lineno="1818"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!sock-&gt;Error())</highlight></codeline>
<codeline lineno="1819"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1820"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Add<sp/>the<sp/>filename<sp/>to<sp/>the<sp/>queue.<sp/><sp/>It<sp/>will<sp/>be<sp/>opened<sp/>by</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1821"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>OnTimer()<sp/>event<sp/>when<sp/>it<sp/>is<sp/>safe<sp/>to<sp/>do<sp/>so.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1822"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ofqueue.Add(name);</highlight></codeline>
<codeline lineno="1823"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1824"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1825"><highlight class="normal"></highlight></codeline>
<codeline lineno="1826"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1827"><highlight class="normal"></highlight></codeline>
<codeline lineno="1828"><highlight class="normal">wxCmdLineParser<sp/>*AudacityApp::ParseCommandLine()</highlight></codeline>
<codeline lineno="1829"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1830"><highlight class="normal"><sp/><sp/><sp/>wxCmdLineParser<sp/>*parser<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>wxCmdLineParser(argc,<sp/>argv);</highlight></codeline>
<codeline lineno="1831"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!parser)</highlight></codeline>
<codeline lineno="1832"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1833"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1834"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1835"><highlight class="normal"></highlight></codeline>
<codeline lineno="1836"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">/*i18n-hint:<sp/>This<sp/>controls<sp/>the<sp/>number<sp/>of<sp/>bytes<sp/>that<sp/>Audacity<sp/>will</highlight></codeline>
<codeline lineno="1837"><highlight class="comment"><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>use<sp/>when<sp/>writing<sp/>files<sp/>to<sp/>the<sp/>disk<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1838"><highlight class="normal"><sp/><sp/><sp/>parser-&gt;AddOption(wxT(</highlight><highlight class="stringliteral">&quot;b&quot;</highlight><highlight class="normal">),<sp/>wxT(</highlight><highlight class="stringliteral">&quot;blocksize&quot;</highlight><highlight class="normal">),<sp/><ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;set<sp/>max<sp/>disk<sp/>block<sp/>size<sp/>in<sp/>bytes&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="1839"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxCMD_LINE_VAL_NUMBER);</highlight></codeline>
<codeline lineno="1840"><highlight class="normal"></highlight></codeline>
<codeline lineno="1841"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">/*i18n-hint:<sp/>This<sp/>decodes<sp/>an<sp/>autosave<sp/>file<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1842"><highlight class="normal"><sp/><sp/><sp/>parser-&gt;AddOption(wxT(</highlight><highlight class="stringliteral">&quot;d&quot;</highlight><highlight class="normal">),<sp/>wxT(</highlight><highlight class="stringliteral">&quot;decode&quot;</highlight><highlight class="normal">),<sp/><ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;decode<sp/>an<sp/>autosave<sp/>file&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="1843"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxCMD_LINE_VAL_STRING);</highlight></codeline>
<codeline lineno="1844"><highlight class="normal"></highlight></codeline>
<codeline lineno="1845"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">/*i18n-hint:<sp/>This<sp/>displays<sp/>a<sp/>list<sp/>of<sp/>available<sp/>options<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1846"><highlight class="normal"><sp/><sp/><sp/>parser-&gt;AddSwitch(wxT(</highlight><highlight class="stringliteral">&quot;h&quot;</highlight><highlight class="normal">),<sp/>wxT(</highlight><highlight class="stringliteral">&quot;help&quot;</highlight><highlight class="normal">),<sp/><ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;this<sp/>help<sp/>message&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="1847"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxCMD_LINE_OPTION_HELP);</highlight></codeline>
<codeline lineno="1848"><highlight class="normal"></highlight></codeline>
<codeline lineno="1849"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">/*i18n-hint:<sp/>This<sp/>runs<sp/>a<sp/>set<sp/>of<sp/>automatic<sp/>tests<sp/>on<sp/>Audacity<sp/>itself<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1850"><highlight class="normal"><sp/><sp/><sp/>parser-&gt;AddSwitch(wxT(</highlight><highlight class="stringliteral">&quot;t&quot;</highlight><highlight class="normal">),<sp/>wxT(</highlight><highlight class="stringliteral">&quot;test&quot;</highlight><highlight class="normal">),<sp/><ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;run<sp/>self<sp/>diagnostics&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1851"><highlight class="normal"></highlight></codeline>
<codeline lineno="1852"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">/*i18n-hint:<sp/>This<sp/>displays<sp/>the<sp/>Audacity<sp/>version<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1853"><highlight class="normal"><sp/><sp/><sp/>parser-&gt;AddSwitch(wxT(</highlight><highlight class="stringliteral">&quot;v&quot;</highlight><highlight class="normal">),<sp/>wxT(</highlight><highlight class="stringliteral">&quot;version&quot;</highlight><highlight class="normal">),<sp/><ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;display<sp/>Audacity<sp/>version&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1854"><highlight class="normal"></highlight></codeline>
<codeline lineno="1855"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">/*i18n-hint:<sp/>This<sp/>is<sp/>a<sp/>list<sp/>of<sp/>one<sp/>or<sp/>more<sp/>files<sp/>that<sp/>Audacity</highlight></codeline>
<codeline lineno="1856"><highlight class="comment"><sp/><sp/><sp/><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>should<sp/>open<sp/>upon<sp/>startup<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1857"><highlight class="normal"><sp/><sp/><sp/>parser-&gt;AddParam(<ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;audio<sp/>or<sp/>project<sp/>file<sp/>name&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="1858"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxCMD_LINE_VAL_STRING,</highlight></codeline>
<codeline lineno="1859"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxCMD_LINE_PARAM_MULTIPLE<sp/>|<sp/>wxCMD_LINE_PARAM_OPTIONAL);</highlight></codeline>
<codeline lineno="1860"><highlight class="normal"></highlight></codeline>
<codeline lineno="1861"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Run<sp/>the<sp/>parser</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1862"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(parser-&gt;Parse()<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="1863"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1864"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>parser;</highlight></codeline>
<codeline lineno="1865"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1866"><highlight class="normal"></highlight></codeline>
<codeline lineno="1867"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>parser;</highlight></codeline>
<codeline lineno="1868"><highlight class="normal"></highlight></codeline>
<codeline lineno="1869"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1870"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1871"><highlight class="normal"></highlight></codeline>
<codeline lineno="1872"><highlight class="normal"></highlight><highlight class="comment">//<sp/>static</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1873" refid="class_audacity_app_1a051affe029130ea2d5e54460e4bc9f96" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_audacity_app_1a051affe029130ea2d5e54460e4bc9f96" kindref="member">AudacityApp::AddUniquePathToPathList</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>wxString<sp/>&amp;pathArg,</highlight></codeline>
<codeline lineno="1874"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxArrayString<sp/>&amp;pathList)</highlight></codeline>
<codeline lineno="1875"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1876"><highlight class="normal"><sp/><sp/><sp/>wxFileName<sp/>pathNorm<sp/>=<sp/>pathArg;</highlight></codeline>
<codeline lineno="1877"><highlight class="normal"><sp/><sp/><sp/>pathNorm.Normalize();</highlight></codeline>
<codeline lineno="1878"><highlight class="normal"><sp/><sp/><sp/>wxString<sp/><ref refid="namespacelv2docgen_1ae75d75173fc2ea012acad7d886aa2f9d" kindref="member">path</ref><sp/>=<sp/>pathNorm.GetFullPath();</highlight></codeline>
<codeline lineno="1879"><highlight class="normal"></highlight></codeline>
<codeline lineno="1880"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;<sp/>i&lt;pathList.GetCount();<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="1881"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(wxFileName(path)<sp/>==<sp/>wxFileName(pathList[i]))</highlight></codeline>
<codeline lineno="1882"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1883"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1884"><highlight class="normal"></highlight></codeline>
<codeline lineno="1885"><highlight class="normal"><sp/><sp/><sp/>pathList.Add(path);</highlight></codeline>
<codeline lineno="1886"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1887"><highlight class="normal"></highlight></codeline>
<codeline lineno="1888"><highlight class="normal"></highlight><highlight class="comment">//<sp/>static</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1889" refid="class_audacity_app_1a7fa907efc7345693ae4a81efd54149d9" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_audacity_app_1a7fa907efc7345693ae4a81efd54149d9" kindref="member">AudacityApp::AddMultiPathsToPathList</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>wxString<sp/>&amp;multiPathStringArg,</highlight></codeline>
<codeline lineno="1890"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxArrayString<sp/>&amp;pathList)</highlight></codeline>
<codeline lineno="1891"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1892"><highlight class="normal"><sp/><sp/><sp/>wxString<sp/>multiPathString(multiPathStringArg);</highlight></codeline>
<codeline lineno="1893"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(multiPathString<sp/>!=<sp/>wxT(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="1894"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxString<sp/>onePath<sp/>=<sp/>multiPathString.BeforeFirst(wxPATH_SEP[0]);</highlight></codeline>
<codeline lineno="1895"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>multiPathString<sp/>=<sp/>multiPathString.AfterFirst(wxPATH_SEP[0]);</highlight></codeline>
<codeline lineno="1896"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>AddUniquePathToPathList(onePath,<sp/>pathList);</highlight></codeline>
<codeline lineno="1897"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1898"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1899"><highlight class="normal"></highlight></codeline>
<codeline lineno="1900"><highlight class="normal"></highlight><highlight class="comment">//<sp/>static</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1901" refid="class_audacity_app_1a491bdb4d064ffc5392375e8bdf0442c2" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_audacity_app_1a491bdb4d064ffc5392375e8bdf0442c2" kindref="member">AudacityApp::FindFilesInPathList</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>wxString<sp/>&amp;<sp/>pattern,</highlight></codeline>
<codeline lineno="1902"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>wxArrayString<sp/>&amp;<sp/>pathList,</highlight></codeline>
<codeline lineno="1903"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxArrayString<sp/>&amp;<sp/>results,</highlight></codeline>
<codeline lineno="1904"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>flags)</highlight></codeline>
<codeline lineno="1905"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1906"><highlight class="normal"><sp/><sp/><sp/>wxLogNull<sp/>nolog;</highlight></codeline>
<codeline lineno="1907"><highlight class="normal"></highlight></codeline>
<codeline lineno="1908"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pattern<sp/>==<sp/>wxT(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="1909"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1910"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1911"><highlight class="normal"></highlight></codeline>
<codeline lineno="1912"><highlight class="normal"><sp/><sp/><sp/>wxFileName<sp/><ref refid="rfft2d_test_m_l_8m_1aacd36fb6ac9ce14cec71f2ca852524d4" kindref="member">f</ref>;</highlight></codeline>
<codeline lineno="1913"><highlight class="normal"></highlight></codeline>
<codeline lineno="1914"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>pathList.GetCount();<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="1915"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>f<sp/>=<sp/>pathList[<ref refid="checksum_8c_1ab80e330a3bc9e38c1297fe17381e92b4" kindref="member">i</ref>]<sp/>+<sp/>wxFILE_SEP_PATH<sp/>+<sp/>pattern;</highlight></codeline>
<codeline lineno="1916"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxDir::GetAllFiles(f.GetPath(),<sp/>&amp;results,<sp/>f.GetFullName(),<sp/>flags);</highlight></codeline>
<codeline lineno="1917"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1918"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1919"><highlight class="normal"></highlight></codeline>
<codeline lineno="1920" refid="class_audacity_app_1a3e5c65ba02a6cb04a47dd74867f319d7" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_audacity_app_1a3e5c65ba02a6cb04a47dd74867f319d7" kindref="member">AudacityApp::OnEndSession</ref>(wxCloseEvent<sp/>&amp;<sp/>event)</highlight></codeline>
<codeline lineno="1921"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1922"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>force<sp/>=<sp/>!</highlight><highlight class="keyword">event</highlight><highlight class="normal">.CanVeto();</highlight></codeline>
<codeline lineno="1923"><highlight class="normal"></highlight></codeline>
<codeline lineno="1924"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Try<sp/>to<sp/>close<sp/>each<sp/>open<sp/>window.<sp/><sp/>If<sp/>the<sp/>user<sp/>hits<sp/>Cancel</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1925"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>in<sp/>a<sp/>Save<sp/>Changes<sp/>dialog,<sp/>don&apos;t<sp/>continue.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1926"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="_project_8cpp_1abc1207c91a492b32e9c5971ddd301671" kindref="member">gAudacityProjects</ref>.IsEmpty())<sp/>{</highlight></codeline>
<codeline lineno="1927"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(<ref refid="_project_8cpp_1abc1207c91a492b32e9c5971ddd301671" kindref="member">gAudacityProjects</ref>.Count())<sp/>{</highlight></codeline>
<codeline lineno="1928"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(force)<sp/>{</highlight></codeline>
<codeline lineno="1929"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_project_8cpp_1abc1207c91a492b32e9c5971ddd301671" kindref="member">gAudacityProjects</ref>[0]-&gt;Close(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1930"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1931"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="_project_8cpp_1abc1207c91a492b32e9c5971ddd301671" kindref="member">gAudacityProjects</ref>[0]-&gt;<ref refid="portburn__winxp_8cpp_1ad6f32ac62ea277a3e8a068ed1faeee1f" kindref="member">Close</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1932"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gIsQuitting<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1933"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">event</highlight><highlight class="normal">.Veto();</highlight></codeline>
<codeline lineno="1934"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1935"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1936"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1937"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1938"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1939"><highlight class="normal"></highlight></codeline>
<codeline lineno="1940" refid="class_audacity_app_1aa9461c56195b9a1b8eb931293d0b491f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_audacity_app_1aa9461c56195b9a1b8eb931293d0b491f" kindref="member">AudacityApp::AddFileToHistory</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>wxString<sp/>&amp;<sp/><ref refid="lib_2expat_8h_1a1b49b495b59f9e73205b69ad1a2965b0" kindref="member">name</ref>)</highlight></codeline>
<codeline lineno="1941"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1942"><highlight class="normal"><sp/><sp/><sp/>mRecentFiles-&gt;AddFileToHistory(name);</highlight></codeline>
<codeline lineno="1943"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1944"><highlight class="normal"></highlight></codeline>
<codeline lineno="1945" refid="class_audacity_app_1a9564abc8172532938f7205fe9cc8ca96" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_audacity_app_1a9564abc8172532938f7205fe9cc8ca96" kindref="member">AudacityApp::OnExit</ref>()</highlight></codeline>
<codeline lineno="1946"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1947"><highlight class="normal"><sp/><sp/><sp/>gIsQuitting<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1948"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(Pending())</highlight></codeline>
<codeline lineno="1949"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1950"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>Dispatch();</highlight></codeline>
<codeline lineno="1951"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1952"><highlight class="normal"></highlight></codeline>
<codeline lineno="1953"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_importer_1a22d282adad95bbdce627953259d9d48c" kindref="member">Importer::Get</ref>().<ref refid="class_importer_1a9d6dc153aab7c8fc1f213b318d443a44" kindref="member">Terminate</ref>();</highlight></codeline>
<codeline lineno="1954"><highlight class="normal"></highlight></codeline>
<codeline lineno="1955"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>)</highlight></codeline>
<codeline lineno="1956"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1957"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>bFalse<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1958"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Should<sp/>we<sp/>change<sp/>the<sp/>commands.cfg<sp/>location<sp/>next<sp/>startup?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1959"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Read(wxT(</highlight><highlight class="stringliteral">&quot;/QDeleteCmdCfgLocation&quot;</highlight><highlight class="normal">),<sp/>&amp;bFalse))</highlight></codeline>
<codeline lineno="1960"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1961"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;DeleteEntry(wxT(</highlight><highlight class="stringliteral">&quot;/QDeleteCmdCfgLocation&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1962"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/DeleteCmdCfgLocation&quot;</highlight><highlight class="normal">),<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1963"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Flush();</highlight></codeline>
<codeline lineno="1964"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1965"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1966"><highlight class="normal"></highlight></codeline>
<codeline lineno="1967"><highlight class="normal"><sp/><sp/><sp/>DeInitCommandHandler();</highlight></codeline>
<codeline lineno="1968"><highlight class="normal"></highlight></codeline>
<codeline lineno="1969"><highlight class="normal"><sp/><sp/><sp/>mRecentFiles-&gt;Save(*<ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>,<sp/>wxT(</highlight><highlight class="stringliteral">&quot;RecentFiles&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1970"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>mRecentFiles;</highlight></codeline>
<codeline lineno="1971"><highlight class="normal"><sp/><sp/><sp/>mRecentFiles<sp/>=<sp/><ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>;</highlight></codeline>
<codeline lineno="1972"><highlight class="normal"></highlight></codeline>
<codeline lineno="1973"><highlight class="normal"><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a75e7db85d21d2e7202e0efc13286f6d9" kindref="member">FinishPreferences</ref>();</highlight></codeline>
<codeline lineno="1974"><highlight class="normal"></highlight></codeline>
<codeline lineno="1975"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>USE_FFMPEG</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1976"><highlight class="normal"><sp/><sp/><sp/>DropFFmpegLibs();</highlight></codeline>
<codeline lineno="1977"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1978"><highlight class="normal"></highlight></codeline>
<codeline lineno="1979"><highlight class="normal"><sp/><sp/><sp/><ref refid="src_2_f_f_t_8cpp_1a45b3f5f8dad0f1396f6b568edd681d4a" kindref="member">DeinitFFT</ref>();</highlight></codeline>
<codeline lineno="1980"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_block_file_1a2850975073dae96a78ac8b8e35ac376d" kindref="member">BlockFile::Deinit</ref>();</highlight></codeline>
<codeline lineno="1981"><highlight class="normal"></highlight></codeline>
<codeline lineno="1982"><highlight class="normal"><sp/><sp/><sp/><ref refid="_audio_i_o_8cpp_1a362633315924afe19ab0fe0cf4bd32da" kindref="member">DeinitAudioIO</ref>();</highlight></codeline>
<codeline lineno="1983"><highlight class="normal"></highlight></codeline>
<codeline lineno="1984"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Terminate<sp/>the<sp/>PluginManager<sp/>(must<sp/>be<sp/>done<sp/>before<sp/>deleting<sp/>the<sp/>locale)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1985"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_plugin_manager_1aeea97bed99a6b179dd87dc6fbf1086f7" kindref="member">PluginManager::Get</ref>().<ref refid="class_plugin_manager_1a5555cc50f0081ed9a19788baee1c8c71" kindref="member">Terminate</ref>();</highlight></codeline>
<codeline lineno="1986"><highlight class="normal"></highlight></codeline>
<codeline lineno="1987"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Done<sp/>with<sp/>plugins<sp/>and<sp/>modules</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1988"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_plugin_manager_1ab353dded5cbfb53b81d4d5bc29b94ef7" kindref="member">PluginManager::Destroy</ref>();</highlight></codeline>
<codeline lineno="1989"><highlight class="normal"><sp/><sp/><sp/><ref refid="class_module_manager_1a2e8ff3a4f0e24dccb161a2887eda9451" kindref="member">ModuleManager::Destroy</ref>();</highlight></codeline>
<codeline lineno="1990"><highlight class="normal"></highlight></codeline>
<codeline lineno="1991"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mLocale)</highlight></codeline>
<codeline lineno="1992"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>mLocale;</highlight></codeline>
<codeline lineno="1993"><highlight class="normal"></highlight></codeline>
<codeline lineno="1994"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mIPCServ)</highlight></codeline>
<codeline lineno="1995"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="1996"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(__UNIX__)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1997"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>wxUNIXaddress<sp/>addr;</highlight></codeline>
<codeline lineno="1998"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mIPCServ-&gt;GetLocal(addr))</highlight></codeline>
<codeline lineno="1999"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2000"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">remove</highlight><highlight class="normal">(<ref refid="_internat_8h_1a2ae58fbfc522b438be110a26a1a1ebaa" kindref="member">OSFILENAME</ref>(addr.Filename()));</highlight></codeline>
<codeline lineno="2001"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2002"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2003"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>mIPCServ;</highlight></codeline>
<codeline lineno="2004"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2005"><highlight class="normal"></highlight></codeline>
<codeline lineno="2006"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mChecker)</highlight></codeline>
<codeline lineno="2007"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>mChecker;</highlight></codeline>
<codeline lineno="2008"><highlight class="normal"></highlight></codeline>
<codeline lineno="2009"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="2010"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2011"><highlight class="normal"></highlight></codeline>
<codeline lineno="2012"><highlight class="normal"></highlight><highlight class="comment">//<sp/>The<sp/>following<sp/>five<sp/>methods<sp/>are<sp/>currently<sp/>only<sp/>used<sp/>on<sp/>Mac<sp/>OS,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2013"><highlight class="normal"></highlight><highlight class="comment">//<sp/>where<sp/>it&apos;s<sp/>possible<sp/>to<sp/>have<sp/>a<sp/>menu<sp/>bar<sp/>but<sp/>no<sp/>windows<sp/>open.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2014"><highlight class="normal"></highlight><highlight class="comment">//<sp/>It<sp/>doesn&apos;t<sp/>hurt<sp/>any<sp/>other<sp/>platforms,<sp/>though.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2015"><highlight class="normal"></highlight></codeline>
<codeline lineno="2016"><highlight class="normal"></highlight><highlight class="comment">//<sp/>...That<sp/>is,<sp/>as<sp/>long<sp/>as<sp/>you<sp/>check<sp/>to<sp/>see<sp/>if<sp/>no<sp/>windows<sp/>are<sp/>open</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2017"><highlight class="normal"></highlight><highlight class="comment">//<sp/>before<sp/>executing<sp/>the<sp/>stuff.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2018"><highlight class="normal"></highlight><highlight class="comment">//<sp/>To<sp/>fix<sp/>this,<sp/>check<sp/>to<sp/>see<sp/>how<sp/>many<sp/>project<sp/>windows<sp/>are<sp/>open,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2019"><highlight class="normal"></highlight><highlight class="comment">//<sp/>and<sp/>skip<sp/>the<sp/>event<sp/>unless<sp/>none<sp/>are<sp/>open<sp/>(which<sp/>should<sp/>only<sp/>happen</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2020"><highlight class="normal"></highlight><highlight class="comment">//<sp/>on<sp/>the<sp/>Mac,<sp/>at<sp/>least<sp/>currently.)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2021"><highlight class="normal"></highlight></codeline>
<codeline lineno="2022" refid="class_audacity_app_1a9b12e4a706af0d39c34ee5079c17c3f8" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_audacity_app_1a9b12e4a706af0d39c34ee5079c17c3f8" kindref="member">AudacityApp::OnMenuAbout</ref>(wxCommandEvent<sp/>&amp;<sp/>event)</highlight></codeline>
<codeline lineno="2023"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2024"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>function<sp/>shadows<sp/>a<sp/>similar<sp/>function</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2025"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>in<sp/>Menus.cpp,<sp/>but<sp/>should<sp/>only<sp/>be<sp/>used<sp/>on<sp/>the<sp/>Mac<sp/>platform</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2026"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>when<sp/>no<sp/>project<sp/>windows<sp/>are<sp/>open.<sp/>This<sp/>check<sp/>assures<sp/>that</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2027"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>this<sp/>happens,<sp/>and<sp/>enable<sp/>the<sp/>same<sp/>code<sp/>to<sp/>be<sp/>present<sp/>on</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2028"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>all<sp/>platforms.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2029"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="_project_8cpp_1abc1207c91a492b32e9c5971ddd301671" kindref="member">gAudacityProjects</ref>.GetCount()<sp/>==<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="2030"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_about_dialog" kindref="compound">AboutDialog</ref><sp/>dlog(<ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="2031"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>dlog.ShowModal();</highlight></codeline>
<codeline lineno="2032"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2033"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2034"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">event</highlight><highlight class="normal">.Skip();</highlight></codeline>
<codeline lineno="2035"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2036"><highlight class="normal"></highlight></codeline>
<codeline lineno="2037" refid="class_audacity_app_1ac4cb49358b654144dd674b7174e42ae2" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_audacity_app_1ac4cb49358b654144dd674b7174e42ae2" kindref="member">AudacityApp::OnMenuNew</ref>(wxCommandEvent<sp/>&amp;<sp/>event)</highlight></codeline>
<codeline lineno="2038"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2039"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>function<sp/>shadows<sp/>a<sp/>similar<sp/>function</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2040"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>in<sp/>Menus.cpp,<sp/>but<sp/>should<sp/>only<sp/>be<sp/>used<sp/>on<sp/>the<sp/>Mac<sp/>platform</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2041"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>when<sp/>no<sp/>project<sp/>windows<sp/>are<sp/>open.<sp/>This<sp/>check<sp/>assures<sp/>that</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2042"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>this<sp/>happens,<sp/>and<sp/>enable<sp/>the<sp/>same<sp/>code<sp/>to<sp/>be<sp/>present<sp/>on</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2043"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>all<sp/>platforms.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2044"><highlight class="normal"></highlight></codeline>
<codeline lineno="2045"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="_project_8cpp_1abc1207c91a492b32e9c5971ddd301671" kindref="member">gAudacityProjects</ref>.GetCount()<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="2046"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_project_8cpp_1a28032264c981ed85265ad34afc761335" kindref="member">CreateNewAudacityProject</ref>();</highlight></codeline>
<codeline lineno="2047"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2048"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">event</highlight><highlight class="normal">.Skip();</highlight></codeline>
<codeline lineno="2049"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2050"><highlight class="normal"></highlight></codeline>
<codeline lineno="2051"><highlight class="normal"></highlight></codeline>
<codeline lineno="2052" refid="class_audacity_app_1a76f647038ac425b0ffedec6a28760e76" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_audacity_app_1a76f647038ac425b0ffedec6a28760e76" kindref="member">AudacityApp::OnMenuOpen</ref>(wxCommandEvent<sp/>&amp;<sp/>event)</highlight></codeline>
<codeline lineno="2053"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2054"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>function<sp/>shadows<sp/>a<sp/>similar<sp/>function</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2055"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>in<sp/>Menus.cpp,<sp/>but<sp/>should<sp/>only<sp/>be<sp/>used<sp/>on<sp/>the<sp/>Mac<sp/>platform</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2056"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>when<sp/>no<sp/>project<sp/>windows<sp/>are<sp/>open.<sp/>This<sp/>check<sp/>assures<sp/>that</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2057"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>this<sp/>happens,<sp/>and<sp/>enable<sp/>the<sp/>same<sp/>code<sp/>to<sp/>be<sp/>present<sp/>on</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2058"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>all<sp/>platforms.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2059"><highlight class="normal"></highlight></codeline>
<codeline lineno="2060"><highlight class="normal"></highlight></codeline>
<codeline lineno="2061"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="_project_8cpp_1abc1207c91a492b32e9c5971ddd301671" kindref="member">gAudacityProjects</ref>.GetCount()<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="2062"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_audacity_project_1a425f97194452a8e9753f3190386ba822" kindref="member">AudacityProject::OpenFiles</ref>(<ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref>);</highlight></codeline>
<codeline lineno="2063"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2064"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">event</highlight><highlight class="normal">.Skip();</highlight></codeline>
<codeline lineno="2065"><highlight class="normal"></highlight></codeline>
<codeline lineno="2066"><highlight class="normal"></highlight></codeline>
<codeline lineno="2067"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2068"><highlight class="normal"></highlight></codeline>
<codeline lineno="2069" refid="class_audacity_app_1a1a7433ef3b52505eda207d2dbbb72bed" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_audacity_app_1a1a7433ef3b52505eda207d2dbbb72bed" kindref="member">AudacityApp::OnMenuPreferences</ref>(wxCommandEvent<sp/>&amp;<sp/>event)</highlight></codeline>
<codeline lineno="2070"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2071"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>function<sp/>shadows<sp/>a<sp/>similar<sp/>function</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2072"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>in<sp/>Menus.cpp,<sp/>but<sp/>should<sp/>only<sp/>be<sp/>used<sp/>on<sp/>the<sp/>Mac<sp/>platform</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2073"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>when<sp/>no<sp/>project<sp/>windows<sp/>are<sp/>open.<sp/>This<sp/>check<sp/>assures<sp/>that</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2074"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>this<sp/>happens,<sp/>and<sp/>enable<sp/>the<sp/>same<sp/>code<sp/>to<sp/>be<sp/>present<sp/>on</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2075"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>all<sp/>platforms.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2076"><highlight class="normal"></highlight></codeline>
<codeline lineno="2077"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="_project_8cpp_1abc1207c91a492b32e9c5971ddd301671" kindref="member">gAudacityProjects</ref>.GetCount()<sp/>==<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="2078"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_global_prefs_dialog" kindref="compound">GlobalPrefsDialog</ref><sp/>dialog(<ref refid="getopt1_8c_1a070d2ce7b6bb7e5c05602aa8c308d0c4" kindref="member">NULL</ref><sp/></highlight><highlight class="comment">/*<sp/>parent<sp/>*/</highlight><highlight class="normal"><sp/>);</highlight></codeline>
<codeline lineno="2079"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>dialog.<ref refid="class_prefs_dialog_1ada786bf98260cc6f72c3aefcadb5aba4" kindref="member">ShowModal</ref>();</highlight></codeline>
<codeline lineno="2080"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2081"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2082"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">event</highlight><highlight class="normal">.Skip();</highlight></codeline>
<codeline lineno="2083"><highlight class="normal"></highlight></codeline>
<codeline lineno="2084"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2085"><highlight class="normal"></highlight></codeline>
<codeline lineno="2086" refid="class_audacity_app_1a04c12a2f5a46cd6567895703e81444dc" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_audacity_app_1a04c12a2f5a46cd6567895703e81444dc" kindref="member">AudacityApp::OnMenuExit</ref>(wxCommandEvent<sp/>&amp;<sp/>event)</highlight></codeline>
<codeline lineno="2087"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2088"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>function<sp/>shadows<sp/>a<sp/>similar<sp/>function</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2089"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>in<sp/>Menus.cpp,<sp/>but<sp/>should<sp/>only<sp/>be<sp/>used<sp/>on<sp/>the<sp/>Mac<sp/>platform</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2090"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>when<sp/>no<sp/>project<sp/>windows<sp/>are<sp/>open.<sp/>This<sp/>check<sp/>assures<sp/>that</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2091"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>this<sp/>happens,<sp/>and<sp/>enable<sp/>the<sp/>same<sp/>code<sp/>to<sp/>be<sp/>present<sp/>on</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2092"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>all<sp/>platforms.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2093"><highlight class="normal"></highlight></codeline>
<codeline lineno="2094"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>LL:<sp/><sp/>Removed<sp/>&quot;if&quot;<sp/>to<sp/>allow<sp/>closing<sp/>based<sp/>on<sp/>final<sp/>project<sp/>count.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2095"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>if(gAudacityProjects.GetCount()<sp/>==<sp/>0)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2096"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_audacity_app_8cpp_1aa0b4149f5dec489d58712e2271fb7f99" kindref="member">QuitAudacity</ref>();</highlight></codeline>
<codeline lineno="2097"><highlight class="normal"></highlight></codeline>
<codeline lineno="2098"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>LL:<sp/><sp/>Veto<sp/>quit<sp/>if<sp/>projects<sp/>are<sp/>still<sp/>open.<sp/><sp/>This<sp/>can<sp/>happen</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2099"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>the<sp/>user<sp/>selected<sp/>Cancel<sp/>in<sp/>a<sp/>Save<sp/>dialog.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2100"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keyword">event</highlight><highlight class="normal">.Skip(<ref refid="_project_8cpp_1abc1207c91a492b32e9c5971ddd301671" kindref="member">gAudacityProjects</ref>.GetCount()<sp/>==<sp/>0);</highlight></codeline>
<codeline lineno="2101"><highlight class="normal"></highlight></codeline>
<codeline lineno="2102"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2103"><highlight class="normal"></highlight></codeline>
<codeline lineno="2104"><highlight class="normal"></highlight><highlight class="comment">//BG:<sp/>On<sp/>Windows,<sp/>associate<sp/>the<sp/>aup<sp/>file<sp/>type<sp/>with<sp/>Audacity</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2105"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>We<sp/>do<sp/>this<sp/>in<sp/>the<sp/>Windows<sp/>installer<sp/>now,</highlight></codeline>
<codeline lineno="2106"><highlight class="comment"><sp/><sp/><sp/>to<sp/>avoid<sp/>issues<sp/>where<sp/>user<sp/>doesn&apos;t<sp/>have<sp/>admin<sp/>privileges,<sp/>but</highlight></codeline>
<codeline lineno="2107"><highlight class="comment"><sp/><sp/><sp/>in<sp/>case<sp/>that<sp/>didn&apos;t<sp/>work,<sp/>allow<sp/>the<sp/>user<sp/>to<sp/>decide<sp/>at<sp/>startup.</highlight></codeline>
<codeline lineno="2108"><highlight class="comment"></highlight></codeline>
<codeline lineno="2109"><highlight class="comment"><sp/><sp/><sp/>//v<sp/>Should<sp/>encapsulate<sp/>this<sp/>&amp;<sp/>allow<sp/>access<sp/>from<sp/>Prefs,<sp/>too,</highlight></codeline>
<codeline lineno="2110"><highlight class="comment"><sp/><sp/><sp/>//<sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>people<sp/>want<sp/>to<sp/>manually<sp/>change<sp/>associations.</highlight></codeline>
<codeline lineno="2111"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2112"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(__WXMSW__)<sp/>&amp;&amp;<sp/>!defined(__WXUNIVERSAL__)<sp/>&amp;&amp;<sp/>!defined(__CYGWIN__)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2113"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>AudacityApp::AssociateFileTypes()</highlight></codeline>
<codeline lineno="2114"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2115"><highlight class="normal"><sp/><sp/><sp/>wxRegKey<sp/>associateFileTypes;</highlight></codeline>
<codeline lineno="2116"><highlight class="normal"><sp/><sp/><sp/>associateFileTypes.SetName(wxT(</highlight><highlight class="stringliteral">&quot;HKCR\\.AUP&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="2117"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>bKeyExists<sp/>=<sp/>associateFileTypes.Exists();</highlight></codeline>
<codeline lineno="2118"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!bKeyExists)<sp/>{</highlight></codeline>
<codeline lineno="2119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Not<sp/>at<sp/>HKEY_CLASSES_ROOT.<sp/>Try<sp/>HKEY_CURRENT_USER.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>associateFileTypes.SetName(wxT(</highlight><highlight class="stringliteral">&quot;HKCU\\Software\\Classes\\.AUP&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="2121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>bKeyExists<sp/>=<sp/>associateFileTypes.Exists();</highlight></codeline>
<codeline lineno="2122"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2123"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!bKeyExists)<sp/>{</highlight></codeline>
<codeline lineno="2124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>File<sp/>types<sp/>are<sp/>not<sp/>currently<sp/>associated.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>pref<sp/>in<sp/>case<sp/>user<sp/>has<sp/>already<sp/>decided<sp/>against<sp/>it.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>bWantAssociateFiles<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Read(wxT(</highlight><highlight class="stringliteral">&quot;/WantAssociateFiles&quot;</highlight><highlight class="normal">),<sp/>&amp;bWantAssociateFiles)<sp/>||</highlight></codeline>
<codeline lineno="2128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bWantAssociateFiles)<sp/>{</highlight></codeline>
<codeline lineno="2129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Either<sp/>there&apos;s<sp/>no<sp/>pref<sp/>or<sp/>user<sp/>does<sp/>want<sp/>associations</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>and<sp/>they<sp/>got<sp/>stepped<sp/>on,<sp/>so<sp/>ask.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>wantAssoc<sp/>=</highlight></codeline>
<codeline lineno="2132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxMessageBox(</highlight></codeline>
<codeline lineno="2133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Audacity<sp/>project<sp/>(.AUP)<sp/>files<sp/>are<sp/>not<sp/>currently<sp/>\nassociated<sp/>with<sp/>Audacity.<sp/>\n\nAssociate<sp/>them,<sp/>so<sp/>they<sp/>open<sp/>on<sp/>double-click?&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="2134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="locale__hack_8h_1a32a3cf3d9dd914f5aeeca5423c157934" kindref="member">_</ref>(</highlight><highlight class="stringliteral">&quot;Audacity<sp/>Project<sp/>Files&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="2135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxYES_NO<sp/>|<sp/>wxICON_QUESTION);</highlight></codeline>
<codeline lineno="2136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(wantAssoc<sp/>==<sp/>wxYES)<sp/>{</highlight></codeline>
<codeline lineno="2137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/WantAssociateFiles&quot;</highlight><highlight class="normal">),<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Flush();</highlight></codeline>
<codeline lineno="2139"><highlight class="normal"></highlight></codeline>
<codeline lineno="2140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxString<sp/>root_key;</highlight></codeline>
<codeline lineno="2141"><highlight class="normal"></highlight></codeline>
<codeline lineno="2142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>root_key<sp/>=<sp/>wxT(</highlight><highlight class="stringliteral">&quot;HKCU\\Software\\Classes\\&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>associateFileTypes.SetName(root_key<sp/>+<sp/>wxT(</highlight><highlight class="stringliteral">&quot;.AUP&quot;</highlight><highlight class="normal">));<sp/></highlight><highlight class="comment">//<sp/>Start<sp/>again<sp/>with<sp/>HKEY_CLASSES_ROOT.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!associateFileTypes.Create(</highlight><highlight class="keyword">true</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="2145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Not<sp/>at<sp/>HKEY_CLASSES_USER.<sp/>Try<sp/>HKEY_CURRENT_ROOT.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>root_key<sp/>=<sp/>wxT(</highlight><highlight class="stringliteral">&quot;HKCR\\&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>associateFileTypes.SetName(root_key<sp/>+<sp/>wxT(</highlight><highlight class="stringliteral">&quot;.AUP&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="2148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!associateFileTypes.Create(</highlight><highlight class="keyword">true</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="2149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Actually,<sp/>can&apos;t<sp/>create<sp/>keys.<sp/>Empty<sp/>root_key<sp/>to<sp/>flag<sp/>failure.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>root_key.Empty();</highlight></codeline>
<codeline lineno="2151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(root_key.IsEmpty())<sp/>{</highlight></codeline>
<codeline lineno="2154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//v<sp/>Warn<sp/>that<sp/>we<sp/>can&apos;t<sp/>set<sp/>keys.<sp/>Ask<sp/>whether<sp/>to<sp/>set<sp/>pref<sp/>for<sp/>no<sp/>retry?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="2156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>associateFileTypes<sp/>=<sp/>wxT(</highlight><highlight class="stringliteral">&quot;Audacity.Project&quot;</highlight><highlight class="normal">);<sp/></highlight><highlight class="comment">//<sp/>Finally<sp/>set<sp/>value<sp/>for<sp/>.AUP<sp/>key</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2157"><highlight class="normal"></highlight></codeline>
<codeline lineno="2158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>associateFileTypes.SetName(root_key<sp/>+<sp/>wxT(</highlight><highlight class="stringliteral">&quot;Audacity.Project&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="2159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!associateFileTypes.Exists())<sp/>{</highlight></codeline>
<codeline lineno="2160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>associateFileTypes.Create(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>associateFileTypes<sp/>=<sp/>wxT(</highlight><highlight class="stringliteral">&quot;Audacity<sp/>Project<sp/>File&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2163"><highlight class="normal"></highlight></codeline>
<codeline lineno="2164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>associateFileTypes.SetName(root_key<sp/>+<sp/>wxT(</highlight><highlight class="stringliteral">&quot;Audacity.Project\\shell&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="2165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!associateFileTypes.Exists())<sp/>{</highlight></codeline>
<codeline lineno="2166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>associateFileTypes.Create(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>associateFileTypes<sp/>=<sp/>wxT(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2169"><highlight class="normal"></highlight></codeline>
<codeline lineno="2170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>associateFileTypes.SetName(root_key<sp/>+<sp/>wxT(</highlight><highlight class="stringliteral">&quot;Audacity.Project\\shell\\open&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="2171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!associateFileTypes.Exists())<sp/>{</highlight></codeline>
<codeline lineno="2172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>associateFileTypes.Create(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2174"><highlight class="normal"></highlight></codeline>
<codeline lineno="2175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>associateFileTypes.SetName(root_key<sp/>+<sp/>wxT(</highlight><highlight class="stringliteral">&quot;Audacity.Project\\shell\\open\\command&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="2176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wxString<sp/>tmpRegAudPath;</highlight></codeline>
<codeline lineno="2177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(associateFileTypes.Exists())<sp/>{</highlight></codeline>
<codeline lineno="2178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tmpRegAudPath<sp/>=<sp/>wxString(associateFileTypes).Lower();</highlight></codeline>
<codeline lineno="2179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!associateFileTypes.Exists()<sp/>||</highlight></codeline>
<codeline lineno="2181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(tmpRegAudPath.Find(wxT(</highlight><highlight class="stringliteral">&quot;audacity.exe&quot;</highlight><highlight class="normal">))<sp/>&gt;=<sp/>0))<sp/>{</highlight></codeline>
<codeline lineno="2182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>associateFileTypes.Create(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>associateFileTypes<sp/>=<sp/>(wxString)argv[0]<sp/>+<sp/>(wxString)wxT(</highlight><highlight class="stringliteral">&quot;<sp/>\&quot;%1\&quot;&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2185"><highlight class="normal"></highlight></codeline>
<codeline lineno="2186"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>These<sp/>can<sp/>be<sp/>use<sp/>later<sp/>to<sp/>support<sp/>more<sp/>startup<sp/>messages</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>like<sp/>maybe<sp/>&quot;Import<sp/>into<sp/>existing<sp/>project&quot;<sp/>or<sp/>some<sp/>such.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Leaving<sp/>here<sp/>for<sp/>an<sp/>example...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>associateFileTypes.SetName(root_key<sp/>+<sp/>wxT(</highlight><highlight class="stringliteral">&quot;Audacity.Project\\shell\\open\\ddeexec&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="2191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!associateFileTypes.Exists())<sp/>{</highlight></codeline>
<codeline lineno="2192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>associateFileTypes.Create(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>associateFileTypes<sp/>=<sp/>wxT(</highlight><highlight class="stringliteral">&quot;%1&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2195"><highlight class="normal"></highlight></codeline>
<codeline lineno="2196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>associateFileTypes.SetName(root_key<sp/>+<sp/>wxT(</highlight><highlight class="stringliteral">&quot;Audacity.Project\\shell\\open\\ddeexec\\Application&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="2197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!associateFileTypes.Exists())<sp/>{</highlight></codeline>
<codeline lineno="2198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>associateFileTypes.Create(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>associateFileTypes<sp/>=<sp/><ref refid="_audacity_app_8cpp_1abb252946b1cf0e5bb7b888a963595cac" kindref="member">IPC_APPL</ref>;</highlight></codeline>
<codeline lineno="2200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2201"><highlight class="normal"></highlight></codeline>
<codeline lineno="2202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>associateFileTypes.SetName(root_key<sp/>+<sp/>wxT(</highlight><highlight class="stringliteral">&quot;Audacity.Project\\shell\\open\\ddeexec\\Topic&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="2203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!associateFileTypes.Exists())<sp/>{</highlight></codeline>
<codeline lineno="2204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>associateFileTypes.Create(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>associateFileTypes<sp/>=<sp/><ref refid="_audacity_app_8cpp_1ae6f29427716f4461d23d5d68c6c0053d" kindref="member">IPC_TOPIC</ref>;</highlight></codeline>
<codeline lineno="2206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2207"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="2210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>User<sp/>said<sp/>no.<sp/>Set<sp/>a<sp/>pref<sp/>so<sp/>we<sp/>don&apos;t<sp/>keep<sp/>asking.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Write(wxT(</highlight><highlight class="stringliteral">&quot;/WantAssociateFiles&quot;</highlight><highlight class="normal">),<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_prefs_8cpp_1a605d9511ac8da26b177c7362d7f8dc82" kindref="member">gPrefs</ref>-&gt;Flush();</highlight></codeline>
<codeline lineno="2213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2215"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2216"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2217"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2218"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="C:/_dev/OpenU/Audacity/audacity/src/AudacityApp.cpp"/>
  </compounddef>
</doxygen>
